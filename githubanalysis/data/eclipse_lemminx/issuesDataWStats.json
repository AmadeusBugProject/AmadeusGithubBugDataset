{"projectName": "eclipse/lemminx", "bugLabels": ["bug", "not a bug", "regression"], "captureTime": "Sat Jul  4 15:45:33 2020", "issues": [{"title": "Missing xml-model reference generates multiple similar warnings", "body": "Try to open this (file.xsd is obviously missing)\r\n```xml\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<?xml-model href=\"file.xsd\" type=\"application/xml\" schematypens=\"http://www.w3.org/2001/XMLSchema\"?>\r\n<classpath>\r\n\t<classpathentry kind=\"src\" output=\"bin/main\" path=\"src/main/java\">\r\n\t\t<attributes>\r\n\t\t\t<attribute name=\"gradle_scope\" value=\"main\"/>\r\n\t\t\t<attribute name=\"gradle_used_by_scope\" value=\"main,test\"/>\r\n\t\t</attributes>\r\n\t</classpathentry>\r\n\t<classpathentry kind=\"src\" output=\"bin/main\" path=\"src/main/resources\">\r\n\t\t<attributes>\r\n\t\t\t<attribute name=\"gradle_scope\" value=\"main\"/>\r\n\t\t\t<attribute name=\"gradle_used_by_scope\" value=\"main,test\"/>\r\n\t\t</attributes>\r\n\t</classpathentry>\r\n\t<classpathentry kind=\"src\" output=\"bin/test\" path=\"src/test/java\">\r\n\t\t<attributes>\r\n\t\t\t<attribute name=\"gradle_scope\" value=\"test\"/>\r\n\t\t\t<attribute name=\"gradle_used_by_scope\" value=\"test\"/>\r\n\t\t\t<attribute name=\"test\" value=\"true\"/>\r\n\t\t</attributes>\r\n\t</classpathentry>\r\n\t<classpathentry kind=\"src\" output=\"bin/test\" path=\"src/test/resources\">\r\n\t\t<attributes>\r\n\t\t\t<attribute name=\"gradle_scope\" value=\"test\"/>\r\n\t\t\t<attribute name=\"gradle_used_by_scope\" value=\"test\"/>\r\n\t\t\t<attribute name=\"test\" value=\"true\"/>\r\n\t\t</attributes>\r\n\t</classpathentry>\r\n\t<classpathentry kind=\"con\" path=\"org.eclipse.jdt.launching.JRE_CONTAINER/org.eclipse.jdt.internal.debug.ui.launcher.StandardVMType/JavaSE-1.8/\"/>\r\n\t<classpathentry kind=\"con\" path=\"org.eclipse.buildship.core.gradleclasspathcontainer\"/>\r\n\t<classpathentry kind=\"output\" path=\"bin/default\"/>\r\n</classpath>\r\n```\r\n\r\nSee the multitude of `schema_reference.4: Failed to read schema document 'untitled:file.xsd', because 1) could not find the document; 2) the document could not be read; 3) the root element of the document is not <xsd:schema>.` warnings:\r\n\r\n<img width=\"1434\" alt=\"Screen Shot 2020-06-22 at 5 54 08 PM\" src=\"https://user-images.githubusercontent.com/148698/85308651-bd845980-b4b1-11ea-817c-5709fa5410e9.png\">\r\n", "url": "https://github.com/eclipse/lemminx/issues/795", "user": "fbricon", "labels": ["DTD", "XSD", "bug", "validation"], "created": "2020-06-22 15:57:36", "closed": "2020-06-23 17:33:36", "commits": {"875d5b427f9db918857df9db2b0939282b048a12": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}}, "ttf": 1.0002777777777778, "commitsDetails": [{"commitHash": "875d5b427f9db918857df9db2b0939282b048a12", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": ["d102a4c637f5372ed2f015d73adde82fee066e5c"], "nameRev": "875d5b427f9db918857df9db2b0939282b048a12 master~8", "commitMessage": "Missing xml-model reference generates multiple similar warnings\n\nFixes #795\n\nSigned-off-by: azerr <azerr@redhat.com>", "commitDateTime": "2020-06-23 19:33:34", "authoredDateTime": "2020-06-22 18:36:27", "commitGitStats": [{"filePath": "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/extensions/contentmodel/participants/DTDErrorCode.java", "insertions": 11, "deletions": 1, "lines": 12}, {"filePath": "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/extensions/contentmodel/participants/XMLModelUtils.java", "insertions": 71, "deletions": 0, "lines": 71}, {"filePath": "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/extensions/contentmodel/participants/XMLSchemaErrorCode.java", "insertions": 18, "deletions": 26, "lines": 44}, {"filePath": "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/extensions/xerces/AbstractLSPErrorReporter.java", "insertions": 2, "deletions": 0, "lines": 2}, {"filePath": "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/extensions/xerces/LSPMessageFormatter.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/extensions/xerces/xmlmodel/XMLModelDTDValidator.java", "insertions": 9, "deletions": 3, "lines": 12}, {"filePath": "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/extensions/xerces/xmlmodel/msg/XMLModelMessageFormatter.java", "insertions": 117, "deletions": 0, "lines": 117}, {"filePath": "org.eclipse.lemminx/src/main/resources/org/eclipse/lemminx/extensions/xerces/xmlmodel/msg/XMLMessages.properties", "insertions": 2, "deletions": 0, "lines": 2}, {"filePath": "org.eclipse.lemminx/src/test/java/org/eclipse/lemminx/extensions/contentmodel/XMLModelDiagnosticsTest.java", "insertions": 17, "deletions": 0, "lines": 17}], "commitSpoonAstDiffStats": [{"spoonFilePath": "DTDErrorCode.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lemminx.extensions.contentmodel.participants.DTDErrorCode", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}, {"spoonMethodName": "org.eclipse.lemminx.extensions.contentmodel.participants.DTDErrorCode.toLSPRange(org.apache.xerces.xni.XMLLocator,org.eclipse.lemminx.extensions.contentmodel.participants.DTDErrorCode,java.lang.Object[],org.eclipse.lemminx.dom.DOMDocument)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLModelUtils.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lemminx.extensions.contentmodel.participants.XMLModelUtils", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLSchemaErrorCode.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lemminx.extensions.contentmodel.participants.XMLSchemaErrorCode.toLSPRange(org.apache.xerces.xni.XMLLocator,org.eclipse.lemminx.extensions.contentmodel.participants.XMLSchemaErrorCode,java.lang.Object[],org.eclipse.lemminx.dom.DOMDocument)", "TOT": 18, "UPD": 7, "INS": 4, "MOV": 5, "DEL": 2}]}, {"spoonFilePath": "AbstractLSPErrorReporter.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lemminx.extensions.xerces.AbstractLSPErrorReporter", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "LSPMessageFormatter.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lemminx.extensions.xerces.LSPMessageFormatter.formatMessage(java.util.Locale,java.lang.String,java.lang.Object[])", "TOT": 5, "UPD": 0, "INS": 1, "MOV": 3, "DEL": 1}]}, {"spoonFilePath": "XMLModelDTDValidator.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lemminx.extensions.xerces.xmlmodel.XMLModelDTDValidator.startElement(org.apache.xerces.xni.QName,org.apache.xerces.xni.XMLAttributes,org.apache.xerces.xni.Augmentations)", "TOT": 3, "UPD": 1, "INS": 2, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lemminx.extensions.xerces.xmlmodel.XMLModelDTDValidator", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLModelMessageFormatter.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lemminx.extensions.xerces.xmlmodel.msg.XMLModelMessageFormatter", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLModelDiagnosticsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lemminx.extensions.contentmodel.XMLModelDiagnosticsTest.xmlModelWithBadDTD()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lemminx.extensions.contentmodel.XMLModelDiagnosticsTest.xmlModelWithBadXSD()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["875d5b427f9db918857df9db2b0939282b048a12"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 232, "deletions": 32, "lines": 264, "gitFilesChange": 8}, "spoonStatsSummary": {"TOT": 32, "UPD": 8, "INS": 12, "MOV": 8, "DEL": 4, "spoonFilesChanged": 7, "spoonMethodsChanged": 9}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/extensions/xerces", "org.eclipse.lemminx/src/main/resources/org/eclipse/lemminx/extensions/xerces/xmlmodel", "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/extensions/contentmodel/participants", "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/extensions/xerces/xmlmodel"], "changesInPackagesSPOON": ["org.eclipse.lemminx.extensions.xerces.xmlmodel.XMLModelDTDValidator.startElement(org.apache.xerces.xni.QName,org.apache.xerces.xni.XMLAttributes,org.apache.xerces.xni.Augmentations)", "org.eclipse.lemminx.extensions.xerces.LSPMessageFormatter.formatMessage(java.util.Locale,java.lang.String,java.lang.Object[])", "org.eclipse.lemminx.extensions.contentmodel.participants.XMLModelUtils", "org.eclipse.lemminx.extensions.contentmodel.participants.DTDErrorCode.toLSPRange(org.apache.xerces.xni.XMLLocator,org.eclipse.lemminx.extensions.contentmodel.participants.DTDErrorCode,java.lang.Object[],org.eclipse.lemminx.dom.DOMDocument)", "org.eclipse.lemminx.extensions.xerces.AbstractLSPErrorReporter", "org.eclipse.lemminx.extensions.contentmodel.participants.XMLSchemaErrorCode.toLSPRange(org.apache.xerces.xni.XMLLocator,org.eclipse.lemminx.extensions.contentmodel.participants.XMLSchemaErrorCode,java.lang.Object[],org.eclipse.lemminx.dom.DOMDocument)", "org.eclipse.lemminx.extensions.xerces.xmlmodel.msg.XMLModelMessageFormatter", "org.eclipse.lemminx.extensions.xerces.xmlmodel.XMLModelDTDValidator", "org.eclipse.lemminx.extensions.contentmodel.participants.DTDErrorCode"]}, {"title": "Too many logs after completion, hover with XML that contains DTD subset ", "body": "Create a XML with DTD subset which have error like this:\r\n\r\n```xml\r\n<!DOCTYPE root-element [\r\n  <!ELEMENT root-element (#PCDATA)>\r\n  XXXXXXX\r\n]>\r\n<root-element>\r\n  |\r\n</root-element>\r\n```\r\n\r\nOpen completion inside root-element, you should see 2 errors logs:\r\n\r\n * the first:\r\n\r\n```[Fatal Error] :3:3: The markup declarations contained or pointed to by the document type declaration must be well-formed.\r\n[Trace - 09:09:55] Received notification 'window/logMessage'.\r\nParams: {\r\n    \"type\": 1,\r\n    \"message\": \"May 30, 2020 09:09:55 org.eclipse.lemminx.extensions.dtd.contentmodel.CMDTDContentModelProvider createInternalCMDocument()\\r\\nMessage: Error while loading DOCTYPE subset\\r\\n::::3:3:41:The \r\n...\r\n```\r\n\r\n * the second:\r\n\r\n```\r\n[Error - 09:09:55] May 30, 2020 09:09:55 org.eclipse.lemminx.extensions.dtd.contentmodel.CMDTDContentModelProvider createInternalCMDocument()\r\nMessage: Error while loading DOCTYPE subset\r\n::::3:3:41:The markup declarations contained or pointed to by the document type declaration must be well-formed.\r\n\tat org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)\r\n\tat org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)\r\n\tat org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)\r\n\tat org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)\r\n\tat org.apache.xerces.impl.XMLDTDScannerImpl.scanDecls(Unknown Source)\r\n...\r\n```\r\n\r\nThose 2 logs comes from of loading of CMDocument (to manage XML completion, hover based on DTD subset when subset declares <!ELEMENT). The load of CMDocument should never report errors.", "url": "https://github.com/eclipse/lemminx/issues/750", "user": "angelozerr", "labels": ["bug"], "created": "2020-05-30 07:14:25", "closed": "2020-06-02 07:36:58", "commits": {"2f94c30c1037c613755325852f170aeeff439b0c": {"commitGHEventType": "referenced", "commitUser": "fbricon"}}, "ttf": 3.000277777777778, "commitsDetails": [{"commitHash": "2f94c30c1037c613755325852f170aeeff439b0c", "commitGHEventType": "referenced", "commitUser": "fbricon", "commitParents": ["374ea32776f24a910f6a2541d0f66dd21cff1266"], "nameRev": "2f94c30c1037c613755325852f170aeeff439b0c tags/0.12.0~15", "commitMessage": "Too many logs with XML which have DTD subset after XML completion, hover\n\nFixes #750\n\nSigned-off-by: azerr <azerr@redhat.com>", "commitDateTime": "2020-06-02 09:36:57", "authoredDateTime": "2020-05-30 09:16:16", "commitGitStats": [{"filePath": "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/extensions/dtd/contentmodel/CMDTDContentModelProvider.java", "insertions": 26, "deletions": 5, "lines": 31}], "commitSpoonAstDiffStats": [{"spoonFilePath": "CMDTDContentModelProvider.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lemminx.extensions.dtd.contentmodel.CMDTDContentModelProvider", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lemminx.extensions.dtd.contentmodel.CMDTDContentModelProvider.createInternalCMDocument(org.eclipse.lemminx.dom.DOMDocument)", "TOT": 2, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 1}, {"spoonMethodName": "org.eclipse.lemminx.extensions.dtd.contentmodel.CMDTDContentModelProvider.createCMDocument(java.lang.String)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["2f94c30c1037c613755325852f170aeeff439b0c"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 26, "deletions": 5, "lines": 31, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 4, "UPD": 1, "INS": 2, "MOV": 0, "DEL": 1, "spoonFilesChanged": 1, "spoonMethodsChanged": 3}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/extensions/dtd/contentmodel"], "changesInPackagesSPOON": ["org.eclipse.lemminx.extensions.dtd.contentmodel.CMDTDContentModelProvider.createCMDocument(java.lang.String)", "org.eclipse.lemminx.extensions.dtd.contentmodel.CMDTDContentModelProvider", "org.eclipse.lemminx.extensions.dtd.contentmodel.CMDTDContentModelProvider.createInternalCMDocument(org.eclipse.lemminx.dom.DOMDocument)"]}, {"title": "Tests fails when basedir has space", "body": "https://github.com/eclipse/lemminx/blob/3342ed0357b49003a0152ffd4d421c28ea30fec3/org.eclipse.lemminx/src/test/java/org/eclipse/lemminx/extensions/contentmodel/DTDCompletionExtensionsTest.java#L196-L207\r\n\r\nOn my end, this test keeps failing. The link to the DTD seems to be dead (as SVG 1.0 is not a thing anymore), and therefor the schema-based completions don't work anymore.  \r\nAlso it seems to wayt for a timeout, because this one test takes more than 15 seconds.\r\n\r\nAm I goofing, or is this test just broken?", "url": "https://github.com/eclipse/lemminx/issues/749", "user": "BalduinLandolt", "labels": ["bug"], "created": "2020-05-29 22:44:07", "closed": "2020-07-02 15:17:30", "commits": {"52aa8530f34b1d71dab5cd38d7b74ca4a899c3e6": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}}, "ttf": 33.000277777777775, "commitsDetails": [{"commitHash": "52aa8530f34b1d71dab5cd38d7b74ca4a899c3e6", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": ["e82e480111374a7781c94a2788a7aef66ce84db1"], "nameRev": "52aa8530f34b1d71dab5cd38d7b74ca4a899c3e6 master", "commitMessage": "Tests fails when basedir has space\n\nFixes #749\n\nSigned-off-by: azerr <azerr@redhat.com>", "commitDateTime": "2020-07-02 17:17:29", "authoredDateTime": "2020-06-11 01:05:04", "commitGitStats": [{"filePath": "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/extensions/contentmodel/model/FilesChangedTracker.java", "insertions": 11, "deletions": 1, "lines": 12}, {"filePath": "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/extensions/general/completion/FilePathCompletionParticipant.java", "insertions": 258, "deletions": 248, "lines": 506}, {"filePath": "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/utils/FilesUtils.java", "insertions": 62, "deletions": 81, "lines": 143}, {"filePath": "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/utils/OSUtils.java", "insertions": 0, "deletions": 2, "lines": 2}, {"filePath": "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/utils/URIUtils.java", "insertions": 1, "deletions": 0, "lines": 1}, {"filePath": "org.eclipse.lemminx/src/test/java/org/eclipse/lemminx/extensions/contentmodel/BaseFileTempTest.java", "insertions": 16, "deletions": 12, "lines": 28}, {"filePath": "org.eclipse.lemminx/src/test/java/org/eclipse/lemminx/extensions/contentmodel/model/FilesChangedTrackerTest.java", "insertions": 3, "deletions": 2, "lines": 5}, {"filePath": "org.eclipse.lemminx/src/test/java/org/eclipse/lemminx/extensions/general/FilePathCompletionTest.java", "insertions": 48, "deletions": 36, "lines": 84}, {"filePath": "org.eclipse.lemminx/src/test/java/org/eclipse/lemminx/utils/ProjectUtils.java", "insertions": 5, "deletions": 2, "lines": 7}, {"filePath": "org.eclipse.lemminx/src/test/resources/filePathCompletion/folderC/a@b/foo.xml", "insertions": 0, "deletions": 0, "lines": 0}, {"filePath": "org.eclipse.lemminx/src/test/resources/filePathCompletion/folderC/with spaces/foo.xml", "insertions": 0, "deletions": 0, "lines": 0}], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": "tooManyChanges"}], "filteredCommits": ["52aa8530f34b1d71dab5cd38d7b74ca4a899c3e6"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 332, "deletions": 332, "lines": 664, "gitFilesChange": 5}, "spoonStatsSummary": {}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/utils", "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/extensions/general/completion", "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/extensions/contentmodel/model"]}, {"title": "No entity completion for externally declared SYSTEM and PUBLIC entities", "body": "**test.dtd**\r\n```xml\r\n<!ELEMENT author (#PCDATA)>\r\n<!ENTITY writer PUBLIC \"public id\" \"entity uri\">\r\n<!ENTITY copyright SYSTEM \"uri\">\r\n```\r\n\r\n**test.xml**\r\n```xml\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<!DOCTYPE author SYSTEM \"test.dtd\">\r\n<author>&writer;&copyright;</author>\r\n```\r\n\r\nThere is no completion for `&writer;` and `&copyright;` in the xml file:\r\n![image](https://user-images.githubusercontent.com/20326645/83179652-46e17f80-a0f0-11ea-925e-5825fc3bcfb7.png)\r\n", "url": "https://github.com/eclipse/lemminx/issues/742", "user": "xorye", "labels": ["DTD", "bug", "completion"], "created": "2020-05-28 18:34:20", "closed": "2020-06-01 19:22:27", "commits": {}, "ttf": 4.000277777777778, "commitsDetails": []}, {"title": "Entity documentation has no value for entities declared with SYSTEM OR PUBLIC", "body": "With this XML\r\n\r\n```\r\n<?xml version=\"1.0\" standalone=\"no\" ?>\r\n<!DOCTYPE copyright [\r\n  <!ELEMENT copyright (#PCDATA)>\r\n  <!ENTITY c SYSTEM \"http://www.xmlwriter.net/copyright.xml\">\r\n]>\r\n<copyright>&c;</copyright>\r\n```\r\nThe hover does not show the value of c:\r\n![image](https://user-images.githubusercontent.com/20326645/83178745-f87fb100-a0ee-11ea-83c4-439add087ace.png)\r\n\r\nThe same thing happens if we have \r\n`<!ENTITY c PUBLIC \"http://www.xmlwriter.net/copyright.xml\">`\r\ninstead of\r\n`<!ENTITY c SYSTEM \"http://www.xmlwriter.net/copyright.xml\">`\r\n\r\nIt would be great if the entity's value (`\"http://www.xmlwriter.net/copyright.xml\"` in this case) was displayed in the documentation.", "url": "https://github.com/eclipse/lemminx/issues/741", "user": "xorye", "labels": ["DTD", "bug"], "created": "2020-05-28 18:26:17", "closed": "2020-06-01 19:21:19", "commits": {"374ea32776f24a910f6a2541d0f66dd21cff1266": {"commitGHEventType": "referenced", "commitUser": "fbricon"}}, "ttf": 4.000277777777778, "commitsDetails": [{"commitHash": "374ea32776f24a910f6a2541d0f66dd21cff1266", "commitGHEventType": "referenced", "commitUser": "fbricon", "commitParents": ["3d2be14fefbc084410f35707f4b0e9bba917aacc"], "nameRev": "374ea32776f24a910f6a2541d0f66dd21cff1266 tags/0.12.0~16", "commitMessage": "Entity documentation has no value for entities declared with SYSTEM OR\nPUBLIC\n\nFixes #741\n\nSigned-off-by: azerr <azerr@redhat.com>", "commitDateTime": "2020-06-01 21:21:18", "authoredDateTime": "2020-05-29 18:00:44", "commitGitStats": [{"filePath": "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/dom/DTDEntityDecl.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/dom/DTDNotationDecl.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/extensions/dtd/contentmodel/CMDTDDocument.java", "insertions": 40, "deletions": 1, "lines": 41}, {"filePath": "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/extensions/entities/EntitiesDocumentationUtils.java", "insertions": 53, "deletions": 6, "lines": 59}, {"filePath": "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/extensions/entities/participants/EntitiesCompletionParticipant.java", "insertions": 14, "deletions": 9, "lines": 23}, {"filePath": "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/extensions/entities/participants/EntitiesHoverParticipant.java", "insertions": 2, "deletions": 4, "lines": 6}, {"filePath": "org.eclipse.lemminx/src/test/java/org/eclipse/lemminx/dom/DOMParserForInternalDTDTest.java", "insertions": 6, "deletions": 6, "lines": 12}, {"filePath": "org.eclipse.lemminx/src/test/java/org/eclipse/lemminx/extensions/contentmodel/DTDDocumentLinkTest.java", "insertions": 5, "deletions": 5, "lines": 10}, {"filePath": "org.eclipse.lemminx/src/test/java/org/eclipse/lemminx/extensions/entities/EntitiesCompletionExtensionsTest.java", "insertions": 30, "deletions": 2, "lines": 32}, {"filePath": "org.eclipse.lemminx/src/test/java/org/eclipse/lemminx/extensions/entities/EntitiesDefinitionExtensionsTest.java", "insertions": 41, "deletions": 12, "lines": 53}, {"filePath": "org.eclipse.lemminx/src/test/java/org/eclipse/lemminx/extensions/entities/EntitiesHoverExtensionsTest.java", "insertions": 68, "deletions": 6, "lines": 74}, {"filePath": "org.eclipse.lemminx/src/test/resources/dtd/{ => entities}/base-indent.dtd", "insertions": 0, "deletions": 0, "lines": 0}, {"filePath": "org.eclipse.lemminx/src/test/resources/dtd/{ => entities}/base-no-indent.dtd", "insertions": 0, "deletions": 0, "lines": 0}, {"filePath": "org.eclipse.lemminx/src/test/resources/dtd/entities/base-system.dtd", "insertions": 3, "deletions": 0, "lines": 3}, {"filePath": "org.eclipse.lemminx/src/test/resources/dtd/{ => entities}/base.dtd", "insertions": 0, "deletions": 0, "lines": 0}, {"filePath": "org.eclipse.lemminx/src/test/resources/dtd/{ => entities}/bug_vscode-xml_262.dtd", "insertions": 0, "deletions": 0, "lines": 0}], "commitSpoonAstDiffStats": [{"spoonFilePath": "DTDEntityDecl.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lemminx.dom.DTDEntityDecl.getPublicId()", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lemminx.dom.DTDEntityDecl.getSystemId()", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "DTDNotationDecl.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lemminx.dom.DTDNotationDecl.getPublicId()", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lemminx.dom.DTDNotationDecl.getSystemId()", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "CMDTDDocument.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lemminx.extensions.dtd.contentmodel.CMDTDDocument.externalEntityDecl(java.lang.String,org.apache.xerces.xni.XMLResourceIdentifier,org.apache.xerces.xni.Augmentations)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lemminx.extensions.dtd.contentmodel.CMDTDDocument.ScannedDTDEntityDecl", "TOT": 15, "UPD": 0, "INS": 8, "MOV": 7, "DEL": 0}, {"spoonMethodName": "org.eclipse.lemminx.extensions.dtd.contentmodel.CMDTDDocument.ScannedDTDEntityDecl.getSystemId()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lemminx.extensions.dtd.contentmodel.CMDTDDocument.ScannedDTDEntityDecl.getPublicId()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "EntitiesDocumentationUtils.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lemminx.extensions.entities.EntitiesDocumentationUtils.getDocumentation(java.lang.String,java.lang.String,org.eclipse.lemminx.extensions.entities.EntitiesDocumentationUtils$EntityOriginType,boolean)", "TOT": 12, "UPD": 2, "INS": 1, "MOV": 8, "DEL": 1}, {"spoonMethodName": "org.eclipse.lemminx.extensions.entities.EntitiesDocumentationUtils.getDocumentation(org.eclipse.lemminx.dom.DTDEntityDecl,org.eclipse.lemminx.extensions.entities.EntitiesDocumentationUtils$EntityOriginType,boolean)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lemminx.extensions.entities.EntitiesDocumentationUtils.getFileName(java.lang.String)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lemminx.extensions.entities.EntitiesDocumentationUtils.getDocumentation(java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.String,org.eclipse.lemminx.extensions.entities.EntitiesDocumentationUtils$EntityOriginType,boolean)", "TOT": 8, "UPD": 0, "INS": 8, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lemminx.extensions.entities.EntitiesDocumentationUtils.addParameter(java.lang.String,java.lang.String,java.lang.StringBuilder,boolean)", "TOT": 2, "UPD": 0, "INS": 1, "MOV": 1, "DEL": 0}]}, {"spoonFilePath": "EntitiesCompletionParticipant.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lemminx.extensions.entities.participants.EntitiesCompletionParticipant.fillCompletion(java.lang.String,java.lang.String,org.eclipse.lemminx.extensions.entities.EntitiesDocumentationUtils.EntityOriginType,org.eclipse.lsp4j.Range,boolean,org.eclipse.lemminx.services.extensions.ICompletionResponse)", "TOT": 7, "UPD": 3, "INS": 0, "MOV": 1, "DEL": 3}, {"spoonMethodName": "org.eclipse.lemminx.extensions.entities.participants.EntitiesCompletionParticipant.collectPredefinedEntityProposals(org.eclipse.lsp4j.Range,boolean,org.eclipse.lemminx.services.extensions.ICompletionResponse)", "TOT": 11, "UPD": 2, "INS": 2, "MOV": 6, "DEL": 1}, {"spoonMethodName": "org.eclipse.lemminx.extensions.entities.participants.EntitiesCompletionParticipant.collectLocalEntityProposals(org.eclipse.lemminx.dom.DOMDocument,org.eclipse.lsp4j.Range,boolean,org.eclipse.lemminx.services.extensions.ICompletionResponse)", "TOT": 11, "UPD": 2, "INS": 2, "MOV": 6, "DEL": 1}, {"spoonMethodName": "org.eclipse.lemminx.extensions.entities.participants.EntitiesCompletionParticipant.collectExternalEntityProposals(org.eclipse.lemminx.dom.DOMDocument,org.eclipse.lsp4j.Range,boolean,org.eclipse.lemminx.services.extensions.ICompletionRequest,org.eclipse.lemminx.services.extensions.ICompletionResponse)", "TOT": 11, "UPD": 2, "INS": 2, "MOV": 6, "DEL": 1}]}, {"spoonFilePath": "EntitiesHoverParticipant.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lemminx.extensions.entities.participants.EntitiesHoverParticipant.searchInLocalEntities(java.lang.String,org.eclipse.lsp4j.Range,org.eclipse.lemminx.dom.DOMDocument,org.eclipse.lemminx.services.extensions.IHoverRequest)", "TOT": 3, "UPD": 0, "INS": 0, "MOV": 1, "DEL": 2}, {"spoonMethodName": "org.eclipse.lemminx.extensions.entities.participants.EntitiesHoverParticipant.searchInExternalEntities(java.lang.String,org.eclipse.lsp4j.Range,org.eclipse.lemminx.dom.DOMDocument,org.eclipse.lemminx.services.extensions.IHoverRequest)", "TOT": 3, "UPD": 0, "INS": 0, "MOV": 1, "DEL": 2}]}, {"spoonFilePath": "DOMParserForInternalDTDTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lemminx.dom.DOMParserForInternalDTDTest.entityDeclWithNameClosedAndParameters()", "TOT": 2, "UPD": 2, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lemminx.dom.DOMParserForInternalDTDTest.entityDeclWithNameClosedAndSomeParameters()", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lemminx.dom.DOMParserForInternalDTDTest.dtdNotationComplete()", "TOT": 2, "UPD": 2, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lemminx.dom.DOMParserForInternalDTDTest.dtdNotationSYSTEMUnrecognizedParameter()", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "DTDDocumentLinkTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lemminx.extensions.contentmodel.DTDDocumentLinkTest.docTypeSYSTEM()", "TOT": 3, "UPD": 3, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lemminx.extensions.contentmodel.DTDDocumentLinkTest.docTypePUBLIC()", "TOT": 3, "UPD": 3, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lemminx.extensions.contentmodel.DTDDocumentLinkTest.noLinks()", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "EntitiesCompletionExtensionsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lemminx.extensions.entities.EntitiesCompletionExtensionsTest.external()", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lemminx.extensions.entities.EntitiesCompletionExtensionsTest.bug_vscode_xml_262()", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lemminx.extensions.entities.EntitiesCompletionExtensionsTest.localWithSYSTEM()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lemminx.extensions.entities.EntitiesCompletionExtensionsTest.externalWithSYSTEM()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "EntitiesDefinitionExtensionsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lemminx.extensions.entities.EntitiesDefinitionExtensionsTest.externalWithIndent()", "TOT": 2, "UPD": 2, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lemminx.extensions.entities.EntitiesDefinitionExtensionsTest.externalWithDTDIndent()", "TOT": 5, "UPD": 5, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lemminx.extensions.entities.EntitiesDefinitionExtensionsTest.externalWithDTDNoIndent()", "TOT": 5, "UPD": 5, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lemminx.extensions.entities.EntitiesDefinitionExtensionsTest.localWithSYSTEM()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lemminx.extensions.entities.EntitiesDefinitionExtensionsTest.externalWithSYSTEM()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "EntitiesHoverExtensionsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lemminx.extensions.entities.EntitiesHoverExtensionsTest.external()", "TOT": 6, "UPD": 3, "INS": 2, "MOV": 1, "DEL": 0}, {"spoonMethodName": "org.eclipse.lemminx.extensions.entities.EntitiesHoverExtensionsTest.localWithSYSTEM()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lemminx.extensions.entities.EntitiesHoverExtensionsTest.externalWithSYSTEM()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lemminx.extensions.entities.EntitiesHoverExtensionsTest.getDTDFileURI(java.lang.String)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lemminx.extensions.entities.EntitiesHoverExtensionsTest.local()", "TOT": 3, "UPD": 0, "INS": 2, "MOV": 1, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["374ea32776f24a910f6a2541d0f66dd21cff1266"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 113, "deletions": 24, "lines": 137, "gitFilesChange": 6}, "spoonStatsSummary": {"TOT": 92, "UPD": 15, "INS": 29, "MOV": 37, "DEL": 11, "spoonFilesChanged": 6, "spoonMethodsChanged": 19}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/extensions/entities/participants", "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/dom", "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/extensions/dtd/contentmodel", "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/extensions/entities"], "changesInPackagesSPOON": ["org.eclipse.lemminx.dom.DTDEntityDecl.getPublicId()", "org.eclipse.lemminx.extensions.entities.EntitiesDocumentationUtils.getDocumentation(org.eclipse.lemminx.dom.DTDEntityDecl,org.eclipse.lemminx.extensions.entities.EntitiesDocumentationUtils$EntityOriginType,boolean)", "org.eclipse.lemminx.dom.DTDNotationDecl.getSystemId()", "org.eclipse.lemminx.extensions.entities.participants.EntitiesHoverParticipant.searchInExternalEntities(java.lang.String,org.eclipse.lsp4j.Range,org.eclipse.lemminx.dom.DOMDocument,org.eclipse.lemminx.services.extensions.IHoverRequest)", "org.eclipse.lemminx.extensions.dtd.contentmodel.CMDTDDocument.ScannedDTDEntityDecl", "org.eclipse.lemminx.extensions.entities.EntitiesDocumentationUtils.getFileName(java.lang.String)", "org.eclipse.lemminx.extensions.entities.EntitiesDocumentationUtils.getDocumentation(java.lang.String,java.lang.String,org.eclipse.lemminx.extensions.entities.EntitiesDocumentationUtils$EntityOriginType,boolean)", "org.eclipse.lemminx.extensions.dtd.contentmodel.CMDTDDocument.ScannedDTDEntityDecl.getPublicId()", "org.eclipse.lemminx.extensions.entities.EntitiesDocumentationUtils.addParameter(java.lang.String,java.lang.String,java.lang.StringBuilder,boolean)", "org.eclipse.lemminx.extensions.dtd.contentmodel.CMDTDDocument.ScannedDTDEntityDecl.getSystemId()", "org.eclipse.lemminx.extensions.entities.participants.EntitiesCompletionParticipant.collectPredefinedEntityProposals(org.eclipse.lsp4j.Range,boolean,org.eclipse.lemminx.services.extensions.ICompletionResponse)", "org.eclipse.lemminx.extensions.entities.participants.EntitiesCompletionParticipant.collectLocalEntityProposals(org.eclipse.lemminx.dom.DOMDocument,org.eclipse.lsp4j.Range,boolean,org.eclipse.lemminx.services.extensions.ICompletionResponse)", "org.eclipse.lemminx.dom.DTDNotationDecl.getPublicId()", "org.eclipse.lemminx.extensions.entities.participants.EntitiesHoverParticipant.searchInLocalEntities(java.lang.String,org.eclipse.lsp4j.Range,org.eclipse.lemminx.dom.DOMDocument,org.eclipse.lemminx.services.extensions.IHoverRequest)", "org.eclipse.lemminx.extensions.entities.participants.EntitiesCompletionParticipant.fillCompletion(java.lang.String,java.lang.String,org.eclipse.lemminx.extensions.entities.EntitiesDocumentationUtils.EntityOriginType,org.eclipse.lsp4j.Range,boolean,org.eclipse.lemminx.services.extensions.ICompletionResponse)", "org.eclipse.lemminx.extensions.entities.EntitiesDocumentationUtils.getDocumentation(java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.String,org.eclipse.lemminx.extensions.entities.EntitiesDocumentationUtils$EntityOriginType,boolean)", "org.eclipse.lemminx.dom.DTDEntityDecl.getSystemId()", "org.eclipse.lemminx.extensions.dtd.contentmodel.CMDTDDocument.externalEntityDecl(java.lang.String,org.apache.xerces.xni.XMLResourceIdentifier,org.apache.xerces.xni.Augmentations)", "org.eclipse.lemminx.extensions.entities.participants.EntitiesCompletionParticipant.collectExternalEntityProposals(org.eclipse.lemminx.dom.DOMDocument,org.eclipse.lsp4j.Range,boolean,org.eclipse.lemminx.services.extensions.ICompletionRequest,org.eclipse.lemminx.services.extensions.ICompletionResponse)"]}, {"title": "Error while loading DOCTYPE subset : java.lang.NullPointerException", "body": "Given this XML file:\r\n\r\n```xml\r\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<!DOCTYPE root-element SYSTEM \"foo.dtd\">\r\n<root-element>\r\n  &|\r\n</root-element>\r\n```\r\n\r\nOpen the completion and you see the error log\r\n\r\n```\r\n[Error - 17:51:00] May 28, 2020 05:51:00 org.eclipse.lemminx.extensions.dtd.contentmodel.CMDTDContentModelProvider createInternalCMDocument()\r\nMessage: Error while loading DOCTYPE subset\r\njava.lang.NullPointerException\r\n\tat org.eclipse.lemminx.extensions.dtd.contentmodel.CMDTDDocument.loadInternalDTD(CMDTDDocument.java:357)\r\n\tat org.eclipse.lemminx.extensions.dtd.contentmodel.CMDTDContentModelProvider.createInternalCMDocument(CMDTDContentModelProvider.java:94)\r\n\tat org.eclipse.lemminx.extensions.contentmodel.model.ContentModelManager.findCMDocument(ContentModelManager.java:109)\r\n\tat org.eclipse.lemminx.extensions.contentmodel.model.ContentModelManager.findCMDocument(ContentModelManager.java:94)\r\n\tat org.eclipse.lemminx.extensions.contentmodel.model.ContentModelManager.findCMDocument(ContentModelManager.java:77)\r\n\tat org.eclipse.lemminx.extensions.contentmodel.participants.ContentModelCompletionParticipant.onXMLContent(ContentModelCompletionParticipant.java:363)\r\n\tat org.eclipse.lemminx.services.XMLCompletions.collectInsideContent(XMLCompletions.java:739)\r\n\tat org.eclipse.lemminx.services.XMLCompletions.doComplete(XMLCompletions.java:224)\r\n\tat org.eclipse.lemminx.services.XMLLanguageService.doComplete(XMLLanguageService.java:139)\r\n\tat org.eclipse.lemminx.XMLTextDocumentService.lambda$completion$1(XMLTextDocumentService.java:189)\r\n\tat java.base/java.util.concurrent.CompletableFuture.biApply(CompletableFuture.java:1236)\r\n\tat java.base/java.util.concurrent.CompletableFuture$BiApply.tryFire(CompletableFuture.java:1205)\r\n\tat java.base/java.util.concurrent.CompletableFuture$Completion.exec(CompletableFuture.java:479)\r\n\tat java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:290)\r\n\tat java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1020)\r\n\tat java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1656)\r\n\tat java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1594)\r\n\tat java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:177)\r\n\r\n```", "url": "https://github.com/eclipse/lemminx/issues/739", "user": "angelozerr", "labels": ["bug", "completion"], "created": "2020-05-28 15:51:31", "closed": "2020-05-28 17:30:23", "commits": {"03ca39622411febbf13b2721886985e0bcaef44c": {"commitGHEventType": "referenced", "commitUser": "fbricon"}}, "ttf": 0.0002777777777777778, "commitsDetails": [{"commitHash": "03ca39622411febbf13b2721886985e0bcaef44c", "commitGHEventType": "referenced", "commitUser": "fbricon", "commitParents": ["84a96f5f71980fe4b12e14b32333684b83c57ae0"], "nameRev": "03ca39622411febbf13b2721886985e0bcaef44c tags/0.12.0~22", "commitMessage": "Error while loading DOCTYPE subset : java.lang.NullPointerException\n\nFixes #739\n\nSigned-off-by: azerr <azerr@redhat.com>", "commitDateTime": "2020-05-28 19:30:21", "authoredDateTime": "2020-05-28 18:01:34", "commitGitStats": [{"filePath": "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/extensions/dtd/contentmodel/CMDTDContentModelProvider.java", "insertions": 5, "deletions": 2, "lines": 7}], "commitSpoonAstDiffStats": [{"spoonFilePath": "CMDTDContentModelProvider.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lemminx.extensions.dtd.contentmodel.CMDTDContentModelProvider.createInternalCMDocument(org.eclipse.lemminx.dom.DOMDocument)", "TOT": 5, "UPD": 0, "INS": 2, "MOV": 3, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["03ca39622411febbf13b2721886985e0bcaef44c"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 5, "deletions": 2, "lines": 7, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 5, "UPD": 0, "INS": 2, "MOV": 3, "DEL": 0, "spoonFilesChanged": 1, "spoonMethodsChanged": 1}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/extensions/dtd/contentmodel"], "changesInPackagesSPOON": ["org.eclipse.lemminx.extensions.dtd.contentmodel.CMDTDContentModelProvider.createInternalCMDocument(org.eclipse.lemminx.dom.DOMDocument)"]}, {"title": "prolog snippet can be triggered right in front of prolog snippet", "body": "![grafik](https://user-images.githubusercontent.com/33053745/83032557-4ab0cb80-a036-11ea-8f53-b2b5277c5888.png)\r\n\r\nthis would result in a double prolog, which would not be valid.\r\n", "url": "https://github.com/eclipse/lemminx/issues/729", "user": "BalduinLandolt", "labels": ["bug", "snippet"], "created": "2020-05-27 14:23:51", "closed": "2020-06-10 14:15:25", "commits": {"befdda084296566a10484d31efd1666dc90ae5ed": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}}, "ttf": 13.000277777777777, "commitsDetails": [{"commitHash": "befdda084296566a10484d31efd1666dc90ae5ed", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": ["c1aeb8a85d83a4e814da28d8fee852f7f2ac11c4"], "nameRev": "befdda084296566a10484d31efd1666dc90ae5ed tags/0.12.0~5", "commitMessage": "Disable snippets in front of XML declaration.\n\nFixes #729.\n\nSigned-off-by: Balduin Landolt <balduin.landolt@hotmail.com>\n", "commitDateTime": "2020-06-10 16:15:23", "authoredDateTime": "2020-06-01 13:50:45", "commitGitStats": [{"filePath": "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/dom/DOMDocument.java", "insertions": 23, "deletions": 0, "lines": 23}, {"filePath": "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/services/snippets/CommentSnippetContext.java", "insertions": 7, "deletions": 0, "lines": 7}, {"filePath": "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/services/snippets/DocTypeSnippetContext.java", "insertions": 5, "deletions": 0, "lines": 5}, {"filePath": "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/services/snippets/NewFileSnippetContext.java", "insertions": 4, "deletions": 0, "lines": 4}, {"filePath": "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/services/snippets/ProcessingInstructionSnippetContext.java", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/services/snippets/XMLDeclarationSnippetContext.java", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "org.eclipse.lemminx/src/test/java/org/eclipse/lemminx/services/XMLCompletionSnippetsTest.java", "insertions": 53, "deletions": 0, "lines": 53}], "commitSpoonAstDiffStats": [{"spoonFilePath": "DOMDocument.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lemminx.dom.DOMDocument.getProlog()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lemminx.dom.DOMDocument.isBeforeProlog(int)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "CommentSnippetContext.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lemminx.services.snippets.CommentSnippetContext.isMatch(org.eclipse.lemminx.services.extensions.ICompletionRequest,java.util.Map)", "TOT": 2, "UPD": 0, "INS": 2, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "DocTypeSnippetContext.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lemminx.services.snippets.DocTypeSnippetContext.isMatch(org.eclipse.lemminx.services.extensions.ICompletionRequest,java.util.Map)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "NewFileSnippetContext.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lemminx.services.snippets.NewFileSnippetContext.isMatch(org.eclipse.lemminx.services.extensions.ICompletionRequest,java.util.Map)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "ProcessingInstructionSnippetContext.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lemminx.services.snippets.ProcessingInstructionSnippetContext.isMatch(org.eclipse.lemminx.services.extensions.ICompletionRequest,java.util.Map)", "TOT": 3, "UPD": 0, "INS": 1, "MOV": 1, "DEL": 1}]}, {"spoonFilePath": "XMLDeclarationSnippetContext.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lemminx.services.snippets.XMLDeclarationSnippetContext.hasProlog(org.eclipse.lemminx.dom.DOMDocument,int)", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lemminx.services.snippets.XMLDeclarationSnippetContext.isMatch(org.eclipse.lemminx.services.extensions.ICompletionRequest,java.util.Map)", "TOT": 4, "UPD": 0, "INS": 1, "MOV": 2, "DEL": 1}]}, {"spoonFilePath": "XMLCompletionSnippetsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lemminx.services.XMLCompletionSnippetsTest.atBeginningOfFile()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["befdda084296566a10484d31efd1666dc90ae5ed"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 45, "deletions": 6, "lines": 51, "gitFilesChange": 6}, "spoonStatsSummary": {"TOT": 14, "UPD": 1, "INS": 8, "MOV": 3, "DEL": 2, "spoonFilesChanged": 6, "spoonMethodsChanged": 8}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/services/snippets", "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/dom"], "changesInPackagesSPOON": ["org.eclipse.lemminx.services.snippets.NewFileSnippetContext.isMatch(org.eclipse.lemminx.services.extensions.ICompletionRequest,java.util.Map)", "org.eclipse.lemminx.services.snippets.XMLDeclarationSnippetContext.isMatch(org.eclipse.lemminx.services.extensions.ICompletionRequest,java.util.Map)", "org.eclipse.lemminx.services.snippets.CommentSnippetContext.isMatch(org.eclipse.lemminx.services.extensions.ICompletionRequest,java.util.Map)", "org.eclipse.lemminx.services.snippets.DocTypeSnippetContext.isMatch(org.eclipse.lemminx.services.extensions.ICompletionRequest,java.util.Map)", "org.eclipse.lemminx.dom.DOMDocument.isBeforeProlog(int)", "org.eclipse.lemminx.services.snippets.ProcessingInstructionSnippetContext.isMatch(org.eclipse.lemminx.services.extensions.ICompletionRequest,java.util.Map)", "org.eclipse.lemminx.dom.DOMDocument.getProlog()", "org.eclipse.lemminx.services.snippets.XMLDeclarationSnippetContext.hasProlog(org.eclipse.lemminx.dom.DOMDocument,int)"]}, {"title": "NPE in ContentModelCompletionParticipant.addCompletionItem", "body": "Given the following xml:\r\n\r\n```xml\r\n<!DOCTYPE web-app PUBLIC \"-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN\" \"http://java.sun.com/dtd/web-app_2_3.dtd\"[\r\n<!ENTITY mdash \"&#x2014;\">\r\n]>\r\nm| \r\n<web-app>\r\n  <display-name>Servlet 2.3 Web Application</display-name>\r\n</web-app>\r\n```\r\n\r\n when typing anything outside the nodes, I get an NPE:\r\n\r\n```\r\n[Error - 2:10:18 PM] May 25, 2020 02:10:18 org.eclipse.lemminx.services.XMLCompletions collectOpenTagSuggestions()\r\nMessage: While performing ICompletionParticipant#onTagOpen\r\njava.lang.IllegalArgumentException: Property must not be null: label\r\n\tat org.eclipse.lsp4j.util.Preconditions.checkNotNull(Preconditions.java:29)\r\n\tat org.eclipse.lsp4j.CompletionItem.<init>(CompletionItem.java:144)\r\n\tat org.eclipse.lemminx.extensions.contentmodel.participants.ContentModelCompletionParticipant.addCompletionItem(ContentModelCompletionParticipant.java:244)\r\n\tat org.eclipse.lemminx.extensions.contentmodel.participants.ContentModelCompletionParticipant.fillWithChildrenElementDeclaration(ContentModelCompletionParticipant.java:183)\r\n\tat org.eclipse.lemminx.extensions.contentmodel.participants.ContentModelCompletionParticipant.onTagOpen(ContentModelCompletionParticipant.java:65)\r\n\tat org.eclipse.lemminx.services.XMLCompletions.collectOpenTagSuggestions(XMLCompletions.java:608)\r\n\tat org.eclipse.lemminx.services.XMLCompletions.collectInsideContent(XMLCompletions.java:733)\r\n\tat org.eclipse.lemminx.services.XMLCompletions.doComplete(XMLCompletions.java:224)\r\n\tat org.eclipse.lemminx.services.XMLLanguageService.doComplete(XMLLanguageService.java:139)\r\n\tat org.eclipse.lemminx.XMLTextDocumentService.lambda$completion$1(XMLTextDocumentService.java:189)\r\n\tat java.base/java.util.concurrent.CompletableFuture.biApply(CompletableFuture.java:1307)\r\n\tat java.base/java.util.concurrent.CompletableFuture$BiApply.tryFire(CompletableFuture.java:1276)\r\n\tat java.base/java.util.concurrent.CompletableFuture$Completion.exec(CompletableFuture.java:479)\r\n\tat java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:290)\r\n\tat java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1016)\r\n\tat java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1665)\r\n\tat java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1598)\r\n\tat java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:177)\r\n```\r\n\r\nThere's no issue with vscode-xml 0.11.0, so it's a regression", "url": "https://github.com/eclipse/lemminx/issues/720", "user": "fbricon", "labels": ["bug", "completion", "regression"], "created": "2020-05-25 12:28:57", "closed": "2020-05-25 14:58:26", "commits": {"afa277fe59925bcb977408fba717da7544ad13e7": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "dbbbf8e08420164f4484b3659ebb0f00247d7711": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "9a5bf7df2b964f70f90898756638a7ca68bd6866": {"commitGHEventType": "referenced", "commitUser": "fbricon"}}, "ttf": 0.0002777777777777778, "commitsDetails": [{"commitHash": "afa277fe59925bcb977408fba717da7544ad13e7", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "dbbbf8e08420164f4484b3659ebb0f00247d7711", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "9a5bf7df2b964f70f90898756638a7ca68bd6866", "commitGHEventType": "referenced", "commitUser": "fbricon", "commitParents": ["034b2b3e2246f83765e5a8aa7626fe4c35127bbb"], "nameRev": "9a5bf7df2b964f70f90898756638a7ca68bd6866 tags/0.12.0~32", "commitMessage": "NPE in ContentModelCompletionParticipant.addCompletionItem\n\nFixes #720\n\nSigned-off-by: azerr <azerr@redhat.com>", "commitDateTime": "2020-05-25 16:58:25", "authoredDateTime": "2020-05-25 14:54:54", "commitGitStats": [{"filePath": "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/extensions/dtd/contentmodel/CMDTDDocument.java", "insertions": 6, "deletions": 3, "lines": 9}, {"filePath": "org.eclipse.lemminx/src/test/java/org/eclipse/lemminx/extensions/contentmodel/DTDCompletionExtensionsTest.java", "insertions": 30, "deletions": 0, "lines": 30}], "commitSpoonAstDiffStats": [{"spoonFilePath": "CMDTDDocument.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lemminx.extensions.dtd.contentmodel.CMDTDDocument.getElements()", "TOT": 3, "UPD": 0, "INS": 1, "MOV": 2, "DEL": 0}]}, {"spoonFilePath": "DTDCompletionExtensionsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lemminx.extensions.contentmodel.DTDCompletionExtensionsTest.elementCompletionWithDoctypeSubsetWithNoElements()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lemminx.extensions.contentmodel.DTDCompletionExtensionsTest.attributeCompletionWithDoctypeSubsetWithNoElements()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["9a5bf7df2b964f70f90898756638a7ca68bd6866"], "filteredCommitsReason": {"duplicated": 2, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 6.0, "deletions": 3.0, "lines": 9.0, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 3.0, "UPD": 0.0, "INS": 1.0, "MOV": 2.0, "DEL": 0.0, "spoonFilesChanged": 1, "spoonMethodsChanged": 1}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/extensions/dtd/contentmodel"], "changesInPackagesSPOON": ["org.eclipse.lemminx.extensions.dtd.contentmodel.CMDTDDocument.getElements()"]}, {"title": "NPE in XMLCompletions collectAttributeNameSuggestions()", "body": "Given:\r\n\r\n```xml\r\n<!DOCTYPE web-app PUBLIC \"-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN\" \"http://java.sun.com/dtd/web-app_2_3.dtd\" [\r\n  <!ENTITY mdash \"&#x2014;\">\r\n]>\r\n<web-app a|>\r\n  <display-name>Servlet 2.3 aWeb Application</display-name>\r\n</web-app>\r\n```\r\n when typing an attribute in the web node, an NPE is thrown in XMLCompletions collectAttributeNameSuggestions():\r\n\r\n```\r\n[Error - 2:17:54 p.m.] May 25, 2020 02:17:54 org.eclipse.lemminx.services.XMLCompletions collectAttributeNameSuggestions()\r\nMessage: While performing ICompletionParticipant#onAttributeName\r\njava.lang.NullPointerException\r\n\tat org.eclipse.lemminx.extensions.dtd.contentmodel.CMDTDDocument.findElementDeclaration(CMDTDDocument.java:164)\r\n\tat org.eclipse.lemminx.extensions.dtd.contentmodel.CMDTDDocument.findCMElement(CMDTDDocument.java:151)\r\n\tat org.eclipse.lemminx.extensions.contentmodel.model.ContentModelManager.findInternalCMElement(ContentModelManager.java:204)\r\n\tat org.eclipse.lemminx.extensions.contentmodel.model.ContentModelManager.findInternalCMElement(ContentModelManager.java:191)\r\n\tat org.eclipse.lemminx.extensions.contentmodel.participants.ContentModelCompletionParticipant.onAttributeName(ContentModelCompletionParticipant.java:263)\r\n\tat org.eclipse.lemminx.services.XMLCompletions.collectAttributeNameSuggestions(XMLCompletions.java:789)\r\n\tat org.eclipse.lemminx.services.XMLCompletions.doComplete(XMLCompletions.java:120)\r\n\tat org.eclipse.lemminx.services.XMLLanguageService.doComplete(XMLLanguageService.java:138)\r\n\tat org.eclipse.lemminx.XMLTextDocumentService.lambda$completion$1(XMLTextDocumentService.java:177)\r\n\tat java.base/java.util.concurrent.CompletableFuture.biApply(CompletableFuture.java:1307)\r\n\tat java.base/java.util.concurrent.CompletableFuture$BiApply.tryFire(CompletableFuture.java:1276)\r\n\tat java.base/java.util.concurrent.CompletableFuture$Completion.exec(CompletableFuture.java:479)\r\n\tat java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:290)\r\n\tat java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1016)\r\n\tat java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1665)\r\n\tat java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1598)\r\n\tat java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:177)\r\n\r\n```\r\n\r\nOccurs in vscode-xml 0.11.0: ", "url": "https://github.com/eclipse/lemminx/issues/719", "user": "fbricon", "labels": ["bug", "completion", "good first issue"], "created": "2020-05-25 12:20:32", "closed": "2020-05-25 14:59:24", "commits": {}, "ttf": 0.0002777777777777778, "commitsDetails": []}, {"title": "Fix error range TargetNamespace.1", "body": "This issue occurs when xml-model support will be merged.\r\n\r\nGiven this XML :\r\n\r\n```xml\r\n<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\r\n<?xml-model href=\"http://www.docbook.org/xml/5.0/xsd/docbook.xsd\"?>\r\n<book xmlns=\"BAD_NS\"> \r\n\t<title />\r\n  \t<BAD_ELEMENT />\r\n</book> \r\n```\r\n\r\nWe have this error:\r\n\r\n![image](https://user-images.githubusercontent.com/1932211/81974647-257b9080-9626-11ea-8daf-8412c6711cb0.png)\r\n\r\nWe should:\r\n\r\n  * fix error range, instead of highlight >, we must highlight `BAD-NS` attribute value of xmlns.\r\n * provide a code action, to replace `BAD_NS` with `http://docbook.org/ns/docbook`\r\n", "url": "https://github.com/eclipse/lemminx/issues/704", "user": "angelozerr", "labels": ["bug", "validation", "xml-model"], "created": "2020-05-14 19:04:12", "closed": "2020-06-09 15:03:14", "commits": {"c1aeb8a85d83a4e814da28d8fee852f7f2ac11c4": {"commitGHEventType": "referenced", "commitUser": "xorye"}}, "ttf": 25.00027777777778, "commitsDetails": [{"commitHash": "c1aeb8a85d83a4e814da28d8fee852f7f2ac11c4", "commitGHEventType": "referenced", "commitUser": "xorye", "commitParents": ["ce6def2f36d4716ec5dc6dd9a1dcb09c0cc742ec"], "nameRev": "c1aeb8a85d83a4e814da28d8fee852f7f2ac11c4 tags/0.12.0~6", "commitMessage": "TargetNamespace.1/2 error range\n\nIf the declared namespace of the root element is not the same as\nthe namespace declared in the schema, the `xmlns` attribute of the root\nelement is highlighted.\n\nIf there is no namespace declared in the root element, but one is\ndeclared in the schema, the root element is highlighted.\n\nAdded a CodeAction attached to `TargetNamespace.1` that replaces\nthe namespace declared in the instance with the namespace declared in\nthe schema.\n\nAdded a CodeAction attached to `TargetNamespace.2` that adds the\n`xmlns` attribute to the root element and fills it with the namespace\nused in the schema.\n\nFixes #704, Fixes #703\n\nSigned-off-by: David Thompson <davthomp@redhat.com>\n", "commitDateTime": "2020-06-09 11:03:13", "authoredDateTime": "2020-06-03 12:05:00", "commitGitStats": [{"filePath": "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/extensions/contentmodel/participants/XMLSchemaErrorCode.java", "insertions": 10, "deletions": 1, "lines": 11}, {"filePath": "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/extensions/contentmodel/participants/codeactions/TargetNamespace_1CodeAction.java", "insertions": 70, "deletions": 0, "lines": 70}, {"filePath": "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/extensions/contentmodel/participants/codeactions/TargetNamespace_2CodeAction.java", "insertions": 79, "deletions": 0, "lines": 79}, {"filePath": "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/utils/XMLPositionUtility.java", "insertions": 28, "deletions": 0, "lines": 28}, {"filePath": "org.eclipse.lemminx/src/test/java/org/eclipse/lemminx/extensions/contentmodel/XMLSchemaDiagnosticsTest.java", "insertions": 66, "deletions": 0, "lines": 66}, {"filePath": "org.eclipse.lemminx/src/test/resources/xsd/two-letter-name.xsd", "insertions": 10, "deletions": 0, "lines": 10}], "commitSpoonAstDiffStats": [{"spoonFilePath": "XMLSchemaErrorCode.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lemminx.extensions.contentmodel.participants.XMLSchemaErrorCode.toLSPRange(org.apache.xerces.xni.XMLLocator,org.eclipse.lemminx.extensions.contentmodel.participants.XMLSchemaErrorCode,java.lang.Object[],org.eclipse.lemminx.dom.DOMDocument)", "TOT": 7, "UPD": 2, "INS": 4, "MOV": 1, "DEL": 0}, {"spoonMethodName": "org.eclipse.lemminx.extensions.contentmodel.participants.XMLSchemaErrorCode", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lemminx.extensions.contentmodel.participants.XMLSchemaErrorCode.registerCodeActionParticipants(java.util.Map)", "TOT": 2, "UPD": 0, "INS": 2, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "TargetNamespace_1CodeAction.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lemminx.extensions.contentmodel.participants.codeactions.TargetNamespace_1CodeAction", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "TargetNamespace_2CodeAction.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lemminx.extensions.contentmodel.participants.codeactions.TargetNamespace_2CodeAction", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLPositionUtility.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lemminx.utils.XMLPositionUtility.selectRootAttributeValue(java.lang.String,org.eclipse.lemminx.dom.DOMDocument)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLSchemaDiagnosticsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lemminx.extensions.contentmodel.XMLSchemaDiagnosticsTest.testTargetNamespace_1Normal()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lemminx.extensions.contentmodel.XMLSchemaDiagnosticsTest.testTargetNamespace_1ShortNS()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lemminx.extensions.contentmodel.XMLSchemaDiagnosticsTest.testTargetNamespace_1SingleQuotes()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lemminx.extensions.contentmodel.XMLSchemaDiagnosticsTest.testTargetNamespace_2()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lemminx.extensions.contentmodel.XMLSchemaDiagnosticsTest.testTargetNamespace_2SingleQuotes()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": [], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 1, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 0, "gitStatsSummary": {"insertions": 0, "deletions": 0, "lines": 0, "gitFilesChange": 0}, "spoonStatsSummary": {"TOT": 0, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 0, "spoonFilesChanged": 0, "spoonMethodsChanged": 0}, "statsSkippedReason": "", "changesInPackagesGIT": [], "changesInPackagesSPOON": []}, {"title": "Fix error range TargetNamespace.2", "body": "This issue occurs when xml-model support will be merged.\r\n\r\nGiven this XML :\r\n\r\n```xml\r\n<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\r\n<?xml-model href=\"http://www.docbook.org/xml/5.0/xsd/docbook.xsd\"?>\r\n<book> \r\n\t<title />\r\n  \t<BAD_ELEMENT />\r\n</book> \r\n```\r\n\r\nWe have this error:\r\n\r\n![image](https://user-images.githubusercontent.com/1932211/81974089-5b6c4500-9625-11ea-8d19-098cfbeae3e5.png)\r\n\r\nWe should:\r\n\r\n  * fix error range, instead of highlight ?, we must highlight `book` root element.\r\n * provide a code action, to insert in the book the text `xmlns=\"http://docbook.org/ns/docbook\"`", "url": "https://github.com/eclipse/lemminx/issues/703", "user": "angelozerr", "labels": ["bug", "validation", "xml-model"], "created": "2020-05-14 19:00:20", "closed": "2020-06-09 15:03:15", "commits": {"c1aeb8a85d83a4e814da28d8fee852f7f2ac11c4": {"commitGHEventType": "referenced", "commitUser": "xorye"}}, "ttf": 25.00027777777778, "commitsDetails": [{"commitHash": "c1aeb8a85d83a4e814da28d8fee852f7f2ac11c4", "commitGHEventType": "referenced", "commitUser": "xorye", "commitParents": ["ce6def2f36d4716ec5dc6dd9a1dcb09c0cc742ec"], "nameRev": "c1aeb8a85d83a4e814da28d8fee852f7f2ac11c4 tags/0.12.0~6", "commitMessage": "TargetNamespace.1/2 error range\n\nIf the declared namespace of the root element is not the same as\nthe namespace declared in the schema, the `xmlns` attribute of the root\nelement is highlighted.\n\nIf there is no namespace declared in the root element, but one is\ndeclared in the schema, the root element is highlighted.\n\nAdded a CodeAction attached to `TargetNamespace.1` that replaces\nthe namespace declared in the instance with the namespace declared in\nthe schema.\n\nAdded a CodeAction attached to `TargetNamespace.2` that adds the\n`xmlns` attribute to the root element and fills it with the namespace\nused in the schema.\n\nFixes #704, Fixes #703\n\nSigned-off-by: David Thompson <davthomp@redhat.com>\n", "commitDateTime": "2020-06-09 11:03:13", "authoredDateTime": "2020-06-03 12:05:00", "commitGitStats": [{"filePath": "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/extensions/contentmodel/participants/XMLSchemaErrorCode.java", "insertions": 10, "deletions": 1, "lines": 11}, {"filePath": "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/extensions/contentmodel/participants/codeactions/TargetNamespace_1CodeAction.java", "insertions": 70, "deletions": 0, "lines": 70}, {"filePath": "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/extensions/contentmodel/participants/codeactions/TargetNamespace_2CodeAction.java", "insertions": 79, "deletions": 0, "lines": 79}, {"filePath": "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/utils/XMLPositionUtility.java", "insertions": 28, "deletions": 0, "lines": 28}, {"filePath": "org.eclipse.lemminx/src/test/java/org/eclipse/lemminx/extensions/contentmodel/XMLSchemaDiagnosticsTest.java", "insertions": 66, "deletions": 0, "lines": 66}, {"filePath": "org.eclipse.lemminx/src/test/resources/xsd/two-letter-name.xsd", "insertions": 10, "deletions": 0, "lines": 10}], "commitSpoonAstDiffStats": [{"spoonFilePath": "XMLSchemaErrorCode.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lemminx.extensions.contentmodel.participants.XMLSchemaErrorCode.toLSPRange(org.apache.xerces.xni.XMLLocator,org.eclipse.lemminx.extensions.contentmodel.participants.XMLSchemaErrorCode,java.lang.Object[],org.eclipse.lemminx.dom.DOMDocument)", "TOT": 7, "UPD": 2, "INS": 4, "MOV": 1, "DEL": 0}, {"spoonMethodName": "org.eclipse.lemminx.extensions.contentmodel.participants.XMLSchemaErrorCode", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lemminx.extensions.contentmodel.participants.XMLSchemaErrorCode.registerCodeActionParticipants(java.util.Map)", "TOT": 2, "UPD": 0, "INS": 2, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "TargetNamespace_1CodeAction.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lemminx.extensions.contentmodel.participants.codeactions.TargetNamespace_1CodeAction", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "TargetNamespace_2CodeAction.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lemminx.extensions.contentmodel.participants.codeactions.TargetNamespace_2CodeAction", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLPositionUtility.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lemminx.utils.XMLPositionUtility.selectRootAttributeValue(java.lang.String,org.eclipse.lemminx.dom.DOMDocument)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLSchemaDiagnosticsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lemminx.extensions.contentmodel.XMLSchemaDiagnosticsTest.testTargetNamespace_1Normal()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lemminx.extensions.contentmodel.XMLSchemaDiagnosticsTest.testTargetNamespace_1ShortNS()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lemminx.extensions.contentmodel.XMLSchemaDiagnosticsTest.testTargetNamespace_1SingleQuotes()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lemminx.extensions.contentmodel.XMLSchemaDiagnosticsTest.testTargetNamespace_2()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lemminx.extensions.contentmodel.XMLSchemaDiagnosticsTest.testTargetNamespace_2SingleQuotes()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": [], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 1, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 0, "gitStatsSummary": {"insertions": 0, "deletions": 0, "lines": 0, "gitFilesChange": 0}, "spoonStatsSummary": {"TOT": 0, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 0, "spoonFilesChanged": 0, "spoonMethodsChanged": 0}, "statsSkippedReason": "", "changesInPackagesGIT": [], "changesInPackagesSPOON": []}, {"title": "Quote style not being enforced when formatting DTD", "body": "Example:\r\n```\r\n<!DOCTYPE note SYSTEM \"note.dtd\">\r\n<test a=\"hi\"></test>\r\n```\r\n\r\nTo reproduce the issue:\r\n1. Set `xml.format.enforceQuoteStyle` to `preferred`\r\n2. Set `xml.preferences.quoteStyle` to `single`\r\n3. Format the document above\r\n\r\nExpected behaviour: \r\n`\"note.dtd\"` in line 1 should turn into `'note.dtd'`\r\n`\"hi\"` in line 2 should turn into `'hi'`\r\n\r\nActual behaviour:\r\nOnly `\"hi\"` in line 2 should turns into `'hi'`:\r\n![image](https://user-images.githubusercontent.com/20326645/81573014-ef15eb00-9371-11ea-8404-1e413ac4e5e4.png)\r\n", "url": "https://github.com/eclipse/lemminx/issues/686", "user": "xorye", "labels": ["DTD", "bug", "formatting"], "created": "2020-05-11 14:27:01", "closed": "2020-06-02 10:48:22", "commits": {}, "ttf": 21.00027777777778, "commitsDetails": []}, {"title": "NPE with Codelens in empty XSD file", "body": "Create an empty XSD file, activate Codelens and type a space:\r\n\r\n```\r\nCaused by: java.lang.NullPointerException\r\n\tat org.eclipse.lemminx.extensions.xsd.utils.XSDUtils.getTargetAttrs(XSDUtils.java:305)\r\n\tat org.eclipse.lemminx.extensions.xsd.utils.XSDUtils.searchXSOriginAttributes(XSDUtils.java:258)\r\n\tat org.eclipse.lemminx.extensions.xsd.participants.XSDCodeLensParticipant.doCodeLens(XSDCodeLensParticipant.java:50)\r\n\tat org.eclipse.lemminx.services.XMLCodeLens.getCodelens(XMLCodeLens.java:42)\r\n\tat org.eclipse.lemminx.services.XMLLanguageService.getCodeLens(XMLLanguageService.java:244)\r\n\tat org.eclipse.lemminx.XMLTextDocumentService.lambda$codeLens$17(XMLTextDocumentService.java:377)\r\n\tat java.base/java.util.concurrent.CompletableFuture.biApply(CompletableFuture.java:1236)\r\n```", "url": "https://github.com/eclipse/lemminx/issues/684", "user": "angelozerr", "labels": ["XSD", "bug", "codelens", "good first issue"], "created": "2020-05-09 18:45:46", "closed": "2020-06-04 18:40:49", "commits": {"b7be86b5ee8fb0a24f30094ae7f3b2dc53a2de81": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}}, "ttf": 25.00027777777778, "commitsDetails": [{"commitHash": "b7be86b5ee8fb0a24f30094ae7f3b2dc53a2de81", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": ["35ac5a14516a5d4b4dade4e48572dc046322c048"], "nameRev": "b7be86b5ee8fb0a24f30094ae7f3b2dc53a2de81 tags/0.12.0~10", "commitMessage": "Fix NPE on empty .xsd document\n\nAdded some null checks to prevent the NPE occuring.\n\nFixes #684\n\nSigned-off-by: David Thompson <davthomp@redhat.com>\n", "commitDateTime": "2020-06-04 20:40:48", "authoredDateTime": "2020-06-04 11:51:03", "commitGitStats": [{"filePath": "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/extensions/xsd/utils/XSDUtils.java", "insertions": 8, "deletions": 1, "lines": 9}, {"filePath": "org.eclipse.lemminx/src/test/java/org/eclipse/lemminx/extensions/xsd/XSDCodeLensExtensionsTest.java", "insertions": 12, "deletions": 0, "lines": 12}], "commitSpoonAstDiffStats": [{"spoonFilePath": "XSDUtils.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lemminx.extensions.xsd.utils.XSDUtils.getTargetAttrs(org.eclipse.lemminx.dom.DOMNode)", "TOT": 5, "UPD": 0, "INS": 4, "MOV": 1, "DEL": 0}]}, {"spoonFilePath": "XSDCodeLensExtensionsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lemminx.extensions.xsd.XSDCodeLensExtensionsTest.codeLensEmptyDocument()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lemminx.extensions.xsd.XSDCodeLensExtensionsTest.codeLensSpace()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["b7be86b5ee8fb0a24f30094ae7f3b2dc53a2de81"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 8, "deletions": 1, "lines": 9, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 5, "UPD": 0, "INS": 4, "MOV": 1, "DEL": 0, "spoonFilesChanged": 1, "spoonMethodsChanged": 1}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/extensions/xsd/utils"], "changesInPackagesSPOON": ["org.eclipse.lemminx.extensions.xsd.utils.XSDUtils.getTargetAttrs(org.eclipse.lemminx.dom.DOMNode)"]}, {"title": "Range formatting inserts <null> when formatting inside DOCTYPE element", "body": "When range formatting content inside of `<!DOCTYPE`, the formatter replaces the content with `<null>`.\r\n\r\nExample:\r\n\r\n```\r\n<?xml version='1.0' standalone='no'?>\r\n<!DOCTYPE root-element [\r\n    <!ENTITY local \"LOCALLY DECLARED ENTITY\">\r\n]>\r\n```\r\n\r\n![image](https://user-images.githubusercontent.com/20326645/81445337-a9290f00-9146-11ea-9e90-066cebc77453.png)\r\n\r\n![image](https://user-images.githubusercontent.com/20326645/81445406-cc53be80-9146-11ea-9f2e-da097e6f0f56.png)", "url": "https://github.com/eclipse/lemminx/issues/682", "user": "xorye", "labels": ["DTD", "bug", "formatting"], "created": "2020-05-08 20:15:05", "closed": "2020-06-08 15:13:04", "commits": {"3ffb1ffdea9ec3bd9df4913d0f35dd07912ecd40": {"commitGHEventType": "referenced", "commitUser": "xorye"}}, "ttf": 30.00027777777778, "commitsDetails": [{"commitHash": "3ffb1ffdea9ec3bd9df4913d0f35dd07912ecd40", "commitGHEventType": "referenced", "commitUser": "xorye", "commitParents": ["5082892530a27f4a101035c436b318ea905628a5"], "nameRev": "3ffb1ffdea9ec3bd9df4913d0f35dd07912ecd40 tags/0.12.0~8", "commitMessage": "Range formatting inserts <null> when formatting inside DOCTYPE element\n\nFixes #682\n\nSigned-off-by: azerr <azerr@redhat.com>", "commitDateTime": "2020-06-08 11:13:03", "authoredDateTime": "2020-06-04 21:14:17", "commitGitStats": [{"filePath": "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/services/XMLFormatter.java", "insertions": 21, "deletions": 22, "lines": 43}, {"filePath": "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/services/XMLLanguageService.java", "insertions": 1, "deletions": 2, "lines": 3}, {"filePath": "org.eclipse.lemminx/src/test/java/org/eclipse/lemminx/services/XMLFormatterTest.java", "insertions": 27, "deletions": 1, "lines": 28}], "commitSpoonAstDiffStats": [{"spoonFilePath": "XMLFormatter.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lemminx.services.XMLFormatter", "TOT": 2, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 2}, {"spoonMethodName": "org.eclipse.lemminx.services.XMLFormatter.XMLFormatterDocument.setupRangeFormatting(org.eclipse.lsp4j.Range)", "TOT": 11, "UPD": 0, "INS": 5, "MOV": 5, "DEL": 1}, {"spoonMethodName": "org.eclipse.lemminx.services.XMLFormatter.XMLFormatterDocument.formatDocumentType(org.eclipse.lemminx.dom.DOMDocumentType)", "TOT": 2, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 1}, {"spoonMethodName": "org.eclipse.lemminx.services.XMLFormatter.XMLFormatterDocument", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lemminx.services.XMLFormatter.XMLFormatterDocument.getStartingIndentLevel()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLLanguageService.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lemminx.services.XMLLanguageService", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLFormatterTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lemminx.services.XMLFormatterTest.rangeSelectEntityNoIndent()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lemminx.services.XMLFormatterTest.rangeSelectEntityWithIndent()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["3ffb1ffdea9ec3bd9df4913d0f35dd07912ecd40"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 22, "deletions": 24, "lines": 46, "gitFilesChange": 2}, "spoonStatsSummary": {"TOT": 18, "UPD": 1, "INS": 8, "MOV": 5, "DEL": 4, "spoonFilesChanged": 2, "spoonMethodsChanged": 6}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/services"], "changesInPackagesSPOON": ["org.eclipse.lemminx.services.XMLFormatter.XMLFormatterDocument", "org.eclipse.lemminx.services.XMLFormatter", "org.eclipse.lemminx.services.XMLFormatter.XMLFormatterDocument.setupRangeFormatting(org.eclipse.lsp4j.Range)", "org.eclipse.lemminx.services.XMLFormatter.XMLFormatterDocument.getStartingIndentLevel()", "org.eclipse.lemminx.services.XMLLanguageService", "org.eclipse.lemminx.services.XMLFormatter.XMLFormatterDocument.formatDocumentType(org.eclipse.lemminx.dom.DOMDocumentType)"]}, {"title": "NPE Highlighting with <!ELEMENT", "body": "```xml\r\n<!DOCTYPE root-element [\t\r\n\t<!ELEMENT\r\n]>\r\n<root-element>\r\n</root-element>\r\n```\r\n\r\nSet cursor inside <!ELEMENT, you will se the NPE:\r\n\r\n```\r\nCaused by: java.lang.NullPointerException\r\n\tat org.eclipse.lemminx.dom.DTDElementDecl.getParameterAt(DTDElementDecl.java:98)\r\n\tat org.eclipse.lemminx.extensions.dtd.participants.DTDHighlightingParticipant.findDocumentHighlights(DTDHighlightingParticipant.java:54)\r\n\tat org.eclipse.lemminx.services.XMLHighlighting.fillWithCustomHighlights(XMLHighlighting.java:125)\r\n\tat org.eclipse.lemminx.services.XMLHighlighting.findDocumentHighlights(XMLHighlighting.java:67)\r\n\tat org.eclipse.lemminx.services.XMLLanguageService.findDocumentHighlights(XMLLanguageService.java:114)\r\n```", "url": "https://github.com/eclipse/lemminx/issues/677", "user": "angelozerr", "labels": ["DTD", "bug", "good first issue", "highlights"], "created": "2020-05-05 20:18:11", "closed": "2020-05-29 14:42:43", "commits": {}, "ttf": 23.00027777777778, "commitsDetails": []}, {"title": "NPE in ContentModelCodeActionParticipant.doCodeAction#L47", "body": "I'm not able to reproduce, so I don't understand how it occured, but I saw some NPEs in https://github.com/eclipse/lemminx/blob/f12cf5d1cbd47f59bdb4b632bed57b11b8195be2/org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/extensions/contentmodel/participants/ContentModelCodeActionParticipant.java#L47", "url": "https://github.com/eclipse/lemminx/issues/671", "user": "fbricon", "labels": ["bug", "good first issue"], "created": "2020-05-03 13:01:08", "closed": "2020-05-29 20:41:10", "commits": {"f2a90dd95d1ed3e245a56a11b7cd111057cac25d": {"commitGHEventType": "referenced", "commitUser": "fbricon"}}, "ttf": 26.00027777777778, "commitsDetails": [{"commitHash": "f2a90dd95d1ed3e245a56a11b7cd111057cac25d", "commitGHEventType": "referenced", "commitUser": "fbricon", "commitParents": ["291c6fa62dc1b4eecacbac83843d681ac55879dc"], "nameRev": "f2a90dd95d1ed3e245a56a11b7cd111057cac25d tags/0.12.0~20", "commitMessage": "Make ContentModelCodeActionParticipant null-resilient\n\nFixes #671\n\nSigned-off-by: David Thompson <davthomp@redhat.com>\n", "commitDateTime": "2020-05-29 22:41:09", "authoredDateTime": "2020-05-29 15:31:05", "commitGitStats": [{"filePath": "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/extensions/contentmodel/participants/ContentModelCodeActionParticipant.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "org.eclipse.lemminx/src/test/java/org/eclipse/lemminx/extensions/contentmodel/ContentModelCodeActionTest.java", "insertions": 30, "deletions": 0, "lines": 30}], "commitSpoonAstDiffStats": [{"spoonFilePath": "ContentModelCodeActionParticipant.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lemminx.extensions.contentmodel.participants.ContentModelCodeActionParticipant.doCodeAction(org.eclipse.lsp4j.Diagnostic,org.eclipse.lsp4j.Range,org.eclipse.lemminx.dom.DOMDocument,java.util.List,org.eclipse.lemminx.settings.SharedSettings,org.eclipse.lemminx.services.extensions.IComponentProvider)", "TOT": 2, "UPD": 0, "INS": 1, "MOV": 1, "DEL": 0}]}, {"spoonFilePath": "ContentModelCodeActionTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lemminx.extensions.contentmodel.ContentModelCodeActionTest", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["f2a90dd95d1ed3e245a56a11b7cd111057cac25d"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 1, "deletions": 1, "lines": 2, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 2, "UPD": 0, "INS": 1, "MOV": 1, "DEL": 0, "spoonFilesChanged": 1, "spoonMethodsChanged": 1}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/extensions/contentmodel/participants"], "changesInPackagesSPOON": ["org.eclipse.lemminx.extensions.contentmodel.participants.ContentModelCodeActionParticipant.doCodeAction(org.eclipse.lsp4j.Diagnostic,org.eclipse.lsp4j.Range,org.eclipse.lemminx.dom.DOMDocument,java.util.List,org.eclipse.lemminx.settings.SharedSettings,org.eclipse.lemminx.services.extensions.IComponentProvider)"]}, {"title": "Fix error range for `SemicolonRequiredInReference`", "body": "Given this XML file:\r\n\r\n```xml\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<!DOCTYPE article [\r\n  <!ENTITY mdash \"&#x2014;\">\r\n]>\r\n<root>\r\n  &mdash\r\n</root>\r\n```\r\n\r\n`&mdash` should be ends with `;` and Xerces report the error as `SemicolonRequiredInReference`. We should adjust error range to highlight `&mdash`", "url": "https://github.com/eclipse/lemminx/issues/664", "user": "angelozerr", "labels": ["DTD", "bug", "good first issue", "validation"], "created": "2020-04-28 14:21:44", "closed": "2020-06-01 14:38:13", "commits": {"3d2be14fefbc084410f35707f4b0e9bba917aacc": {"commitGHEventType": "referenced", "commitUser": "fbricon"}}, "ttf": 34.000277777777775, "commitsDetails": [{"commitHash": "3d2be14fefbc084410f35707f4b0e9bba917aacc", "commitGHEventType": "referenced", "commitUser": "fbricon", "commitParents": ["3a5fe37b0c63770daff6dc1ac7900b214464dbf2"], "nameRev": "3d2be14fefbc084410f35707f4b0e9bba917aacc tags/0.12.0~17", "commitMessage": "Fixed error range for SemicolonRequiredInReference\n\nThe error range now goes from the start of the ampersand to\nthe end of the entity name.\n\nFixes #664\n\nSigned-off-by: David Thompson <davthomp@redhat.com>\n", "commitDateTime": "2020-06-01 16:38:12", "authoredDateTime": "2020-05-29 11:31:38", "commitGitStats": [{"filePath": "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/extensions/contentmodel/participants/XMLSyntaxErrorCode.java", "insertions": 6, "deletions": 1, "lines": 7}, {"filePath": "org.eclipse.lemminx/src/test/java/org/eclipse/lemminx/extensions/contentmodel/XMLSyntaxDiagnosticsTest.java", "insertions": 35, "deletions": 0, "lines": 35}], "commitSpoonAstDiffStats": [{"spoonFilePath": "XMLSyntaxErrorCode.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lemminx.extensions.contentmodel.participants.XMLSyntaxErrorCode", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lemminx.extensions.contentmodel.participants.XMLSyntaxErrorCode.toLSPRange(org.apache.xerces.xni.XMLLocator,org.eclipse.lemminx.extensions.contentmodel.participants.XMLSyntaxErrorCode,java.lang.Object[],org.eclipse.lemminx.dom.DOMDocument)", "TOT": 5, "UPD": 0, "INS": 4, "MOV": 1, "DEL": 0}]}, {"spoonFilePath": "XMLSyntaxDiagnosticsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lemminx.extensions.contentmodel.XMLSyntaxDiagnosticsTest.testEntitySemicolonRequiredInReference()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lemminx.extensions.contentmodel.XMLSyntaxDiagnosticsTest.testEntitySemicolonRequiredInReferenceOddSpacing()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lemminx.extensions.contentmodel.XMLSyntaxDiagnosticsTest.testEntitySemicolonRequiredInReferenceShortName()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["3d2be14fefbc084410f35707f4b0e9bba917aacc"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 6, "deletions": 1, "lines": 7, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 6, "UPD": 0, "INS": 5, "MOV": 1, "DEL": 0, "spoonFilesChanged": 1, "spoonMethodsChanged": 2}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/extensions/contentmodel/participants"], "changesInPackagesSPOON": ["org.eclipse.lemminx.extensions.contentmodel.participants.XMLSyntaxErrorCode.toLSPRange(org.apache.xerces.xni.XMLLocator,org.eclipse.lemminx.extensions.contentmodel.participants.XMLSyntaxErrorCode,java.lang.Object[],org.eclipse.lemminx.dom.DOMDocument)", "org.eclipse.lemminx.extensions.contentmodel.participants.XMLSyntaxErrorCode"]}, {"title": "Don't generate end element on apply completion if it exists", "body": "To fix https://github.com/redhat-developer/vscode-xml/pull/213#issuecomment-579328288 the apply completion (for XML and for XML based on a grammar) must generate the end element only if it needs.", "url": "https://github.com/eclipse/lemminx/issues/651", "user": "angelozerr", "labels": ["bug", "completion"], "created": "2020-04-22 12:51:27", "closed": "2020-04-23 19:03:34", "commits": {"d0a94fd0a9a588450e63f9c2b622c90b0b09b743": {"commitGHEventType": "referenced", "commitUser": "fbricon"}}, "ttf": 1.0002777777777778, "commitsDetails": [{"commitHash": "d0a94fd0a9a588450e63f9c2b622c90b0b09b743", "commitGHEventType": "referenced", "commitUser": "fbricon", "commitParents": ["47fe6937aa3b7f3930c6128b8b44939e30af36c1"], "nameRev": "d0a94fd0a9a588450e63f9c2b622c90b0b09b743 tags/0.12.0~57", "commitMessage": "Don't generate end element on apply completion if it exists\n\nFixes #651\n\nSigned-off-by: azerr <azerr@redhat.com>", "commitDateTime": "2020-04-23 21:03:33", "authoredDateTime": "2020-04-21 21:05:28", "commitGitStats": [{"filePath": "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/dom/DOMElement.java", "insertions": 44, "deletions": 1, "lines": 45}, {"filePath": "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/dom/DOMNode.java", "insertions": 16, "deletions": 2, "lines": 18}, {"filePath": "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/extensions/contentmodel/participants/ContentModelCompletionParticipant.java", "insertions": 13, "deletions": 5, "lines": 18}, {"filePath": "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/extensions/contentmodel/utils/XMLGenerator.java", "insertions": 5, "deletions": 8, "lines": 13}, {"filePath": "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/services/XMLCompletions.java", "insertions": 13, "deletions": 1, "lines": 14}, {"filePath": "org.eclipse.lemminx/src/test/java/org/eclipse/lemminx/extensions/contentmodel/XMLSchemaCompletionExtensionsTest.java", "insertions": 122, "deletions": 2, "lines": 124}, {"filePath": "org.eclipse.lemminx/src/test/java/org/eclipse/lemminx/services/XMLCompletionTest.java", "insertions": 30, "deletions": 13, "lines": 43}], "commitSpoonAstDiffStats": [{"spoonFilePath": "DOMElement.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lemminx.dom.DOMElement.isOrphanEndTag(java.lang.String)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lemminx.dom.DOMElement.getOrphanEndElement(int,java.lang.String)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "DOMNode.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lemminx.dom.DOMNode.getOrphanEndElement(int,java.lang.String)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "ContentModelCompletionParticipant.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lemminx.extensions.contentmodel.participants.ContentModelCompletionParticipant.addCompletionItem(org.eclipse.lemminx.extensions.contentmodel.model.CMElementDeclaration,org.eclipse.lemminx.dom.DOMElement,java.lang.String,boolean,org.eclipse.lemminx.services.extensions.ICompletionRequest,org.eclipse.lemminx.services.extensions.ICompletionResponse,org.eclipse.lemminx.extensions.contentmodel.utils.XMLGenerator,java.util.Set)", "TOT": 4, "UPD": 3, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lemminx.extensions.contentmodel.participants.ContentModelCompletionParticipant.isGenerateEndTag(org.eclipse.lemminx.dom.DOMNode,int,java.lang.String)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLGenerator.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lemminx.extensions.contentmodel.utils.XMLGenerator.generate(org.eclipse.lemminx.extensions.contentmodel.model.CMElementDeclaration)", "TOT": 5, "UPD": 2, "INS": 0, "MOV": 2, "DEL": 1}, {"spoonMethodName": "org.eclipse.lemminx.extensions.contentmodel.utils.XMLGenerator.generate(org.eclipse.lemminx.extensions.contentmodel.model.CMElementDeclaration,java.lang.String)", "TOT": 8, "UPD": 0, "INS": 0, "MOV": 7, "DEL": 1}, {"spoonMethodName": "org.eclipse.lemminx.extensions.contentmodel.utils.XMLGenerator.generate(org.eclipse.lemminx.extensions.contentmodel.model.CMElementDeclaration,java.lang.String,int,int,org.eclipse.lemminx.utils.XMLBuilder,java.util.List)", "TOT": 3, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 3}, {"spoonMethodName": "org.eclipse.lemminx.extensions.contentmodel.utils.XMLGenerator.generate(org.eclipse.lemminx.extensions.contentmodel.model.CMElementDeclaration,java.lang.String,boolean)", "TOT": 2, "UPD": 0, "INS": 2, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lemminx.extensions.contentmodel.utils.XMLGenerator.generate(org.eclipse.lemminx.extensions.contentmodel.model.CMElementDeclaration,java.lang.String,boolean,int,int,org.eclipse.lemminx.utils.XMLBuilder,java.util.List)", "TOT": 6, "UPD": 0, "INS": 6, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLCompletions.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lemminx.services.XMLCompletions.isGenerateEndTag(org.eclipse.lemminx.services.CompletionRequest,java.lang.String)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lemminx.services.XMLCompletions.collectOpenTagSuggestions(boolean,org.eclipse.lsp4j.Range,org.eclipse.lemminx.services.CompletionRequest,org.eclipse.lemminx.services.CompletionResponse)", "TOT": 2, "UPD": 0, "INS": 1, "MOV": 1, "DEL": 0}]}, {"spoonFilePath": "XMLSchemaCompletionExtensionsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lemminx.extensions.contentmodel.XMLSchemaCompletionExtensionsTest.generateOnlyStartElementOnText()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lemminx.extensions.contentmodel.XMLSchemaCompletionExtensionsTest.generateOnlyStartElementOnElement()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLCompletionTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lemminx.services.XMLCompletionTest.completionBasedOnParent()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["d0a94fd0a9a588450e63f9c2b622c90b0b09b743"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 91, "deletions": 17, "lines": 108, "gitFilesChange": 5}, "spoonStatsSummary": {"TOT": 35, "UPD": 5, "INS": 15, "MOV": 10, "DEL": 5, "spoonFilesChanged": 5, "spoonMethodsChanged": 12}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/extensions/contentmodel/utils", "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/extensions/contentmodel/participants", "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/dom", "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/services"], "changesInPackagesSPOON": ["org.eclipse.lemminx.dom.DOMNode.getOrphanEndElement(int,java.lang.String)", "org.eclipse.lemminx.services.XMLCompletions.isGenerateEndTag(org.eclipse.lemminx.services.CompletionRequest,java.lang.String)", "org.eclipse.lemminx.dom.DOMElement.isOrphanEndTag(java.lang.String)", "org.eclipse.lemminx.extensions.contentmodel.utils.XMLGenerator.generate(org.eclipse.lemminx.extensions.contentmodel.model.CMElementDeclaration,java.lang.String,boolean)", "org.eclipse.lemminx.extensions.contentmodel.utils.XMLGenerator.generate(org.eclipse.lemminx.extensions.contentmodel.model.CMElementDeclaration,java.lang.String,boolean,int,int,org.eclipse.lemminx.utils.XMLBuilder,java.util.List)", "org.eclipse.lemminx.extensions.contentmodel.participants.ContentModelCompletionParticipant.isGenerateEndTag(org.eclipse.lemminx.dom.DOMNode,int,java.lang.String)", "org.eclipse.lemminx.extensions.contentmodel.utils.XMLGenerator.generate(org.eclipse.lemminx.extensions.contentmodel.model.CMElementDeclaration)", "org.eclipse.lemminx.services.XMLCompletions.collectOpenTagSuggestions(boolean,org.eclipse.lsp4j.Range,org.eclipse.lemminx.services.CompletionRequest,org.eclipse.lemminx.services.CompletionResponse)", "org.eclipse.lemminx.extensions.contentmodel.utils.XMLGenerator.generate(org.eclipse.lemminx.extensions.contentmodel.model.CMElementDeclaration,java.lang.String,int,int,org.eclipse.lemminx.utils.XMLBuilder,java.util.List)", "org.eclipse.lemminx.extensions.contentmodel.utils.XMLGenerator.generate(org.eclipse.lemminx.extensions.contentmodel.model.CMElementDeclaration,java.lang.String)", "org.eclipse.lemminx.dom.DOMElement.getOrphanEndElement(int,java.lang.String)", "org.eclipse.lemminx.extensions.contentmodel.participants.ContentModelCompletionParticipant.addCompletionItem(org.eclipse.lemminx.extensions.contentmodel.model.CMElementDeclaration,org.eclipse.lemminx.dom.DOMElement,java.lang.String,boolean,org.eclipse.lemminx.services.extensions.ICompletionRequest,org.eclipse.lemminx.services.extensions.ICompletionResponse,org.eclipse.lemminx.extensions.contentmodel.utils.XMLGenerator,java.util.Set)"]}, {"title": "Quickfix to close open tag doesn't deal with attributes", "body": "Try to apply any of the proposed quickfixes to \r\n```xml\r\n<foo>\r\n  <bar action=\"toot\" /\r\n</foo>\r\n```\r\n![Apr-20-2020 16-59-03](https://user-images.githubusercontent.com/148698/79766673-96ca6b00-8328-11ea-9690-b416d3c3456e.gif)\r\n\r\n\r\nNone generate proper code. I reckon it might be tricky to fix though\r\n\r\n", "url": "https://github.com/eclipse/lemminx/issues/646", "user": "fbricon", "labels": ["bug", "code action"], "created": "2020-04-20 15:03:12", "closed": "2020-06-05 14:33:19", "commits": {"5082892530a27f4a101035c436b318ea905628a5": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}}, "ttf": 45.000277777777775, "commitsDetails": [{"commitHash": "5082892530a27f4a101035c436b318ea905628a5", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": ["b7be86b5ee8fb0a24f30094ae7f3b2dc53a2de81"], "nameRev": "5082892530a27f4a101035c436b318ea905628a5 tags/0.12.0~9", "commitMessage": "Quickfix to close open tag doesn't deal with attributes\n\nFixes #646\n\nSigned-off-by: azerr <azerr@redhat.com>", "commitDateTime": "2020-06-05 16:33:18", "authoredDateTime": "2020-06-02 19:52:54", "commitGitStats": [{"filePath": "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/extensions/contentmodel/participants/XMLSyntaxErrorCode.java", "insertions": 49, "deletions": 11, "lines": 60}, {"filePath": "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/extensions/contentmodel/participants/codeactions/CloseStartTagCodeAction.java", "insertions": 152, "deletions": 0, "lines": 152}, {"filePath": "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/extensions/contentmodel/participants/codeactions/ETagRequiredCodeAction.java", "insertions": 2, "deletions": 19, "lines": 21}, {"filePath": "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/extensions/contentmodel/participants/codeactions/ElementUnterminatedCodeAction.java", "insertions": 1, "deletions": 48, "lines": 49}, {"filePath": "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/extensions/contentmodel/participants/codeactions/MarkupEntityMismatchCodeAction.java", "insertions": 1, "deletions": 67, "lines": 68}, {"filePath": "org.eclipse.lemminx/src/test/java/org/eclipse/lemminx/extensions/contentmodel/XMLSyntaxDiagnosticsTest.java", "insertions": 207, "deletions": 67, "lines": 274}], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": "tooManyChanges"}], "filteredCommits": ["5082892530a27f4a101035c436b318ea905628a5"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 205, "deletions": 145, "lines": 350, "gitFilesChange": 5}, "spoonStatsSummary": {}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/extensions/contentmodel/participants"]}, {"title": "Fix error range for `cvc-complex-type.2.2`", "body": "Download  XML Schema https://github.com/redhat-developer/vscode-xml/files/4029276/AUTOSAR_00048.zip\r\n\r\nWrite xml like this:\r\n\r\n```xml\r\n<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\r\n<AUTOSAR xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://autosar.org/schema/r4.0\" xsi:schemaLocation=\"http://autosar.org/schema/r4.0 AUTOSAR_00047.xsd\">\r\n  <AR-PACKAGES>\r\n    <AR-PACKAGE>\r\n      <SHORT-NAME>aubist</SHORT-NAME>\r\n      <AR-PACKAGES>\r\n        <AR-PACKAGE>\r\n          <SHORT-NAME>ara</SHORT-NAME>\r\n          <ELEMENTS>\r\n            <SOFTWARE-PACKAGE>\r\n              <SHORT-NAME>test</SHORT-NAME>\r\n              <ACTION-TYPE>XXXX</ACTION-TYPE>\r\n            </SOFTWARE-PACKAGE>\r\n```\r\n\r\nYou will see that:\r\n\r\n![image](https://user-images.githubusercontent.com/1932211/79038992-388de180-7bde-11ea-8681-bcfb93c2798d.png)\r\n\r\nAlthough `<ACTION_TYPE>`  should be highlighted as error.", "url": "https://github.com/eclipse/lemminx/issues/631", "user": "angelozerr", "labels": ["bug", "good first issue", "validation"], "created": "2020-04-11 08:22:14", "closed": "2020-05-25 20:08:25", "commits": {"4d9309dfa3ec6c111163a9d9b05027e62d45a8e7": {"commitGHEventType": "referenced", "commitUser": "fbricon"}}, "ttf": 44.000277777777775, "commitsDetails": [{"commitHash": "4d9309dfa3ec6c111163a9d9b05027e62d45a8e7", "commitGHEventType": "referenced", "commitUser": "fbricon", "commitParents": ["9a5bf7df2b964f70f90898756638a7ca68bd6866"], "nameRev": "4d9309dfa3ec6c111163a9d9b05027e62d45a8e7 tags/0.12.0~31", "commitMessage": "Correct highlight range for `cvc-complex-type.2.2`\n\nThe opening tag for the node is now underlined and reports the issue. Fixes #631.\n\nSigned-off-by: David Thompson <davthomp@redhat.com>\n", "commitDateTime": "2020-05-25 22:08:24", "authoredDateTime": "2020-05-21 16:32:14", "commitGitStats": [{"filePath": "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/extensions/contentmodel/participants/XMLSchemaErrorCode.java", "insertions": 2, "deletions": 0, "lines": 2}, {"filePath": "org.eclipse.lemminx/src/test/java/org/eclipse/lemminx/extensions/contentmodel/XMLSchemaDiagnosticsTest.java", "insertions": 25, "deletions": 1, "lines": 26}, {"filePath": "org.eclipse.lemminx/src/test/resources/xsd/namedInteger.xsd", "insertions": 19, "deletions": 0, "lines": 19}], "commitSpoonAstDiffStats": [{"spoonFilePath": "XMLSchemaErrorCode.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lemminx.extensions.contentmodel.participants.XMLSchemaErrorCode", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lemminx.extensions.contentmodel.participants.XMLSchemaErrorCode.toLSPRange(org.apache.xerces.xni.XMLLocator,org.eclipse.lemminx.extensions.contentmodel.participants.XMLSchemaErrorCode,java.lang.Object[],org.eclipse.lemminx.dom.DOMDocument)", "TOT": 3, "UPD": 0, "INS": 2, "MOV": 1, "DEL": 0}]}, {"spoonFilePath": "XMLSchemaDiagnosticsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lemminx.extensions.contentmodel.XMLSchemaDiagnosticsTest.cvc_complex_type_2_2_withElement()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lemminx.extensions.contentmodel.XMLSchemaDiagnosticsTest.cvc_complex_type_2_2_withText()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["4d9309dfa3ec6c111163a9d9b05027e62d45a8e7"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 2, "deletions": 0, "lines": 2, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 4, "UPD": 0, "INS": 3, "MOV": 1, "DEL": 0, "spoonFilesChanged": 1, "spoonMethodsChanged": 2}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/extensions/contentmodel/participants"], "changesInPackagesSPOON": ["org.eclipse.lemminx.extensions.contentmodel.participants.XMLSchemaErrorCode.toLSPRange(org.apache.xerces.xni.XMLLocator,org.eclipse.lemminx.extensions.contentmodel.participants.XMLSchemaErrorCode,java.lang.Object[],org.eclipse.lemminx.dom.DOMDocument)", "org.eclipse.lemminx.extensions.contentmodel.participants.XMLSchemaErrorCode"]}, {"title": "NPE with TypeDefinition", "body": "Download  XML Schema https://github.com/redhat-developer/vscode-xml/files/4029276/AUTOSAR_00048.zip\r\n\r\nWrite xml like this:\r\n\r\n```xml\r\n<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\r\n<AUTOSAR xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://autosar.org/schema/r4.0\" xsi:schemaLocation=\"http://autosar.org/schema/r4.0 AUTOSAR_00048.xsd\">\r\n  <AR-PACKAGES>\r\n\r\n```\r\n\r\nWhen you do find type definition is done for AR-PACKAGES, you will have this NPE:\r\n\r\n```\r\n[Error - 10:35:25] Request textDocument/typeDefinition failed.\r\n  Message: Internal error.\r\n  Code: -32603 \r\njava.util.concurrent.CompletionException: java.lang.NullPointerException\r\n\tat java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:273)\r\n\tat java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:280)\r\n\tat java.util.concurrent.CompletableFuture.biApply(CompletableFuture.java:1107)\r\n\tat java.util.concurrent.CompletableFuture$BiApply.tryFire(CompletableFuture.java:1070)\r\n\tat java.util.concurrent.CompletableFuture$Completion.exec(CompletableFuture.java:443)\r\n\tat java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)\r\n\tat java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)\r\n\tat java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)\r\n\tat java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)\r\nCaused by: java.lang.NullPointerException\r\n\tat org.eclipse.lemminx.extensions.xsd.contentmodel.CMXSDDocument.getComplexTypeOffset(CMXSDDocument.java:472)\r\n\tat org.eclipse.lemminx.extensions.xsd.contentmodel.CMXSDDocument.findLocalXSElement(CMXSDDocument.java:430)\r\n\tat org.eclipse.lemminx.extensions.xsd.contentmodel.CMXSDDocument.findTypeLocation(CMXSDDocument.java:295)\r\n\tat org.eclipse.lemminx.extensions.contentmodel.participants.ContentModelTypeDefinitionParticipant.doFindTypeDefinition(ContentModelTypeDefinitionParticipant.java:57)\r\n\tat org.eclipse.lemminx.services.extensions.AbstractTypeDefinitionParticipant.findTypeDefinition(AbstractTypeDefinitionParticipant.java:35)\r\n\tat org.eclipse.lemminx.services.XMLTypeDefinition.findTypeDefinition(XMLTypeDefinition.java:54)\r\n\tat org.eclipse.lemminx.services.XMLLanguageService.findTypeDefinition(XMLLanguageService.java:233)\r\n\tat org.eclipse.lemminx.XMLTextDocumentService.lambda$typeDefinition$15(XMLTextDocumentService.java:324)\r\n\tat java.util.concurrent.CompletableFuture.biApply(CompletableFuture.java:1105)\r\n\t... 6 more\r\n```", "url": "https://github.com/eclipse/lemminx/issues/629", "user": "angelozerr", "labels": ["CM Extension", "bug"], "created": "2020-04-11 07:56:37", "closed": "2020-06-10 15:46:20", "commits": {"e564c60c9781e6f26779dfc4384fc0be51a36a22": {"commitGHEventType": "referenced", "commitUser": "xorye"}}, "ttf": 60.000277777777775, "commitsDetails": [{"commitHash": "e564c60c9781e6f26779dfc4384fc0be51a36a22", "commitGHEventType": "referenced", "commitUser": "xorye", "commitParents": ["befdda084296566a10484d31efd1666dc90ae5ed"], "nameRev": "e564c60c9781e6f26779dfc4384fc0be51a36a22 tags/0.12.0~4", "commitMessage": "NPE with TypeDefinition\n\nFixes #629\n\nSigned-off-by: azerr <azerr@redhat.com>", "commitDateTime": "2020-06-10 11:46:19", "authoredDateTime": "2020-06-05 16:38:14", "commitGitStats": [{"filePath": "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/extensions/dtd/participants/DTDDefinitionParticipant.java", "insertions": 3, "deletions": 1, "lines": 4}, {"filePath": "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/extensions/xsd/contentmodel/CMXSDContentModelProvider.java", "insertions": 4, "deletions": 15, "lines": 19}, {"filePath": "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/extensions/xsd/contentmodel/CMXSDDocument.java", "insertions": 137, "deletions": 17, "lines": 154}, {"filePath": "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/extensions/xsd/participants/XSDDocumentLinkParticipant.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/extensions/xsd/utils/XSDUtils.java", "insertions": 11, "deletions": 12, "lines": 23}, {"filePath": "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/utils/XMLPositionUtility.java", "insertions": 6, "deletions": 7, "lines": 13}, {"filePath": "org.eclipse.lemminx/src/test/java/org/eclipse/lemminx/extensions/contentmodel/XMLSchemaTypeDefinitionExtensionsTest.java", "insertions": 30, "deletions": 0, "lines": 30}, {"filePath": "org.eclipse.lemminx/src/test/resources/xml/Format.xml", "insertions": 31, "deletions": 0, "lines": 31}], "commitSpoonAstDiffStats": [{"spoonFilePath": "DTDDefinitionParticipant.java", "spoonMethods": []}, {"spoonFilePath": "CMXSDContentModelProvider.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lemminx.extensions.xsd.contentmodel.CMXSDContentModelProvider.getSynchLoader()", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lemminx.extensions.xsd.contentmodel.CMXSDContentModelProvider", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}, {"spoonMethodName": "org.eclipse.lemminx.extensions.xsd.contentmodel.CMXSDContentModelProvider.getLoader()", "TOT": 2, "UPD": 0, "INS": 0, "MOV": 1, "DEL": 1}, {"spoonMethodName": "org.eclipse.lemminx.extensions.xsd.contentmodel.CMXSDContentModelProvider.createCMDocument(java.lang.String)", "TOT": 4, "UPD": 0, "INS": 3, "MOV": 1, "DEL": 0}]}, {"spoonFilePath": "CMXSDDocument.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lemminx.extensions.xsd.contentmodel.CMXSDDocument.findTypeLocation(org.eclipse.lemminx.dom.DOMNode)", "TOT": 14, "UPD": 0, "INS": 8, "MOV": 5, "DEL": 1}, {"spoonMethodName": "org.eclipse.lemminx.extensions.xsd.contentmodel.CMXSDDocument.findXSElement(org.eclipse.lemminx.dom.DOMElement,org.w3c.dom.NodeList,boolean)", "TOT": 17, "UPD": 0, "INS": 6, "MOV": 9, "DEL": 2}, {"spoonMethodName": "org.eclipse.lemminx.extensions.xsd.contentmodel.CMXSDDocument", "TOT": 3, "UPD": 0, "INS": 3, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lemminx.extensions.xsd.contentmodel.CMXSDDocument.findLocalMappedXercesElement(org.apache.xerces.xs.XSElementDeclaration,org.apache.xerces.impl.xs.XSLoaderImpl)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lemminx.extensions.xsd.contentmodel.CMXSDDocument.findLocalXSElement(org.eclipse.lemminx.dom.DOMElement,org.eclipse.lemminx.dom.DOMDocument,int)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lemminx.extensions.xsd.contentmodel.CMXSDDocument.getXSElementDeclIndex(org.apache.xerces.xs.XSElementDeclaration,org.apache.xerces.impl.xs.XSParticleDecl[])", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lemminx.extensions.xsd.contentmodel.CMXSDDocument.findXSElement(org.eclipse.lemminx.dom.DOMElement,org.w3c.dom.Element)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XSDDocumentLinkParticipant.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lemminx.extensions.xsd.participants.XSDDocumentLinkParticipant.findDocumentLinks(org.eclipse.lemminx.dom.DOMDocument,java.util.List)", "TOT": 2, "UPD": 0, "INS": 0, "MOV": 1, "DEL": 1}]}, {"spoonFilePath": "XSDUtils.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lemminx.extensions.xsd.utils.XSDUtils.isXSImport(org.w3c.dom.Element)", "TOT": 6, "UPD": 2, "INS": 1, "MOV": 2, "DEL": 1}, {"spoonMethodName": "org.eclipse.lemminx.extensions.xsd.utils.XSDUtils.isXSComplexType(org.w3c.dom.Element)", "TOT": 2, "UPD": 0, "INS": 1, "MOV": 1, "DEL": 0}, {"spoonMethodName": "org.eclipse.lemminx.extensions.xsd.utils.XSDUtils.isXSSimpleType(org.w3c.dom.Element)", "TOT": 2, "UPD": 0, "INS": 1, "MOV": 1, "DEL": 0}, {"spoonMethodName": "org.eclipse.lemminx.extensions.xsd.utils.XSDUtils.isXSElement(org.w3c.dom.Element)", "TOT": 2, "UPD": 0, "INS": 1, "MOV": 1, "DEL": 0}, {"spoonMethodName": "org.eclipse.lemminx.extensions.xsd.utils.XSDUtils.isXSGroup(org.w3c.dom.Element)", "TOT": 2, "UPD": 0, "INS": 1, "MOV": 1, "DEL": 0}, {"spoonMethodName": "org.eclipse.lemminx.extensions.xsd.utils.XSDUtils.isXSInclude(org.w3c.dom.Element)", "TOT": 2, "UPD": 0, "INS": 1, "MOV": 1, "DEL": 0}, {"spoonMethodName": "org.eclipse.lemminx.extensions.xsd.utils.XSDUtils.isXSAttribute(org.eclipse.lemminx.dom.DOMElement)", "TOT": 2, "UPD": 0, "INS": 1, "MOV": 1, "DEL": 0}, {"spoonMethodName": "org.eclipse.lemminx.extensions.xsd.utils.XSDUtils.isXSSchema(org.w3c.dom.Element)", "TOT": 2, "UPD": 0, "INS": 1, "MOV": 1, "DEL": 0}]}, {"spoonFilePath": "XMLPositionUtility.java", "spoonMethods": []}, {"spoonFilePath": "XMLSchemaTypeDefinitionExtensionsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lemminx.extensions.contentmodel.XMLSchemaTypeDefinitionExtensionsTest.localXSElementOutsideXSComplexType()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["e564c60c9781e6f26779dfc4384fc0be51a36a22"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 162, "deletions": 53, "lines": 215, "gitFilesChange": 6}, "spoonStatsSummary": {"TOT": 68, "UPD": 3, "INS": 32, "MOV": 26, "DEL": 7, "spoonFilesChanged": 4, "spoonMethodsChanged": 20}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/extensions/xsd/contentmodel", "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/utils", "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/extensions/xsd/utils", "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/extensions/xsd/participants", "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/extensions/dtd/participants"], "changesInPackagesSPOON": ["org.eclipse.lemminx.extensions.xsd.contentmodel.CMXSDContentModelProvider.createCMDocument(java.lang.String)", "org.eclipse.lemminx.extensions.xsd.contentmodel.CMXSDDocument.findLocalMappedXercesElement(org.apache.xerces.xs.XSElementDeclaration,org.apache.xerces.impl.xs.XSLoaderImpl)", "org.eclipse.lemminx.extensions.xsd.utils.XSDUtils.isXSInclude(org.w3c.dom.Element)", "org.eclipse.lemminx.extensions.xsd.contentmodel.CMXSDContentModelProvider", "org.eclipse.lemminx.extensions.xsd.contentmodel.CMXSDDocument.findLocalXSElement(org.eclipse.lemminx.dom.DOMElement,org.eclipse.lemminx.dom.DOMDocument,int)", "org.eclipse.lemminx.extensions.xsd.contentmodel.CMXSDDocument", "org.eclipse.lemminx.extensions.xsd.utils.XSDUtils.isXSElement(org.w3c.dom.Element)", "org.eclipse.lemminx.extensions.xsd.utils.XSDUtils.isXSSimpleType(org.w3c.dom.Element)", "org.eclipse.lemminx.extensions.xsd.contentmodel.CMXSDDocument.findTypeLocation(org.eclipse.lemminx.dom.DOMNode)", "org.eclipse.lemminx.extensions.xsd.utils.XSDUtils.isXSAttribute(org.eclipse.lemminx.dom.DOMElement)", "org.eclipse.lemminx.extensions.xsd.contentmodel.CMXSDContentModelProvider.getLoader()", "org.eclipse.lemminx.extensions.xsd.utils.XSDUtils.isXSComplexType(org.w3c.dom.Element)", "org.eclipse.lemminx.extensions.xsd.contentmodel.CMXSDContentModelProvider.getSynchLoader()", "org.eclipse.lemminx.extensions.xsd.utils.XSDUtils.isXSGroup(org.w3c.dom.Element)", "org.eclipse.lemminx.extensions.xsd.utils.XSDUtils.isXSImport(org.w3c.dom.Element)", "org.eclipse.lemminx.extensions.xsd.contentmodel.CMXSDDocument.findXSElement(org.eclipse.lemminx.dom.DOMElement,org.w3c.dom.Element)", "org.eclipse.lemminx.extensions.xsd.contentmodel.CMXSDDocument.findXSElement(org.eclipse.lemminx.dom.DOMElement,org.w3c.dom.NodeList,boolean)", "org.eclipse.lemminx.extensions.xsd.participants.XSDDocumentLinkParticipant.findDocumentLinks(org.eclipse.lemminx.dom.DOMDocument,java.util.List)", "org.eclipse.lemminx.extensions.xsd.contentmodel.CMXSDDocument.getXSElementDeclIndex(org.apache.xerces.xs.XSElementDeclaration,org.apache.xerces.impl.xs.XSParticleDecl[])", "org.eclipse.lemminx.extensions.xsd.utils.XSDUtils.isXSSchema(org.w3c.dom.Element)"]}, {"title": "NPE when typing <?", "body": "After typing <?, the server throws an NPE during validation:\r\n\r\n```\r\nMessage: Unexpected XMLValidator error\r\njava.lang.NullPointerException\r\n\tat org.eclipse.lsp4xml.utils.XMLPositionUtility.selectStartTagName(XMLPositionUtility.java:296)\r\n\tat org.eclipse.lsp4xml.utils.XMLPositionUtility.selectStartTagName(XMLPositionUtility.java:270)\r\n\tat org.eclipse.lsp4xml.utils.XMLPositionUtility.selectRootStartTag(XMLPositionUtility.java:250)\r\n\tat org.eclipse.lsp4xml.extensions.contentmodel.participants.XMLSyntaxErrorCode.toLSPRange(XMLSyntaxErrorCode.java:182)\r\n\tat org.eclipse.lsp4xml.extensions.contentmodel.participants.diagnostics.LSPErrorReporterForXML.toLSPRange(LSPErrorReporterForXML.java:50)\r\n\tat org.eclipse.lsp4xml.services.extensions.diagnostics.AbstractLSPErrorReporter.internalToLSPRange(AbstractLSPErrorReporter.java:139)\r\n\tat org.eclipse.lsp4xml.services.extensions.diagnostics.AbstractLSPErrorReporter.reportError(AbstractLSPErrorReporter.java:80)\r\n\tat org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)\r\n\tat org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)\r\n\tat org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)\r\n\tat org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.endEntity(Unknown Source)\r\n\tat org.apache.xerces.impl.XMLDocumentScannerImpl.endEntity(Unknown Source)\r\n\tat org.apache.xerces.impl.XMLEntityManager.endEntity(Unknown Source)\r\n\tat org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)\r\n\tat org.apache.xerces.impl.XMLEntityScanner.scanNCName(Unknown Source)\r\n\tat org.apache.xerces.impl.XMLScanner.scanPI(Unknown Source)\r\n\tat org.apache.xerces.impl.XMLDocumentScannerImpl$PrologDispatcher.dispatch(Unknown Source)\r\n\tat org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)\r\n\tat org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\r\n\tat org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\r\n\tat org.apache.xerces.parsers.XMLParser.parse(Unknown Source)\r\n\tat org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)\r\n\tat org.eclipse.lsp4xml.extensions.contentmodel.participants.diagnostics.XMLValidator.doDiagnostics(XMLValidator.java:111)\r\n\tat org.eclipse.lsp4xml.extensions.contentmodel.participants.diagnostics.ContentModelDiagnosticsParticipant.doDiagnostics(ContentModelDiagnosticsParticipant.java:46)\r\n\tat org.eclipse.lsp4xml.services.XMLDiagnostics.doExtensionsDiagnostics(XMLDiagnostics.java:83)\r\n\tat org.eclipse.lsp4xml.services.XMLDiagnostics.doDiagnostics(XMLDiagnostics.java:51)\r\n\tat org.eclipse.lsp4xml.services.XMLLanguageService.doDiagnostics(XMLLanguageService.java:151)\r\n\tat org.eclipse.lsp4xml.services.XMLLanguageService.publishDiagnostics(XMLLanguageService.java:160)\r\n\tat org.eclipse.lsp4xml.XMLTextDocumentService.validate(XMLTextDocumentService.java:434)\r\n\tat org.eclipse.lsp4xml.XMLTextDocumentService.lambda$triggerValidationFor$23(XMLTextDocumentService.java:427)\r\n\tat java.base/java.util.concurrent.CompletableFuture$UniAccept.tryFire(CompletableFuture.java:714)\r\n\tat java.base/java.util.concurrent.CompletableFuture$Completion.exec(CompletableFuture.java:479)\r\n\tat java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:290)\r\n\tat java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1016)\r\n\tat java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1665)\r\n\tat java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1598)\r\n\tat java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:177)\r\n\r\n```", "url": "https://github.com/eclipse/lemminx/issues/614", "user": "fbricon", "labels": ["bug", "validation"], "created": "2020-03-05 09:35:37", "closed": "2020-03-09 18:58:07", "commits": {"60d7b64060829f6f74e44d6d383994f135313c38": {"commitGHEventType": "referenced", "commitUser": "fbricon"}}, "ttf": 4.000277777777778, "commitsDetails": [{"commitHash": "60d7b64060829f6f74e44d6d383994f135313c38", "commitGHEventType": "referenced", "commitUser": "fbricon", "commitParents": ["b8bd96d20695ab1b44bcc2fba9eb89a71d1bc336"], "nameRev": "60d7b64060829f6f74e44d6d383994f135313c38 tags/0.11.0~16", "commitMessage": "NPE when typing <?\n\nFixes #614\n\nSigned-off-by: azerr <azerr@redhat.com>", "commitDateTime": "2020-03-09 19:58:05", "authoredDateTime": "2020-03-09 08:17:46", "commitGitStats": [{"filePath": "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/utils/XMLPositionUtility.java", "insertions": 14, "deletions": 0, "lines": 14}, {"filePath": "org.eclipse.lemminx/src/test/java/org/eclipse/lemminx/extensions/contentmodel/XMLSyntaxDiagnosticsTest.java", "insertions": 8, "deletions": 0, "lines": 8}], "commitSpoonAstDiffStats": [{"spoonFilePath": "XMLPositionUtility.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lemminx.utils.XMLPositionUtility.selectRootStartTag(org.eclipse.lemminx.dom.DOMDocument)", "TOT": 2, "UPD": 0, "INS": 2, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLSyntaxDiagnosticsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lemminx.extensions.contentmodel.XMLSyntaxDiagnosticsTest.testMarkupEntityMismatch3()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["60d7b64060829f6f74e44d6d383994f135313c38"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 14, "deletions": 0, "lines": 14, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 2, "UPD": 0, "INS": 2, "MOV": 0, "DEL": 0, "spoonFilesChanged": 1, "spoonMethodsChanged": 1}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/utils"], "changesInPackagesSPOON": ["org.eclipse.lemminx.utils.XMLPositionUtility.selectRootStartTag(org.eclipse.lemminx.dom.DOMDocument)"]}, {"title": "NPE when document contains an empty tag", "body": "Trying to complete\r\n```\r\n<project xmlns=\"http://maven.apache.org/POM/4.0.0\"\r\n\txsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"\r\n\txmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\">\r\n\t<modelVersion>4.0.0</modelVersion>\r\n\r\n\t<groupId>org.test</groupId>\r\n\t<artifactId>test</artifactId>\r\n\t<version>0.0.1-SNAPSHOT</version>\r\n\t<packaging>pom</packaging>\r\n\t\r\n\t<build>\r\n\t\t<plugins>\r\n\t\t\t<plugin>\r\n\t\t\t\t<groupId>org.apache.maven.plugins</groupId>\r\n\t\t\t\t<artifactId>maven-dependency-plugin</artifactId>\r\n\t\t\t\t<version>3.1.1</version>\r\n\t\t\t\t<executions>\r\n\t\t\t\t\t<execution>\r\n\t\t\t\t\t\t<goals><goal>list</goal></goals>\r\n\t\t\t\t\t\t<configuration>\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t</configuration>\r\n\t\t\t\t\t</execution>\r\n\t\t\t\t</executions>\r\n\t\t\t</plugin>\r\n\t\t</plugins>\r\n\t</build>\r\n</project>\r\n```\r\nin the empty tag inside `configuration`, I get\r\n```\r\nSEVERE: While performing ICompletionParticipant#onTagOpen\r\njava.lang.IllegalArgumentException: Property must not be null: label\r\n\tat org.eclipse.lsp4j.util.Preconditions.checkNotNull(Preconditions.java:29)\r\n\tat org.eclipse.lsp4j.CompletionItem.<init>(CompletionItem.java:136)\r\n\tat org.eclipse.lsp4xml.extensions.contentmodel.participants.ContentModelCompletionParticipant.addTagName(ContentModelCompletionParticipant.java:204)\r\n\tat org.eclipse.lsp4xml.extensions.contentmodel.participants.ContentModelCompletionParticipant.addTagName(ContentModelCompletionParticipant.java:212)\r\n\tat org.eclipse.lsp4xml.extensions.contentmodel.participants.ContentModelCompletionParticipant.addTagName(ContentModelCompletionParticipant.java:212)\r\n\tat org.eclipse.lsp4xml.extensions.contentmodel.participants.ContentModelCompletionParticipant.addTagName(ContentModelCompletionParticipant.java:212)\r\n\tat org.eclipse.lsp4xml.extensions.contentmodel.participants.ContentModelCompletionParticipant.addTagName(ContentModelCompletionParticipant.java:212)\r\n\tat org.eclipse.lsp4xml.extensions.contentmodel.participants.ContentModelCompletionParticipant.addTagName(ContentModelCompletionParticipant.java:212)\r\n\tat org.eclipse.lsp4xml.extensions.contentmodel.participants.ContentModelCompletionParticipant.addTagName(ContentModelCompletionParticipant.java:212)\r\n\tat org.eclipse.lsp4xml.extensions.contentmodel.participants.ContentModelCompletionParticipant.addTagName(ContentModelCompletionParticipant.java:212)\r\n\tat org.eclipse.lsp4xml.extensions.contentmodel.participants.ContentModelCompletionParticipant.fillWithChildrenElementDeclaration(ContentModelCompletionParticipant.java:167)\r\n\tat org.eclipse.lsp4xml.extensions.contentmodel.participants.ContentModelCompletionParticipant.fillWithPossibleElementDeclaration(ContentModelCompletionParticipant.java:134)\r\n\tat org.eclipse.lsp4xml.extensions.contentmodel.participants.ContentModelCompletionParticipant.onTagOpen(ContentModelCompletionParticipant.java:74)\r\n\tat org.eclipse.lsp4xml.services.XMLCompletions.collectOpenTagSuggestions(XMLCompletions.java:493)\r\n\tat org.eclipse.lsp4xml.services.XMLCompletions.collectOpenTagSuggestions(XMLCompletions.java:467)\r\n\tat org.eclipse.lsp4xml.services.XMLCompletions.collectTagSuggestions(XMLCompletions.java:459)\r\n\tat org.eclipse.lsp4xml.services.XMLCompletions.doComplete(XMLCompletions.java:98)\r\n\tat org.eclipse.lsp4xml.services.XMLLanguageService.doComplete(XMLLanguageService.java:136)\r\n\tat org.eclipse.lsp4xml.XMLTextDocumentService.lambda$completion$1(XMLTextDocumentService.java:175)\r\n\tat java.base/java.util.concurrent.CompletableFuture.biApply(CompletableFuture.java:1236)\r\n\tat java.base/java.util.concurrent.CompletableFuture$BiApply.tryFire(CompletableFuture.java:1205)\r\n\tat java.base/java.util.concurrent.CompletableFuture$Completion.exec(CompletableFuture.java:479)\r\n\tat java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:290)\r\n\tat java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1020)\r\n\tat java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1656)\r\n\tat java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1594)\r\n\tat java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:177)\r\n```\r\n\r\nAs mentioned in #612, the schema proposals here don't make sense. So it's very likely that this issue disappear when #612 is fixed.\r\nHowever, it may surface in other cases, so a null-check should probably be added.", "url": "https://github.com/eclipse/lemminx/issues/613", "user": "mickaelistria", "labels": ["bug", "completion"], "created": "2020-03-05 09:28:33", "closed": "2020-03-14 07:53:12", "commits": {}, "ttf": 8.000277777777777, "commitsDetails": []}, {"title": "In Maven <configuration>, all known XML elements from schema are suggested as completion", "body": "In Maven <configuration>, all known XML elements from schema are suggested as completion.\r\nThis is typically not desired as the Maven extension can provide higher quality proposals here and the extra items are useless and generate noise reducing the usability.", "url": "https://github.com/eclipse/lemminx/issues/612", "user": "mickaelistria", "labels": ["bug", "completion"], "created": "2020-03-04 09:43:43", "closed": "2020-03-12 17:56:44", "commits": {"92256a1e1b9c5c8d1e51202271af49cf7cb8b48d": {"commitGHEventType": "referenced", "commitUser": "fbricon"}}, "ttf": 8.000277777777777, "commitsDetails": [{"commitHash": "92256a1e1b9c5c8d1e51202271af49cf7cb8b48d", "commitGHEventType": "referenced", "commitUser": "fbricon", "commitParents": ["d8556f4fab43b1c2f39b796f8e51b8ad5adedb1e"], "nameRev": "92256a1e1b9c5c8d1e51202271af49cf7cb8b48d tags/0.11.0~10", "commitMessage": "In Maven <configuration>, all known XML elements from schema are\nsuggested as completion\n\nFixes #612\n\nSigned-off-by: azerr <azerr@redhat.com>", "commitDateTime": "2020-03-12 18:56:42", "authoredDateTime": "2020-03-12 10:42:49", "commitGitStats": [{"filePath": "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/extensions/contentmodel/participants/ContentModelCompletionParticipant.java", "insertions": 2, "deletions": 1, "lines": 3}, {"filePath": "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/extensions/xsd/contentmodel/CMXSDElementDeclaration.java", "insertions": 3, "deletions": 2, "lines": 5}, {"filePath": "org.eclipse.lemminx/src/test/java/org/eclipse/lemminx/extensions/contentmodel/XMLSchemaCompletionExtensionsTest.java", "insertions": 42, "deletions": 6, "lines": 48}], "commitSpoonAstDiffStats": [{"spoonFilePath": "ContentModelCompletionParticipant.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lemminx.extensions.contentmodel.participants.ContentModelCompletionParticipant.addTagName(org.w3c.dom.NodeList,java.util.Set,org.eclipse.lemminx.services.extensions.ICompletionRequest,org.eclipse.lemminx.services.extensions.ICompletionResponse)", "TOT": 2, "UPD": 0, "INS": 1, "MOV": 1, "DEL": 0}]}, {"spoonFilePath": "CMXSDElementDeclaration.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lemminx.extensions.xsd.contentmodel.CMXSDElementDeclaration.getXSAnyElements(java.lang.Object)", "TOT": 2, "UPD": 0, "INS": 1, "MOV": 1, "DEL": 0}]}, {"spoonFilePath": "XMLSchemaCompletionExtensionsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lemminx.extensions.contentmodel.XMLSchemaCompletionExtensionsTest.xsAnySkip()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["92256a1e1b9c5c8d1e51202271af49cf7cb8b48d"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 5, "deletions": 3, "lines": 8, "gitFilesChange": 2}, "spoonStatsSummary": {"TOT": 4, "UPD": 0, "INS": 2, "MOV": 2, "DEL": 0, "spoonFilesChanged": 2, "spoonMethodsChanged": 2}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/extensions/xsd/contentmodel", "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/extensions/contentmodel/participants"], "changesInPackagesSPOON": ["org.eclipse.lemminx.extensions.contentmodel.participants.ContentModelCompletionParticipant.addTagName(org.w3c.dom.NodeList,java.util.Set,org.eclipse.lemminx.services.extensions.ICompletionRequest,org.eclipse.lemminx.services.extensions.ICompletionResponse)", "org.eclipse.lemminx.extensions.xsd.contentmodel.CMXSDElementDeclaration.getXSAnyElements(java.lang.Object)"]}, {"title": "UTF-16 not supported", "body": "Files starting with `<?xml version=\"1.0\" encoding=\"UTF-16\"?>` show an error about invalid prolog.\r\nSee also https://github.com/eclipse/wildwebdeveloper/issues/367", "url": "https://github.com/eclipse/lemminx/issues/611", "user": "mickaelistria", "labels": ["bug", "validation"], "created": "2020-02-26 16:06:24", "closed": "2020-03-09 19:05:50", "commits": {"914d18f712e43b483e0de46a5cd10ec32ae4969d": {"commitGHEventType": "referenced", "commitUser": "fbricon"}, "8a3177f2f426fc8f2bb65ccf5f04b76929682c6a": {"commitGHEventType": "referenced", "commitUser": "fbricon"}}, "ttf": 12.000277777777777, "commitsDetails": [{"commitHash": "914d18f712e43b483e0de46a5cd10ec32ae4969d", "commitGHEventType": "referenced", "commitUser": "fbricon", "commitParents": ["60d7b64060829f6f74e44d6d383994f135313c38"], "nameRev": "914d18f712e43b483e0de46a5cd10ec32ae4969d tags/0.11.0~15", "commitMessage": "Support for UTF-16 encoding with Xerces\n\nSee https://github.com/eclipse/lemminx/issues/611\n\nSigned-off-by: azerr <azerr@redhat.com>", "commitDateTime": "2020-03-09 20:05:49", "authoredDateTime": "2020-03-09 16:56:04", "commitGitStats": [{"filePath": "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/extensions/contentmodel/participants/diagnostics/XMLValidator.java", "insertions": 10, "deletions": 11, "lines": 21}, {"filePath": "org.eclipse.lemminx/src/test/java/org/eclipse/lemminx/extensions/contentmodel/XMLSyntaxDiagnosticsTest.java", "insertions": 6, "deletions": 0, "lines": 6}], "commitSpoonAstDiffStats": [{"spoonFilePath": "XMLValidator.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lemminx.extensions.contentmodel.participants.diagnostics.XMLValidator.doDiagnostics(org.eclipse.lemminx.dom.DOMDocument,org.apache.xerces.xni.parser.XMLEntityResolver,java.util.List,org.eclipse.lemminx.extensions.contentmodel.settings.ContentModelSettings,org.apache.xerces.xni.grammars.XMLGrammarPool,org.eclipse.lsp4j.jsonrpc.CancelChecker)", "TOT": 7, "UPD": 0, "INS": 1, "MOV": 3, "DEL": 3}, {"spoonMethodName": "org.eclipse.lemminx.extensions.contentmodel.participants.diagnostics.XMLValidator.checkExternalDTD(org.eclipse.lemminx.dom.DOMDocument,org.eclipse.lemminx.extensions.contentmodel.participants.diagnostics.LSPErrorReporterForXML,org.apache.xerces.xni.parser.XMLParserConfiguration)", "TOT": 7, "UPD": 0, "INS": 1, "MOV": 4, "DEL": 2}, {"spoonMethodName": "org.eclipse.lemminx.extensions.contentmodel.participants.diagnostics.XMLValidator.parseXML(java.lang.String,java.lang.String,org.apache.xerces.parsers.SAXParser)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLSyntaxDiagnosticsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lemminx.extensions.contentmodel.XMLSyntaxDiagnosticsTest.testEncodingUTF_16()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "8a3177f2f426fc8f2bb65ccf5f04b76929682c6a", "commitGHEventType": "referenced", "commitUser": "fbricon", "commitParents": ["914d18f712e43b483e0de46a5cd10ec32ae4969d"], "nameRev": "8a3177f2f426fc8f2bb65ccf5f04b76929682c6a tags/0.11.0~14", "commitMessage": "Fix range with ContentIllegalInProlog after.\n\nSee #611\n\nSigned-off-by: azerr <azerr@redhat.com>", "commitDateTime": "2020-03-09 20:05:49", "authoredDateTime": "2020-03-09 17:06:24", "commitGitStats": [{"filePath": "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/extensions/contentmodel/participants/XMLSyntaxErrorCode.java", "insertions": 16, "deletions": 1, "lines": 17}, {"filePath": "org.eclipse.lemminx/src/test/java/org/eclipse/lemminx/extensions/contentmodel/XMLSyntaxDiagnosticsTest.java", "insertions": 25, "deletions": 1, "lines": 26}], "commitSpoonAstDiffStats": [{"spoonFilePath": "XMLSyntaxErrorCode.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lemminx.extensions.contentmodel.participants.XMLSyntaxErrorCode.toLSPRange(org.apache.xerces.xni.XMLLocator,org.eclipse.lemminx.extensions.contentmodel.participants.XMLSyntaxErrorCode,java.lang.Object[],org.eclipse.lemminx.dom.DOMDocument)", "TOT": 8, "UPD": 1, "INS": 5, "MOV": 2, "DEL": 0}]}, {"spoonFilePath": "XMLSyntaxDiagnosticsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lemminx.extensions.contentmodel.XMLSyntaxDiagnosticsTest.testContentIllegalInProlog()", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lemminx.extensions.contentmodel.XMLSyntaxDiagnosticsTest.testAfterContentIllegalInProlog()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lemminx.extensions.contentmodel.XMLSyntaxDiagnosticsTest.testAfterContentIllegalInProlog2()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["914d18f712e43b483e0de46a5cd10ec32ae4969d", "8a3177f2f426fc8f2bb65ccf5f04b76929682c6a"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 2, "gitStatsSummary": {"insertions": 26, "deletions": 12, "lines": 38, "gitFilesChange": 2}, "spoonStatsSummary": {"TOT": 23, "UPD": 1, "INS": 8, "MOV": 9, "DEL": 5, "spoonFilesChanged": 2, "spoonMethodsChanged": 4}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/extensions/contentmodel/participants"], "changesInPackagesSPOON": ["org.eclipse.lemminx.extensions.contentmodel.participants.diagnostics.XMLValidator.checkExternalDTD(org.eclipse.lemminx.dom.DOMDocument,org.eclipse.lemminx.extensions.contentmodel.participants.diagnostics.LSPErrorReporterForXML,org.apache.xerces.xni.parser.XMLParserConfiguration)", "org.eclipse.lemminx.extensions.contentmodel.participants.XMLSyntaxErrorCode.toLSPRange(org.apache.xerces.xni.XMLLocator,org.eclipse.lemminx.extensions.contentmodel.participants.XMLSyntaxErrorCode,java.lang.Object[],org.eclipse.lemminx.dom.DOMDocument)", "org.eclipse.lemminx.extensions.contentmodel.participants.diagnostics.XMLValidator.doDiagnostics(org.eclipse.lemminx.dom.DOMDocument,org.apache.xerces.xni.parser.XMLEntityResolver,java.util.List,org.eclipse.lemminx.extensions.contentmodel.settings.ContentModelSettings,org.apache.xerces.xni.grammars.XMLGrammarPool,org.eclipse.lsp4j.jsonrpc.CancelChecker)", "org.eclipse.lemminx.extensions.contentmodel.participants.diagnostics.XMLValidator.parseXML(java.lang.String,java.lang.String,org.apache.xerces.parsers.SAXParser)"]}, {"title": "Aggregate result of Hover participants", "body": "Hi,\r\n\r\nI encountered a problem when I try to implement hover feature on a extension plugin. Take WebPlugin for an example. I create a WebHoverParticipant class which extends HoverParticipantAdapter, then implement my hover feature by it. But it never works.\r\n\r\nAfter I debugging the code, I found the the reason which cause that issue.\r\norg.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/XMLHover.java\r\ngetTagHover, getAttrNameHover and getAttrValueHover methods has code like follows:\r\n\r\n`\r\n\r\nfor (IHoverParticipant participant : extensionsRegistry.getHoverParticipants()) {\r\n\r\n    try {\r\n        Hover hover = participant.onTag(hoverRequest);\r\n            if (hover != null) {\r\n                return hover;\r\n            }\r\n    } catch (Exception e) {\r\n    }\r\n}\r\n`\r\n\r\nAfter get all participants, ContentModelHoverParticipant has a higher priority. when this participant get a hover which is not null, this method will return. So the onTag method of rest of participants will not be called any more.\r\n\r\nI am wondering is that a bug? if it's not a bug, and the code was designed like this on purpose by some reason. can you explain that reason?\r\n\r\nThank you guys, hope get your reply.\r\n\r\nSeiphon ", "url": "https://github.com/eclipse/lemminx/issues/577", "user": "Seiphon", "labels": ["bug", "hover"], "created": "2019-10-18 09:20:19", "closed": "2019-10-23 14:11:50", "commits": {}, "ttf": 5.000277777777778, "commitsDetails": []}, {"title": "Test failures on Mac OS", "body": "```\r\n[ERROR] Failures:\r\n[ERROR]   XMLSchemaCompletionExtensionsTest.completionWithXMLSchemaContentChanged:396 expected:<4> but was:<5>\r\n[ERROR]   XMLSchemaCompletionExtensionsTest.xsAny:752 expected:<8> but was:<6>\r\n[ERROR]   XMLValidationPoolCacheTest.dtd:240->testDiagnosticsFor:246 Unexpected diagnostics:\r\n[] expected:<[Diagnostic [\r\n  range = Range [\r\n    start = Position [\r\n      line = 2\r\n      character = 1\r\n    ]\r\n    end = Position [\r\n      line = 2\r\n      character = 5\r\n    ]\r\n  ]\r\n  severity = null\r\n  code = \"MSG_CONTENT_INCOMPLETE\"\r\n  source = null\r\n  message = \"\"\r\n  relatedInformation = null\r\n]]> but was:<[]>\r\n[ERROR]   XMLValidationPoolCacheTest.includedSchemaLocation:139->testDiagnosticsFor:246 Unexpected diagnostics:\r\n[Diagnostic [\r\n  range = Range [\r\n    start = Position [\r\n      line = 2\r\n      character = 2\r\n    ]\r\n    end = Position [\r\n      line = 2\r\n      character = 5\r\n    ]\r\n  ]\r\n  severity = Error\r\n  code = \"cvc-complex-type.2.4.b\"\r\n  source = \"xml\"\r\n  message = \"Child elements are missing from element:\\n - Bar\\n\\nThe following elements are expected:\\n - FooBar\\n\\nError indicated by\\n {the schema}\\nwith code:\"\r\n  relatedInformation = null\r\n]] expected:<[Diagnostic [\r\n  range = Range [\r\n    start = Position [\r\n      line = 2\r\n      character = 6\r\n    ]\r\n    end = Position [\r\n      line = 4\r\n      character = 1\r\n    ]\r\n  ]\r\n  severity = null\r\n  code = \"cvc-complex-type.2.1\"\r\n  source = null\r\n  message = \"\"\r\n  relatedInformation = null\r\n]]> but was:<[Diagnostic [\r\n  range = Range [\r\n    start = Position [\r\n      line = 2\r\n      character = 2\r\n    ]\r\n    end = Position [\r\n      line = 2\r\n      character = 5\r\n    ]\r\n  ]\r\n  severity = null\r\n  code = \"cvc-complex-type.2.4.b\"\r\n  source = null\r\n  message = \"\"\r\n  relatedInformation = null\r\n]]>\r\n[INFO]\r\n[ERROR] Tests run: 802, Failures: 4, Errors: 0, Skipped: 3\r\n```", "url": "https://github.com/eclipse/lemminx/issues/574", "user": "fbricon", "labels": ["bug"], "created": "2019-10-15 17:16:22", "closed": "2019-10-17 13:18:30", "commits": {"99baf46a0e74b2b9d91640e36782c716d8ee497f": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "86bf832a2cd66f9531c457789b51a14cce36249a": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "3ffd90b2829ddbf785d31eb6e5f2ec30cdb0a634": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "98d855662f4080c2845bf6b4b3a18578934e4a37": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "69b444c2f0cb8d61c7500ae6c9172333d9ca292e": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "3e9d047d35a5b3b7b81247a481b4530ba4bf4094": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "403464c22f618983ebb02afc7b6370ed800b977d": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "97cc1e7da9cd15f0ec12173ee7ce81e70f8da225": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "20a099cfd0db315c8b670235efe6ecf1d91b38d9": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "ccdbadb2410ae873cca35c8e0ca096658fdaea71": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "967c2d7f158484f08e40d3830091f640b568e558": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "65ed4dbc8f9b4ce25f9c09d9a7b229860e25daa8": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "5f2c98c17026b0509a4dbbe218112c980d56fd5b": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "1c58c81250e316b3ae88ff08caeb94223f3cf2b7": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "0014c02b7fabc2deaae441da35412fba9a24f119": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "9a7c426cb30fd8e9e6917006c74e5a6ab2737565": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "179e3d6020873a40f6eb192a8392ec99fc57b357": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "4d8fc3f8d0d82abe71b54262039743a811e12bd2": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "df09da9d6033f8d50d5ec237fc4aea96a549a84e": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "99364f13904af6769db99245d51fb565673a9174": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "3176e2de1a969a1546450a75ec1a3ff9b97f1df5": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "cf9574a91a7ddb9c64f0f2fdc574cfcd67bd27ae": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "792eca31f0cdbada371e616993cf2986d0847519": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "15cf0d6497d03a538975518d7857bfc875a14474": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "13a577344ce9637ab44ffaf3647d63c5ac6f3e1a": {"commitGHEventType": "referenced", "commitUser": "fbricon"}}, "ttf": 1.0002777777777778, "commitsDetails": [{"commitHash": "99baf46a0e74b2b9d91640e36782c716d8ee497f", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "86bf832a2cd66f9531c457789b51a14cce36249a", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "3ffd90b2829ddbf785d31eb6e5f2ec30cdb0a634", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "98d855662f4080c2845bf6b4b3a18578934e4a37", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "69b444c2f0cb8d61c7500ae6c9172333d9ca292e", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "3e9d047d35a5b3b7b81247a481b4530ba4bf4094", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "403464c22f618983ebb02afc7b6370ed800b977d", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "97cc1e7da9cd15f0ec12173ee7ce81e70f8da225", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "20a099cfd0db315c8b670235efe6ecf1d91b38d9", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "ccdbadb2410ae873cca35c8e0ca096658fdaea71", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "967c2d7f158484f08e40d3830091f640b568e558", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "65ed4dbc8f9b4ce25f9c09d9a7b229860e25daa8", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "5f2c98c17026b0509a4dbbe218112c980d56fd5b", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "1c58c81250e316b3ae88ff08caeb94223f3cf2b7", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "0014c02b7fabc2deaae441da35412fba9a24f119", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "9a7c426cb30fd8e9e6917006c74e5a6ab2737565", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "179e3d6020873a40f6eb192a8392ec99fc57b357", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "4d8fc3f8d0d82abe71b54262039743a811e12bd2", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "df09da9d6033f8d50d5ec237fc4aea96a549a84e", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "99364f13904af6769db99245d51fb565673a9174", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "3176e2de1a969a1546450a75ec1a3ff9b97f1df5", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "cf9574a91a7ddb9c64f0f2fdc574cfcd67bd27ae", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "792eca31f0cdbada371e616993cf2986d0847519", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "15cf0d6497d03a538975518d7857bfc875a14474", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "13a577344ce9637ab44ffaf3647d63c5ac6f3e1a", "commitGHEventType": "referenced", "commitUser": "fbricon", "commitParents": ["f8a2c15d7758454eebb8234a6923622746f86e10"], "nameRev": "13a577344ce9637ab44ffaf3647d63c5ac6f3e1a tags/0.9.1~1", "commitMessage": "Wait for 1 second in test when file changed\n\nFixes #574\n\nSigned-off-by: azerr <azerr@redhat.com>", "commitDateTime": "2019-10-17 15:18:29", "authoredDateTime": "2019-10-16 08:10:53", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/model/FilesChangedTracker.java", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/extensions/contentmodel/BaseFileTempTest.java", "insertions": 27, "deletions": 6, "lines": 33}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/extensions/contentmodel/ContentModelManagerCacheTest.java", "insertions": 2, "deletions": 1, "lines": 3}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/extensions/contentmodel/XMLSchemaCompletionExtensionsTest.java", "insertions": 1, "deletions": 4, "lines": 5}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/extensions/contentmodel/XMLValidationPoolCacheTest.java", "insertions": 4, "deletions": 4, "lines": 8}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/extensions/contentmodel/model/FilesChangedTrackerTest.java", "insertions": 40, "deletions": 0, "lines": 40}], "commitSpoonAstDiffStats": [{"spoonFilePath": "FilesChangedTracker.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.model.FilesChangedTracker.FileChangedTracker.isDirty()", "TOT": 3, "UPD": 3, "INS": 0, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "BaseFileTempTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.BaseFileTempTest", "TOT": 6, "UPD": 2, "INS": 1, "MOV": 1, "DEL": 2}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.BaseFileTempTest.createFile(java.lang.String,java.lang.String)", "TOT": 10, "UPD": 5, "INS": 1, "MOV": 3, "DEL": 1}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.BaseFileTempTest.updateFile(java.lang.String,java.lang.String)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "ContentModelManagerCacheTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.ContentModelManagerCacheTest.testXSDCache()", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLSchemaCompletionExtensionsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.XMLSchemaCompletionExtensionsTest.completionWithXMLSchemaContentChanged()", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLValidationPoolCacheTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.XMLValidationPoolCacheTest.includedSchemaLocation()", "TOT": 3, "UPD": 3, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.XMLValidationPoolCacheTest.dtd()", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "FilesChangedTrackerTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.model.FilesChangedTrackerTest", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["13a577344ce9637ab44ffaf3647d63c5ac6f3e1a"], "filteredCommitsReason": {"duplicated": 24, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 3.0, "deletions": 3.0, "lines": 6.0, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 3.0, "UPD": 3.0, "INS": 0.0, "MOV": 0.0, "DEL": 0.0, "spoonFilesChanged": 1, "spoonMethodsChanged": 1}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/model"], "changesInPackagesSPOON": ["org.eclipse.lsp4xml.extensions.contentmodel.model.FilesChangedTracker.FileChangedTracker.isDirty()"]}, {"title": "Prolog completion of encoding tag leads to \"No more pseudo attributes are allowed\"", "body": "```xml\r\n<?xml version=\"1.0\" standalone=\"no\" encoding=\"UTF-8\"  ?>\r\n<foo>bar</foo>\r\n```\r\n\r\nyields:\r\n\r\n<img width=\"548\" alt=\"Screen Shot 2019-10-15 at 6 29 01 PM\" src=\"https://user-images.githubusercontent.com/148698/66850794-c82d3d00-ef79-11e9-86fc-9cc744de6c47.png\">\r\n", "url": "https://github.com/eclipse/lemminx/issues/573", "user": "fbricon", "labels": ["bug"], "created": "2019-10-15 16:31:20", "closed": "2019-11-06 20:43:14", "commits": {"082780cc5011ef1b125db859510a743bc4648765": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}}, "ttf": 22.00027777777778, "commitsDetails": [{"commitHash": "082780cc5011ef1b125db859510a743bc4648765", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": ["6e8d4f17482212f0e84369ac247fc477ce4c1952"], "nameRev": "082780cc5011ef1b125db859510a743bc4648765 tags/0.11.0~53", "commitMessage": "Prolog now completion only provides valid attributes\n\nMinor fix to NoMorePseudoAttributes error range.\n\nFixes #573\n\nSigned-off-by: Nikolas Komonen <nikolaskomonen@gmail.com>\n", "commitDateTime": "2019-11-06 21:43:13", "authoredDateTime": "2019-10-28 11:51:19", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/DOMNode.java", "insertions": 17, "deletions": 0, "lines": 17}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/participants/XMLSyntaxErrorCode.java", "insertions": 2, "deletions": 1, "lines": 3}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/prolog/PrologModel.java", "insertions": 91, "deletions": 6, "lines": 97}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/extensions/contentmodel/XMLSyntaxDiagnosticsTest.java", "insertions": 6, "deletions": 0, "lines": 6}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/extensions/prolog/PrologCompletionExtensionsTest.java", "insertions": 37, "deletions": 7, "lines": 44}], "commitSpoonAstDiffStats": [{"spoonFilePath": "DOMNode.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.dom.DOMNode.getAttributeAtIndex(int)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLSyntaxErrorCode.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.participants.XMLSyntaxErrorCode", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.participants.XMLSyntaxErrorCode.toLSPRange(org.apache.xerces.xni.XMLLocator,org.eclipse.lsp4xml.extensions.contentmodel.participants.XMLSyntaxErrorCode,java.lang.Object[],org.eclipse.lsp4xml.dom.DOMDocument)", "TOT": 3, "UPD": 0, "INS": 2, "MOV": 1, "DEL": 0}]}, {"spoonFilePath": "PrologModel.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.prolog.PrologModel.computeAttributeNameCompletionResponses(org.eclipse.lsp4xml.services.extensions.ICompletionRequest,org.eclipse.lsp4xml.services.extensions.ICompletionResponse,org.eclipse.lsp4j.Range,org.eclipse.lsp4xml.dom.DOMDocument,org.eclipse.lsp4xml.settings.XMLFormattingOptions)", "TOT": 17, "UPD": 2, "INS": 5, "MOV": 7, "DEL": 3}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.prolog.PrologModel.getAttributeCompletionPosition(int,org.eclipse.lsp4xml.dom.DOMNode)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.prolog.PrologModel.isCurrentAttributeEqual(java.lang.String,org.eclipse.lsp4xml.dom.DOMNode,int)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLSyntaxDiagnosticsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.XMLSyntaxDiagnosticsTest.testNoMorePseudoAttributes()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "PrologCompletionExtensionsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.prolog.PrologCompletionExtensionsTest.completionVersion()", "TOT": 2, "UPD": 1, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.prolog.PrologCompletionExtensionsTest.completionEncoding()", "TOT": 5, "UPD": 4, "INS": 0, "MOV": 1, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.prolog.PrologCompletionExtensionsTest.completionStandalone()", "TOT": 6, "UPD": 3, "INS": 2, "MOV": 1, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.prolog.PrologCompletionExtensionsTest.noCompletionsAfterStandalone()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.prolog.PrologCompletionExtensionsTest.completionEncodingBeforeStandalone()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.prolog.PrologCompletionExtensionsTest.testCompletionFor(java.lang.String,int,org.eclipse.lsp4j.CompletionItem[])", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.prolog.PrologCompletionExtensionsTest.completionVersionWithV()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.prolog.PrologCompletionExtensionsTest.completionEncodingAndStandalone()", "TOT": 2, "UPD": 0, "INS": 2, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["082780cc5011ef1b125db859510a743bc4648765"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 110, "deletions": 7, "lines": 117, "gitFilesChange": 3}, "spoonStatsSummary": {"TOT": 24, "UPD": 2, "INS": 11, "MOV": 8, "DEL": 3, "spoonFilesChanged": 3, "spoonMethodsChanged": 6}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/participants", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/prolog"], "changesInPackagesSPOON": ["org.eclipse.lsp4xml.extensions.prolog.PrologModel.computeAttributeNameCompletionResponses(org.eclipse.lsp4xml.services.extensions.ICompletionRequest,org.eclipse.lsp4xml.services.extensions.ICompletionResponse,org.eclipse.lsp4j.Range,org.eclipse.lsp4xml.dom.DOMDocument,org.eclipse.lsp4xml.settings.XMLFormattingOptions)", "org.eclipse.lsp4xml.extensions.prolog.PrologModel.getAttributeCompletionPosition(int,org.eclipse.lsp4xml.dom.DOMNode)", "org.eclipse.lsp4xml.extensions.contentmodel.participants.XMLSyntaxErrorCode", "org.eclipse.lsp4xml.extensions.contentmodel.participants.XMLSyntaxErrorCode.toLSPRange(org.apache.xerces.xni.XMLLocator,org.eclipse.lsp4xml.extensions.contentmodel.participants.XMLSyntaxErrorCode,java.lang.Object[],org.eclipse.lsp4xml.dom.DOMDocument)", "org.eclipse.lsp4xml.dom.DOMNode.getAttributeAtIndex(int)", "org.eclipse.lsp4xml.extensions.prolog.PrologModel.isCurrentAttributeEqual(java.lang.String,org.eclipse.lsp4xml.dom.DOMNode,int)"]}, {"title": "Fixed error range for `cvc_pattern_valid`", "body": "To test use code:\r\n\r\n```xml\r\n<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\" ?>\r\n<cpr xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" \r\n     xsi:noNamespaceSchemaLocation=\"https://www.dgai.de/cpr/schema/ev/cpr-ev-2.0.xsd\">\r\n    <cprev>\r\n        <VERSION>2.0</VERSION>\r\n        <DATUM>2019-08-09</DATUM>\r\n        <STOKENN>FIX_ERROR_RANGE_HERE</STOKENN>\r\n        <EWZ>6</EWZ>\r\n    </cprev>\r\n</cpr>\r\n```\r\n\r\n![patternError](https://user-images.githubusercontent.com/32624665/62973562-4176ab00-bde4-11e9-9af5-945f01ff8953.png)\r\n", "url": "https://github.com/eclipse/lemminx/issues/554", "user": "NikolasKomonen", "labels": ["bug", "validation"], "created": "2019-08-13 20:06:56", "closed": "2019-10-23 14:11:02", "commits": {"68d929216d7d459cca1309f0a23eaad09ca825ca": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}}, "ttf": 70.00027777777778, "commitsDetails": [{"commitHash": "68d929216d7d459cca1309f0a23eaad09ca825ca", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": ["0e09b21e4c3e7331850865ade1a4eab8b77d0536"], "nameRev": "68d929216d7d459cca1309f0a23eaad09ca825ca tags/0.11.0~55", "commitMessage": "cvc pattern error range fix\n\nFixes #554\n\nThis PR falls back to the range of the text content if it matches\n\nSigned-off-by: Nikolas Komonen <nikolaskomonen@gmail.com>\n", "commitDateTime": "2019-10-23 16:11:01", "authoredDateTime": "2019-10-18 14:32:31", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/participants/XMLSchemaErrorCode.java", "insertions": 7, "deletions": 3, "lines": 10}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/utils/XMLPositionUtility.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/extensions/contentmodel/XMLSchemaDiagnosticsTest.java", "insertions": 1, "deletions": 1, "lines": 2}], "commitSpoonAstDiffStats": [{"spoonFilePath": "XMLSchemaErrorCode.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.participants.XMLSchemaErrorCode.toLSPRange(org.apache.xerces.xni.XMLLocator,org.eclipse.lsp4xml.extensions.contentmodel.participants.XMLSchemaErrorCode,java.lang.Object[],org.eclipse.lsp4xml.dom.DOMDocument)", "TOT": 11, "UPD": 3, "INS": 3, "MOV": 4, "DEL": 1}]}, {"spoonFilePath": "XMLPositionUtility.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.utils.XMLPositionUtility.selectTextTrimmed(int,org.eclipse.lsp4xml.dom.DOMDocument)", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLSchemaDiagnosticsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.XMLSchemaDiagnosticsTest.cvc_pattern_valid_With_Buffer()", "TOT": 2, "UPD": 2, "INS": 0, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["68d929216d7d459cca1309f0a23eaad09ca825ca"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 8, "deletions": 4, "lines": 12, "gitFilesChange": 2}, "spoonStatsSummary": {"TOT": 12, "UPD": 4, "INS": 3, "MOV": 4, "DEL": 1, "spoonFilesChanged": 2, "spoonMethodsChanged": 2}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/utils", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/participants"], "changesInPackagesSPOON": ["org.eclipse.lsp4xml.utils.XMLPositionUtility.selectTextTrimmed(int,org.eclipse.lsp4xml.dom.DOMDocument)", "org.eclipse.lsp4xml.extensions.contentmodel.participants.XMLSchemaErrorCode.toLSPRange(org.apache.xerces.xni.XMLLocator,org.eclipse.lsp4xml.extensions.contentmodel.participants.XMLSchemaErrorCode,java.lang.Object[],org.eclipse.lsp4xml.dom.DOMDocument)"]}, {"title": "Cache completion based on XML Schema/DTD", "body": "When completion based on XML Schema/DTD is done and XML Schema/DTD  comes from the file system:\r\n\r\n * the DTD/Schema URI use file system\r\n * the DTD/Schema URI use http but cache is activated\r\n\r\nThe XMl Schema / DTD is every time parsed and loaded. For a big XML Schema / DTD, there are some trouble:\r\n\r\n * completion can be slow.\r\n * if it's too slow, completion returns nothing.\r\n\r\nTo fix this issue, we should cache the completion (the CMDocument) like we have done for http but we should track all files changed of the XML Schema (which can imported other XML Schema) to clean the cache when the XMl Schema / DTD is modified.", "url": "https://github.com/eclipse/lemminx/issues/547", "user": "angelozerr", "labels": ["DTD", "XSD", "bug", "completion", "hover", "performance"], "created": "2019-07-25 10:41:52", "closed": "2019-08-20 16:31:57", "commits": {"587a86948d90402fc05f17752c217011ae1c4be5": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "0f09b2e3e3b0f2801d1901b853a5109d97f6f2ea": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "022b75edfaacba58339d085351b4b36ec82a6016": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "cb08d8a3ba4bcae5be239f7ccac9a723307cce50": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "c65c1201795412cc8262f140548a6e83f0bc2b24": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "f111d023101f3ea662500cbe5ad3989ae8fa4e5d": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "c674c80a484774b12ad8cdce28e8bd5093145b7a": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "ae17fdaddfe0a4b30d385b1c250f33698c7944bd": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}}, "ttf": 26.00027777777778, "commitsDetails": [{"commitHash": "587a86948d90402fc05f17752c217011ae1c4be5", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "0f09b2e3e3b0f2801d1901b853a5109d97f6f2ea", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "022b75edfaacba58339d085351b4b36ec82a6016", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "cb08d8a3ba4bcae5be239f7ccac9a723307cce50", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "c65c1201795412cc8262f140548a6e83f0bc2b24", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "f111d023101f3ea662500cbe5ad3989ae8fa4e5d", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "c674c80a484774b12ad8cdce28e8bd5093145b7a", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "ae17fdaddfe0a4b30d385b1c250f33698c7944bd", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": ["2a9bee1f0c48c5701aa4d7691d3c3dcbe3642c83"], "nameRev": "ae17fdaddfe0a4b30d385b1c250f33698c7944bd tags/0.9.0~7", "commitMessage": "Cache completion based on XML Schema/DTD\n\nFixes #547\n\nSigned-off-by: azerr <azerr@redhat.com>", "commitDateTime": "2019-08-20 18:31:56", "authoredDateTime": "2019-07-25 12:45:21", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/model/CMDocument.java", "insertions": 7, "deletions": 0, "lines": 7}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/model/ContentModelManager.java", "insertions": 46, "deletions": 29, "lines": 75}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/model/FilesChangedTracker.java", "insertions": 100, "deletions": 0, "lines": 100}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/participants/ContentModelCompletionParticipant.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/dtd/contentmodel/CMDTDDocument.java", "insertions": 41, "deletions": 2, "lines": 43}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/xsd/contentmodel/CMXSDDocument.java", "insertions": 47, "deletions": 5, "lines": 52}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/extensions/contentmodel/BaseFileTempTest.java", "insertions": 48, "deletions": 0, "lines": 48}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/extensions/contentmodel/ContentModelManagerCacheTest.java", "insertions": 97, "deletions": 0, "lines": 97}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/extensions/contentmodel/XMLExternalTest.java", "insertions": 1, "deletions": 42, "lines": 43}], "commitSpoonAstDiffStats": [{"spoonFilePath": "CMDocument.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.model.isDirty()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "ContentModelManager.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.model.ContentModelManager.isCacheable(java.lang.String)", "TOT": 8, "UPD": 4, "INS": 0, "MOV": 4, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.model.ContentModelManager.findCMDocument(java.lang.String,java.lang.String,java.lang.String,org.eclipse.lsp4xml.extensions.contentmodel.model.ContentModelProvider)", "TOT": 22, "UPD": 2, "INS": 8, "MOV": 7, "DEL": 5}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.model.ContentModelManager.cache(java.lang.String,org.eclipse.lsp4xml.extensions.contentmodel.model.CMDocument)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "FilesChangedTracker.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.model.FilesChangedTracker", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "ContentModelCompletionParticipant.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.participants.ContentModelCompletionParticipant.onTagOpen(org.eclipse.lsp4xml.services.extensions.ICompletionRequest,org.eclipse.lsp4xml.services.extensions.ICompletionResponse)", "TOT": 2, "UPD": 0, "INS": 1, "MOV": 1, "DEL": 0}]}, {"spoonFilePath": "CMDTDDocument.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.dtd.contentmodel.CMDTDDocument", "TOT": 5, "UPD": 0, "INS": 3, "MOV": 2, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.dtd.contentmodel.CMDTDDocument.updateFilesChangedTracker()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.dtd.contentmodel.CMDTDDocument.updateTracker(org.apache.xerces.impl.dtd.DTDGrammar,java.util.Set,org.eclipse.lsp4xml.extensions.contentmodel.model.FilesChangedTracker)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.dtd.contentmodel.CMDTDDocument.getDTDURI(org.apache.xerces.impl.dtd.DTDGrammar)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.dtd.contentmodel.CMDTDDocument.isDirty()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.dtd.contentmodel.CMDTDDocument.loadGrammar(org.apache.xerces.xni.parser.XMLInputSource)", "TOT": 2, "UPD": 0, "INS": 2, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "CMXSDDocument.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.xsd.contentmodel.CMXSDDocument", "TOT": 12, "UPD": 2, "INS": 4, "MOV": 5, "DEL": 1}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.xsd.contentmodel.CMXSDDocument.updateFilesChangedTracker()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.xsd.contentmodel.CMXSDDocument.updateTracker(org.apache.xerces.impl.xs.SchemaGrammar,java.util.Set,org.eclipse.lsp4xml.extensions.contentmodel.model.FilesChangedTracker)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.xsd.contentmodel.CMXSDDocument.isDirty()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "BaseFileTempTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.BaseFileTempTest", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "ContentModelManagerCacheTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.ContentModelManagerCacheTest", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLExternalTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.XMLExternalTest.getXMLTextDocumentItem(java.lang.String,java.lang.String)", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.XMLExternalTest", "TOT": 3, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 2}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.XMLExternalTest.setup()", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.XMLExternalTest.tearDown()", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.XMLExternalTest.deleteTempDirIfExists()", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.XMLExternalTest.createTempDir()", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.XMLExternalTest.createFile(java.lang.String,java.lang.String)", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["ae17fdaddfe0a4b30d385b1c250f33698c7944bd"], "filteredCommitsReason": {"duplicated": 7, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 242.0, "deletions": 37.0, "lines": 279.0, "gitFilesChange": 6}, "spoonStatsSummary": {"TOT": 61.0, "UPD": 8.0, "INS": 28.0, "MOV": 19.0, "DEL": 6.0, "spoonFilesChanged": 6, "spoonMethodsChanged": 16}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/dtd/contentmodel", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/model", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/participants", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/xsd/contentmodel"], "changesInPackagesSPOON": ["org.eclipse.lsp4xml.extensions.contentmodel.model.ContentModelManager.findCMDocument(java.lang.String,java.lang.String,java.lang.String,org.eclipse.lsp4xml.extensions.contentmodel.model.ContentModelProvider)", "org.eclipse.lsp4xml.extensions.dtd.contentmodel.CMDTDDocument.getDTDURI(org.apache.xerces.impl.dtd.DTDGrammar)", "org.eclipse.lsp4xml.extensions.dtd.contentmodel.CMDTDDocument.isDirty()", "org.eclipse.lsp4xml.extensions.xsd.contentmodel.CMXSDDocument.isDirty()", "org.eclipse.lsp4xml.extensions.dtd.contentmodel.CMDTDDocument.updateTracker(org.apache.xerces.impl.dtd.DTDGrammar,java.util.Set,org.eclipse.lsp4xml.extensions.contentmodel.model.FilesChangedTracker)", "org.eclipse.lsp4xml.extensions.contentmodel.model.ContentModelManager.cache(java.lang.String,org.eclipse.lsp4xml.extensions.contentmodel.model.CMDocument)", "org.eclipse.lsp4xml.extensions.dtd.contentmodel.CMDTDDocument.updateFilesChangedTracker()", "org.eclipse.lsp4xml.extensions.dtd.contentmodel.CMDTDDocument", "org.eclipse.lsp4xml.extensions.contentmodel.participants.ContentModelCompletionParticipant.onTagOpen(org.eclipse.lsp4xml.services.extensions.ICompletionRequest,org.eclipse.lsp4xml.services.extensions.ICompletionResponse)", "org.eclipse.lsp4xml.extensions.dtd.contentmodel.CMDTDDocument.loadGrammar(org.apache.xerces.xni.parser.XMLInputSource)", "org.eclipse.lsp4xml.extensions.xsd.contentmodel.CMXSDDocument", "org.eclipse.lsp4xml.extensions.xsd.contentmodel.CMXSDDocument.updateFilesChangedTracker()", "org.eclipse.lsp4xml.extensions.contentmodel.model.ContentModelManager.isCacheable(java.lang.String)", "org.eclipse.lsp4xml.extensions.contentmodel.model.FilesChangedTracker", "org.eclipse.lsp4xml.extensions.xsd.contentmodel.CMXSDDocument.updateTracker(org.apache.xerces.impl.xs.SchemaGrammar,java.util.Set,org.eclipse.lsp4xml.extensions.contentmodel.model.FilesChangedTracker)", "org.eclipse.lsp4xml.extensions.contentmodel.model.isDirty()"]}, {"title": "xs:import code action inserting inside tag name", "body": "After clicking the xs:import tag name a selecting the attribute name codeaction it will insert the text\r\ninside the name instead of after it.\r\n\r\n@xorye I think this was something you worked on.\r\n\r\n![codeActionError](https://user-images.githubusercontent.com/32624665/61739728-0809cd00-ad5b-11e9-9671-1183a9508ce2.gif)\r\n", "url": "https://github.com/eclipse/lemminx/issues/541", "user": "NikolasKomonen", "labels": ["XSD", "bug", "code action"], "created": "2019-07-23 19:03:40", "closed": "2019-11-08 20:25:38", "commits": {}, "ttf": 108.00027777777778, "commitsDetails": []}, {"title": "Hover markup response ignored the hover client capability", "body": "Today XML Schema, DTD returns a MARKDOWN kind although it should check that client has this capability", "url": "https://github.com/eclipse/lemminx/issues/525", "user": "angelozerr", "labels": ["bug", "hover"], "created": "2019-07-22 10:08:44", "closed": "2019-07-22 20:31:31", "commits": {"2a50ea90d305311920d064d0ab97d05f07378a02": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "20c3819eff2f40b1b231cc753989c7296886d0de": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "af58dc207d34c915790e9da89b5291cbee542c90": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "b2a37e6fe893eaf5cb34687cce765ed9f2d0498d": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "f2a93198df23fcfc58064323650a1195648fde9f": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "abc006af941742c1c1c9daca1cb5a9020e953539": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}}, "ttf": 0.0002777777777777778, "commitsDetails": [{"commitHash": "2a50ea90d305311920d064d0ab97d05f07378a02", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "20c3819eff2f40b1b231cc753989c7296886d0de", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "af58dc207d34c915790e9da89b5291cbee542c90", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "b2a37e6fe893eaf5cb34687cce765ed9f2d0498d", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "f2a93198df23fcfc58064323650a1195648fde9f", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "abc006af941742c1c1c9daca1cb5a9020e953539", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": ["0f276b8761611298b23ae398da73c66b93fd9c0f"], "nameRev": "abc006af941742c1c1c9daca1cb5a9020e953539 tags/0.8.0~6", "commitMessage": "Hover markup kind response ignores the hover client capability\n\nFixes #525\n\nSigned-off-by: azerr <azerr@redhat.com>", "commitDateTime": "2019-07-22 22:31:29", "authoredDateTime": "2019-07-22 12:18:36", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/XMLLanguageServer.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/XMLTextDocumentService.java", "insertions": 6, "deletions": 4, "lines": 10}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/CompletionRequest.java", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/HoverRequest.java", "insertions": 10, "deletions": 4, "lines": 14}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/XMLCompletions.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/XMLFoldings.java", "insertions": 5, "deletions": 4, "lines": 9}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/XMLHover.java", "insertions": 11, "deletions": 9, "lines": 20}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/XMLLanguageService.java", "insertions": 12, "deletions": 9, "lines": 21}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/extensions/ICompletionRequest.java", "insertions": 2, "deletions": 1, "lines": 3}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/extensions/IHoverRequest.java", "insertions": 0, "deletions": 1, "lines": 1}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/settings/SharedSettings.java", "insertions": 12, "deletions": 8, "lines": 20}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/{services/extensions/CompletionSettings.java => settings/XMLCompletionSettings.java}", "insertions": 5, "deletions": 5, "lines": 10}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/settings/XMLFoldingSettings.java", "insertions": 33, "deletions": 0, "lines": 33}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/settings/XMLGeneralClientSettings.java", "insertions": 3, "deletions": 4, "lines": 7}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/settings/XMLHoverSettings.java", "insertions": 30, "deletions": 0, "lines": 30}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/settings/XMLIncrementalSupportSettings.java", "insertions": 0, "deletions": 32, "lines": 32}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/XMLAssert.java", "insertions": 10, "deletions": 5, "lines": 15}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/extensions/contentmodel/DTDCompletionExtensionsTest.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/extensions/contentmodel/XMLSchemaCompletionExtensionsTest.java", "insertions": 73, "deletions": 95, "lines": 168}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/extensions/prolog/PrologCompletionExtensionsTest.java", "insertions": 5, "deletions": 5, "lines": 10}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/extensions/xsi/XSICompletionExtensionsTest.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/services/XMLCompletionTest.java", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/services/XMLFoldingsTest.java", "insertions": 4, "deletions": 1, "lines": 5}], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": "tooManyFiles"}], "filteredCommits": ["abc006af941742c1c1c9daca1cb5a9020e953539"], "filteredCommitsReason": {"duplicated": 5, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 136.0, "deletions": 88.0, "lines": 224.0, "gitFilesChange": 16}, "spoonStatsSummary": {}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/settings", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/extensions", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/{services/extensions"]}, {"title": "Completion capability was lost in specific scenarios", "body": "LSP4XML loose the completion capability from the client. For instance snippet completion capability is lost.\r\n\r\nYou can see the problem with vscode-xml when you trigger completion for encoding attribute. The apply completion should provide list of encoding and this features is broken. With this PR it fixes the problem, see the demo:\r\n\r\n![CompletionApplyDemo](https://user-images.githubusercontent.com/1932211/61487788-03ce6000-a9a7-11e9-91fd-0e1190a54044.gif)\r\n", "url": "https://github.com/eclipse/lemminx/issues/522", "user": "angelozerr", "labels": ["bug", "completion"], "created": "2019-07-18 19:39:03", "closed": "2019-07-19 09:51:41", "commits": {"07b3dae92bcd8b26c4b517d1af18d8ef8ca68bff": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "a2701a061f11afa241218240fab287bf26c40922": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "9ab897080d5a18886d03da8301efb8e78ca62fda": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "b843b4a745bf05ed2623d6b51843922845cc9427": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "c2f66d57111dda45823a08759238c0852d9cfbea": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "93759e80285b55663a2d179ed5f5cbaa36154505": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "a89cc52ef208f02f1488f56762afaf1360b36706": {"commitGHEventType": "referenced", "commitUser": "fbricon"}, "d0a7c5a5704f21572f2245c0241b9fbe8bc492a6": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}}, "ttf": 0.0002777777777777778, "commitsDetails": [{"commitHash": "07b3dae92bcd8b26c4b517d1af18d8ef8ca68bff", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "a2701a061f11afa241218240fab287bf26c40922", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "9ab897080d5a18886d03da8301efb8e78ca62fda", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "b843b4a745bf05ed2623d6b51843922845cc9427", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "c2f66d57111dda45823a08759238c0852d9cfbea", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "93759e80285b55663a2d179ed5f5cbaa36154505", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "a89cc52ef208f02f1488f56762afaf1360b36706", "commitGHEventType": "referenced", "commitUser": "fbricon", "commitParents": ["67b93acb9fa7bd175bc49d6a8f9d62c56bf88700"], "nameRev": "a89cc52ef208f02f1488f56762afaf1360b36706 tags/0.8.0~11", "commitMessage": "Loss of completion capability from the client\n\nFix #522\n\nSigned-off-by: azerr <azerr@redhat.com>", "commitDateTime": "2019-07-19 11:51:40", "authoredDateTime": "2019-07-18 21:40:06", "commitGitStats": [{"filePath": "extensions/org.eclipse.lsp4xml.extensions.emmet/src/test/java/org/eclipse/lsp4xml/extensions/emmet/participants/EmmetCompletionTest.java", "insertions": 0, "deletions": 1, "lines": 1}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/XMLLanguageServer.java", "insertions": 0, "deletions": 10, "lines": 10}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/XMLTextDocumentService.java", "insertions": 20, "deletions": 23, "lines": 43}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/prolog/PrologModel.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/CompletionRequest.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/extensions/CompletionSettings.java", "insertions": 12, "deletions": 0, "lines": 12}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/settings/SharedSettings.java", "insertions": 24, "deletions": 14, "lines": 38}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/settings/XMLExperimentalSettings.java", "insertions": 0, "deletions": 31, "lines": 31}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/settings/XMLGeneralClientSettings.java", "insertions": 0, "deletions": 10, "lines": 10}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/XMLAssert.java", "insertions": 7, "deletions": 6, "lines": 13}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/extensions/contentmodel/XMLSyntaxDiagnosticsTest.java", "insertions": 1, "deletions": 2, "lines": 3}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/extensions/prolog/PrologCompletionExtensionsTest.java", "insertions": 108, "deletions": 82, "lines": 190}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/services/XMLCompletionTest.java", "insertions": 2, "deletions": 1, "lines": 3}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/settings/SettingsTest.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/settings/capabilities/XMLCapabilitiesTest.java", "insertions": 1, "deletions": 1, "lines": 2}], "commitSpoonAstDiffStats": [{"spoonFilePath": "EmmetCompletionTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.emmet.participants.EmmetCompletionTest.testCompletionFor(java.lang.String,java.util.List,java.lang.Integer)", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}]}, {"spoonFilePath": "XMLLanguageServer.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.XMLLanguageServer.updateSettings(java.lang.Object)", "TOT": 2, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 2}]}, {"spoonFilePath": "XMLTextDocumentService.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.XMLTextDocumentService.updateCompletionSettings(org.eclipse.lsp4xml.services.extensions.CompletionSettings)", "TOT": 3, "UPD": 1, "INS": 1, "MOV": 1, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.XMLTextDocumentService.documentSymbol(org.eclipse.lsp4j.DocumentSymbolParams)", "TOT": 6, "UPD": 1, "INS": 2, "MOV": 2, "DEL": 1}, {"spoonMethodName": "org.eclipse.lsp4xml.XMLTextDocumentService.updateClientCapabilities(org.eclipse.lsp4j.ClientCapabilities,org.eclipse.lsp4xml.client.ExtendedClientCapabilities)", "TOT": 3, "UPD": 0, "INS": 1, "MOV": 1, "DEL": 1}, {"spoonMethodName": "org.eclipse.lsp4xml.XMLTextDocumentService.getFormattingSettings(java.lang.String)", "TOT": 3, "UPD": 0, "INS": 1, "MOV": 1, "DEL": 1}, {"spoonMethodName": "org.eclipse.lsp4xml.XMLTextDocumentService.foldingRange(org.eclipse.lsp4j.FoldingRangeRequestParams)", "TOT": 2, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 1}, {"spoonMethodName": "org.eclipse.lsp4xml.XMLTextDocumentService.validate(org.eclipse.lsp4xml.dom.DOMDocument)", "TOT": 3, "UPD": 0, "INS": 1, "MOV": 1, "DEL": 1}, {"spoonMethodName": "org.eclipse.lsp4xml.XMLTextDocumentService.updateSymbolSettings(org.eclipse.lsp4xml.settings.XMLSymbolSettings)", "TOT": 3, "UPD": 0, "INS": 1, "MOV": 1, "DEL": 1}, {"spoonMethodName": "org.eclipse.lsp4xml.XMLTextDocumentService.getSharedSymbolSettings()", "TOT": 3, "UPD": 0, "INS": 1, "MOV": 1, "DEL": 1}, {"spoonMethodName": "org.eclipse.lsp4xml.XMLTextDocumentService.getSharedFormattingSettings()", "TOT": 3, "UPD": 0, "INS": 1, "MOV": 1, "DEL": 1}, {"spoonMethodName": "org.eclipse.lsp4xml.XMLTextDocumentService.getValidationSettings()", "TOT": 3, "UPD": 0, "INS": 1, "MOV": 1, "DEL": 1}, {"spoonMethodName": "org.eclipse.lsp4xml.XMLTextDocumentService.updateIncrementalSettings(org.eclipse.lsp4xml.settings.XMLIncrementalSupportSettings)", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}]}, {"spoonFilePath": "PrologModel.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.prolog.PrologModel.computePrologCompletionResponses(int,java.lang.String,org.eclipse.lsp4xml.services.extensions.ICompletionRequest,org.eclipse.lsp4xml.services.extensions.ICompletionResponse,boolean,org.eclipse.lsp4xml.settings.SharedSettings)", "TOT": 2, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 1}]}, {"spoonFilePath": "CompletionRequest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.services.CompletionRequest", "TOT": 4, "UPD": 0, "INS": 2, "MOV": 0, "DEL": 2}]}, {"spoonFilePath": "CompletionSettings.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.services.extensions.CompletionSettings.merge(org.eclipse.lsp4xml.services.extensions.CompletionSettings)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "SharedSettings.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.settings.SharedSettings.setFormattingSettings(org.eclipse.lsp4xml.settings.XMLFormattingOptions)", "TOT": 3, "UPD": 2, "INS": 0, "MOV": 1, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.settings.SharedSettings.setCompletionSettings(org.eclipse.lsp4xml.services.extensions.CompletionSettings)", "TOT": 3, "UPD": 2, "INS": 0, "MOV": 1, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.settings.SharedSettings", "TOT": 9, "UPD": 5, "INS": 2, "MOV": 0, "DEL": 2}, {"spoonMethodName": "org.eclipse.lsp4xml.settings.SharedSettings.getCompletionSettings()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.settings.SharedSettings.getFoldingSettings()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.settings.SharedSettings.getFormattingSettings()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLExperimentalSettings.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.settings.XMLExperimentalSettings", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}]}, {"spoonFilePath": "XMLGeneralClientSettings.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.settings.XMLGeneralClientSettings", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}, {"spoonMethodName": "org.eclipse.lsp4xml.settings.XMLGeneralClientSettings.getExperimental()", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}, {"spoonMethodName": "org.eclipse.lsp4xml.settings.XMLGeneralClientSettings.setExperimental(org.eclipse.lsp4xml.settings.XMLExperimentalSettings)", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}]}, {"spoonFilePath": "XMLAssert.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.XMLAssert.testCompletionFor(org.eclipse.lsp4xml.services.XMLLanguageService,java.lang.String,java.lang.String,java.util.function.Consumer,java.lang.String,java.lang.Integer,org.eclipse.lsp4xml.services.extensions.CompletionSettings,org.eclipse.lsp4xml.settings.XMLFormattingOptions,org.eclipse.lsp4j.CompletionItem[])", "TOT": 6, "UPD": 2, "INS": 1, "MOV": 3, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.XMLAssert.testCodeActionsFor(java.lang.String,org.eclipse.lsp4j.Diagnostic,java.lang.String,org.eclipse.lsp4j.CodeAction[])", "TOT": 4, "UPD": 0, "INS": 2, "MOV": 1, "DEL": 1}, {"spoonMethodName": "org.eclipse.lsp4xml.XMLAssert.testCodeActionsFor(java.lang.String,org.eclipse.lsp4j.Diagnostic,java.lang.String,org.eclipse.lsp4xml.settings.SharedSettings,org.eclipse.lsp4j.CodeAction[])", "TOT": 4, "UPD": 0, "INS": 2, "MOV": 0, "DEL": 2}]}, {"spoonFilePath": "XMLSyntaxDiagnosticsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.XMLSyntaxDiagnosticsTest.testMissingQuotesForAttributeSingleQuotes()", "TOT": 3, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 2}]}, {"spoonFilePath": "PrologCompletionExtensionsTest.java", "spoonMethods": []}, {"spoonFilePath": "XMLCompletionTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.services.XMLCompletionTest.initializeCompletion(java.lang.String,org.eclipse.lsp4xml.dom.DOMDocument,int)", "TOT": 4, "UPD": 0, "INS": 2, "MOV": 1, "DEL": 1}]}, {"spoonFilePath": "SettingsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.settings.SettingsTest.symbolSettingsTest()", "TOT": 3, "UPD": 1, "INS": 1, "MOV": 1, "DEL": 0}]}, {"spoonFilePath": "XMLCapabilitiesTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.settings.capabilities.XMLCapabilitiesTest.startup()", "TOT": 3, "UPD": 1, "INS": 1, "MOV": 1, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "d0a7c5a5704f21572f2245c0241b9fbe8bc492a6", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}], "filteredCommits": ["a89cc52ef208f02f1488f56762afaf1360b36706"], "filteredCommitsReason": {"duplicated": 7, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 59.0, "deletions": 91.0, "lines": 150.0, "gitFilesChange": 8}, "spoonStatsSummary": {"TOT": 78.0, "UPD": 13.0, "INS": 25.0, "MOV": 16.0, "DEL": 24.0, "spoonFilesChanged": 9, "spoonMethodsChanged": 28}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/prolog", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/extensions", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/settings", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services"], "changesInPackagesSPOON": ["org.eclipse.lsp4xml.settings.SharedSettings", "org.eclipse.lsp4xml.settings.SharedSettings.getCompletionSettings()", "org.eclipse.lsp4xml.settings.XMLGeneralClientSettings.getExperimental()", "org.eclipse.lsp4xml.XMLTextDocumentService.getSharedSymbolSettings()", "org.eclipse.lsp4xml.settings.SharedSettings.getFormattingSettings()", "org.eclipse.lsp4xml.XMLTextDocumentService.validate(org.eclipse.lsp4xml.dom.DOMDocument)", "org.eclipse.lsp4xml.XMLTextDocumentService.updateCompletionSettings(org.eclipse.lsp4xml.services.extensions.CompletionSettings)", "org.eclipse.lsp4xml.settings.SharedSettings.getFoldingSettings()", "org.eclipse.lsp4xml.XMLTextDocumentService.updateSymbolSettings(org.eclipse.lsp4xml.settings.XMLSymbolSettings)", "org.eclipse.lsp4xml.settings.SharedSettings.setCompletionSettings(org.eclipse.lsp4xml.services.extensions.CompletionSettings)", "org.eclipse.lsp4xml.services.CompletionRequest", "org.eclipse.lsp4xml.XMLTextDocumentService.getFormattingSettings(java.lang.String)", "org.eclipse.lsp4xml.XMLAssert.testCompletionFor(org.eclipse.lsp4xml.services.XMLLanguageService,java.lang.String,java.lang.String,java.util.function.Consumer,java.lang.String,java.lang.Integer,org.eclipse.lsp4xml.services.extensions.CompletionSettings,org.eclipse.lsp4xml.settings.XMLFormattingOptions,org.eclipse.lsp4j.CompletionItem[])", "org.eclipse.lsp4xml.XMLTextDocumentService.foldingRange(org.eclipse.lsp4j.FoldingRangeRequestParams)", "org.eclipse.lsp4xml.extensions.prolog.PrologModel.computePrologCompletionResponses(int,java.lang.String,org.eclipse.lsp4xml.services.extensions.ICompletionRequest,org.eclipse.lsp4xml.services.extensions.ICompletionResponse,boolean,org.eclipse.lsp4xml.settings.SharedSettings)", "org.eclipse.lsp4xml.XMLAssert.testCodeActionsFor(java.lang.String,org.eclipse.lsp4j.Diagnostic,java.lang.String,org.eclipse.lsp4j.CodeAction[])", "org.eclipse.lsp4xml.services.extensions.CompletionSettings.merge(org.eclipse.lsp4xml.services.extensions.CompletionSettings)", "org.eclipse.lsp4xml.XMLTextDocumentService.getValidationSettings()", "org.eclipse.lsp4xml.XMLLanguageServer.updateSettings(java.lang.Object)", "org.eclipse.lsp4xml.settings.XMLExperimentalSettings", "org.eclipse.lsp4xml.XMLTextDocumentService.documentSymbol(org.eclipse.lsp4j.DocumentSymbolParams)", "org.eclipse.lsp4xml.XMLTextDocumentService.updateClientCapabilities(org.eclipse.lsp4j.ClientCapabilities,org.eclipse.lsp4xml.client.ExtendedClientCapabilities)", "org.eclipse.lsp4xml.XMLAssert.testCodeActionsFor(java.lang.String,org.eclipse.lsp4j.Diagnostic,java.lang.String,org.eclipse.lsp4xml.settings.SharedSettings,org.eclipse.lsp4j.CodeAction[])", "org.eclipse.lsp4xml.XMLTextDocumentService.getSharedFormattingSettings()", "org.eclipse.lsp4xml.settings.XMLGeneralClientSettings", "org.eclipse.lsp4xml.XMLTextDocumentService.updateIncrementalSettings(org.eclipse.lsp4xml.settings.XMLIncrementalSupportSettings)", "org.eclipse.lsp4xml.settings.SharedSettings.setFormattingSettings(org.eclipse.lsp4xml.settings.XMLFormattingOptions)", "org.eclipse.lsp4xml.settings.XMLGeneralClientSettings.setExperimental(org.eclipse.lsp4xml.settings.XMLExperimentalSettings)"]}, {"title": "Fixed error range for `EntityNotDeclared`", "body": "Given this XML file:\r\n\r\n```xml\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<!DOCTYPE article [\r\n  <!ELEMENT article (#PCDATA)>\r\n]>          \r\n<article>\r\n\t&nbsp;\r\n</article>\r\n```\r\n\r\n&nbsp; should be highlighted. (It should be managed in XMLSyntaxErrorCode).\r\n\r\nCodeAction could create the proper entity in the DOCTYPE like this:\r\n\r\n```xml\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<!DOCTYPE article [\r\n  <!ELEMENT article (#PCDATA)>\r\n  <!ENTITY nbsp \"entity-value\">\r\n]>           \r\n<article>\r\n\t&nbsp;\r\n</article>\r\n```\r\nWe must take care of existing of doctype. For instance if we have\r\n\r\n```xml\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>          \r\n<article>\r\n\t&nbsp;\r\n</article>\r\n```\r\n\r\nCodeAction should generate\r\n\r\n```xml\r\n<!DOCTYPE article [\r\n  <!ENTITY nbsp \"entity-value\">\r\n]>\r\n```", "url": "https://github.com/eclipse/lemminx/issues/518", "user": "angelozerr", "labels": ["DTD", "bug", "validation"], "created": "2019-07-17 14:23:18", "closed": "2019-07-23 08:44:20", "commits": {}, "ttf": 5.000277777777778, "commitsDetails": []}, {"title": "Fixed error range for `src-import.1.2`", "body": "With this XSD file:\r\n\r\n```\r\n<?xml version='1.0'?>\r\n<xs:schema xmlns:xs='http://www.w3.org/2001/XMLSchema' >\r\n\t<xs:import></xs:import>\r\n</xs:schema>\r\n```\r\n\r\nThe xs:import should be highlighted.\r\n\r\nWe could add 2 code action:\r\n\r\n * code action which adds namespace attribute in xs:import\r\n * code action which adds targetNamespace in xs:schema", "url": "https://github.com/eclipse/lemminx/issues/499", "user": "angelozerr", "labels": ["XSD", "bug", "code action", "validation"], "created": "2019-07-03 08:39:23", "closed": "2019-07-17 14:36:04", "commits": {}, "ttf": 14.000277777777777, "commitsDetails": []}, {"title": "Fixed error range for `s4s-elt-invalid-content.3`", "body": "With the given XSD file:\r\n\r\n```xml\r\n<xs:schema xmlns:xs=\"http://www.w3.org/2001/XMLSchema\" elementFormDefault=\"qualified\">\r\n\t<xs:element name=\"project\" type=\"xs:string\"></xs:element>\r\n\t<xs:import ></xs:import>\r\n</xs:schema>\r\n```\r\n\r\n`xs:import` should be higlighted as error with message:\r\n\r\n`s4s-elt-invalid-content.3: Elements of type 'import' cannot appear after declarations as children of a <schema> element.\r\n`\r\n\r\nWe could add a code action to remove this xs:import element.", "url": "https://github.com/eclipse/lemminx/issues/496", "user": "angelozerr", "labels": ["XSD", "bug", "validation"], "created": "2019-07-02 08:28:43", "closed": "2019-07-03 08:26:15", "commits": {}, "ttf": 0.0002777777777777778, "commitsDetails": []}, {"title": "Fixed NPE in `textDocument/definition` in XSD files", "body": "With an XSD document as simple as \r\n```xml\r\n<?xml version='1.0'?>\r\n<xs:schema xmlns:xs='http://www.w3.org/2001/XMLSchema'>\r\n</xs:schema>\r\n```\r\nIn VS Code, when you ctrl+hover (or cmd+hover on Mac) over `schema` (to trigger textDocument/definition), an NPE is thrown by LSP4XML", "url": "https://github.com/eclipse/lemminx/issues/488", "user": "fbricon", "labels": ["XSD", "bug", "hyperlink"], "created": "2019-07-01 10:17:04", "closed": "2019-07-01 10:42:38", "commits": {"28b21f5ab408bcfe745250252cd8a1ad68d2714e": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "37ac0759c9dd64d14d51e87c1af164f172339be8": {"commitGHEventType": "referenced", "commitUser": "fbricon"}}, "ttf": 0.0002777777777777778, "commitsDetails": [{"commitHash": "28b21f5ab408bcfe745250252cd8a1ad68d2714e", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "37ac0759c9dd64d14d51e87c1af164f172339be8", "commitGHEventType": "referenced", "commitUser": "fbricon", "commitParents": ["fee585992ab5c1748708cf92aada4c7f01c7f220"], "nameRev": "37ac0759c9dd64d14d51e87c1af164f172339be8 tags/0.8.0~30", "commitMessage": "NPE in textDocument/definition in XSD files\n\nFix #488\n\nSigned-off-by: azerr <azerr@redhat.com>", "commitDateTime": "2019-07-01 06:42:36", "authoredDateTime": "2019-07-01 12:24:46", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/xsd/utils/XSDUtils.java", "insertions": 43, "deletions": 41, "lines": 84}], "commitSpoonAstDiffStats": [{"spoonFilePath": "XSDUtils.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.xsd.utils.XSDUtils.getBindingType(org.eclipse.lsp4xml.dom.DOMAttr)", "TOT": 8, "UPD": 0, "INS": 1, "MOV": 7, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["37ac0759c9dd64d14d51e87c1af164f172339be8"], "filteredCommitsReason": {"duplicated": 1, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 43.0, "deletions": 41.0, "lines": 84.0, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 8.0, "UPD": 0.0, "INS": 1.0, "MOV": 7.0, "DEL": 0.0, "spoonFilesChanged": 1, "spoonMethodsChanged": 1}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/xsd/utils"], "changesInPackagesSPOON": ["org.eclipse.lsp4xml.extensions.xsd.utils.XSDUtils.getBindingType(org.eclipse.lsp4xml.dom.DOMAttr)"]}, {"title": "Fix test with markdown on Windows OS.", "body": "On Windows OS test https://github.com/angelozerr/lsp4xml/blob/master/org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/utils/MarkdownConverterTest.java#L26 failed.\r\n\r\nIt's because the test hard code the line separator and parhaps remark or JSoup uses system line separator?", "url": "https://github.com/eclipse/lemminx/issues/487", "user": "angelozerr", "labels": ["bug"], "created": "2019-07-01 07:54:18", "closed": "2019-07-04 06:04:21", "commits": {"5df7323c78986f6e4aa79ca538271a31deaef0a1": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "2df4bec1c93ef519cc1b1d26877ee11f0aab826e": {"commitGHEventType": "referenced", "commitUser": "fbricon"}}, "ttf": 2.000277777777778, "commitsDetails": [{"commitHash": "5df7323c78986f6e4aa79ca538271a31deaef0a1", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "2df4bec1c93ef519cc1b1d26877ee11f0aab826e", "commitGHEventType": "referenced", "commitUser": "fbricon", "commitParents": ["7c9140975b9826dc1912ec466e4acbc358f64ead"], "nameRev": "2df4bec1c93ef519cc1b1d26877ee11f0aab826e tags/0.8.0~27", "commitMessage": "Fix test with markdown on Windows OS.\n\nFix #487\n\nSigned-off-by: azerr <azerr@redhat.com>", "commitDateTime": "2019-07-04 08:04:20", "authoredDateTime": "2019-07-04 02:22:28", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/utils/MarkdownConverterTest.java", "insertions": 15, "deletions": 15, "lines": 30}], "commitSpoonAstDiffStats": [{"spoonFilePath": "MarkdownConverterTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.utils.MarkdownConverterTest.testHTMLConversion()", "TOT": 43, "UPD": 11, "INS": 10, "MOV": 16, "DEL": 6}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["2df4bec1c93ef519cc1b1d26877ee11f0aab826e"], "filteredCommitsReason": {"duplicated": 1, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 0, "gitStatsSummary": {"insertions": 0.0, "deletions": 0.0, "lines": 0.0, "gitFilesChange": 0}, "spoonStatsSummary": {"TOT": 0.0, "UPD": 0.0, "INS": 0.0, "MOV": 0.0, "DEL": 0.0, "spoonFilesChanged": 0, "spoonMethodsChanged": 0}, "statsSkippedReason": "", "changesInPackagesGIT": [], "changesInPackagesSPOON": []}, {"title": "Fixed error range for `cvc-pattern-valid`", "body": "Take the `pattern.xsd` XML Schema file:\r\n\r\n```xml\r\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<xs:schema xmlns:xs=\"http://www.w3.org/2001/XMLSchema\"\r\n\telementFormDefault=\"qualified\" attributeFormDefault=\"unqualified\">\r\n\r\n\t<xs:element name=\"Annotation\">\r\n\t\t<xs:complexType>\r\n\t\t\t<xs:attribute name=\"Term\" type=\"TQualifiedName\"\r\n\t\t\t\tuse=\"required\" />\r\n\t\t</xs:complexType>\r\n\t</xs:element>\r\n\r\n\r\n\t<xs:simpleType name=\"TQualifiedName\">\r\n\t\t<xs:restriction base=\"xs:NCName\">\r\n\t\t\t<xs:pattern\r\n\t\t\t\tvalue=\"[\\p{L}\\p{Nl}_][\\p{L}\\p{Nl}\\p{Nd}\\p{Mn}\\p{Mc}\\p{Pc}\\p{Cf}]{0,}(\\.[\\p{L}\\p{Nl}_][\\p{L}\\p{Nl}\\p{Nd}\\p{Mn}\\p{Mc}\\p{Pc}\\p{Cf}]{0,}){1,}\" />\r\n\t\t</xs:restriction>\r\n\t</xs:simpleType>\r\n\r\n</xs:schema>\r\n```\r\n\r\nThe XML file bound to this XML pattern.xsd:\r\n\r\n```xml\r\n<Annotation\r\n\txmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\r\n\txsi:noNamespaceSchemaLocation=\"pattern.xsd\"\r\n\tTerm=\"X\"\r\n\t>\r\n</Annotation>\r\n```\r\n\r\nshould highlight `\"X\"` as error.", "url": "https://github.com/eclipse/lemminx/issues/477", "user": "angelozerr", "labels": ["XSD", "bug", "validation"], "created": "2019-06-28 06:31:10", "closed": "2019-06-28 17:21:04", "commits": {}, "ttf": 0.0002777777777777778, "commitsDetails": []}, {"title": "Fixed error range for `AttributePrefixUnbound`", "body": "With this XML:\r\n\r\n`<a xsi:xxxxx=\"\"></a>`\r\n\r\nxsi should be highlighted as error.", "url": "https://github.com/eclipse/lemminx/issues/476", "user": "angelozerr", "labels": ["XSD", "bug", "validation"], "created": "2019-06-28 05:06:52", "closed": "2019-06-28 17:19:28", "commits": {}, "ttf": 0.0002777777777777778, "commitsDetails": []}, {"title": "Fixed error range for `EmptyTargetNamespace`", "body": "With this XSD file:\r\n\r\n```xml\r\n<xs:schema xmlns:xs=\"http://www.w3.org/2001/XMLSchema\"\r\n           elementFormDefault=\"qualified\" xml:lang=\"EN\"\r\n           targetNamespace=\"\"\r\n           version=\"1.0\">\r\n</xs:schema>\r\n```\r\n\r\nError should highlight the attribute value of targetNamespace", "url": "https://github.com/eclipse/lemminx/issues/472", "user": "angelozerr", "labels": ["XSD", "bug", "validation"], "created": "2019-06-26 14:04:58", "closed": "2019-06-28 00:00:18", "commits": {}, "ttf": 1.0002777777777778, "commitsDetails": []}, {"title": "Fixed error range for `ct-props-correct.3`", "body": "This XSD file:\r\n\r\n```xml\r\n<?xml version=\"1.1\" ?>\r\n<xs:schema xmlns:xs=\"http://www.w3.org/2001/XMLSchema\" targetNamespace=\"http://www.w3.org/2001/XMLSchema\">\r\n\t<xs:complexType name=\"aComplexType\">\r\n\t\t<xs:complexContent>\r\n\t\t\t<xs:extension base=\"xs:aComplexType\"></xs:extension>\r\n\t\t</xs:complexContent>\r\n\t</xs:complexType>\r\n</xs:schema>\r\n```\r\n\r\nshould highlight `xs:aComplexType`", "url": "https://github.com/eclipse/lemminx/issues/467", "user": "angelozerr", "labels": ["XSD", "bug", "validation"], "created": "2019-06-25 14:08:29", "closed": "2019-06-26 13:19:11", "commits": {}, "ttf": 0.0002777777777777778, "commitsDetails": []}, {"title": "Fixed error range for `sch-props-correct.2`", "body": "When two XML xs:element is declared with the same name:\r\n\r\n```xml\r\n<?xml version=\"1.1\" ?>\r\n<xs:schema xmlns:xs=\"http://www.w3.org/2001/XMLSchema\">\r\n\t<xs:element name=\"elt1\" />\r\n\t<xs:element name=\"elt1\" />\r\n</xs:schema> \r\n```\r\n\r\nelt1 attribute value should be highlighted.", "url": "https://github.com/eclipse/lemminx/issues/462", "user": "angelozerr", "labels": ["XSD", "bug", "validation"], "created": "2019-06-24 13:46:33", "closed": "2019-06-28 14:41:31", "commits": {}, "ttf": 4.000277777777778, "commitsDetails": []}, {"title": "Fixed error range for `s4s-elt-must-match.2`", "body": "With the XSD file:\r\n\r\n```xml\r\n<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\r\n<xs:schema xmlns:xs=\"http://www.w3.org/2001/XMLSchema\" version=\"1.0\">\r\n\t\r\n\t<xs:simpleType name=\"X\" ></xs:simpleType>\r\n\t\r\n</xs:schema>\r\n```\r\n\r\n`xs:simpleType `should be highlighted with the `s4s-elt-must-match.2` error", "url": "https://github.com/eclipse/lemminx/issues/458", "user": "angelozerr", "labels": ["XSD", "bug", "validation"], "created": "2019-06-21 13:20:19", "closed": "2019-06-25 15:56:30", "commits": {}, "ttf": 4.000277777777778, "commitsDetails": []}, {"title": "Fixed error range for `ct-props-correct.3`", "body": "With this XML file:\r\n\r\n```xml\r\n<?xml version=\"1.1\" ?>\r\n<xs:schema xmlns:xs=\"http://www.w3.org/2001/XMLSchema\" elementFormDefault=\"qualified\" attributeFormDefault=\"unqualified\">\r\n\t \t\r\n\t<xs:complexType name=\"fullpersoninfo\">\r\n\t\t<xs:complexContent>\r\n\t\t\t<xs:extension base=\"fullpersoninfo\">\r\n\t\t\t</xs:extension>\r\n\t\t</xs:complexContent>\r\n\t</xs:complexType>\r\n\t\r\n</xs:schema>\r\n```\r\n\r\nThe \"fullpersoninfo\" of xs:extension base=\"fullpersoninfo\" should be highlighted.", "url": "https://github.com/eclipse/lemminx/issues/455", "user": "angelozerr", "labels": ["XSD", "bug", "validation"], "created": "2019-06-20 14:35:33", "closed": "2019-06-24 14:00:47", "commits": {}, "ttf": 3.000277777777778, "commitsDetails": []}, {"title": "Fixed error range for `src-ct.1`", "body": "With this XML file:\r\n\r\n```xml\r\n<?xml version=\"1.1\" ?>\r\n<xs:schema xmlns:xs=\"http://www.w3.org/2001/XMLSchema\" elementFormDefault=\"qualified\" attributeFormDefault=\"unqualified\">\r\n\t \t\r\n\t<xs:complexType name=\"fullpersoninfo\">\r\n\t\t<xs:complexContent>\r\n\t\t\t<xs:extension base=\"xs:string\">\r\n\t\t\t</xs:extension>\r\n\t\t</xs:complexContent>\r\n\t</xs:complexType>\r\n\t\r\n</xs:schema>\r\n```\r\n\r\nThe `xs:string` attribute value should be highligted as an error.", "url": "https://github.com/eclipse/lemminx/issues/453", "user": "angelozerr", "labels": ["XSD", "bug", "validation"], "created": "2019-06-20 09:52:42", "closed": "2019-06-21 14:47:59", "commits": {}, "ttf": 1.0002777777777778, "commitsDetails": []}, {"title": "Fixed error range for `duplicate attribute`.", "body": "If we have duplicate prefix (see following sample with duplicate `xmlns:tns`) :\r\n\r\n```xml\r\n<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\r\n<xs:schema xmlns:xs=\"http://www.w3.org/2001/XMLSchema\" \r\n\txmlns:tns=\"http://camel.apache.org/schema/spring\"\r\n\txmlns:tns=\"http://camel.apache.org/schema/spring\" version=\"1.0\">\r\n```\r\n\r\nThe error range highlight the last attribute (in this case version) \r\n\r\n![image](https://user-images.githubusercontent.com/1932211/59839415-e16a0800-9350-11e9-83da-204ac1d7ca4a.png)\r\n\r\nalthough it should highlight the first or second xmlns:ts.\r\n\r\nProblem comes from `XMLSyntaxErrorCode` with `AttributeNSNotUnique`\r\n\r\nPlease note there are the same problem with attribute without NS (`AttributeNotUnique`):\r\n\r\n```xml\r\n<a attr=\"\" attr=\"\" attr2=\"\" />\r\n```\r\n\r\nToday attr2 is higlighted although it should be attr which should be highligted.\r\n\r\n![image](https://user-images.githubusercontent.com/1932211/59839321-c0a1b280-9350-11e9-8052-970c0066b420.png)\r\n\r\nTo fix this 2 problems, we must use `arguments` which contains the attribute name to highlight by using `XMLPositionUtility.selectAttributeNameFromGivenNameAt` I think.", "url": "https://github.com/eclipse/lemminx/issues/452", "user": "angelozerr", "labels": ["XSD", "bug", "validation"], "created": "2019-06-20 09:45:29", "closed": "2019-06-20 19:10:03", "commits": {}, "ttf": 0.0002777777777777778, "commitsDetails": []}, {"title": "Fixed error range for `p-props-correct.2.1`", "body": "if minOccurs > maxOccurs in xs:element, xerces report a `p-props-correct.2.1` and the range is not managed:\r\n\r\n![image](https://user-images.githubusercontent.com/1932211/59434939-d3fecc00-8dec-11e9-87ac-31935cd8f362.png)\r\n\r\nHere the XSD sample:\r\n\r\n```xml\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<xs:schema \r\n\txmlns:xs=\"http://www.w3.org/2001/XMLSchema\">\r\n\t<xs:complexType name=\"testType\">     \r\n\t\t<xs:all>\r\n\t\t\t<xs:element name=\"testEle\" minOccurs=\"1\" maxOccurs=\"0\" type=\"xs:string\"/>\r\n\t\t</xs:all>\r\n\t</xs:complexType>\r\n</xs:schema>\r\n```", "url": "https://github.com/eclipse/lemminx/issues/436", "user": "angelozerr", "labels": ["XSD", "bug", "validation"], "created": "2019-06-13 13:06:47", "closed": "2019-06-14 19:00:39", "commits": {}, "ttf": 1.0002777777777778, "commitsDetails": []}, {"title": "Fixed case sensitivity problems for element and attribute names", "body": "XML Element/Attribute names must be case sensitive. For instance if we have this xml\r\n\r\n`<a></A>`\r\n\r\nFor example if we set the cursor in `<a>`, document highlight should not highlight `</A>`", "url": "https://github.com/eclipse/lemminx/issues/433", "user": "angelozerr", "labels": ["bug"], "created": "2019-06-12 16:56:30", "closed": "2019-06-14 15:05:14", "commits": {"bfbd21034e5a35acdf9098325aab31692243ac3b": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "beb7b6831323b70ca6d6638287be9e9d8f2b1261": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "87d73414445d89972fa1dbd252327d9d96813ffd": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}}, "ttf": 1.0002777777777778, "commitsDetails": [{"commitHash": "bfbd21034e5a35acdf9098325aab31692243ac3b", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "beb7b6831323b70ca6d6638287be9e9d8f2b1261", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "87d73414445d89972fa1dbd252327d9d96813ffd", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": ["d19768c659da0bf5220cd4993075723da50af4c4"], "nameRev": "87d73414445d89972fa1dbd252327d9d96813ffd tags/0.8.0~60", "commitMessage": "Element/Attribute names must be case sensitive (see #433)\n\nThis PR fix #433 and avoid using String#toLowerCase() which creates a\nlot of instances of String.", "commitDateTime": "2019-06-14 17:05:13", "authoredDateTime": "2019-06-12 19:16:30", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/DOMElement.java", "insertions": 11, "deletions": 4, "lines": 15}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/DOMParser.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/parser/XMLScanner.java", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/services/XMLHighlightingTest.java", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/services/XMLRenameTest.java", "insertions": 3, "deletions": 3, "lines": 6}], "commitSpoonAstDiffStats": [{"spoonFilePath": "DOMElement.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.dom.DOMElement.isSameTag(java.lang.String)", "TOT": 6, "UPD": 2, "INS": 1, "MOV": 2, "DEL": 1}, {"spoonMethodName": "org.eclipse.lsp4xml.dom.DOMElement.getAllPrefixes()", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}]}, {"spoonFilePath": "DOMParser.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.dom.DOMParser.parse(org.eclipse.lsp4xml.commons.TextDocument,org.eclipse.lsp4xml.uriresolver.URIResolverExtensionManager,boolean,org.eclipse.lsp4j.jsonrpc.CancelChecker)", "TOT": 2, "UPD": 0, "INS": 0, "MOV": 1, "DEL": 1}]}, {"spoonFilePath": "XMLScanner.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.dom.parser.XMLScanner.nextElementName()", "TOT": 2, "UPD": 0, "INS": 0, "MOV": 1, "DEL": 1}, {"spoonMethodName": "org.eclipse.lsp4xml.dom.parser.XMLScanner.nextAttributeName()", "TOT": 2, "UPD": 0, "INS": 0, "MOV": 1, "DEL": 1}, {"spoonMethodName": "org.eclipse.lsp4xml.dom.parser.XMLScanner.doctypeName()", "TOT": 2, "UPD": 0, "INS": 0, "MOV": 1, "DEL": 1}]}, {"spoonFilePath": "XMLHighlightingTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.services.XMLHighlightingTest.caseInsensivity()", "TOT": 3, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 2}]}, {"spoonFilePath": "XMLRenameTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.services.XMLRenameTest.caseInsensivity()", "TOT": 3, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 2}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["87d73414445d89972fa1dbd252327d9d96813ffd"], "filteredCommitsReason": {"duplicated": 2, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 15.0, "deletions": 8.0, "lines": 23.0, "gitFilesChange": 3}, "spoonStatsSummary": {"TOT": 15.0, "UPD": 2.0, "INS": 1.0, "MOV": 6.0, "DEL": 6.0, "spoonFilesChanged": 3, "spoonMethodsChanged": 6}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/parser", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom"], "changesInPackagesSPOON": ["org.eclipse.lsp4xml.dom.DOMElement.isSameTag(java.lang.String)", "org.eclipse.lsp4xml.dom.parser.XMLScanner.doctypeName()", "org.eclipse.lsp4xml.dom.DOMParser.parse(org.eclipse.lsp4xml.commons.TextDocument,org.eclipse.lsp4xml.uriresolver.URIResolverExtensionManager,boolean,org.eclipse.lsp4j.jsonrpc.CancelChecker)", "org.eclipse.lsp4xml.dom.DOMElement.getAllPrefixes()", "org.eclipse.lsp4xml.dom.parser.XMLScanner.nextElementName()", "org.eclipse.lsp4xml.dom.parser.XMLScanner.nextAttributeName()"]}, {"title": "Selection formatting ignores attribute indentation preference", "body": "With `\"xml.format.splitAttributes\": true`, selection formatting still puts the 1st attribute on the same line as the opening tag:\r\n\r\n![Jun-11-2019 14-32-00](https://user-images.githubusercontent.com/148698/59297248-ce22b280-8c55-11e9-9f0e-ed9c0323a179.gif)\r\n", "url": "https://github.com/eclipse/lemminx/issues/429", "user": "fbricon", "labels": ["bug", "formatting"], "created": "2019-06-11 18:35:47", "closed": "2019-06-14 15:20:45", "commits": {}, "ttf": 2.000277777777778, "commitsDetails": []}, {"title": "Fixed error range for `cos-all-limited.2`", "body": "![2019-06-11_14-10](https://user-images.githubusercontent.com/20326645/59295926-d0cfd880-8c52-11e9-9bbc-a8ff7f6d3cc5.png)\r\n\r\nError range should be on \"unbounded\".", "url": "https://github.com/eclipse/lemminx/issues/428", "user": "xorye", "labels": ["XSD", "bug", "validation"], "created": "2019-06-11 18:12:42", "closed": "2019-06-14 15:12:42", "commits": {}, "ttf": 2.000277777777778, "commitsDetails": []}, {"title": "Fixed error range for `src-element.3`", "body": "Given:\r\n```xml\r\n<a xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" \r\n     xsi:noNamespaceSchemaLocation=\"intType.xsd\">\r\n\t<b></b>\r\n</a>\r\n```\r\n\r\nand the XSD:\r\n```xml\r\n<xs:schema xmlns:xs=\"http://www.w3.org/2001/XMLSchema\">\r\n  <xs:element name=\"a\" type=\"xs:integer\">\r\n    <xs:complexType>\r\n      <xs:sequence>\r\n        <xs:element name=\"b\"></xs:element>\r\n      </xs:sequence>\r\n    </xs:complexType>\r\n  </xs:element>\r\n</xs:schema>\r\n```\r\n\r\nYou get errors on both documents:\r\n\r\nThe XML:\r\n![Selection_048](https://user-images.githubusercontent.com/32624665/59116202-03a76300-8919-11e9-8c32-c7ca3c9a97bf.png)\r\n\r\nThe XSD:\r\n![Selection_047](https://user-images.githubusercontent.com/32624665/59116168-f0949300-8918-11e9-8808-bb3db6bd128a.png)\r\n", "url": "https://github.com/eclipse/lemminx/issues/420", "user": "NikolasKomonen", "labels": ["CM Extension", "XSD", "bug", "validation"], "created": "2019-06-07 15:40:26", "closed": "2019-06-17 20:58:43", "commits": {}, "ttf": 10.000277777777777, "commitsDetails": []}, {"title": "XSD validator aggressively logs validation errors stacktraces", "body": "When you create a new xsd file and open it, the server logs an exception:\r\n```\r\n[Error - 11:42:22 AM] Jun. 05, 2019 11:42:22 org.eclipse.lsp4xml.extensions.xsd.participants.diagnostics.XSDValidator doDiagnostics()\r\nMessage: Unexpected XMLValidator error\r\n::::-1:-1:-1:Premature end of file.\r\n\tat org.eclipse.lsp4xml.services.extensions.diagnostics.AbstractLSPErrorReporter.reportError(AbstractLSPErrorReporter.java:94)\r\n\tat org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)\r\n\tat org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)\r\n\tat org.apache.xerces.impl.XMLVersionDetector.determineDocVersion(Unknown Source)\r\n\tat org.apache.xerces.impl.xs.opti.SchemaParsingConfig.parse(Unknown Source)\r\n\tat org.apache.xerces.impl.xs.opti.SchemaParsingConfig.parse(Unknown Source)\r\n\tat org.apache.xerces.impl.xs.opti.SchemaDOMParser.parse(Unknown Source)\r\n\tat org.apache.xerces.impl.xs.traversers.XSDHandler.getSchemaDocument(Unknown Source)\r\n\tat org.apache.xerces.impl.xs.traversers.XSDHandler.parseSchema(Unknown Source)\r\n\tat org.apache.xerces.impl.xs.XMLSchemaLoader.loadSchema(Unknown Source)\r\n\tat org.apache.xerces.impl.xs.XMLSchemaLoader.loadGrammar(Unknown Source)\r\n\tat org.eclipse.lsp4xml.extensions.xsd.participants.diagnostics.LSPXMLGrammarPreparser.preparseGrammar(LSPXMLGrammarPreparser.java:53)\r\n\tat org.eclipse.lsp4xml.extensions.xsd.participants.diagnostics.XSDValidator.doDiagnostics(XSDValidator.java:89)\r\n\tat org.eclipse.lsp4xml.extensions.xsd.participants.diagnostics.XSDDiagnosticsParticipant.doDiagnostics(XSDDiagnosticsParticipant.java:38)\r\n\tat org.eclipse.lsp4xml.services.XMLDiagnostics.doExtensionsDiagnostics(XMLDiagnostics.java:83)\r\n\tat org.eclipse.lsp4xml.services.XMLDiagnostics.doDiagnostics(XMLDiagnostics.java:51)\r\n\tat org.eclipse.lsp4xml.services.XMLLanguageService.doDiagnostics(XMLLanguageService.java:111)\r\n\tat org.eclipse.lsp4xml.services.XMLLanguageService.publishDiagnostics(XMLLanguageService.java:120)\r\n\tat org.eclipse.lsp4xml.XMLTextDocumentService.doTriggerValidation(XMLTextDocumentService.java:427)\r\n\tat org.eclipse.lsp4xml.XMLTextDocumentService.lambda$triggerValidation$19(XMLTextDocumentService.java:419)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.lang.Thread.run(Thread.java:835)\r\n\r\n[Trace - 11:42:22 AM] Received notification 'textDocument/publishDiagnostics'.\r\n```\r\n\r\nIf you add some invalid content:\r\n```xml\r\n<?xml version=\"1.0\" ?>\r\n<xs:schema xmlns:xs=\"http://www.w3.org/2001/XMLSchema\">\r\n  <xs:complexType name=\"property\">\r\n</xs:schema>\r\n```\r\nThen:\r\n```\r\nMessage: Unexpected XMLValidator error\r\n:file:///Users/fbricon/Downloads/sample-resources/incomplete.xsd:file:///Users/fbricon/Downloads/sample-resources/incomplete.xsd:file:///Users/fbricon/Downloads/sample-resources/incomplete.xsd:4:3:116:The element type \"xs:complexType\" must be terminated by the matching end-tag \"</xs:complexType>\".\r\n\tat org.eclipse.lsp4xml.services.extensions.diagnostics.AbstractLSPErrorReporter.reportError(AbstractLSPErrorReporter.java:94)\r\n\tat org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)\r\n\tat org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)\r\n\tat org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)\r\n\tat org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)\r\n\tat org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)\r\n\tat org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)\r\n\tat org.apache.xerces.impl.xs.opti.SchemaParsingConfig.parse(Unknown Source)\r\n\tat org.apache.xerces.impl.xs.opti.SchemaParsingConfig.parse(Unknown Source)\r\n\tat org.apache.xerces.impl.xs.opti.SchemaDOMParser.parse(Unknown Source)\r\n\tat org.apache.xerces.impl.xs.traversers.XSDHandler.getSchemaDocument(Unknown Source)\r\n\tat org.apache.xerces.impl.xs.traversers.XSDHandler.parseSchema(Unknown Source)\r\n\tat org.apache.xerces.impl.xs.XMLSchemaLoader.loadSchema(Unknown Source)\r\n\tat org.apache.xerces.impl.xs.XMLSchemaLoader.loadGrammar(Unknown Source)\r\n\tat org.eclipse.lsp4xml.extensions.xsd.participants.diagnostics.LSPXMLGrammarPreparser.preparseGrammar(LSPXMLGrammarPreparser.java:53)\r\n\tat org.eclipse.lsp4xml.extensions.xsd.participants.diagnostics.XSDValidator.doDiagnostics(XSDValidator.java:89)\r\n\tat org.eclipse.lsp4xml.extensions.xsd.participants.diagnostics.XSDDiagnosticsParticipant.doDiagnostics(XSDDiagnosticsParticipant.java:38)\r\n\tat org.eclipse.lsp4xml.services.XMLDiagnostics.doExtensionsDiagnostics(XMLDiagnostics.java:83)\r\n\tat org.eclipse.lsp4xml.services.XMLDiagnostics.doDiagnostics(XMLDiagnostics.java:51)\r\n\tat org.eclipse.lsp4xml.services.XMLLanguageService.doDiagnostics(XMLLanguageService.java:111)\r\n\tat org.eclipse.lsp4xml.services.XMLLanguageService.publishDiagnostics(XMLLanguageService.java:120)\r\n\tat org.eclipse.lsp4xml.XMLTextDocumentService.doTriggerValidation(XMLTextDocumentService.java:427)\r\n\tat org.eclipse.lsp4xml.XMLTextDocumentService.lambda$triggerValidation$19(XMLTextDocumentService.java:419)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.lang.Thread.run(Thread.java:835)\r\n```\r\n\r\nThose errors should not pollute the logs.", "url": "https://github.com/eclipse/lemminx/issues/416", "user": "fbricon", "labels": ["bug"], "created": "2019-06-05 15:47:16", "closed": "2019-06-05 19:58:45", "commits": {"01bba154844c27330bbb7436270d700ea6445a6a": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "636bdcff53a430836e97bfd9a5d14050b9998695": {"commitGHEventType": "referenced", "commitUser": "fbricon"}}, "ttf": 0.0002777777777777778, "commitsDetails": [{"commitHash": "01bba154844c27330bbb7436270d700ea6445a6a", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "636bdcff53a430836e97bfd9a5d14050b9998695", "commitGHEventType": "referenced", "commitUser": "fbricon", "commitParents": ["46984c2d361e1bfe6884d63c69d0d21747186be9"], "nameRev": "636bdcff53a430836e97bfd9a5d14050b9998695 tags/0.7.0~6", "commitMessage": "Ignore XMLParserException to fix #416\n\nIgnore XMLParserException to fix #416\r\n\r\nSigned-off-by: azerr <azerr@redhat.com>", "commitDateTime": "2019-06-05 15:58:44", "authoredDateTime": "2019-06-05 20:09:10", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/xsd/participants/diagnostics/XSDValidator.java", "insertions": 3, "deletions": 2, "lines": 5}], "commitSpoonAstDiffStats": [{"spoonFilePath": "XSDValidator.java", "spoonMethods": [{"spoonMethodName": "java.io.IOException", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.xsd.participants.diagnostics.XSDValidator.doDiagnostics(org.eclipse.lsp4xml.dom.DOMDocument,org.apache.xerces.xni.parser.XMLEntityResolver,java.util.List,org.eclipse.lsp4j.jsonrpc.CancelChecker)", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["636bdcff53a430836e97bfd9a5d14050b9998695"], "filteredCommitsReason": {"duplicated": 1, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 3.0, "deletions": 2.0, "lines": 5.0, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 2.0, "UPD": 2.0, "INS": 0.0, "MOV": 0.0, "DEL": 0.0, "spoonFilesChanged": 1, "spoonMethodsChanged": 2}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/xsd/participants"], "changesInPackagesSPOON": ["java.io.IOException", "org.eclipse.lsp4xml.extensions.xsd.participants.diagnostics.XSDValidator.doDiagnostics(org.eclipse.lsp4xml.dom.DOMDocument,org.apache.xerces.xni.parser.XMLEntityResolver,java.util.List,org.eclipse.lsp4j.jsonrpc.CancelChecker)"]}, {"title": "Fix error range for `cos-all-limited.2`", "body": "![image](https://user-images.githubusercontent.com/32624665/58705110-30d59d80-837c-11e9-84d4-dce58da1aede.png)\r\n\r\n```xml\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<xs:schema \r\n\txmlns:xs=\"http://www.w3.org/2001/XMLSchema\">\r\n\t\r\n\t<xs:complexType name=\"testType\">\r\n\t\t<xs:all>\r\n\t\t\t<xs:element name=\"testEle\" minOccurs=\"2\" maxOccurs=\"unbounded\" type=\"xs:string\"/>\r\n\t\t</xs:all>\r\n\t</xs:complexType>\r\n</xs:schema>\r\n```\r\n", "url": "https://github.com/eclipse/lemminx/issues/407", "user": "NikolasKomonen", "labels": ["bug", "validation"], "created": "2019-05-31 12:16:32", "closed": "2019-06-11 14:19:22", "commits": {}, "ttf": 11.000277777777777, "commitsDetails": []}, {"title": "Codeactions not working in Sublime Text", "body": "Codeactions don't work (in sublime text at least), this is the log from sublime's [LSP](https://github.com/tomv564/LSP.git) client\r\n```\r\nLSP:  --> textDocument/codeAction\r\nLSP:      [{'title': \"Close with '/>'\", 'arguments': ['file:///D:/Downloads/Archives/lsp4xml-master/org.eclipse.lsp4xml/pom.xml', 5, [{'range': {'end': {'character': 12, 'line': 7}, 'start': {'character': 12, 'line': 7}}, 'newText': '/>'}]], 'command': '_xml.applyCodeAction'}, {'title': \"Close with '>'\", 'arguments': ['file:///D:/Downloads/Archives/lsp4xml-master/org.eclipse.lsp4xml/pom.xml', 5, [{'range': {'end': {'character': 12, 'line': 7}, 'start': {'character': 12, 'line': 7}}, 'newText': '>'}]], 'command': '_xml.applyCodeAction'}, {'title': \"Close with '></artifactId>'\", 'arguments': ['file:///D:/Downloads/Archives/lsp4xml-master/org.eclipse.lsp4xml/pom.xml', 5, [{'range': {'end': {'character': 12, 'line': 7}, 'start': {'character': 12, 'line': 7}}, 'newText': '></artifactId>'}]], 'command': '_xml.applyCodeAction'}]\r\nLSP:  --> workspace/executeCommand\r\nserver: mai 28, 2019 9:16:35 PM org.eclipse.lsp4j.jsonrpc.RemoteEndpoint fallbackResponseError\r\nserver: SEVERE: Internal error: java.lang.reflect.InvocationTargetException\r\nserver: java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\r\nserver: at org.eclipse.lsp4j.jsonrpc.services.GenericEndpoint.lambda$null$0(GenericEndpoint.java:67)\r\nserver: at org.eclipse.lsp4j.jsonrpc.services.GenericEndpoint.request(GenericEndpoint.java:120)\r\nserver: at org.eclipse.lsp4j.jsonrpc.RemoteEndpoint.handleRequest(RemoteEndpoint.java:261)\r\nserver: at org.eclipse.lsp4j.jsonrpc.RemoteEndpoint.consume(RemoteEndpoint.java:190)\r\nserver: at org.eclipse.lsp4j.jsonrpc.json.StreamMessageProducer.handleMessage(StreamMessageProducer.java:192)\r\nserver: at org.eclipse.lsp4j.jsonrpc.json.StreamMessageProducer.listen(StreamMessageProducer.java:94)\r\nserver: at org.eclipse.lsp4j.jsonrpc.json.ConcurrentMessageProcessor.run(ConcurrentMessageProcessor.java:113)\r\nserver: at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\nserver: at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\nserver: at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\nserver: at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\nserver: at java.base/java.lang.Thread.run(Thread.java:835)\r\nserver: Caused by: java.lang.reflect.InvocationTargetException\r\nserver: at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\nserver: at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\nserver: at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\nserver: at java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\nserver: at org.eclipse.lsp4j.jsonrpc.services.GenericEndpoint.lambda$null$0(GenericEndpoint.java:65)\r\nserver: ... 11 more\r\nserver: Caused by: java.lang.UnsupportedOperationException\r\nserver: at org.eclipse.lsp4j.services.WorkspaceService.executeCommand(WorkspaceService.java:40)\r\nserver: ... 16 more\r\nserver: \r\nLSP:      None\r\n```\r\n## Steps to reproduce\r\n- open an xml file (e.g https://github.com/angelozerr/lsp4xml/blob/master/pom.xml)\r\n- remove a closing `>`", "url": "https://github.com/eclipse/lemminx/issues/401", "user": "AmjadHD", "labels": ["bug"], "created": "2019-05-28 20:28:48", "closed": "2019-06-21 11:48:04", "commits": {}, "ttf": 23.00027777777778, "commitsDetails": []}, {"title": "Startup time to do completion using SVG DTD file is slow", "body": "After server starts up, trying to do completion takes a while at first even with the cached DTD file.\r\n\r\n```xml\r\n<?xml version=\"1.0\" standalone=\"no\" ?>\r\n<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.0//EN\" \"http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd\">\r\n<svg xmlns=\"http://www.w3.org/2000/svg\">\r\n    <animate attributeName=\"foo\">\r\n        <\r\n    </animate>\r\n</svg>\r\n\r\n```\r\n\r\n<img width=\"929\" alt=\"Screen Shot 2019-05-22 at 6 41 07 PM\" src=\"https://user-images.githubusercontent.com/148698/58213751-48988c00-7cc1-11e9-8112-c3539621bcdd.png\">\r\n\r\nThere is probably a performance issue somewhere.", "url": "https://github.com/eclipse/lemminx/issues/397", "user": "NikolasKomonen", "labels": ["DTD", "bug", "completion", "performance"], "created": "2019-05-27 21:23:21", "closed": "2019-05-29 18:20:36", "commits": {"9476b37f1c54015f690ed7d8218551a83da5f833": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "69f22234e8a8de3cf4ab799ae64678b14d6a21c6": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "1097abe65cf14bc5425068541051ded46bca3694": {"commitGHEventType": "referenced", "commitUser": "fbricon"}}, "ttf": 1.0002777777777778, "commitsDetails": [{"commitHash": "9476b37f1c54015f690ed7d8218551a83da5f833", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "69f22234e8a8de3cf4ab799ae64678b14d6a21c6", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "1097abe65cf14bc5425068541051ded46bca3694", "commitGHEventType": "referenced", "commitUser": "fbricon", "commitParents": ["12f97c0cc981656c1a501ff600defb97bd2018c0"], "nameRev": "1097abe65cf14bc5425068541051ded46bca3694 tags/0.7.0~16", "commitMessage": "Use DTD/XML Schema cache manager for completion\n\nThis PR uses like validation the cache manager to load the DTD/XML\nSchema content model used for completion based on grammar, hover. It\nshould fix the performance problem of #397\n\nSigned-off-by: azerr <azerr@redhat.com>", "commitDateTime": "2019-05-29 14:19:20", "authoredDateTime": "2019-05-28 02:48:34", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/model/ContentModelManager.java", "insertions": 19, "deletions": 1, "lines": 20}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/uriresolver/XMLCacheResolverExtension.java", "insertions": 35, "deletions": 7, "lines": 42}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/extensions/contentmodel/DTDCompletionWithCacheExtensionsTest.java", "insertions": 72, "deletions": 0, "lines": 72}], "commitSpoonAstDiffStats": [{"spoonFilePath": "ContentModelManager.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.model.ContentModelManager.findCMDocument(java.lang.String,java.lang.String,java.lang.String,org.eclipse.lsp4xml.extensions.contentmodel.model.ContentModelProvider)", "TOT": 7, "UPD": 0, "INS": 2, "MOV": 4, "DEL": 1}]}, {"spoonFilePath": "XMLCacheResolverExtension.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.uriresolver.XMLCacheResolverExtension.resolveEntity(org.apache.xerces.xni.XMLResourceIdentifier)", "TOT": 6, "UPD": 0, "INS": 1, "MOV": 4, "DEL": 1}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.uriresolver.XMLCacheResolverExtension.getCachedResource(java.lang.String)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.uriresolver.XMLCacheResolverExtension.isUseCache()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "DTDCompletionWithCacheExtensionsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.DTDCompletionWithCacheExtensionsTest", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["1097abe65cf14bc5425068541051ded46bca3694"], "filteredCommitsReason": {"duplicated": 2, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 54.0, "deletions": 8.0, "lines": 62.0, "gitFilesChange": 2}, "spoonStatsSummary": {"TOT": 15.0, "UPD": 0.0, "INS": 5.0, "MOV": 8.0, "DEL": 2.0, "spoonFilesChanged": 2, "spoonMethodsChanged": 4}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/uriresolver", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/model"], "changesInPackagesSPOON": ["org.eclipse.lsp4xml.extensions.contentmodel.model.ContentModelManager.findCMDocument(java.lang.String,java.lang.String,java.lang.String,org.eclipse.lsp4xml.extensions.contentmodel.model.ContentModelProvider)", "org.eclipse.lsp4xml.extensions.contentmodel.uriresolver.XMLCacheResolverExtension.isUseCache()", "org.eclipse.lsp4xml.extensions.contentmodel.uriresolver.XMLCacheResolverExtension.resolveEntity(org.apache.xerces.xni.XMLResourceIdentifier)", "org.eclipse.lsp4xml.extensions.contentmodel.uriresolver.XMLCacheResolverExtension.getCachedResource(java.lang.String)"]}, {"title": "Fix error range for ETagRequired", "body": "When multiple child elements are missing their end tags, the error range refers to the parent element's start tag, rather than the child element's.\r\n\r\nThis error does not happen when only one child is missing their end tag.\r\n\r\nExample XML file:\r\n```\r\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<picture>\r\n    <p1></p1>\r\n    <p2>    <!-- missing end tag -->\r\n    <p3>    <!-- missing end tag -->\r\n</picture>\r\n```\r\n\r\nResult:\r\n![image](https://user-images.githubusercontent.com/20326645/58286311-75f64000-7d7c-11e9-8c5e-05743696bc4f.png)\r\n\r\n![image](https://user-images.githubusercontent.com/20326645/58286329-80b0d500-7d7c-11e9-8fc2-b5aefadcf0d2.png)\r\n\r\n\r\n\r\nError message:\r\n`The element type \"p3\" must be terminated by the matching end-tag \"</p3>\".`\r\n\r\n", "url": "https://github.com/eclipse/lemminx/issues/387", "user": "xorye", "labels": ["bug", "validation"], "created": "2019-05-23 21:04:27", "closed": "2019-05-29 14:44:58", "commits": {"c228469ab59cbe7ef1997ab13fbcc6f19c7aa2ba": {"commitGHEventType": "referenced", "commitUser": "xorye"}, "d64c771712739b66526457ac37e3dc93e2f32e79": {"commitGHEventType": "referenced", "commitUser": "fbricon"}}, "ttf": 5.000277777777778, "commitsDetails": [{"commitHash": "c228469ab59cbe7ef1997ab13fbcc6f19c7aa2ba", "commitGHEventType": "referenced", "commitUser": "xorye", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "d64c771712739b66526457ac37e3dc93e2f32e79", "commitGHEventType": "referenced", "commitUser": "fbricon", "commitParents": ["f9d525324d3ae2fbae28e879147e04ff475d330a"], "nameRev": "d64c771712739b66526457ac37e3dc93e2f32e79 tags/0.7.0~14", "commitMessage": "Fix error range for ETagRequired\n\nFixes #387\n\nSigned-off-by: David Kwon <dakwon@redhat.com>\n", "commitDateTime": "2019-05-30 13:54:17", "authoredDateTime": "2019-05-27 15:33:40", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/utils/XMLPositionUtility.java", "insertions": 19, "deletions": 7, "lines": 26}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/extensions/contentmodel/XMLSyntaxDiagnosticsTest.java", "insertions": 10, "deletions": 0, "lines": 10}], "commitSpoonAstDiffStats": [{"spoonFilePath": "XMLPositionUtility.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.utils.XMLPositionUtility.findChildNode(java.lang.String,java.util.List)", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.utils.XMLPositionUtility.selectChildEndTag(java.lang.String,int,org.eclipse.lsp4xml.dom.DOMDocument)", "TOT": 26, "UPD": 4, "INS": 2, "MOV": 19, "DEL": 1}, {"spoonMethodName": "org.eclipse.lsp4xml.utils.XMLPositionUtility.findUnclosedChildNode(java.util.List)", "TOT": 2, "UPD": 0, "INS": 2, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLSyntaxDiagnosticsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.XMLSyntaxDiagnosticsTest.testETagRequired3()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["d64c771712739b66526457ac37e3dc93e2f32e79"], "filteredCommitsReason": {"duplicated": 1, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 19.0, "deletions": 7.0, "lines": 26.0, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 29.0, "UPD": 5.0, "INS": 4.0, "MOV": 19.0, "DEL": 1.0, "spoonFilesChanged": 1, "spoonMethodsChanged": 3}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/utils"], "changesInPackagesSPOON": ["org.eclipse.lsp4xml.utils.XMLPositionUtility.findUnclosedChildNode(java.util.List)", "org.eclipse.lsp4xml.utils.XMLPositionUtility.findChildNode(java.lang.String,java.util.List)", "org.eclipse.lsp4xml.utils.XMLPositionUtility.selectChildEndTag(java.lang.String,int,org.eclipse.lsp4xml.dom.DOMDocument)"]}, {"title": "Completion in svg file proposes many duplicates", "body": "Editing an svg file like this one causes completion to return many duplicate items:\r\n```xml\r\n<?xml version=\"1.0\" standalone=\"no\" ?>\r\n<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.0//EN\" \"http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd\">\r\n<svg xmlns=\"http://www.w3.org/2000/svg\">\r\n    <animate attributeName=\"foo\">\r\n        <\r\n    </animate>\r\n</svg>\r\n\r\n```\r\n\r\n<img width=\"929\" alt=\"Screen Shot 2019-05-22 at 6 41 07 PM\" src=\"https://user-images.githubusercontent.com/148698/58213751-48988c00-7cc1-11e9-8112-c3539621bcdd.png\">\r\n\r\n\r\nReferenced from: https://github.com/redhat-developer/vscode-xml/issues/141", "url": "https://github.com/eclipse/lemminx/issues/386", "user": "NikolasKomonen", "labels": ["XSD", "bug", "completion"], "created": "2019-05-23 13:15:51", "closed": "2019-05-27 21:32:36", "commits": {"6beb23cf453cce486255c6e2f5838830e25e47d1": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "b9c15a1d9d478e24e8c1269ca11e37cba8c98b1c": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "f609730458eb4abdecec9a95706f5417b341781b": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "9d78030ff99f9c657876a59b7251770bdaf39239": {"commitGHEventType": "referenced", "commitUser": "fbricon"}}, "ttf": 4.000277777777778, "commitsDetails": [{"commitHash": "6beb23cf453cce486255c6e2f5838830e25e47d1", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "b9c15a1d9d478e24e8c1269ca11e37cba8c98b1c", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "f609730458eb4abdecec9a95706f5417b341781b", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "9d78030ff99f9c657876a59b7251770bdaf39239", "commitGHEventType": "referenced", "commitUser": "fbricon", "commitParents": ["12e3956e700aa5e023b4f9a334235378722914de"], "nameRev": "9d78030ff99f9c657876a59b7251770bdaf39239 tags/0.7.0~19", "commitMessage": "Fix duplicate completions for svg DTD\n\nFixes #386\n\nSigned-off-by: Nikolas Komonen <nikolaskomonen@gmail.com>\n", "commitDateTime": "2019-05-27 17:32:34", "authoredDateTime": "2019-05-27 16:38:22", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/dtd/contentmodel/CMDTDDocument.java", "insertions": 9, "deletions": 7, "lines": 16}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/extensions/contentmodel/DTDCompletionExtensionsTest.java", "insertions": 17, "deletions": 0, "lines": 17}, {"filePath": "org.eclipse.lsp4xml/src/test/resources/catalogs/catalog.xml", "insertions": 4, "deletions": 0, "lines": 4}, {"filePath": "org.eclipse.lsp4xml/src/test/resources/dtd/svg.dtd", "insertions": 1704, "deletions": 0, "lines": 1704}], "commitSpoonAstDiffStats": [{"spoonFilePath": "CMDTDDocument.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.dtd.contentmodel.CMDTDDocument", "TOT": 2, "UPD": 2, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.dtd.contentmodel.CMDTDDocument.startContentModel(java.lang.String,org.apache.xerces.xni.Augmentations)", "TOT": 3, "UPD": 3, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.dtd.contentmodel.CMDTDDocument.element(java.lang.String,org.apache.xerces.xni.Augmentations)", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.dtd.contentmodel.CMDTDDocument.endContentModel(org.apache.xerces.xni.Augmentations)", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.dtd.contentmodel.CMDTDDocument.collectElementsDeclaration(java.lang.String,java.util.List)", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "DTDCompletionExtensionsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.DTDCompletionExtensionsTest.testNoDuplicateCompletionItems()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["9d78030ff99f9c657876a59b7251770bdaf39239"], "filteredCommitsReason": {"duplicated": 3, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 9.0, "deletions": 7.0, "lines": 16.0, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 8.0, "UPD": 8.0, "INS": 0.0, "MOV": 0.0, "DEL": 0.0, "spoonFilesChanged": 1, "spoonMethodsChanged": 5}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/dtd/contentmodel"], "changesInPackagesSPOON": ["org.eclipse.lsp4xml.extensions.dtd.contentmodel.CMDTDDocument.startContentModel(java.lang.String,org.apache.xerces.xni.Augmentations)", "org.eclipse.lsp4xml.extensions.dtd.contentmodel.CMDTDDocument.endContentModel(org.apache.xerces.xni.Augmentations)", "org.eclipse.lsp4xml.extensions.dtd.contentmodel.CMDTDDocument.element(java.lang.String,org.apache.xerces.xni.Augmentations)", "org.eclipse.lsp4xml.extensions.dtd.contentmodel.CMDTDDocument.collectElementsDeclaration(java.lang.String,java.util.List)", "org.eclipse.lsp4xml.extensions.dtd.contentmodel.CMDTDDocument"]}, {"title": "Documents with an Internal Subset DOCTYPE had stopped trying to bind", "body": "My organization has documents like this:\r\n\r\n```xml\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<!DOCTYPE root [\r\n    <!ENTITY foo \"Bar\">\r\n]>\r\n```\r\n\r\nI'm trying to bind these documents using `fileAssociations`, but lsp4xml stops trying to bind at the `DOCTYPE`. It should continue looking for `xsi:schemaLocation` and in `fileAssociations` when the `DOCTYPE` lacks a DTD reference.", "url": "https://github.com/eclipse/lemminx/issues/379", "user": "zwaldowski", "labels": ["DTD", "bug", "validation"], "created": "2019-05-20 19:22:19", "closed": "2019-07-18 11:38:39", "commits": {"6507ca12daf6256ddaf2dda0f23b339f6e6f1c9e": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "602540a1d685eb2d27a309ce9006c4b73d8f18b5": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "4465faead15ec35ce1d486bedeeba083be2d3fc7": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "4ac40a2ab6950b89689b22b8d6b42840b8f536e9": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "15c2b15f2fe38d16f508e965abcab5f68d61ccde": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "0e35bc3233f93667e1e6d85bb6a9c20c311d58e5": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "67b93acb9fa7bd175bc49d6a8f9d62c56bf88700": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}}, "ttf": 58.000277777777775, "commitsDetails": [{"commitHash": "6507ca12daf6256ddaf2dda0f23b339f6e6f1c9e", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "602540a1d685eb2d27a309ce9006c4b73d8f18b5", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "4465faead15ec35ce1d486bedeeba083be2d3fc7", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "4ac40a2ab6950b89689b22b8d6b42840b8f536e9", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "15c2b15f2fe38d16f508e965abcab5f68d61ccde", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "0e35bc3233f93667e1e6d85bb6a9c20c311d58e5", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "67b93acb9fa7bd175bc49d6a8f9d62c56bf88700", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": ["c1e0a34839b97f6c3117aead291d66aa3ebcde99"], "nameRev": "67b93acb9fa7bd175bc49d6a8f9d62c56bf88700 tags/0.8.0~12", "commitMessage": "Documents with an Internal Subset DOCTYPE shouldn't stop trying to bind\n\nFix #379\n\nSigned-off-by: azerr <azerr@redhat.com>", "commitDateTime": "2019-07-18 13:38:38", "authoredDateTime": "2019-07-17 12:40:20", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/participants/diagnostics/LSPXMLParserConfiguration.java", "insertions": 75, "deletions": 0, "lines": 75}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/participants/diagnostics/XMLValidator.java", "insertions": 31, "deletions": 8, "lines": 39}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/extensions/contentmodel/DTDDoctypeDiagnosticsTest.java", "insertions": 36, "deletions": 0, "lines": 36}], "commitSpoonAstDiffStats": [{"spoonFilePath": "LSPXMLParserConfiguration.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.participants.diagnostics.LSPXMLParserConfiguration", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLValidator.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.participants.diagnostics.XMLValidator.doDiagnostics(org.eclipse.lsp4xml.dom.DOMDocument,org.apache.xerces.xni.parser.XMLEntityResolver,java.util.List,org.eclipse.lsp4xml.extensions.contentmodel.settings.ContentModelSettings,org.eclipse.lsp4j.jsonrpc.CancelChecker)", "TOT": 2, "UPD": 2, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.participants.diagnostics.XMLValidator.isDisableOnlyDTDValidation(org.eclipse.lsp4xml.dom.DOMDocument)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "DTDDoctypeDiagnosticsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.DTDDoctypeDiagnosticsTest.disableDTDValidationWhenNoElementDecl()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["67b93acb9fa7bd175bc49d6a8f9d62c56bf88700"], "filteredCommitsReason": {"duplicated": 6, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 106.0, "deletions": 8.0, "lines": 114.0, "gitFilesChange": 2}, "spoonStatsSummary": {"TOT": 4.0, "UPD": 2.0, "INS": 2.0, "MOV": 0.0, "DEL": 0.0, "spoonFilesChanged": 2, "spoonMethodsChanged": 3}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/participants"], "changesInPackagesSPOON": ["org.eclipse.lsp4xml.extensions.contentmodel.participants.diagnostics.LSPXMLParserConfiguration", "org.eclipse.lsp4xml.extensions.contentmodel.participants.diagnostics.XMLValidator.doDiagnostics(org.eclipse.lsp4xml.dom.DOMDocument,org.apache.xerces.xni.parser.XMLEntityResolver,java.util.List,org.eclipse.lsp4xml.extensions.contentmodel.settings.ContentModelSettings,org.eclipse.lsp4j.jsonrpc.CancelChecker)", "org.eclipse.lsp4xml.extensions.contentmodel.participants.diagnostics.XMLValidator.isDisableOnlyDTDValidation(org.eclipse.lsp4xml.dom.DOMDocument)"]}, {"title": "Fix error range for cvc-complex-type.2.4.f", "body": "Given this sequence.xsd schema:\r\n```xml\r\n<?xml version=\"1.0\" encoding=\"utf-8\" ?>\r\n<xs:schema\r\n    xmlns:xs=\"http://www.w3.org/2001/XMLSchema\"\r\n    elementFormDefault=\"qualified\">\r\n  <xs:element name=\"root\">\r\n    <xs:complexType>\r\n      <xs:sequence>\r\n        <xs:element name=\"tag\"/>\r\n        <xs:element\r\n            name=\"optional\"\r\n            minOccurs=\"0\"\r\n            maxOccurs=\"2\"/>\r\n      </xs:sequence>\r\n    </xs:complexType>\r\n  </xs:element>\r\n</xs:schema>\r\n```\r\nThe following xml snippet generates the error: `cvc-complex-type.2.4.f: 'optional' can occur a maximum of '2' times in the current sequence. This limit was exceeded. No child element is expected at this point.xml(cvc-complex-type.2.4.f)`:\r\n`\r\n```xml\r\n<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\r\n<root\r\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\r\n    xsi:noNamespaceSchemaLocation=\"sequence.xsd\">\r\n  <tag></tag>\r\n  <optional></optional>\r\n  <optional></optional>\r\n  <optional></optional>\r\n</root>\r\n```\r\n<img width=\"622\" alt=\"Screen Shot 2019-05-07 at 3 54 47 PM\" src=\"https://user-images.githubusercontent.com/148698/57328830-7df98300-70e0-11e9-9370-8cc8ac42e10a.png\">\r\n\r\nThe diagnostic rang is wrong though, it should cover the last opening tag.", "url": "https://github.com/eclipse/lemminx/issues/368", "user": "fbricon", "labels": ["XSD", "bug", "good first issue", "validation"], "created": "2019-05-07 19:55:35", "closed": "2019-05-21 15:21:41", "commits": {"fa2c0510453d72aa4053f2952bcf2c6edd90ac6e": {"commitGHEventType": "referenced", "commitUser": "fbricon"}}, "ttf": 13.000277777777777, "commitsDetails": [{"commitHash": "fa2c0510453d72aa4053f2952bcf2c6edd90ac6e", "commitGHEventType": "referenced", "commitUser": "fbricon", "commitParents": ["589c17cccba0b11b9f84c7789c4cc0bdd2c95ac9"], "nameRev": "fa2c0510453d72aa4053f2952bcf2c6edd90ac6e tags/0.6.0~6", "commitMessage": "Fixes error range for cvc2.4.f\n\nFixes #368\n\nSigned-off-by: David Kwon <dakwon@redhat.com>\n", "commitDateTime": "2019-05-21 11:21:39", "authoredDateTime": "2019-05-21 11:09:05", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/participants/XMLSchemaErrorCode.java", "insertions": 2, "deletions": 0, "lines": 2}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/extensions/contentmodel/XMLSchemaDiagnosticsTest.java", "insertions": 15, "deletions": 0, "lines": 15}, {"filePath": "org.eclipse.lsp4xml/src/test/resources/xsd/sequence.xsd", "insertions": 16, "deletions": 0, "lines": 16}], "commitSpoonAstDiffStats": [{"spoonFilePath": "XMLSchemaErrorCode.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.participants.XMLSchemaErrorCode", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.participants.XMLSchemaErrorCode.toLSPRange(org.apache.xerces.xni.XMLLocator,org.eclipse.lsp4xml.extensions.contentmodel.participants.XMLSchemaErrorCode,java.lang.Object[],org.eclipse.lsp4xml.dom.DOMDocument)", "TOT": 3, "UPD": 0, "INS": 2, "MOV": 1, "DEL": 0}]}, {"spoonFilePath": "XMLSchemaDiagnosticsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.XMLSchemaDiagnosticsTest.cvc_complex_type_2_4_f()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["fa2c0510453d72aa4053f2952bcf2c6edd90ac6e"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 2, "deletions": 0, "lines": 2, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 4, "UPD": 0, "INS": 3, "MOV": 1, "DEL": 0, "spoonFilesChanged": 1, "spoonMethodsChanged": 2}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/participants"], "changesInPackagesSPOON": ["org.eclipse.lsp4xml.extensions.contentmodel.participants.XMLSchemaErrorCode.toLSPRange(org.apache.xerces.xni.XMLLocator,org.eclipse.lsp4xml.extensions.contentmodel.participants.XMLSchemaErrorCode,java.lang.Object[],org.eclipse.lsp4xml.dom.DOMDocument)", "org.eclipse.lsp4xml.extensions.contentmodel.participants.XMLSchemaErrorCode"]}, {"title": "Fix error range for MarkupEntityMismatch", "body": "![Selection_041](https://user-images.githubusercontent.com/32624665/57312643-fa2d9f80-70bb-11e9-818b-42b791cbe964.png)\r\n\r\nAdjust the range so it covers the end tag properly", "url": "https://github.com/eclipse/lemminx/issues/367", "user": "NikolasKomonen", "labels": ["bug", "good first issue"], "created": "2019-05-07 15:34:17", "closed": "2019-05-22 19:40:19", "commits": {}, "ttf": 15.000277777777777, "commitsDetails": []}, {"title": "Self-closing tag doesn't remove end tag if tag name contains uppercase chars", "body": "Given \r\n```xml\r\n<root>\r\n\t<foo></foo>\r\n\t<bAr></bAr>\r\n</root>\r\n```\r\nself-closing foo correctly removes the closing tag, but it doesn't work for bAr, as it contains an upper case character.\r\n![Apr-16-2019 19-02-32](https://user-images.githubusercontent.com/148698/56249685-ac081c00-607a-11e9-8ed6-bbf8a926332c.gif)\r\n\r\n", "url": "https://github.com/eclipse/lemminx/issues/354", "user": "fbricon", "labels": ["bug", "completion"], "created": "2019-04-16 23:06:10", "closed": "2019-04-24 19:29:27", "commits": {"3168b2cf15febb6bba286feaae8cef0bf8011cf5": {"commitGHEventType": "referenced", "commitUser": "fbricon"}}, "ttf": 7.000277777777778, "commitsDetails": [{"commitHash": "3168b2cf15febb6bba286feaae8cef0bf8011cf5", "commitGHEventType": "referenced", "commitUser": "fbricon", "commitParents": ["fe527c3a3c9bc21ad0557f1a6836b47ade3a9908"], "nameRev": "3168b2cf15febb6bba286feaae8cef0bf8011cf5 tags/0.6.0~9", "commitMessage": "Fixed forward slash occasionally breaking autoclose\n\n... and autoclosing elements with capitals in their name\r\n\r\nFixes redhat-developer/vscode-xml#126 , #354\r\n\r\nSigned-off-by: Nikolas <nikolaskomonen@gmail.com>", "commitDateTime": "2019-04-24 15:27:08", "authoredDateTime": "2019-04-24 15:27:08", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/DOMParser.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/parser/XMLScanner.java", "insertions": 17, "deletions": 9, "lines": 26}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/XMLCompletions.java", "insertions": 20, "deletions": 5, "lines": 25}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/services/XMLCompletionTest.java", "insertions": 20, "deletions": 0, "lines": 20}], "commitSpoonAstDiffStats": [{"spoonFilePath": "DOMParser.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.dom.DOMParser.parse(org.eclipse.lsp4xml.commons.TextDocument,org.eclipse.lsp4xml.uriresolver.URIResolverExtensionManager)", "TOT": 4, "UPD": 0, "INS": 1, "MOV": 2, "DEL": 1}]}, {"spoonFilePath": "XMLScanner.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.dom.parser.XMLScanner.internalScan()", "TOT": 7, "UPD": 0, "INS": 3, "MOV": 3, "DEL": 1}]}, {"spoonFilePath": "XMLCompletions.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.services.XMLCompletions.doTagComplete(org.eclipse.lsp4xml.dom.DOMDocument,org.eclipse.lsp4j.Position)", "TOT": 13, "UPD": 5, "INS": 5, "MOV": 3, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.services.XMLCompletions.doComplete(org.eclipse.lsp4xml.dom.DOMDocument,org.eclipse.lsp4j.Position,org.eclipse.lsp4xml.settings.SharedSettings)", "TOT": 2, "UPD": 0, "INS": 1, "MOV": 1, "DEL": 0}]}, {"spoonFilePath": "XMLCompletionTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.services.XMLCompletionTest.testAutoCloseTagCompletionWithSlashAtBadLocations()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.services.XMLCompletionTest.testAutoCloseTagCompletionWithRange()", "TOT": 3, "UPD": 0, "INS": 3, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.services.XMLCompletionTest.testAutoCloseEnabledDisabled()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.services.XMLCompletionTest.assertAutoCloseEndTagCompletionWithRange(java.lang.String,java.lang.String,org.eclipse.lsp4j.Range)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": [], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 1, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 0, "gitStatsSummary": {"insertions": 0, "deletions": 0, "lines": 0, "gitFilesChange": 0}, "spoonStatsSummary": {"TOT": 0, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 0, "spoonFilesChanged": 0, "spoonMethodsChanged": 0}, "statsSkippedReason": "", "changesInPackagesGIT": [], "changesInPackagesSPOON": []}, {"title": "Wrong range for xml(SchemaLocation) ", "body": "Given \r\n```xml\r\n<invoice xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"invoice.xsd\" > </invoice>\r\n```\r\nschemaLocation is used here instead of noNamespaceSchemaLocation, which yields a warning: \"... must have even number of URI's\" (shouldn't it be an error?). The wrong range is being sent, it should underline the schemaLocation  attribute (or value?)\r\n\r\n<img width=\"857\" alt=\"Screen Shot 2019-04-03 at 4 43 40 PM\" src=\"https://user-images.githubusercontent.com/148698/55512148-579f7e00-5630-11e9-81d0-58ebed398e54.png\">\r\n", "url": "https://github.com/eclipse/lemminx/issues/343", "user": "fbricon", "labels": ["XSD", "bug", "validation"], "created": "2019-04-03 20:49:09", "closed": "2019-05-15 20:26:18", "commits": {"d3a3d6157ba55324b68d828a535bb6cf7b3f646c": {"commitGHEventType": "referenced", "commitUser": "fbricon"}}, "ttf": 41.000277777777775, "commitsDetails": [{"commitHash": "d3a3d6157ba55324b68d828a535bb6cf7b3f646c", "commitGHEventType": "referenced", "commitUser": "fbricon", "commitParents": ["3168b2cf15febb6bba286feaae8cef0bf8011cf5"], "nameRev": "d3a3d6157ba55324b68d828a535bb6cf7b3f646c tags/0.6.0~8", "commitMessage": "Re-adjusted error range for bad schema location, need to filter it out duplicates (#361)\n\nFixes #336, #343\r\n\r\nSigned-off-by: Nikolas Komonen <nikolaskomonen@gmail.com>", "commitDateTime": "2019-05-06 19:27:22", "authoredDateTime": "2019-05-06 19:27:22", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/DOMDocument.java", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/SchemaLocation.java", "insertions": 9, "deletions": 1, "lines": 10}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/participants/XMLSchemaErrorCode.java", "insertions": 39, "deletions": 5, "lines": 44}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/extensions/diagnostics/AbstractLSPErrorReporter.java", "insertions": 6, "deletions": 2, "lines": 8}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/extensions/contentmodel/XMLSchemaPublishDiagnosticsTest.java", "insertions": 60, "deletions": 1, "lines": 61}], "commitSpoonAstDiffStats": [{"spoonFilePath": "DOMDocument.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.dom.DOMDocument.createSchemaLocation(org.eclipse.lsp4xml.dom.DOMNode,java.lang.String)", "TOT": 5, "UPD": 5, "INS": 0, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "SchemaLocation.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.dom.SchemaLocation", "TOT": 5, "UPD": 0, "INS": 4, "MOV": 0, "DEL": 1}, {"spoonMethodName": "org.eclipse.lsp4xml.dom.SchemaLocation.getAttr()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLSchemaErrorCode.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.participants.XMLSchemaErrorCode", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.participants.XMLSchemaErrorCode.toLSPRange(org.apache.xerces.xni.XMLLocator,org.eclipse.lsp4xml.extensions.contentmodel.participants.XMLSchemaErrorCode,java.lang.Object[],org.eclipse.lsp4xml.dom.DOMDocument)", "TOT": 4, "UPD": 0, "INS": 3, "MOV": 1, "DEL": 0}]}, {"spoonFilePath": "AbstractLSPErrorReporter.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.services.extensions.diagnostics.AbstractLSPErrorReporter.reportError(org.apache.xerces.xni.XMLLocator,java.lang.String,java.lang.String,java.lang.Object[],short,java.lang.Exception)", "TOT": 6, "UPD": 0, "INS": 4, "MOV": 2, "DEL": 0}]}, {"spoonFilePath": "XMLSchemaPublishDiagnosticsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.XMLSchemaPublishDiagnosticsTest.schemaWithUrlWithoutCacheAndWithCatalog()", "TOT": 3, "UPD": 2, "INS": 0, "MOV": 1, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.XMLSchemaPublishDiagnosticsTest.schemaWithUrlWithCacheAndWithCatalog()", "TOT": 8, "UPD": 3, "INS": 0, "MOV": 5, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.XMLSchemaPublishDiagnosticsTest.schemaWithUrlWithCache()", "TOT": 4, "UPD": 1, "INS": 0, "MOV": 3, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.XMLSchemaPublishDiagnosticsTest.schemaWithUrlWithoutCache()", "TOT": 2, "UPD": 2, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.XMLSchemaPublishDiagnosticsTest.schemaWithUrlWithoutCacheNoDuplicateWarning()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.XMLSchemaPublishDiagnosticsTest.schemaWithUrlInvalidPathWithNamespace()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": [], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 1, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 0, "gitStatsSummary": {"insertions": 0, "deletions": 0, "lines": 0, "gitFilesChange": 0}, "spoonStatsSummary": {"TOT": 0, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 0, "spoonFilesChanged": 0, "spoonMethodsChanged": 0}, "statsSkippedReason": "", "changesInPackagesGIT": [], "changesInPackagesSPOON": []}, {"title": "Closing CDATA tag throws exception", "body": "With lsp4xml 0.5.0 from master, given\r\n```xml\r\n<script>\r\n   <![CDATA[\r\n      <message>Foo</message>\r\n   ]]\r\n</script>\r\n```\r\nwhen you type the closing bracket on L4, an exception is thrown:\r\n\r\n```\r\nMessage: Internal error: java.lang.ClassCastException: org.eclipse.lsp4xml.dom.DOMCDATASection cannot be cast to org.eclipse.lsp4xml.dom.DOMElement\r\njava.util.concurrent.CompletionException: java.lang.ClassCastException: org.eclipse.lsp4xml.dom.DOMCDATASection cannot be cast to org.eclipse.lsp4xml.dom.DOMElement\r\n\tat java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:273)\r\n\tat java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:280)\r\n\tat java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:604)\r\n\tat java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:577)\r\n\tat java.util.concurrent.CompletableFuture$Completion.exec(CompletableFuture.java:443)\r\n\tat java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)\r\n\tat java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)\r\n\tat java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)\r\n\tat java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)\r\nCaused by: java.lang.ClassCastException: org.eclipse.lsp4xml.dom.DOMCDATASection cannot be cast to org.eclipse.lsp4xml.dom.DOMElement\r\n\tat org.eclipse.lsp4xml.services.XMLCompletions.doTagComplete(XMLCompletions.java:341)\r\n\tat org.eclipse.lsp4xml.services.XMLLanguageService.doTagComplete(XMLLanguageService.java:193)\r\n\tat org.eclipse.lsp4xml.services.XMLLanguageService.doAutoClose(XMLLanguageService.java:203)\r\n\tat org.eclipse.lsp4xml.XMLLanguageServer.lambda$closeTag$1(XMLLanguageServer.java:211)\r\n\tat java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:602)\r\n\t... 6 more\r\n\r\n```\r\n\r\nThere's no such error in lsp4xml 0.4.0", "url": "https://github.com/eclipse/lemminx/issues/341", "user": "fbricon", "labels": ["bug", "completion", "regression"], "created": "2019-04-03 20:17:24", "closed": "2019-04-04 15:30:13", "commits": {"a40a9e16ef975df573aba2d6b6bb645dbe267c95": {"commitGHEventType": "referenced", "commitUser": "fbricon"}}, "ttf": 0.0002777777777777778, "commitsDetails": [{"commitHash": "a40a9e16ef975df573aba2d6b6bb645dbe267c95", "commitGHEventType": "referenced", "commitUser": "fbricon", "commitParents": ["60639926ea1c323d0acce72cfd1b10baf0241b2b"], "nameRev": "a40a9e16ef975df573aba2d6b6bb645dbe267c95 tags/0.5.0~3", "commitMessage": "CDATA npe\n\nFixes #341\n\nSigned-off-by: Nikolas Komonen <nikolaskomonen@gmail.com>\n", "commitDateTime": "2019-04-04 11:30:12", "authoredDateTime": "2019-04-04 09:12:25", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/XMLCompletions.java", "insertions": 3, "deletions": 0, "lines": 3}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/services/XMLCompletionTest.java", "insertions": 9, "deletions": 0, "lines": 9}], "commitSpoonAstDiffStats": [{"spoonFilePath": "XMLCompletions.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.services.XMLCompletions.doTagComplete(org.eclipse.lsp4xml.dom.DOMDocument,org.eclipse.lsp4j.Position)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLCompletionTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.services.XMLCompletionTest.testnoCDATANPE()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["a40a9e16ef975df573aba2d6b6bb645dbe267c95"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 3, "deletions": 0, "lines": 3, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0, "spoonFilesChanged": 1, "spoonMethodsChanged": 1}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services"], "changesInPackagesSPOON": ["org.eclipse.lsp4xml.services.XMLCompletions.doTagComplete(org.eclipse.lsp4xml.dom.DOMDocument,org.eclipse.lsp4j.Position)"]}, {"title": "Self closing tag causes NPE in cvc_complex_type_2_1CodeAction.doCodeAction", "body": "At the root of lsp4xml (with [money.xsd](https://github.com/angelozerr/lsp4xml/pull/337/files#diff-3e61076f7173cbb44d7d2240e14ddcd3) present), create a file with :\r\n```xml\r\n<money xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:noNamespaceSchemaLocation=\"org.eclipse.lsp4xml/src/test/resources/xsd/money.xsd\" currency=\"euros\"> </money>\r\n```\r\nWhen self closing the money tag, an NPE is thrown:\r\n\r\n```\r\nError - 3:22:55 p.m.] Apr 03, 2019 03:22:55 org.eclipse.lsp4j.jsonrpc.RemoteEndpoint fallbackResponseError()\r\nMessage: Internal error: java.lang.NullPointerException\r\njava.util.concurrent.CompletionException: java.lang.NullPointerException\r\n\tat java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:273)\r\n\tat java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:280)\r\n\tat java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:604)\r\n\tat java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:577)\r\n\tat java.util.concurrent.CompletableFuture$Completion.exec(CompletableFuture.java:443)\r\n\tat java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)\r\n\tat java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)\r\n\tat java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)\r\n\tat java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)\r\nCaused by: java.lang.NullPointerException\r\n\tat org.eclipse.lsp4xml.extensions.contentmodel.participants.codeactions.cvc_complex_type_2_1CodeAction.doCodeAction(cvc_complex_type_2_1CodeAction.java:42)\r\n\tat org.eclipse.lsp4xml.extensions.contentmodel.participants.ContentModelCodeActionParticipant.doCodeAction(ContentModelCodeActionParticipant.java:45)\r\n\tat org.eclipse.lsp4xml.services.XMLCodeActions.doCodeActions(XMLCodeActions.java:43)\r\n\tat org.eclipse.lsp4xml.services.XMLLanguageService.doCodeActions(XMLLanguageService.java:188)\r\n\tat org.eclipse.lsp4xml.XMLTextDocumentService.lambda$codeAction$15(XMLTextDocumentService.java:340)\r\n\tat java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:602)\r\n\t... 6 more\r\n\r\n```\r\n\r\n![Apr-03-2019 15-23-57](https://user-images.githubusercontent.com/148698/55506971-b8c15480-5624-11e9-9ec8-54ef17c63350.gif)\r\n", "url": "https://github.com/eclipse/lemminx/issues/339", "user": "fbricon", "labels": ["bug", "code action"], "created": "2019-04-03 19:25:53", "closed": "2019-04-03 20:52:29", "commits": {"ffc3f0fe942f3b29f1ab210ee42c1c85189d566b": {"commitGHEventType": "referenced", "commitUser": "fbricon"}}, "ttf": 0.0002777777777777778, "commitsDetails": [{"commitHash": "ffc3f0fe942f3b29f1ab210ee42c1c85189d566b", "commitGHEventType": "referenced", "commitUser": "fbricon", "commitParents": ["845bb4781fc14f5f231612eb5fbb8fd0f2e6b223"], "nameRev": "ffc3f0fe942f3b29f1ab210ee42c1c85189d566b tags/0.5.0~5", "commitMessage": "Hover for attribute values using XSD\n\nFixes #12\nFixes #339\n\nSigned-off-by: Nikolas Komonen <nikolaskomonen@gmail.com>\n", "commitDateTime": "2019-04-03 16:52:28", "authoredDateTime": "2019-03-28 14:38:43", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/DOMAttr.java", "insertions": 4, "deletions": 0, "lines": 4}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/model/CMAttributeDeclaration.java", "insertions": 2, "deletions": 0, "lines": 2}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/participants/ContentModelHoverParticipant.java", "insertions": 36, "deletions": 1, "lines": 37}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/participants/codeactions/cvc_complex_type_2_1CodeAction.java", "insertions": 7, "deletions": 1, "lines": 8}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/dtd/contentmodel/CMDTDAttributeDeclaration.java", "insertions": 5, "deletions": 0, "lines": 5}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/xsd/contentmodel/CMXSDAttributeDeclaration.java", "insertions": 78, "deletions": 0, "lines": 78}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/xsd/contentmodel/XSDAnnotationModel.java", "insertions": 28, "deletions": 1, "lines": 29}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/XMLHover.java", "insertions": 30, "deletions": 2, "lines": 32}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/extensions/contentmodel/XMLSchemaDiagnosticsTest.java", "insertions": 9, "deletions": 0, "lines": 9}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/extensions/contentmodel/XMLSchemaHoverExtensionsTest.java", "insertions": 34, "deletions": 1, "lines": 35}, {"filePath": "org.eclipse.lsp4xml/src/test/resources/catalogs/catalog.xml", "insertions": 2, "deletions": 0, "lines": 2}, {"filePath": "org.eclipse.lsp4xml/src/test/resources/xsd/money.xsd", "insertions": 36, "deletions": 0, "lines": 36}], "commitSpoonAstDiffStats": [{"spoonFilePath": "DOMAttr.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.dom.DOMAttr.valueContainsOffset(int)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "CMAttributeDeclaration.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.model.getValueDocumentation(java.lang.String)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "ContentModelHoverParticipant.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.participants.ContentModelHoverParticipant.onAttributeValue(org.eclipse.lsp4xml.services.extensions.IHoverRequest)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "cvc_complex_type_2_1CodeAction.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.participants.codeactions.cvc_complex_type_2_1CodeAction.doCodeAction(org.eclipse.lsp4j.Diagnostic,org.eclipse.lsp4j.Range,org.eclipse.lsp4xml.dom.DOMDocument,java.util.List,org.eclipse.lsp4xml.settings.XMLFormattingOptions,org.eclipse.lsp4xml.services.extensions.IComponentProvider)", "TOT": 2, "UPD": 0, "INS": 1, "MOV": 1, "DEL": 0}]}, {"spoonFilePath": "CMDTDAttributeDeclaration.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.dtd.contentmodel.CMDTDAttributeDeclaration.getValueDocumentation(java.lang.String)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "CMXSDAttributeDeclaration.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.xsd.contentmodel.CMXSDAttributeDeclaration.getValueDocumentation(java.lang.String)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.xsd.contentmodel.CMXSDAttributeDeclaration.getValueAnnotations()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.xsd.contentmodel.CMXSDAttributeDeclaration.onlyContainsNull(java.lang.Object[])", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XSDAnnotationModel.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.xsd.contentmodel.XSDAnnotationModel.getDocumentation(org.apache.xerces.xs.XSObjectList)", "TOT": 5, "UPD": 1, "INS": 1, "MOV": 2, "DEL": 1}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.xsd.contentmodel.XSDAnnotationModel.getDocumentation(org.apache.xerces.xs.XSObjectList,java.lang.String)", "TOT": 3, "UPD": 0, "INS": 3, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLHover.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.services.XMLHover.getAttrHover(org.eclipse.lsp4xml.services.HoverRequest,org.eclipse.lsp4j.Range)", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.services.XMLHover.doHover(org.eclipse.lsp4xml.dom.DOMDocument,org.eclipse.lsp4j.Position)", "TOT": 3, "UPD": 1, "INS": 2, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.services.XMLHover.getAttrValueHover(org.eclipse.lsp4xml.services.HoverRequest,org.eclipse.lsp4j.Range)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLSchemaDiagnosticsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.XMLSchemaDiagnosticsTest.cvc_complex_type_2_1_SelfClosing()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLSchemaHoverExtensionsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.XMLSchemaHoverExtensionsTest.testHoverAttributeValueEuro()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.XMLSchemaHoverExtensionsTest.testHoverAttributeValuePound()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.XMLSchemaHoverExtensionsTest.testHoverAttributeValueNonExistent()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": [], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 1, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 0, "gitStatsSummary": {"insertions": 0, "deletions": 0, "lines": 0, "gitFilesChange": 0}, "spoonStatsSummary": {"TOT": 0, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 0, "spoonFilesChanged": 0, "spoonMethodsChanged": 0}, "statsSkippedReason": "", "changesInPackagesGIT": [], "changesInPackagesSPOON": []}, {"title": "Missing schema generates too many warnings", "body": "Create a document, referencing an unreachable schema, then each node of that document will get a warning about it:\r\n\r\n<img width=\"1094\" alt=\"Screen Shot 2019-03-28 at 5 10 27 PM\" src=\"https://user-images.githubusercontent.com/148698/55193147-8d4dee00-517c-11e9-9f9d-7e6561bf7d57.png\">\r\n\r\nTry with:\r\n\r\n```xml\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<invoice xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\r\n xsi:noNamespaceSchemaLocation=\"invoice.xsd\">\r\n  <date>2017-11-30</date>\r\n  <number>5235</number>\r\n  <products>\r\n    <product />\r\n  </products>\r\n  <payments>\r\n    <payment amount=\"770.00\" method=\"credit\"/>\r\n  </payments>\r\n</invoice>\r\n```\r\n\r\nMoreover, the warning range is incorrect, it selects the closing bracket.", "url": "https://github.com/eclipse/lemminx/issues/336", "user": "fbricon", "labels": ["bug", "validation"], "created": "2019-03-28 21:14:09", "closed": "2019-05-06 23:27:23", "commits": {"d3a3d6157ba55324b68d828a535bb6cf7b3f646c": {"commitGHEventType": "referenced", "commitUser": "fbricon"}}, "ttf": 39.000277777777775, "commitsDetails": [{"commitHash": "d3a3d6157ba55324b68d828a535bb6cf7b3f646c", "commitGHEventType": "referenced", "commitUser": "fbricon", "commitParents": ["3168b2cf15febb6bba286feaae8cef0bf8011cf5"], "nameRev": "d3a3d6157ba55324b68d828a535bb6cf7b3f646c tags/0.6.0~8", "commitMessage": "Re-adjusted error range for bad schema location, need to filter it out duplicates (#361)\n\nFixes #336, #343\r\n\r\nSigned-off-by: Nikolas Komonen <nikolaskomonen@gmail.com>", "commitDateTime": "2019-05-06 19:27:22", "authoredDateTime": "2019-05-06 19:27:22", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/DOMDocument.java", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/SchemaLocation.java", "insertions": 9, "deletions": 1, "lines": 10}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/participants/XMLSchemaErrorCode.java", "insertions": 39, "deletions": 5, "lines": 44}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/extensions/diagnostics/AbstractLSPErrorReporter.java", "insertions": 6, "deletions": 2, "lines": 8}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/extensions/contentmodel/XMLSchemaPublishDiagnosticsTest.java", "insertions": 60, "deletions": 1, "lines": 61}], "commitSpoonAstDiffStats": [{"spoonFilePath": "DOMDocument.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.dom.DOMDocument.createSchemaLocation(org.eclipse.lsp4xml.dom.DOMNode,java.lang.String)", "TOT": 5, "UPD": 5, "INS": 0, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "SchemaLocation.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.dom.SchemaLocation", "TOT": 5, "UPD": 0, "INS": 4, "MOV": 0, "DEL": 1}, {"spoonMethodName": "org.eclipse.lsp4xml.dom.SchemaLocation.getAttr()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLSchemaErrorCode.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.participants.XMLSchemaErrorCode", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.participants.XMLSchemaErrorCode.toLSPRange(org.apache.xerces.xni.XMLLocator,org.eclipse.lsp4xml.extensions.contentmodel.participants.XMLSchemaErrorCode,java.lang.Object[],org.eclipse.lsp4xml.dom.DOMDocument)", "TOT": 4, "UPD": 0, "INS": 3, "MOV": 1, "DEL": 0}]}, {"spoonFilePath": "AbstractLSPErrorReporter.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.services.extensions.diagnostics.AbstractLSPErrorReporter.reportError(org.apache.xerces.xni.XMLLocator,java.lang.String,java.lang.String,java.lang.Object[],short,java.lang.Exception)", "TOT": 6, "UPD": 0, "INS": 4, "MOV": 2, "DEL": 0}]}, {"spoonFilePath": "XMLSchemaPublishDiagnosticsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.XMLSchemaPublishDiagnosticsTest.schemaWithUrlWithoutCacheAndWithCatalog()", "TOT": 3, "UPD": 2, "INS": 0, "MOV": 1, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.XMLSchemaPublishDiagnosticsTest.schemaWithUrlWithCacheAndWithCatalog()", "TOT": 8, "UPD": 3, "INS": 0, "MOV": 5, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.XMLSchemaPublishDiagnosticsTest.schemaWithUrlWithCache()", "TOT": 4, "UPD": 1, "INS": 0, "MOV": 3, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.XMLSchemaPublishDiagnosticsTest.schemaWithUrlWithoutCache()", "TOT": 2, "UPD": 2, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.XMLSchemaPublishDiagnosticsTest.schemaWithUrlWithoutCacheNoDuplicateWarning()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.XMLSchemaPublishDiagnosticsTest.schemaWithUrlInvalidPathWithNamespace()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": [], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 1, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 0, "gitStatsSummary": {"insertions": 0, "deletions": 0, "lines": 0, "gitFilesChange": 0}, "spoonStatsSummary": {"TOT": 0, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 0, "spoonFilesChanged": 0, "spoonMethodsChanged": 0}, "statsSkippedReason": "", "changesInPackagesGIT": [], "changesInPackagesSPOON": []}, {"title": "Fix error range for `cvc-datatype-valid-1-2-1`", "body": "If only integers are allowed as content and you have:\r\n\r\n```xml\r\n<a xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" \r\n   xsi:noNamespaceSchemaLocation=\"intType.xsd\">\r\n\r\n  TEXT\r\n  \r\n\r\n</a>\r\n```\r\n\r\nwith XSD:\r\n\r\n```xml\r\n<xs:schema xmlns:xs=\"http://www.w3.org/2001/XMLSchema\">\r\n  <xs:element name=\"a\" type=\"xs:integer\">\r\n  </xs:element>\r\n</xs:schema>\r\n```\r\n\r\nThe highlight could be cleaned up to the first and last character of text here:\r\n![Selection_050](https://user-images.githubusercontent.com/32624665/59116471-a1029700-8919-11e9-83b1-6c2885ff1710.png)\r\n\r\nAnd in the case a user puts in a tag the highlight, error message should be adjusted to include the first tag it comes across:\r\n![Selection_051](https://user-images.githubusercontent.com/32624665/59116556-d14a3580-8919-11e9-914b-6c9eaa5e39ef.png)\r\n", "url": "https://github.com/eclipse/lemminx/issues/323", "user": "NikolasKomonen", "labels": ["bug", "validation"], "created": "2019-03-12 17:36:32", "closed": "2019-08-22 16:03:59", "commits": {}, "ttf": 162.00027777777777, "commitsDetails": []}, {"title": "Fix error range for cvc-elt.3.2.1", "body": "given this schema foo.xsd\r\n```xml\r\n<xsd:schema xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\">\r\n    <xsd:element\r\n            name=\"root\"\r\n            nillable=\"true\">\r\n        <xsd:complexType>\r\n            <xsd:sequence>\r\n                <xsd:element\r\n                        name=\"e1\"\r\n                        type=\"xsd:string\"/>\r\n            </xsd:sequence>\r\n        </xsd:complexType>\r\n    </xsd:element>\r\n</xsd:schema>\r\n```\r\n\r\nThis invalid xml has a wrong diagnostic range:\r\n```xml\r\n<root\r\n        xsi:noNamespaceSchemaLocation=\"foo.xsd\"\r\n        xsi:nil=\"true\"\r\n        xmlns=\"\"\r\n        xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\">\r\n    <e1>xxx</e1>\r\n</root>\r\n```\r\n<img width=\"1155\" alt=\"Screen Shot 2019-03-08 at 3 59 06 PM\" src=\"https://user-images.githubusercontent.com/148698/54055457-23fd3f80-41bb-11e9-88e2-0742d3d61aa8.png\">\r\n", "url": "https://github.com/eclipse/lemminx/issues/321", "user": "fbricon", "labels": ["bug", "validation"], "created": "2019-03-08 20:59:41", "closed": "2019-03-14 15:26:36", "commits": {"3988871e58f94a545b8325944d605de7ff3654d4": {"commitGHEventType": "referenced", "commitUser": "fbricon"}}, "ttf": 5.000277777777778, "commitsDetails": [{"commitHash": "3988871e58f94a545b8325944d605de7ff3654d4", "commitGHEventType": "referenced", "commitUser": "fbricon", "commitParents": ["d091cb7a31c11d68de10f0130b5bd79832ad6c50"], "nameRev": "3988871e58f94a545b8325944d605de7ff3654d4 tags/0.5.0~12", "commitMessage": "Error ranges fixed\n\nFixes #321, #318, #317\n\nSigned-off-by: Nikolas <nikolaskomonen@gmail.com>\n", "commitDateTime": "2019-03-14 11:26:35", "authoredDateTime": "2019-03-12 14:30:28", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/participants/XMLSchemaErrorCode.java", "insertions": 7, "deletions": 2, "lines": 9}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/participants/XMLSyntaxErrorCode.java", "insertions": 10, "deletions": 1, "lines": 11}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/xsd/participants/XSDErrorCode.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/extensions/diagnostics/LSPMessageFormatter.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/utils/XMLPositionUtility.java", "insertions": 40, "deletions": 14, "lines": 54}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/extensions/contentmodel/XMLSchemaDiagnosticsTest.java", "insertions": 37, "deletions": 1, "lines": 38}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/extensions/contentmodel/XMLSyntaxDiagnosticsTest.java", "insertions": 19, "deletions": 0, "lines": 19}, {"filePath": "org.eclipse.lsp4xml/src/test/resources/xsd/invoice.xsd", "insertions": 1, "deletions": 1, "lines": 2}], "commitSpoonAstDiffStats": [{"spoonFilePath": "XMLSchemaErrorCode.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.participants.XMLSchemaErrorCode.toLSPRange(org.apache.xerces.xni.XMLLocator,org.eclipse.lsp4xml.extensions.contentmodel.participants.XMLSchemaErrorCode,java.lang.Object[],org.eclipse.lsp4xml.dom.DOMDocument)", "TOT": 7, "UPD": 3, "INS": 4, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.participants.XMLSchemaErrorCode", "TOT": 2, "UPD": 0, "INS": 2, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLSyntaxErrorCode.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.participants.XMLSyntaxErrorCode.toLSPRange(org.apache.xerces.xni.XMLLocator,org.eclipse.lsp4xml.extensions.contentmodel.participants.XMLSyntaxErrorCode,java.lang.Object[],org.eclipse.lsp4xml.dom.DOMDocument)", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XSDErrorCode.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.xsd.participants.XSDErrorCode.toLSPRange(org.apache.xerces.xni.XMLLocator,org.eclipse.lsp4xml.extensions.xsd.participants.XSDErrorCode,java.lang.Object[],org.eclipse.lsp4xml.dom.DOMDocument)", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "LSPMessageFormatter.java", "spoonMethods": []}, {"spoonFilePath": "XMLPositionUtility.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.utils.XMLPositionUtility.selectPreviousEndTag(int,org.eclipse.lsp4xml.dom.DOMDocument)", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.utils.XMLPositionUtility.selectText(int,org.eclipse.lsp4xml.dom.DOMDocument)", "TOT": 14, "UPD": 5, "INS": 0, "MOV": 6, "DEL": 3}, {"spoonMethodName": "org.eclipse.lsp4xml.utils.XMLPositionUtility.selectContent(int,org.eclipse.lsp4xml.dom.DOMDocument)", "TOT": 3, "UPD": 0, "INS": 3, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLSchemaDiagnosticsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.XMLSchemaDiagnosticsTest.cvc_type_3_2_1()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.XMLSchemaDiagnosticsTest.cvc_type_3_1_2()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLSyntaxDiagnosticsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.XMLSyntaxDiagnosticsTest.testETagUnterminated2()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": [], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 1, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 0, "gitStatsSummary": {"insertions": 0, "deletions": 0, "lines": 0, "gitFilesChange": 0}, "spoonStatsSummary": {"TOT": 0, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 0, "spoonFilesChanged": 0, "spoonMethodsChanged": 0}, "statsSkippedReason": "", "changesInPackagesGIT": [], "changesInPackagesSPOON": []}, {"title": "Discrepancy in completion between prefixed and default namespaces", "body": "https://github.com/redhat-developer/vscode-xml/issues/87", "url": "https://github.com/eclipse/lemminx/issues/311", "user": "NikolasKomonen", "labels": ["XSD", "bug", "completion"], "created": "2019-03-06 15:41:21", "closed": "2019-06-28 15:49:00", "commits": {"f64681fc285df54d6318bfd633c23037f9a29e65": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "8f7c821126d36ece8bdea1cc32056f1c09b36a44": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "042ed19b063f567b8783952c680b6ee56b79fc6c": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}}, "ttf": 114.00027777777778, "commitsDetails": [{"commitHash": "f64681fc285df54d6318bfd633c23037f9a29e65", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "8f7c821126d36ece8bdea1cc32056f1c09b36a44", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "042ed19b063f567b8783952c680b6ee56b79fc6c", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": ["3bbcc0fa979eb373c79eca9d96242dfdc9797e2c"], "nameRev": "042ed19b063f567b8783952c680b6ee56b79fc6c tags/0.8.0~33", "commitMessage": "Discrepancy in completion between prefixed and default namespaces\n\nFix #311\n\nSigned-off-by: azerr <azerr@redhat.com>", "commitDateTime": "2019-06-28 17:48:59", "authoredDateTime": "2019-06-28 11:01:49", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/model/CMDocument.java", "insertions": 21, "deletions": 1, "lines": 22}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/participants/ContentModelCompletionParticipant.java", "insertions": 17, "deletions": 13, "lines": 30}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/dtd/contentmodel/CMDTDDocument.java", "insertions": 8, "deletions": 4, "lines": 12}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/xsd/contentmodel/CMXSDDocument.java", "insertions": 8, "deletions": 0, "lines": 8}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/extensions/contentmodel/XMLSchemaCompletionExtensionsTest.java", "insertions": 32, "deletions": 0, "lines": 32}], "commitSpoonAstDiffStats": [{"spoonFilePath": "CMDocument.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.model.hasNamespace(java.lang.String)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "ContentModelCompletionParticipant.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.participants.ContentModelCompletionParticipant.onTagOpen(org.eclipse.lsp4xml.services.extensions.ICompletionRequest,org.eclipse.lsp4xml.services.extensions.ICompletionResponse)", "TOT": 15, "UPD": 4, "INS": 2, "MOV": 5, "DEL": 4}]}, {"spoonFilePath": "CMDTDDocument.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.dtd.contentmodel.CMDTDDocument.hasNamespace(java.lang.String)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "CMXSDDocument.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.xsd.contentmodel.CMXSDDocument.hasNamespace(java.lang.String)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLSchemaCompletionExtensionsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.XMLSchemaCompletionExtensionsTest.issue311()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["042ed19b063f567b8783952c680b6ee56b79fc6c"], "filteredCommitsReason": {"duplicated": 2, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 54.0, "deletions": 18.0, "lines": 72.0, "gitFilesChange": 4}, "spoonStatsSummary": {"TOT": 18.0, "UPD": 4.0, "INS": 5.0, "MOV": 5.0, "DEL": 4.0, "spoonFilesChanged": 4, "spoonMethodsChanged": 4}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/model", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/participants", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/dtd/contentmodel", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/xsd/contentmodel"], "changesInPackagesSPOON": ["org.eclipse.lsp4xml.extensions.contentmodel.model.hasNamespace(java.lang.String)", "org.eclipse.lsp4xml.extensions.dtd.contentmodel.CMDTDDocument.hasNamespace(java.lang.String)", "org.eclipse.lsp4xml.extensions.xsd.contentmodel.CMXSDDocument.hasNamespace(java.lang.String)", "org.eclipse.lsp4xml.extensions.contentmodel.participants.ContentModelCompletionParticipant.onTagOpen(org.eclipse.lsp4xml.services.extensions.ICompletionRequest,org.eclipse.lsp4xml.services.extensions.ICompletionResponse)"]}, {"title": "Exceptions on server startup", "body": "At one point, In vscode, when lsp4xml (from master) started after opening an xml file, the logs were littered with exceptions:\r\n\r\n```\r\n[Trace - 1:44:12 PM] Received notification 'window/logMessage'.\r\nParams: {\r\n    \"type\": 1,\r\n    \"message\": \"Jan 17, 2019 01:44:12 org.eclipse.lsp4xml.dom.DOMParser parse()\\nMessage: XMLParser StartCommentTag bad offset in document\\norg.eclipse.lsp4xml.commons.BadLocationException: Negative offset : -1\\n\\tat org.eclipse.lsp4xml.commons.ListLineTracker.getLineNumberOfOffset(ListLineTracker.java:125)\\n\\tat org.eclipse.lsp4xml.commons.ListLineTracker.getPositionAt(ListLineTracker.java:108)\\n\\tat org.eclipse.lsp4xml.commons.TextDocument.positionAt(TextDocument.java:63)\\n\\tat org.eclipse.lsp4xml.dom.DOMParser.parse(DOMParser.java:277)\\n\\tat org.eclipse.lsp4xml.XMLTextDocumentService.lambda$new$0(XMLTextDocumentService.java:153)\\n\\tat org.eclipse.lsp4xml.commons.LanguageModelCache.parseAndGet(LanguageModelCache.java:83)\\n\\tat org.eclipse.lsp4xml.commons.LanguageModelCache.get(LanguageModelCache.java:63)\\n\\tat org.eclipse.lsp4xml.XMLTextDocumentService.getXMLDocument(XMLTextDocumentService.java:183)\\n\\tat org.eclipse.lsp4xml.XMLTextDocumentService.doTriggerValidation(XMLTextDocumentService.java:421)\\n\\tat org.eclipse.lsp4xml.XMLTextDocumentService.lambda$triggerValidation$19(XMLTextDocumentService.java:414)\\n\\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\\n\\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\\n\\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)\\n\\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\\n\\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\\n\\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\\n\\tat java.lang.Thread.run(Thread.java:748)\\n\"\r\n}\r\n```\r\n\r\nI haven't been able to reproduce yet, after restarting", "url": "https://github.com/eclipse/lemminx/issues/282", "user": "fbricon", "labels": ["bug", "not reproducible"], "created": "2019-01-17 18:50:31", "closed": "2019-05-24 13:55:11", "commits": {}, "ttf": 126.00027777777778, "commitsDetails": []}, {"title": "Formatting document with unclosed closing tag moves said tag down", "body": "formatting this:\r\n```xml\r\n<?xml version=\"1.0\"?>\r\n<note>\r\n\t<to>Fred</to\r\n\t<from>Jani</from>\r\n\t\t<heading>Reminder</heading>\r\n\t\t\t<body>Don't forget me this weekend</body>\r\n</note>\r\n```\r\n\r\nyields:\r\n```xml\r\n<?xml version=\"1.0\"?>\r\n<note>\r\n\t<to>Fred<from>Jani</from>\r\n\t\t<heading>Reminder</heading>\r\n\t\t<body>Don't forget me this weekend</body>\r\n\t</to\r\n</note>\r\n``` \r\n\r\nThe tag `</to` was moved down to enclose everything", "url": "https://github.com/eclipse/lemminx/issues/269", "user": "fbricon", "labels": ["bug", "formatting"], "created": "2018-12-19 20:27:25", "closed": "2018-12-20 17:12:51", "commits": {"8b974319ef6b4f393602a14849b86150659742b2": {"commitGHEventType": "referenced", "commitUser": "fbricon"}, "23f83553fed870525bd9bc3172307d506aad016c": {"commitGHEventType": "referenced", "commitUser": "fbricon"}}, "ttf": 0.0002777777777777778, "commitsDetails": [{"commitHash": "8b974319ef6b4f393602a14849b86150659742b2", "commitGHEventType": "referenced", "commitUser": "fbricon", "commitParents": ["88611088728e0f221edffc8a3b01e361410878dd"], "nameRev": "8b974319ef6b4f393602a14849b86150659742b2 tags/0.3.0~28", "commitMessage": "Fixes unclosed element end tag in parser\nFixes #269\n\nSigned-off-by: Nikolas Komonen <nikolaskomonen@gmail.com>\n", "commitDateTime": "2018-12-19 16:43:28", "authoredDateTime": "2018-12-19 16:24:04", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/DOMParser.java", "insertions": 11, "deletions": 3, "lines": 14}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/parser/XMLScanner.java", "insertions": 0, "deletions": 3, "lines": 3}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/participants/XMLSyntaxErrorCode.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/utils/XMLPositionUtility.java", "insertions": 6, "deletions": 7, "lines": 13}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/dom/DOMParserTest.java", "insertions": 28, "deletions": 0, "lines": 28}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/services/XMLFormatterTest.java", "insertions": 32, "deletions": 0, "lines": 32}], "commitSpoonAstDiffStats": [{"spoonFilePath": "DOMParser.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.dom.DOMParser.parse(org.eclipse.lsp4xml.commons.TextDocument,org.eclipse.lsp4xml.uriresolver.URIResolverExtensionManager)", "TOT": 5, "UPD": 0, "INS": 3, "MOV": 2, "DEL": 0}]}, {"spoonFilePath": "XMLScanner.java", "spoonMethods": []}, {"spoonFilePath": "XMLSyntaxErrorCode.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.participants.XMLSyntaxErrorCode.toLSPRange(org.apache.xerces.xni.XMLLocator,org.eclipse.lsp4xml.extensions.contentmodel.participants.XMLSyntaxErrorCode,java.lang.Object[],org.eclipse.lsp4xml.dom.DOMDocument)", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLPositionUtility.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.utils.XMLPositionUtility.selectPreviousEndTag(int,org.eclipse.lsp4xml.dom.DOMDocument)", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "DOMParserTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.dom.DOMParserTest.testUnclosedEndTagWithTrailingElement()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.dom.DOMParserTest.testUnclosedEndTagWithTrailingComment()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLFormatterTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.services.XMLFormatterTest.testUnclosedEndTagBracketTrailingElement()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.services.XMLFormatterTest.testUnclosedEndTagTrailingComment()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "23f83553fed870525bd9bc3172307d506aad016c", "commitGHEventType": "referenced", "commitUser": "fbricon", "commitParents": ["ebff0de6ddeebb4913ab150cc3af32ba2e47e9ec"], "nameRev": "23f83553fed870525bd9bc3172307d506aad016c tags/0.3.0~26", "commitMessage": "Fixes unclosed element end tag in parser\n\nFixes #269\n\nSigned-off-by: Nikolas Komonen <nikolaskomonen@gmail.com>\n", "commitDateTime": "2018-12-20 12:12:50", "authoredDateTime": "2018-12-19 16:24:04", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/DOMParser.java", "insertions": 18, "deletions": 3, "lines": 21}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/parser/XMLScanner.java", "insertions": 0, "deletions": 3, "lines": 3}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/participants/XMLSyntaxErrorCode.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/XMLSymbolsProvider.java", "insertions": 5, "deletions": 1, "lines": 6}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/utils/XMLPositionUtility.java", "insertions": 6, "deletions": 7, "lines": 13}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/dom/DOMParserTest.java", "insertions": 44, "deletions": 0, "lines": 44}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/services/XMLFormatterTest.java", "insertions": 32, "deletions": 0, "lines": 32}], "commitSpoonAstDiffStats": [{"spoonFilePath": "DOMParser.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.dom.DOMParser.parse(org.eclipse.lsp4xml.commons.TextDocument,org.eclipse.lsp4xml.uriresolver.URIResolverExtensionManager)", "TOT": 5, "UPD": 2, "INS": 1, "MOV": 2, "DEL": 0}]}, {"spoonFilePath": "XMLScanner.java", "spoonMethods": []}, {"spoonFilePath": "XMLSyntaxErrorCode.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.participants.XMLSyntaxErrorCode.toLSPRange(org.apache.xerces.xni.XMLLocator,org.eclipse.lsp4xml.extensions.contentmodel.participants.XMLSyntaxErrorCode,java.lang.Object[],org.eclipse.lsp4xml.dom.DOMDocument)", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLSymbolsProvider.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.services.XMLSymbolsProvider.getSymbolKind(org.eclipse.lsp4xml.dom.DOMNode)", "TOT": 16, "UPD": 0, "INS": 3, "MOV": 11, "DEL": 2}]}, {"spoonFilePath": "XMLPositionUtility.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.utils.XMLPositionUtility.selectPreviousEndTag(int,org.eclipse.lsp4xml.dom.DOMDocument)", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "DOMParserTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.dom.DOMParserTest.testUnclosedEndTagWithTrailingElement()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.dom.DOMParserTest.testUnclosedEndTagWithTrailingComment()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.dom.DOMParserTest.testExternalDTDCommentBeforeDecl()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLFormatterTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.services.XMLFormatterTest.testUnclosedEndTagBracketTrailingElement()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.services.XMLFormatterTest.testUnclosedEndTagTrailingComment()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["8b974319ef6b4f393602a14849b86150659742b2"], "filteredCommitsReason": {"duplicated": 1, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 18, "deletions": 14, "lines": 32, "gitFilesChange": 4}, "spoonStatsSummary": {"TOT": 7, "UPD": 2, "INS": 3, "MOV": 2, "DEL": 0, "spoonFilesChanged": 3, "spoonMethodsChanged": 3}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/utils", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/participants", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/parser"], "changesInPackagesSPOON": ["org.eclipse.lsp4xml.extensions.contentmodel.participants.XMLSyntaxErrorCode.toLSPRange(org.apache.xerces.xni.XMLLocator,org.eclipse.lsp4xml.extensions.contentmodel.participants.XMLSyntaxErrorCode,java.lang.Object[],org.eclipse.lsp4xml.dom.DOMDocument)", "org.eclipse.lsp4xml.dom.DOMParser.parse(org.eclipse.lsp4xml.commons.TextDocument,org.eclipse.lsp4xml.uriresolver.URIResolverExtensionManager)", "org.eclipse.lsp4xml.utils.XMLPositionUtility.selectPreviousEndTag(int,org.eclipse.lsp4xml.dom.DOMDocument)"]}, {"title": "Formatting DTD document is broken", "body": "Try formatting https://tecfa.unige.ch/guides/xml/examples/dtd-examples/ePBL11/ibtwsh6_ePBL.dtd, you end up with:\r\n```xml\r\n<?xml version=\"1.0\" encoding=\"ISO-8859-1\"?>\r\n<!--\r\n        WARNING: SLIGHTLY MODIFIED FOR USE AT TECFA ! GET THE ORIGINAL\r\n        from http://www.ccil.org/%7Ecowan/XML/ibtwsh6.dtd\r\n\r\n\tibtwsh.dtd\r\n\tThis is the Itsy Bitsy Teeny Weeny Simple Hypertext DTD.\r\n\tIts public identifier is -//XML-DEV List//DTD IBTWSH 6.0//EN\r\n\tThe contents are dedicated to the public domain by\r\n\t\tthe author, John Cowan <cowan@ccil.org>, except that\r\n\t\tJohn Cowan retains the moral right to be known as the author.\r\n\tThis is draft 6.0\r\n\t03/04/2001 Changed by Vivian Synteta \r\n\tChanges: \r\n\t- Correct a mistake (LI)\r\n\t- Add IDREF to element \"A\"\r\n        - Take out id from entity all and IDREFS headers from tables and \r\n          IDREF from element a \r\n-->\r\n<!-- \r\n======================================================================\r\nThis is an XML DTD which describes a subset of XHTML Basic for embedded\r\nuse within other XML DTDs.  It is by intention equivalent\r\n(within its scope) to -//W3C//DTD XHTML 1.1//EN, but is\r\nnot a derived work in the copyright sense.  (Brief excerpts from\r\nHTML 4.0 Transitional appear here and there.)\r\n\r\nIt is often convenient for XML documents to have a bit of\r\ndocumentation somewhere in them.  In the absence of a DTD like\r\nthis one, that documentation winds up being #PCDATA only, which is\r\na pity, because rich text adds measurably to the readability of\r\ndocuments.  By incorporating this DTD by reference (as an\r\nexternal parameter entity) into another DTD, that DTD inherits\r\nthe capabilities of this one.  Using HTML-compatible elements\r\nand attributes allows the documentation to be passed straight\r\nthrough to HTML renderers.\r\n\r\nCurrent HTML renderers can cope with most XML tags, but empty\r\ntags require special treatment.  Inserting a space before the\r\nterminating \"/>\" usually makes the \"/\" (which is not HTML)\r\ninvisible.  Using \"<tag></tag>\" is not as effective, as the\r\nlatter is often misinterpreted as a second \"<tag>\".\r\n\r\nNote that since the elements of this DTD are intended to be\r\nused within domain-specific elements of the surrounding DTD,\r\nit is not necessary that every fragment begin with an \"html\"\r\nelement, as in HTML.  Recommended content models for elements\r\ncontaining documentation are \"%horiz.model;\" for simple\r\ntext fragments and \"%struct.model;\" for documents in extenso.\r\n\r\nDraft 6.0 is seriously incompatible with drafts 5.0 and earlier,\r\nbut *is* a subset of XHTML Basic.  I will keep draft 5.0 around;\r\nnote that I have changed the FPI.\r\n======================================================================\r\n-->\r\n<!-- =========== Common attributes =========== -->\r\n<!-- All elements (except full-document elements) have these attributes -->\r\n<null>\r\n    <!-- All non-empty elements have these attributes -->\r\n    <null>\r\n        <!-- =========== Models =========== -->\r\n        <null>\r\n            <null>\r\n                <null>\r\n                    <null>\r\n                        <null>\r\n                            <!-- =========== Horizontal formatting elements =========== -->\r\n                            <!-- Abbreviations (normal) -->\r\n                            <null>\r\n                                <null>\r\n                                    <!-- Acronyms (normal) -->\r\n                                    <null>\r\n                                        <null>\r\n                                            <!-- Citation (italics) -->\r\n                                            <null>\r\n                                                <null>\r\n                                                    <!-- Source code (monowidth) -->\r\n                                                    <null>\r\n                                                        <null>\r\n                                                            <!--Terms being defined (normal) -->\r\n                                                            <null>\r\n                                                                <null>\r\n                                                                    <!--Emphasis (italics) -->\r\n                                                                    <null>\r\n                                                                        <null>\r\n                                                                            <!--Keyboard input -->\r\n                                                                            <null>\r\n                                                                                <null>\r\n                                                                                    <!-- Quotation (appropriate quotation marks) -->\r\n                                                                                    <null>\r\n                                                                                        <null>\r\n                                                                                            <!-- Sample output text (monowidth) -->\r\n                                                                                            <null>\r\n                                                                                                <null>\r\n                                                                                                    <!-- Arbitrary span of text -->\r\n                                                                                                    <null>\r\n                                                                                                        <null>\r\n                                                                                                            <!-- Strong emphasis (boldface) -->\r\n                                                                                                            <null>\r\n                                                                                                                <null>\r\n                                                                                                                    <!-- Variable names (italics) -->\r\n                                                                                                                    <null>\r\n                                                                                                                        <null>\r\n                                                                                                                            <!-- IMGs added DKS -->\r\n                                                                                                                            <null>\r\n                                                                                                                                <null>\r\n                                                                                                                                    <!-- Hypertext anchors.\r\n\tCONSTRAINT: A elements are not allowed inside\r\n\tother A elements, a fact that XML cannot express. -->\r\n                                                                                                                                    <null>\r\n                                                                                                                                        <null>\r\n                                                                                                                                            <!-- Mandatory line breaks -->\r\n                                                                                                                                            <null>\r\n                                                                                                                                                <null>\r\n                                                                                                                                                    <!-- =========== Headers =========== -->\r\n                                                                                                                                                    <null>\r\n                                                                                                                                                        <null>\r\n                                                                                                                                                            <null>\r\n                                                                                                                                                                <null>\r\n                                                                                                                                                                    <null>\r\n                                                                                                                                                                        <null>\r\n                                                                                                                                                                            <!-- =========== Lists =========== -->\r\n                                                                                                                                                                            <!-- Definition list -->\r\n                                                                                                                                                                            <null>\r\n                                                                                                                                                                                <null>\r\n                                                                                                                                                                                    <!-- Defined term -->\r\n                                                                                                                                                                                    <null>\r\n                                                                                                                                                                                        <null>\r\n                                                                                                                                                                                            <!-- Definition -->\r\n                                                                                                                                                                                            <null>\r\n                                                                                                                                                                                                <null>\r\n                                                                                                                                                                                                    <!-- Ordered list -->\r\n                                                                                                                                                                                                    <null>\r\n                                                                                                                                                                                                        <null>\r\n                                                                                                                                                                                                            <!-- Unordered list -->\r\n                                                                                                                                                                                                            <null>\r\n                                                                                                                                                                                                                <null>\r\n                                                                                                                                                                                                                    <!-- List element -->\r\n                                                                                                                                                                                                                    <null>\r\n                                                                                                                                                                                                                        <null>\r\n                                                                                                                                                                                                                            <!-- =========== Basic table support =========== -->\r\n                                                                                                                                                                                                                            <!-- Shared attributes -->\r\n                                                                                                                                                                                                                            <null>\r\n                                                                                                                                                                                                                                <!-- Table -->\r\n                                                                                                                                                                                                                                <null>\r\n                                                                                                                                                                                                                                    <null>\r\n                                                                                                                                                                                                                                        <!-- Table caption -->\r\n                                                                                                                                                                                                                                        <null>\r\n                                                                                                                                                                                                                                            <null>\r\n                                                                                                                                                                                                                                                <!-- Table row -->\r\n                                                                                                                                                                                                                                                <null>\r\n                                                                                                                                                                                                                                                    <null>\r\n                                                                                                                                                                                                                                                        <!-- Table header -->\r\n                                                                                                                                                                                                                                                        <null>\r\n                                                                                                                                                                                                                                                            <null>\r\n                                                                                                                                                                                                                                                                <!-- Table data -->\r\n                                                                                                                                                                                                                                                                <null>\r\n                                                                                                                                                                                                                                                                    <null>\r\n                                                                                                                                                                                                                                                                        <!-- =========== Other vertical elements =========== -->\r\n                                                                                                                                                                                                                                                                        <!-- Address block -->\r\n                                                                                                                                                                                                                                                                        <null>\r\n                                                                                                                                                                                                                                                                            <null>\r\n                                                                                                                                                                                                                                                                                <!-- Block quotation -->\r\n                                                                                                                                                                                                                                                                                <null>\r\n                                                                                                                                                                                                                                                                                    <null>\r\n                                                                                                                                                                                                                                                                                        <!-- General text division -->\r\n                                                                                                                                                                                                                                                                                        <null>\r\n                                                                                                                                                                                                                                                                                            <null>\r\n                                                                                                                                                                                                                                                                                                <!-- Paragraph -->\r\n                                                                                                                                                                                                                                                                                                <null>\r\n                                                                                                                                                                                                                                                                                                    <null>\r\n                                                                                                                                                                                                                                                                                                        <!-- Preformatted text -->\r\n                                                                                                                                                                                                                                                                                                        <null>\r\n                                                                                                                                                                                                                                                                                                            <null>\r\n                                                                                                                                                                                                                                                                                                                <!-- =========== END OF ibtwsh.dtd =========== -->\r\n```", "url": "https://github.com/eclipse/lemminx/issues/268", "user": "fbricon", "labels": ["DTD", "bug", "formatting", "in progress"], "created": "2018-12-19 20:16:16", "closed": "2019-01-09 16:57:42", "commits": {"393ca7256b95cc3e65386128420d0cda57379a10": {"commitGHEventType": "referenced", "commitUser": "fbricon"}}, "ttf": 20.00027777777778, "commitsDetails": [{"commitHash": "393ca7256b95cc3e65386128420d0cda57379a10", "commitGHEventType": "referenced", "commitUser": "fbricon", "commitParents": ["23f83553fed870525bd9bc3172307d506aad016c"], "nameRev": "393ca7256b95cc3e65386128420d0cda57379a10 tags/0.3.0~25", "commitMessage": "DTD Formatting implemented\n\nFixes #221 and #268\n\nSigned-off-by: Nikolas Komonen <nikolaskomonen@gmail.com>\n", "commitDateTime": "2019-01-09 11:38:14", "authoredDateTime": "2018-12-19 15:21:03", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/DOMDocument.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/DOMDocumentType.java", "insertions": 46, "deletions": 60, "lines": 106}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/DOMNode.java", "insertions": 4, "deletions": 0, "lines": 4}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/DOMParser.java", "insertions": 41, "deletions": 53, "lines": 94}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/DTDAttlistDecl.java", "insertions": 26, "deletions": 18, "lines": 44}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/DTDDeclNode.java", "insertions": 51, "deletions": 5, "lines": 56}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/DTDDeclParameter.java", "insertions": 64, "deletions": 0, "lines": 64}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/DTDElementDecl.java", "insertions": 20, "deletions": 13, "lines": 33}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/DTDEntityDecl.java", "insertions": 37, "deletions": 28, "lines": 65}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/DTDNotationDecl.java", "insertions": 13, "deletions": 25, "lines": 38}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/DTDUnrecognizedDeclParameter.java", "insertions": 15, "deletions": 0, "lines": 15}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/LineIndentInfo.java", "insertions": 12, "deletions": 0, "lines": 12}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/parser/Constants.java", "insertions": 3, "deletions": 1, "lines": 4}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/parser/MultiLineStream.java", "insertions": 72, "deletions": 0, "lines": 72}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/parser/ScannerState.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/parser/XMLScanner.java", "insertions": 45, "deletions": 21, "lines": 66}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/dtd/contentmodel/CMDTDContentModelProvider.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/XMLFormatter.java", "insertions": 183, "deletions": 62, "lines": 245}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/utils/XMLBuilder.java", "insertions": 27, "deletions": 11, "lines": 38}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/dom/DOMParserForInternalDTDTest.java", "insertions": 63, "deletions": 7, "lines": 70}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/dom/DOMParserTest.java", "insertions": 64, "deletions": 126, "lines": 190}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/dom/parser/XMLScannerForExternalDTDTest.java", "insertions": 33, "deletions": 0, "lines": 33}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/services/XMLDocumentSymbolsTest.java", "insertions": 0, "deletions": 1, "lines": 1}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/services/XMLFormatterTest.java", "insertions": 610, "deletions": 3, "lines": 613}], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": "tooManyFiles"}], "filteredCommits": [], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 1, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 0, "gitStatsSummary": {"insertions": 0, "deletions": 0, "lines": 0, "gitFilesChange": 0}, "spoonStatsSummary": {}, "statsSkippedReason": "", "changesInPackagesGIT": []}, {"title": "Server goes into an infinite loop when typing `<` in an empty dtd file", "body": "Server goes into an infinite loop when typing `<` in an empty dtd file. jstack shows:\r\n\r\n```\r\n2018-12-18 01:01:28\r\nFull thread dump Java HotSpot(TM) 64-Bit Server VM (25.141-b15 mixed mode):\r\n\r\n\"ForkJoinPool.commonPool-worker-0\" #29 daemon prio=5 os_prio=31 tid=0x00007fc67d2e9800 nid=0x100f waiting on condition [0x0000700005a87000]\r\n   java.lang.Thread.State: WAITING (parking)\r\n\tat sun.misc.Unsafe.park(Native Method)\r\n\t- parking to wait for  <0x00000007bc541ab8> (a java.util.concurrent.ForkJoinPool)\r\n\tat java.util.concurrent.ForkJoinPool.awaitWork(ForkJoinPool.java:1824)\r\n\tat java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1693)\r\n\tat java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)\r\n\r\n\"ForkJoinPool.commonPool-worker-3\" #28 daemon prio=5 os_prio=31 tid=0x00007fc67d0f0800 nid=0x5b0f runnable [0x0000700005983000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\tat org.eclipse.lsp4xml.dom.DOMNode.getParentElement(DOMNode.java:389)\r\n\tat org.eclipse.lsp4xml.services.AbstractPositionRequest.getParentElement(AbstractPositionRequest.java:57)\r\n\tat org.eclipse.lsp4xml.extensions.contentmodel.participants.ContentModelCompletionParticipant.onTagOpen(ContentModelCompletionParticipant.java:46)\r\n\tat org.eclipse.lsp4xml.services.XMLCompletions.collectOpenTagSuggestions(XMLCompletions.java:375)\r\n\tat org.eclipse.lsp4xml.services.XMLCompletions.collectInsideContent(XMLCompletions.java:542)\r\n\tat org.eclipse.lsp4xml.services.XMLCompletions.doComplete(XMLCompletions.java:205)\r\n\tat org.eclipse.lsp4xml.services.XMLLanguageService.doComplete(XMLLanguageService.java:103)\r\n\tat org.eclipse.lsp4xml.XMLTextDocumentService.lambda$completion$1(XMLTextDocumentService.java:192)\r\n\tat org.eclipse.lsp4xml.XMLTextDocumentService$$Lambda$46/2027672026.apply(Unknown Source)\r\n\tat java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:602)\r\n\tat java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:577)\r\n\tat java.util.concurrent.CompletableFuture$Completion.exec(CompletableFuture.java:443)\r\n\tat java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)\r\n\tat java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)\r\n\tat java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)\r\n\tat java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)\r\n\r\n\"ForkJoinPool.commonPool-worker-2\" #27 daemon prio=5 os_prio=31 tid=0x00007fc67b924000 nid=0x9a0f runnable [0x0000700005880000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\tat org.eclipse.lsp4xml.dom.DOMNode.getParentElement(DOMNode.java:389)\r\n\tat org.eclipse.lsp4xml.services.AbstractPositionRequest.getParentElement(AbstractPositionRequest.java:57)\r\n\tat org.eclipse.lsp4xml.extensions.contentmodel.participants.ContentModelCompletionParticipant.onTagOpen(ContentModelCompletionParticipant.java:46)\r\n\tat org.eclipse.lsp4xml.services.XMLCompletions.collectOpenTagSuggestions(XMLCompletions.java:375)\r\n\tat org.eclipse.lsp4xml.services.XMLCompletions.collectInsideContent(XMLCompletions.java:542)\r\n\tat org.eclipse.lsp4xml.services.XMLCompletions.doComplete(XMLCompletions.java:205)\r\n\tat org.eclipse.lsp4xml.services.XMLLanguageService.doComplete(XMLLanguageService.java:103)\r\n\tat org.eclipse.lsp4xml.XMLTextDocumentService.lambda$completion$1(XMLTextDocumentService.java:192)\r\n\tat org.eclipse.lsp4xml.XMLTextDocumentService$$Lambda$46/2027672026.apply(Unknown Source)\r\n\tat java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:602)\r\n\tat java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:577)\r\n\tat java.util.concurrent.CompletableFuture$Completion.exec(CompletableFuture.java:443)\r\n\tat java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)\r\n\tat java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)\r\n\tat java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)\r\n\tat java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)\r\n\r\n\"Attach Listener\" #20 daemon prio=9 os_prio=31 tid=0x00007fc67d26a800 nid=0x9d07 waiting on condition [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\r\n\"pool-2-thread-1\" #16 prio=5 os_prio=31 tid=0x00007fc67b8f2800 nid=0x5903 waiting on condition [0x000070000567b000]\r\n   java.lang.Thread.State: WAITING (parking)\r\n\tat sun.misc.Unsafe.park(Native Method)\r\n\t- parking to wait for  <0x00000007bc54e418> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\r\n\tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\r\n\tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1081)\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)\r\n\tat java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n\r\n\"DestroyJavaVM\" #15 prio=5 os_prio=31 tid=0x00007fc67d002800 nid=0x1803 waiting on condition [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\r\n\"pool-3-thread-1\" #14 prio=5 os_prio=31 tid=0x00007fc67b8db800 nid=0x5803 runnable [0x0000700005578000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\tat java.io.FileInputStream.readBytes(Native Method)\r\n\tat java.io.FileInputStream.read(FileInputStream.java:255)\r\n\tat java.io.BufferedInputStream.fill(BufferedInputStream.java:246)\r\n\tat java.io.BufferedInputStream.read(BufferedInputStream.java:265)\r\n\t- locked <0x00000007bc582168> (a java.io.BufferedInputStream)\r\n\tat org.eclipse.lsp4j.jsonrpc.json.StreamMessageProducer.listen(StreamMessageProducer.java:79)\r\n\tat org.eclipse.lsp4j.jsonrpc.json.ConcurrentMessageProcessor.run(ConcurrentMessageProcessor.java:99)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n\r\n\"pool-4-thread-1\" #13 prio=5 os_prio=31 tid=0x00007fc67c93b800 nid=0x9f03 waiting on condition [0x0000700005475000]\r\n   java.lang.Thread.State: TIMED_WAITING (parking)\r\n\tat sun.misc.Unsafe.park(Native Method)\r\n\t- parking to wait for  <0x00000007bc582410> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\r\n\tat java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)\r\n\tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)\r\n\tat java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n\r\n\"Service Thread\" #11 daemon prio=9 os_prio=31 tid=0x00007fc67c03c800 nid=0xa203 runnable [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\r\n\"C1 CompilerThread2\" #10 daemon prio=9 os_prio=31 tid=0x00007fc67c03c000 nid=0xa403 waiting on condition [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\r\n\"C2 CompilerThread1\" #9 daemon prio=9 os_prio=31 tid=0x00007fc67b832000 nid=0xa603 waiting on condition [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\r\n\"C2 CompilerThread0\" #8 daemon prio=9 os_prio=31 tid=0x00007fc67c04d800 nid=0xa803 waiting on condition [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\r\n\"JDWP Event Helper Thread\" #7 daemon prio=10 os_prio=31 tid=0x00007fc67c04c800 nid=0x5503 runnable [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\r\n\"JDWP Transport Listener: dt_socket\" #6 daemon prio=10 os_prio=31 tid=0x00007fc67c04c000 nid=0x3e07 runnable [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\r\n\"Signal Dispatcher\" #5 daemon prio=9 os_prio=31 tid=0x00007fc67c846000 nid=0x3d03 runnable [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\r\n\"Surrogate Locker Thread (Concurrent GC)\" #4 daemon prio=9 os_prio=31 tid=0x00007fc67c824000 nid=0x3b03 waiting on condition [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\r\n\"Finalizer\" #3 daemon prio=8 os_prio=31 tid=0x00007fc67b831800 nid=0x4603 in Object.wait() [0x0000700004a57000]\r\n   java.lang.Thread.State: WAITING (on object monitor)\r\n\tat java.lang.Object.wait(Native Method)\r\n\t- waiting on <0x00000007bc5832c8> (a java.lang.ref.ReferenceQueue$Lock)\r\n\tat java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:143)\r\n\t- locked <0x00000007bc5832c8> (a java.lang.ref.ReferenceQueue$Lock)\r\n\tat java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:164)\r\n\tat java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:209)\r\n\r\n\"Reference Handler\" #2 daemon prio=10 os_prio=31 tid=0x00007fc67b829000 nid=0x3503 in Object.wait() [0x0000700004954000]\r\n   java.lang.Thread.State: WAITING (on object monitor)\r\n\tat java.lang.Object.wait(Native Method)\r\n\t- waiting on <0x00000007bc583480> (a java.lang.ref.Reference$Lock)\r\n\tat java.lang.Object.wait(Object.java:502)\r\n\tat java.lang.ref.Reference.tryHandlePending(Reference.java:191)\r\n\t- locked <0x00000007bc583480> (a java.lang.ref.Reference$Lock)\r\n\tat java.lang.ref.Reference$ReferenceHandler.run(Reference.java:153)\r\n\r\n\"VM Thread\" os_prio=31 tid=0x00007fc67d02c800 nid=0x3403 runnable\r\n\r\n\"Gang worker#0 (Parallel GC Threads)\" os_prio=31 tid=0x00007fc67c803800 nid=0x1e07 runnable\r\n\r\n\"Gang worker#1 (Parallel GC Threads)\" os_prio=31 tid=0x00007fc67c812800 nid=0x2a03 runnable\r\n\r\n\"Gang worker#2 (Parallel GC Threads)\" os_prio=31 tid=0x00007fc67c813000 nid=0x2c03 runnable\r\n\r\n\"Gang worker#3 (Parallel GC Threads)\" os_prio=31 tid=0x00007fc67c814000 nid=0x5303 runnable\r\n\r\n\"G1 Main Concurrent Mark GC Thread\" os_prio=31 tid=0x00007fc67b80f000 nid=0x3103 runnable\r\n\r\n\"Gang worker#0 (G1 Parallel Marking Threads)\" os_prio=31 tid=0x00007fc67b810000 nid=0x4b03 runnable\r\n\r\n\"G1 Concurrent Refinement Thread#0\" os_prio=31 tid=0x00007fc67b807800 nid=0x4d03 runnable\r\n\r\n\"G1 Concurrent Refinement Thread#1\" os_prio=31 tid=0x00007fc67b807000 nid=0x3003 runnable\r\n\r\n\"G1 Concurrent Refinement Thread#2\" os_prio=31 tid=0x00007fc67c815000 nid=0x2f03 runnable\r\n\r\n\"G1 Concurrent Refinement Thread#3\" os_prio=31 tid=0x00007fc67b806000 nid=0x2e03 runnable\r\n\r\n\"G1 Concurrent Refinement Thread#4\" os_prio=31 tid=0x00007fc67c814800 nid=0x2d03 runnable\r\n\r\n\"String Deduplication Thread\" os_prio=31 tid=0x00007fc67c818800 nid=0x3303 runnable\r\n\r\n\"VM Periodic Task Thread\" os_prio=31 tid=0x00007fc67c03d800 nid=0xa103 waiting on condition\r\n\r\nJNI global references: 2535\r\n```\r\n\r\nThe issue is caused by:\r\nhttps://github.com/angelozerr/lsp4xml/blob/f4e8319ba63c970277469ccd3115cd6c1f96c096/org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/DOMNode.java#L370-L378\r\n\r\nwhen parent.isElement() returns false, it goes back into the loop but the parent value is not updated, so it continues indefinitely\r\n", "url": "https://github.com/eclipse/lemminx/issues/266", "user": "fbricon", "labels": ["bug", "completion", "regression"], "created": "2018-12-18 06:24:17", "closed": "2018-12-18 06:31:28", "commits": {}, "ttf": 0.0002777777777777778, "commitsDetails": []}, {"title": "Document Symbols only returns the 1st ATTLIST value", "body": "I found that multiple attlists in one declaration are not supported, so only the 1st attribute shows in the outline eg. [ant1.6.2.dtd](https://raw.githubusercontent.com/eclipse/eclipse.platform/master/ant/org.eclipse.ant.ui/Ant%20Editor/org/eclipse/ant/internal/ui/editor/ant1.6.2.dtd) (look at project, target):\r\n\r\n<img width=\"1395\" alt=\"screen shot 2018-12-16 at 11 05 40 pm\" src=\"https://user-images.githubusercontent.com/148698/50065980-3735db80-0187-11e9-990a-eeae370e99d9.png\">\r\n\r\n```xml\r\n<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\r\n<!ENTITY % boolean \"(true|false|on|off|yes|no)\">\r\n<!ENTITY % tasks \"propertyfile | ccmkdir | importtypelib | vsscheckin | sql | cvspass | p4reopen | csc | dirname | wlrun | p4label | p4revert | replaceregexp | get | jjtree | sleep | jarlib-display | dependset | zip | patch | jspc | style | test | tstamp | unwar | vsshistory | icontract | cvschangelog | p4submit | ccmcheckin | p4change | bzip2 | sync | p4delete | vssadd | javadoc | p4integrate | translate | signjar | cclock | chown | vajload | jarlib-available | rexec | WsdlToDotnet | buildnumber | jpcovmerge | ejbjar | war | stlist | rename | sequential | serverdeploy | property | subant | move | ildasm | copydir | cccheckin | ccunlock | wljspc | fixcrlf | telnet | sosget | pathconvert | record | p4sync | exec | ccmklabel | p4edit | manifest | maudit | antlr | netrexxc | ftp | jpcovreport | execon | ccmcheckout | ant | xmlvalidate | xslt | p4resolve | iplanet-ejbc | ccmcheckintask | gzip | native2ascii | ccrmtype | starteam | ear | input | presetdef | rmic | checksum | mail | loadfile | vsscheckout | stylebook | soscheckin | mimemail | stlabel | gunzip | concat | cab | touch | parallel | splash | antcall | ccmkbl | cccheckout | typedef | p4have | filter | xmlproperty | import | copy | jsharpc | symlink | antstructure | script | ccmcreatetask | rpm | delete | replace | mmetrics | attrib | waitfor | untar | loadproperties | available | echoproperties | stcheckin | chgrp | vajexport | stcheckout | bunzip2 | whichresource | copyfile | p4labelsync | vsscreate | macrodef | ejbc | unjar | vbc | wsdltodotnet | mkdir | cvs | condition | tempfile | junitreport | ccmkattr | taskdef | echo | ccupdate | java | vsslabel | renameext | basename | javadoc2 | tar | vsscp | vajimport | p4fstat | setproxy | p4counter | wlstop | ilasm | soscheckout | apply | ccuncheckout | jarlib-resolve | jlink | cvstagdiff | javacc | chmod | pvcs | jarlib-manifest | jar | ccmklbtype | sound | scriptdef | defaultexcludes | mparse | blgenclient | uptodate | jjdoc | genkey | javah | ccmkelem | ccmreconfigure | fail | unzip | javac | p4add | jpcoverage | soslabel | depend | vssget | deltree | ddcreator | junit | sshexec | scp\">\r\n<!ENTITY % types \"patternset | assertions | propertyset | filterset | libfileset | mergemapper | identitymapper | filterreader | unpackagemapper | scriptfilter | concatfilter | extension | fileset | dirset | globmapper | filelist | filterchain | path | compositemapper | classfileset | regexpmapper | selector | xmlcatalog | flattenmapper | description | chainedmapper | packagemapper | mapper | zipfileset | substitution | extensionSet | redirector | regexp\">\r\n\r\n<!ELEMENT project (target | extension-point | %tasks; | %types;)*>\r\n<!ATTLIST project\r\n          name    CDATA #IMPLIED\r\n          default CDATA #IMPLIED\r\n          basedir CDATA #IMPLIED>\r\n\r\n<!ELEMENT target (%tasks; | %types;)*>\r\n\r\n<!ATTLIST target\r\n          id          ID    #IMPLIED\r\n          name        CDATA #REQUIRED\r\n          if          CDATA #IMPLIED\r\n          unless      CDATA #IMPLIED\r\n          depends     CDATA #IMPLIED\r\n          extensionOf CDATA #IMPLIED\r\n          description CDATA #IMPLIED>\r\n    ...\r\n```", "url": "https://github.com/eclipse/lemminx/issues/265", "user": "fbricon", "labels": ["DTD", "bug", "symbols"], "created": "2018-12-17 14:46:35", "closed": "2019-05-27 23:07:00", "commits": {"c914529465922adccd757abfc81e86b4e854f40e": {"commitGHEventType": "referenced", "commitUser": "fbricon"}}, "ttf": 161.00027777777777, "commitsDetails": [{"commitHash": "c914529465922adccd757abfc81e86b4e854f40e", "commitGHEventType": "referenced", "commitUser": "fbricon", "commitParents": ["9d78030ff99f9c657876a59b7251770bdaf39239"], "nameRev": "c914529465922adccd757abfc81e86b4e854f40e tags/0.7.0~18", "commitMessage": "DTD Attlist symbols will show multiple ATTLIST attributes\n\nFixes#265\n\nSigned-off-by: Nikolas Komonen <nikolaskomonen@gmail.com>\n", "commitDateTime": "2019-05-27 19:06:58", "authoredDateTime": "2019-05-23 17:22:48", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/XMLSymbolsProvider.java", "insertions": 65, "deletions": 17, "lines": 82}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/services/XMLDocumentSymbolsTest.java", "insertions": 44, "deletions": 17, "lines": 61}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/services/XMLSymbolInformationsTest.java", "insertions": 2, "deletions": 2, "lines": 4}], "commitSpoonAstDiffStats": [{"spoonFilePath": "XMLSymbolsProvider.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.services.XMLSymbolsProvider.findDocumentSymbols(org.eclipse.lsp4xml.dom.DOMNode,java.util.List,java.util.List)", "TOT": 21, "UPD": 5, "INS": 7, "MOV": 8, "DEL": 1}, {"spoonMethodName": "org.eclipse.lsp4xml.services.XMLSymbolsProvider.getSymbolRange(org.eclipse.lsp4xml.dom.DOMNode)", "TOT": 4, "UPD": 0, "INS": 1, "MOV": 3, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.services.XMLSymbolsProvider.getSymbolRange(org.eclipse.lsp4xml.dom.DOMNode,boolean)", "TOT": 4, "UPD": 0, "INS": 4, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLDocumentSymbolsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.services.XMLDocumentSymbolsTest.externalDTD()", "TOT": 8, "UPD": 4, "INS": 2, "MOV": 0, "DEL": 2}, {"spoonMethodName": "org.eclipse.lsp4xml.services.XMLDocumentSymbolsTest.internalDTD()", "TOT": 14, "UPD": 12, "INS": 0, "MOV": 2, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.services.XMLDocumentSymbolsTest.multipleAttlistValues()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLSymbolInformationsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.services.XMLSymbolInformationsTest.externalDTD()", "TOT": 2, "UPD": 2, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.services.XMLSymbolInformationsTest.internalDTD()", "TOT": 2, "UPD": 2, "INS": 0, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["c914529465922adccd757abfc81e86b4e854f40e"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 65, "deletions": 17, "lines": 82, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 29, "UPD": 5, "INS": 12, "MOV": 11, "DEL": 1, "spoonFilesChanged": 1, "spoonMethodsChanged": 3}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services"], "changesInPackagesSPOON": ["org.eclipse.lsp4xml.services.XMLSymbolsProvider.findDocumentSymbols(org.eclipse.lsp4xml.dom.DOMNode,java.util.List,java.util.List)", "org.eclipse.lsp4xml.services.XMLSymbolsProvider.getSymbolRange(org.eclipse.lsp4xml.dom.DOMNode)", "org.eclipse.lsp4xml.services.XMLSymbolsProvider.getSymbolRange(org.eclipse.lsp4xml.dom.DOMNode,boolean)"]}, {"title": "Formatter surrounds single-quoted attributes with double-quotes", "body": "Formatting this  \r\n```xml\r\n<?xml version='1.0' encoding='UTF-8'?>\r\n<?compositeMetadataRepository version='1.0.0'?>\r\n<repository name='m2e-apt updates' type='org.eclipse.equinox.internal.p2.metadata.repository.CompositeMetadataRepository' version='1.0.0'>\r\n<properties size='2'>\r\n<property name='p2.compressed' value='true'/>\r\n<property name='p2.timestamp' value='1328709112213'/>\r\n</properties>\r\n<children size='9'>\r\n<child location='http://download.jboss.org/jbosstools/updates/m2e-extensions/m2e-apt/1.5.1-2018-11-16_19-54-26-H16/' />\r\n<child location='http://download.jboss.org/jbosstools/updates/m2e-extensions/m2e-apt/1.5.0-2018-08-14_20-24-39-H12/' />\r\n<child location='http://download.jboss.org/jbosstools/updates/m2e-extensions/m2e-apt/1.4.0-2018-01-12_16-25-02-H6/' />\r\n<child location='http://download.jboss.org/jbosstools/updates/m2e-extensions/m2e-apt/1.3.0-2016-10-26_18-05-00-B50/' />\r\n<child location='http://download.jboss.org/jbosstools/updates/m2e-extensions/m2e-apt/1.2.0-2016-01-25_16-03-44-H45/' />\r\n<child location='http://download.jboss.org/jbosstools/updates/m2e-extensions/m2e-apt/1.1.1-2014-11-26_15-11-10-H37/' />\r\n<child location='http://download.jboss.org/jbosstools/updates/m2e-extensions/m2e-apt/1.1.0-2014-05-21_05-04-36-H34/' />\r\n<child location='http://download.jboss.org/jbosstools/updates/m2e-extensions/m2e-apt/1.0.1-2012-09-20_03-20-41-H23/'/>\r\n<child location='http://download.jboss.org/jbosstools/updates/m2e-extensions/m2e-apt/1.0.0-2012-06-05_16-15-59-H16/'/>\r\n</children>\r\n</repository>\r\n```\r\n\r\nyields:\r\n```xml\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<?compositeMetadataRepository version='1.0.0' ?>\r\n<repository name=\"'m2e-apt updates'\" type=\"'org.eclipse.equinox.internal.p2.metadata.repository.CompositeMetadataRepository'\" version=\"'1.0.0'\">\r\n    <properties size=\"'2'\">\r\n        <property name=\"'p2.compressed'\" value=\"'true'\" />\r\n        <property name=\"'p2.timestamp'\" value=\"'1328709112213'\" />\r\n    </properties>\r\n    <children size=\"'9'\">\r\n        <child location=\"'http://download.jboss.org/jbosstools/updates/m2e-extensions/m2e-apt/1.5.1-2018-11-16_19-54-26-H16/'\" />\r\n        <child location=\"'http://download.jboss.org/jbosstools/updates/m2e-extensions/m2e-apt/1.5.0-2018-08-14_20-24-39-H12/'\" />\r\n        <child location=\"'http://download.jboss.org/jbosstools/updates/m2e-extensions/m2e-apt/1.4.0-2018-01-12_16-25-02-H6/'\" />\r\n        <child location=\"'http://download.jboss.org/jbosstools/updates/m2e-extensions/m2e-apt/1.3.0-2016-10-26_18-05-00-B50/'\" />\r\n        <child location=\"'http://download.jboss.org/jbosstools/updates/m2e-extensions/m2e-apt/1.2.0-2016-01-25_16-03-44-H45/'\" />\r\n        <child location=\"'http://download.jboss.org/jbosstools/updates/m2e-extensions/m2e-apt/1.1.1-2014-11-26_15-11-10-H37/'\" />\r\n        <child location=\"'http://download.jboss.org/jbosstools/updates/m2e-extensions/m2e-apt/1.1.0-2014-05-21_05-04-36-H34/'\" />\r\n        <child location=\"'http://download.jboss.org/jbosstools/updates/m2e-extensions/m2e-apt/1.0.1-2012-09-20_03-20-41-H23/'\" />\r\n        <child location=\"'http://download.jboss.org/jbosstools/updates/m2e-extensions/m2e-apt/1.0.0-2012-06-05_16-15-59-H16/'\" />\r\n    </children>\r\n</repository>\r\n```\r\nsingle quotes should be either  ignored/reused or replaced", "url": "https://github.com/eclipse/lemminx/issues/263", "user": "fbricon", "labels": ["bug", "formatting"], "created": "2018-12-12 16:26:34", "closed": "2019-03-01 21:17:33", "commits": {"1301e9386c1bc1885f1637015fd6e95c5b8b4497": {"commitGHEventType": "referenced", "commitUser": "NikolasKomonen"}}, "ttf": 79.00027777777778, "commitsDetails": [{"commitHash": "1301e9386c1bc1885f1637015fd6e95c5b8b4497", "commitGHEventType": "referenced", "commitUser": "NikolasKomonen", "commitParents": ["dbd4b7833128974ad707b48b12579ff614febaae"], "nameRev": "1301e9386c1bc1885f1637015fd6e95c5b8b4497 tags/0.4.0~12", "commitMessage": "Preference to convert single quote attribute values to double quote on format. (#295)\n\nFixes #263, #294\r\n\r\nSigned-off-by: Nikolas <nikolaskomonen@gmail.com>", "commitDateTime": "2019-03-01 16:17:32", "authoredDateTime": "2019-03-01 16:17:32", "commitGitStats": [{"filePath": ".vscode/java.test.config", "insertions": 28, "deletions": 0, "lines": 28}, {"filePath": ".vscode/settings.json", "insertions": 33, "deletions": 1, "lines": 34}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/DOMAttr.java", "insertions": 62, "deletions": 10, "lines": 72}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/DOMParser.java", "insertions": 9, "deletions": 0, "lines": 9}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/parser/Constants.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/parser/MultiLineStream.java", "insertions": 2, "deletions": 0, "lines": 2}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/parser/XMLScanner.java", "insertions": 4, "deletions": 23, "lines": 27}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/utils/XMLGenerator.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/XMLFormatter.java", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/settings/XMLFormattingOptions.java", "insertions": 51, "deletions": 0, "lines": 51}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/utils/XMLBuilder.java", "insertions": 94, "deletions": 13, "lines": 107}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/dom/parser/XMLScannerTest.java", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/extensions/contentmodel/XMLSyntaxDiagnosticsTest.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/services/XMLFormatterTest.java", "insertions": 167, "deletions": 0, "lines": 167}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/settings/SettingsTest.java", "insertions": 13, "deletions": 1, "lines": 14}], "commitSpoonAstDiffStats": [{"spoonFilePath": "DOMAttr.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.dom.DOMAttr", "TOT": 4, "UPD": 1, "INS": 2, "MOV": 1, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.dom.DOMAttr.getValue(java.lang.String)", "TOT": 8, "UPD": 2, "INS": 0, "MOV": 4, "DEL": 2}, {"spoonMethodName": "org.eclipse.lsp4xml.dom.DOMAttr.getValue()", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.dom.DOMAttr.setValue(java.lang.String,int,int)", "TOT": 5, "UPD": 2, "INS": 2, "MOV": 1, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.dom.DOMAttr.equals(java.lang.Object)", "TOT": 8, "UPD": 4, "INS": 2, "MOV": 2, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.dom.DOMAttr.hashCode()", "TOT": 2, "UPD": 2, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.dom.DOMAttr.setDelimiter(boolean)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.dom.DOMAttr.hasDelimiter()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.dom.DOMAttr.getOriginalValue()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.dom.DOMAttr.isQuoted(java.lang.String)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.dom.DOMAttr.convertToQuotelessValue(java.lang.String)", "TOT": 2, "UPD": 0, "INS": 2, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "DOMParser.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.dom.DOMParser.parse(org.eclipse.lsp4xml.commons.TextDocument,org.eclipse.lsp4xml.uriresolver.URIResolverExtensionManager)", "TOT": 5, "UPD": 0, "INS": 4, "MOV": 1, "DEL": 0}]}, {"spoonFilePath": "Constants.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.dom.parser.Constants", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "MultiLineStream.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.dom.parser.MultiLineStream.getCachedMatcher(java.util.regex.Pattern)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLScanner.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.dom.parser.XMLScanner", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}, {"spoonMethodName": "org.eclipse.lsp4xml.dom.parser.XMLScanner.internalScan()", "TOT": 11, "UPD": 0, "INS": 0, "MOV": 2, "DEL": 9}]}, {"spoonFilePath": "XMLGenerator.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.utils.XMLGenerator.generate(java.util.Collection,int,int,org.eclipse.lsp4xml.utils.XMLBuilder,java.lang.String)", "TOT": 4, "UPD": 0, "INS": 2, "MOV": 0, "DEL": 2}]}, {"spoonFilePath": "XMLFormatter.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.services.XMLFormatter.format(org.eclipse.lsp4xml.dom.DOMNode,int,int,org.eclipse.lsp4xml.utils.XMLBuilder)", "TOT": 7, "UPD": 1, "INS": 1, "MOV": 1, "DEL": 4}]}, {"spoonFilePath": "XMLFormattingOptions.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.settings.XMLFormattingOptions", "TOT": 3, "UPD": 0, "INS": 3, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.settings.XMLFormattingOptions.Quotations", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.settings.XMLFormattingOptions.setQuotations(java.lang.String)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.settings.XMLFormattingOptions.getQuotations()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.settings.XMLFormattingOptions.isValidQuotations()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.settings.XMLFormattingOptions.isQuotations(java.lang.String)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.settings.XMLFormattingOptions.initializeDefaultSettings()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLBuilder.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.utils.XMLBuilder.addAttribute(java.lang.String,java.lang.String,int,int,java.lang.String)", "TOT": 23, "UPD": 6, "INS": 0, "MOV": 16, "DEL": 1}, {"spoonMethodName": "org.eclipse.lsp4xml.utils.XMLBuilder.addSingleAttribute(java.lang.String,java.lang.String)", "TOT": 17, "UPD": 2, "INS": 1, "MOV": 13, "DEL": 1}, {"spoonMethodName": "org.eclipse.lsp4xml.utils.XMLBuilder", "TOT": 2, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 1}, {"spoonMethodName": "org.eclipse.lsp4xml.utils.XMLBuilder.addSingleAttribute(java.lang.String,java.lang.String,boolean)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.utils.XMLBuilder.addAttribute(java.lang.String,java.lang.String,int)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.utils.XMLBuilder.addAttribute(java.lang.String,java.lang.String,int,boolean)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.utils.XMLBuilder.addAttribute(org.eclipse.lsp4xml.dom.DOMAttr,int)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.utils.XMLBuilder.addAttribute(org.eclipse.lsp4xml.dom.DOMAttr,int,boolean)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.utils.XMLBuilder.addAttributeContents(java.lang.String,java.lang.Boolean,java.lang.String,boolean)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLScannerTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.dom.parser.XMLScannerTest.testName34()", "TOT": 2, "UPD": 2, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.dom.parser.XMLScannerTest.testName35()", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLSyntaxDiagnosticsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.XMLSyntaxDiagnosticsTest.testQuoteRequiredInXMLDecl()", "TOT": 2, "UPD": 2, "INS": 0, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLFormatterTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.services.XMLFormatterTest.testUseDoubleQuotesFromDoubleQuotes()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.services.XMLFormatterTest.testUseInvalidValueFromDoubleQuotes()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.services.XMLFormatterTest.testUseSingleQuotesFromSingleQuotes()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.services.XMLFormatterTest.testUseSingleQuotesFromDoubleQuotes()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.services.XMLFormatterTest.testUseDoubleQuotesFromSingleQuotes()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.services.XMLFormatterTest.testUseSingleQuotesNoQuotes()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.services.XMLFormatterTest.testUseSingleQuotesNoQuotesSplit()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.services.XMLFormatterTest.testAttValueOnlyStartQuote()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.services.XMLFormatterTest.testUseDoubleQuotesMultipleAttributes()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.services.XMLFormatterTest.testUseSingleQuotesMultipleAttributes()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.services.XMLFormatterTest.testUseDoubleQuotesMultipleAttributesSplit()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.services.XMLFormatterTest.testUseSingleQuotesMultipleAttributesSplit()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.services.XMLFormatterTest.testAttributeNameTouchingPreviousValue()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "SettingsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.settings.SettingsTest.initializationOptionsSettings()", "TOT": 10, "UPD": 5, "INS": 2, "MOV": 2, "DEL": 1}, {"spoonMethodName": "org.eclipse.lsp4xml.settings.SettingsTest.formatSettings()", "TOT": 8, "UPD": 0, "INS": 4, "MOV": 4, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": [], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 1, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 0, "gitStatsSummary": {"insertions": 0, "deletions": 0, "lines": 0, "gitFilesChange": 0}, "spoonStatsSummary": {"TOT": 0, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 0, "spoonFilesChanged": 0, "spoonMethodsChanged": 0}, "statsSkippedReason": "", "changesInPackagesGIT": [], "changesInPackagesSPOON": []}, {"title": "Formatting removes DOCTYPE's public declaration ", "body": "Formatting this:\r\n```xml\r\n<?xml version=\"1.0\" encoding=\"ISO-8859-1\"?> \r\n<!DOCTYPE web-app\r\n   PUBLIC \"-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN\"\r\n   \"http://java.sun.com/dtd/web-app_2_3.dtd\">\r\n\r\n<web-app>\r\n\t<display-name>sdsd</display-name>\r\n    <servlet>\r\n        <servlet-name>er</servlet-name>\r\n        <servlet-class>dd</servlet-class>\r\n    </servlet>\r\n</web-app>\r\n```\r\n\r\nyields that:\r\n```xml\r\n<?xml version=\"1.0\" encoding=\"ISO-8859-1\"?>\r\n<!DOCTYPE web-app>\r\n<web-app>\r\n    <display-name>sdsd</display-name>\r\n    <servlet>\r\n        <servlet-name>er</servlet-name>\r\n        <servlet-class>dd</servlet-class>\r\n    </servlet>\r\n</web-app>\r\n```\r\n", "url": "https://github.com/eclipse/lemminx/issues/250", "user": "fbricon", "labels": ["DTD", "bug", "formatting", "in progress"], "created": "2018-12-04 22:04:19", "closed": "2019-01-09 16:57:40", "commits": {}, "ttf": 35.000277777777775, "commitsDetails": []}, {"title": "Misplaced diagnostic for cvc-elt.3.1", "body": "Given this wrong schema:\r\n```xml\r\n<?xml version=\"1.0\"?>\r\n<xs:schema elementFormDefault=\"qualified\" xmlns:xs=\"http://www.w3.org/2001/XMLSchema\" \r\nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\r\n>\r\n    <xs:complexType name=\"property\" xsi:nil=\"true\">\r\n    </xs:complexType>\r\n</xs:schema>\r\n```\r\n\r\nthe closing bracket after `xsi:nil=\"true\"` is underlined in red:\r\n\r\n<img width=\"1242\" alt=\"screen shot 2018-11-29 at 6 39 12 pm\" src=\"https://user-images.githubusercontent.com/148698/49259134-1db23700-f406-11e8-92f0-adf286261f66.png\">\r\n\r\n See the diagnostic data:\r\n```\r\n{\r\n\t\"resource\": \"/Users/fbricon/Downloads/sample-resources 5/foo.xsd\",\r\n\t\"owner\": \"_generated_diagnostic_collection_name_#0\",\r\n\t\"code\": \"cvc-elt.3.1\",\r\n\t\"severity\": 8,\r\n\t\"message\": \"cvc-elt.3.1: Attribute 'http://www.w3.org/2001/XMLSchema-instance,nil' must not appear on element 'xs:complexType', because the {nillable} property of 'xs:complexType' is false.\",\r\n\t\"source\": \"xml\",\r\n\t\"startLineNumber\": 5,\r\n\t\"startColumn\": 52,\r\n\t\"endLineNumber\": 5,\r\n\t\"endColumn\": 52\r\n}\r\n```", "url": "https://github.com/eclipse/lemminx/issues/241", "user": "fbricon", "labels": ["XSD", "bug", "validation"], "created": "2018-11-29 23:40:57", "closed": "2018-11-30 08:36:14", "commits": {"d779bf8cb32cc24fdac7e187e702db50b240f6a9": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}}, "ttf": 0.0002777777777777778, "commitsDetails": [{"commitHash": "d779bf8cb32cc24fdac7e187e702db50b240f6a9", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": ["921459bf4fc9a9ad5c91f781891f0eedad95fc6c"], "nameRev": "d779bf8cb32cc24fdac7e187e702db50b240f6a9 tags/0.3.0~62", "commitMessage": "Adjust range for cvc-elt.3.1 (see #241)", "commitDateTime": "2018-11-30 09:35:23", "authoredDateTime": "2018-11-30 09:35:23", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/participants/XMLSchemaErrorCode.java", "insertions": 15, "deletions": 0, "lines": 15}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/utils/XMLPositionUtility.java", "insertions": 26, "deletions": 0, "lines": 26}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/extensions/contentmodel/XMLSchemaDiagnosticsTest.java", "insertions": 16, "deletions": 1, "lines": 17}, {"filePath": "org.eclipse.lsp4xml/src/test/resources/validation/schema/cvc-elt.3.1.xml", "insertions": 9, "deletions": 0, "lines": 9}], "commitSpoonAstDiffStats": [{"spoonFilePath": "XMLSchemaErrorCode.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.participants.XMLSchemaErrorCode", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.participants.XMLSchemaErrorCode.toLSPRange(org.apache.xerces.xni.XMLLocator,org.eclipse.lsp4xml.extensions.contentmodel.participants.XMLSchemaErrorCode,java.lang.Object[],org.eclipse.lsp4xml.dom.DOMDocument)", "TOT": 8, "UPD": 0, "INS": 7, "MOV": 1, "DEL": 0}]}, {"spoonFilePath": "XMLPositionUtility.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.utils.XMLPositionUtility.selectAttributeFromGivenNameAt(java.lang.String,int,org.eclipse.lsp4xml.dom.DOMDocument)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.utils.XMLPositionUtility.createAttrRange(org.eclipse.lsp4xml.dom.DOMAttr,org.eclipse.lsp4xml.dom.DOMDocument)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.utils.XMLPositionUtility.selectDTDElementDeclAt(int,org.eclipse.lsp4xml.dom.DOMDocument)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLSchemaDiagnosticsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.XMLSchemaDiagnosticsTest.cvc_elt_3_1()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["d779bf8cb32cc24fdac7e187e702db50b240f6a9"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 41, "deletions": 0, "lines": 41, "gitFilesChange": 2}, "spoonStatsSummary": {"TOT": 12, "UPD": 0, "INS": 11, "MOV": 1, "DEL": 0, "spoonFilesChanged": 2, "spoonMethodsChanged": 5}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/utils", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/participants"], "changesInPackagesSPOON": ["org.eclipse.lsp4xml.utils.XMLPositionUtility.selectDTDElementDeclAt(int,org.eclipse.lsp4xml.dom.DOMDocument)", "org.eclipse.lsp4xml.utils.XMLPositionUtility.createAttrRange(org.eclipse.lsp4xml.dom.DOMAttr,org.eclipse.lsp4xml.dom.DOMDocument)", "org.eclipse.lsp4xml.extensions.contentmodel.participants.XMLSchemaErrorCode", "org.eclipse.lsp4xml.utils.XMLPositionUtility.selectAttributeFromGivenNameAt(java.lang.String,int,org.eclipse.lsp4xml.dom.DOMDocument)", "org.eclipse.lsp4xml.extensions.contentmodel.participants.XMLSchemaErrorCode.toLSPRange(org.apache.xerces.xni.XMLLocator,org.eclipse.lsp4xml.extensions.contentmodel.participants.XMLSchemaErrorCode,java.lang.Object[],org.eclipse.lsp4xml.dom.DOMDocument)"]}, {"title": "javax.xml.soap.Node is not available in Java 11", "body": "https://github.com/angelozerr/lsp4xml/blob/f04d10452821caa0d6b41883b2637ee87fa1f5ae/org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/DOMEntity.java#L13 shows a compilation error when targetting Java 11 compilation", "url": "https://github.com/eclipse/lemminx/issues/238", "user": "fbricon", "labels": ["bug"], "created": "2018-11-26 21:04:11", "closed": "2018-11-26 21:26:13", "commits": {"e6d345570adc0c937f64a81a33b08445c0f1742a": {"commitGHEventType": "closed", "commitUser": "fbricon"}}, "ttf": 0.0002777777777777778, "commitsDetails": [{"commitHash": "e6d345570adc0c937f64a81a33b08445c0f1742a", "commitGHEventType": "closed", "commitUser": "fbricon", "commitParents": ["f04d10452821caa0d6b41883b2637ee87fa1f5ae"], "nameRev": "e6d345570adc0c937f64a81a33b08445c0f1742a tags/0.3.0~71", "commitMessage": "Import org.w3c.dom.Node in DOMEntity. Fixes #238\n\nSigned-off-by: Fred Bricon <fbricon@gmail.com>\n", "commitDateTime": "2018-11-26 16:25:41", "authoredDateTime": "2018-11-26 16:25:29", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/DOMEntity.java", "insertions": 1, "deletions": 2, "lines": 3}], "commitSpoonAstDiffStats": [{"spoonFilePath": "DOMEntity.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.dom.DOMEntity.getNodeType()", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["e6d345570adc0c937f64a81a33b08445c0f1742a"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 1, "deletions": 2, "lines": 3, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0, "spoonFilesChanged": 1, "spoonMethodsChanged": 1}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom"], "changesInPackagesSPOON": ["org.eclipse.lsp4xml.dom.DOMEntity.getNodeType()"]}, {"title": "Formatter either adds or removes content in malformed xml", "body": "In this document, a closing bracket is missing L8:\r\n```xml\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<resources something=\"foo\">\r\n  <resource name=\"res00\">\r\n    <property name=\"propA\" value=\"...\"/>\r\n    <property name=\"propB\" value=\"...\"/>\r\n  </resource>\r\n  <resource ddd=\"ddd\" name=\"\">\r\n    <property name=\"one\" value=\"...\"\r\n    <property name=\"two\" value=\"...\"/>\r\n  </resource>\r\n</resources>\r\n```\r\nWhen invoking the formatter, a closing bracket is added:\r\n![formatter-adds-closing-bracket](https://user-images.githubusercontent.com/148698/48508649-1b07ed00-e81d-11e8-9e8a-146c772c33e3.gif)\r\n\r\nHere, closing bracket is also missing L8:\r\n```xml\r\n<web-app \r\n         xmlns=\"http://xmlns.jcp.org/xml/ns/javaee\"\r\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\r\n         xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/javaee \r\n\t\t http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd\"\r\n         version=\"3.1\">\r\n         <servlet>\r\n             <servlet-name>sssi</servlet-name>\r\n         </servlet\r\n</web-app>\r\n```\r\nBut then, the formatter removes the line completely!\r\n![formatter-removing-malformed-element](https://user-images.githubusercontent.com/148698/48508780-7d60ed80-e81d-11e8-97cc-d26a53cb95f0.gif)\r\n", "url": "https://github.com/eclipse/lemminx/issues/227", "user": "fbricon", "labels": ["bug", "formatting", "in progress"], "created": "2018-11-14 19:56:59", "closed": "2018-12-05 14:37:22", "commits": {"f9676fe82a729bfdb3e9f9313fb5c48e837e1c63": {"commitGHEventType": "referenced", "commitUser": "NikolasKomonen"}}, "ttf": 20.00027777777778, "commitsDetails": [{"commitHash": "f9676fe82a729bfdb3e9f9313fb5c48e837e1c63", "commitGHEventType": "referenced", "commitUser": "NikolasKomonen", "commitParents": ["b349053fd11036f007722b04d345dc568993574f"], "nameRev": "f9676fe82a729bfdb3e9f9313fb5c48e837e1c63 tags/0.3.0~44", "commitMessage": "Added DOMElement properties (more offset values). Also fixed formatting issues. (#249)\n\nFixes #227\r\n\r\nSigned-off-by: Nikolas Komonen <nikolaskomonen@gmail.com>", "commitDateTime": "2018-12-05 09:37:21", "authoredDateTime": "2018-12-05 09:37:21", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/DOMElement.java", "insertions": 34, "deletions": 7, "lines": 41}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/DOMNode.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/DOMParser.java", "insertions": 26, "deletions": 8, "lines": 34}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/utils/XMLGenerator.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/XMLFormatter.java", "insertions": 15, "deletions": 14, "lines": 29}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/utils/XMLBuilder.java", "insertions": 13, "deletions": 3, "lines": 16}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/services/XMLFormatterTest.java", "insertions": 61, "deletions": 1, "lines": 62}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/utils/XMLBuilderTest.java", "insertions": 1, "deletions": 1, "lines": 2}], "commitSpoonAstDiffStats": [{"spoonFilePath": "DOMElement.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.dom.DOMElement.isInEndTag(int)", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.dom.DOMElement", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}, {"spoonMethodName": "org.eclipse.lsp4xml.dom.DOMElement.getEndTagCloseOffset()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.dom.DOMElement.isStartTagClosed()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.dom.DOMElement.isEndTagClosed()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.dom.DOMElement.isClosed()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "DOMNode.java", "spoonMethods": []}, {"spoonFilePath": "DOMParser.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.dom.DOMParser.parse(org.eclipse.lsp4xml.commons.TextDocument,org.eclipse.lsp4xml.uriresolver.URIResolverExtensionManager)", "TOT": 24, "UPD": 4, "INS": 11, "MOV": 6, "DEL": 3}]}, {"spoonFilePath": "XMLGenerator.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.utils.XMLGenerator.generate(org.eclipse.lsp4xml.extensions.contentmodel.model.CMElementDeclaration,java.lang.String,int,int,org.eclipse.lsp4xml.utils.XMLBuilder,java.util.List)", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLFormatter.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.services.XMLFormatter.format(org.eclipse.lsp4xml.dom.DOMNode,int,int,org.eclipse.lsp4xml.utils.XMLBuilder)", "TOT": 15, "UPD": 5, "INS": 3, "MOV": 2, "DEL": 5}]}, {"spoonFilePath": "XMLBuilder.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.utils.XMLBuilder.endElement()", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.utils.XMLBuilder.endElement(java.lang.String)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.utils.XMLBuilder.endElement(java.lang.String,java.lang.String)", "TOT": 2, "UPD": 0, "INS": 1, "MOV": 1, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.utils.XMLBuilder.endElement(java.lang.String,boolean)", "TOT": 2, "UPD": 0, "INS": 2, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.utils.XMLBuilder.endElement(java.lang.String,java.lang.String,boolean)", "TOT": 2, "UPD": 0, "INS": 2, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLFormatterTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.services.XMLFormatterTest.testDontAddClosingBracket()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.services.XMLFormatterTest.testEndTagMissingCloseBracket()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.services.XMLFormatterTest.testEndTagMissingCloseBracket2()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLBuilderTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.utils.XMLBuilderTest.elementWithChild()", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": [], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 1, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 0, "gitStatsSummary": {"insertions": 0, "deletions": 0, "lines": 0, "gitFilesChange": 0}, "spoonStatsSummary": {"TOT": 0, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 0, "spoonFilesChanged": 0, "spoonMethodsChanged": 0}, "statsSkippedReason": "", "changesInPackagesGIT": [], "changesInPackagesSPOON": []}, {"title": "Outline for DTD file is messed up", "body": "Save http://java.sun.com/dtd/web-app_2_3.dtd locally and open it, you'll see the outline view and breadcrumbs (if \"breadcrumbs.enabled\": true) look really bad:\r\n<img width=\"1437\" alt=\"screen shot 2018-11-14 at 2 25 29 pm\" src=\"https://user-images.githubusercontent.com/148698/48507396-d3339680-e819-11e8-809a-2eaba28c632e.png\">\r\n", "url": "https://github.com/eclipse/lemminx/issues/226", "user": "fbricon", "labels": ["DTD", "bug", "symbols"], "created": "2018-11-14 19:33:26", "closed": "2019-01-09 16:57:39", "commits": {"8af3594b5d973e21932ff18b5c31efaf8acf6daf": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "f4d6d4ae56bbb7c7afb2d2de567f5aa86a4c6e75": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}}, "ttf": 55.000277777777775, "commitsDetails": [{"commitHash": "8af3594b5d973e21932ff18b5c31efaf8acf6daf", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": ["2e155e6f6d401cfd821585a867086a65bef15072"], "nameRev": "8af3594b5d973e21932ff18b5c31efaf8acf6daf tags/0.3.0~58", "commitMessage": "Display attribute in outline (see #226)", "commitDateTime": "2018-11-30 19:31:15", "authoredDateTime": "2018-11-30 19:31:15", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/DOMDocument.java", "insertions": 12, "deletions": 0, "lines": 12}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/DOMParser.java", "insertions": 12, "deletions": 0, "lines": 12}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/DTDAttlistDecl.java", "insertions": 16, "deletions": 1, "lines": 17}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/DTDElementDecl.java", "insertions": 3, "deletions": 2, "lines": 5}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/parser/XMLScanner.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/XMLSymbolsProvider.java", "insertions": 29, "deletions": 10, "lines": 39}], "commitSpoonAstDiffStats": [{"spoonFilePath": "DOMDocument.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.dom.DOMDocument.getDTDAttrList(java.lang.String)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "DOMParser.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.dom.DOMParser.parse(org.eclipse.lsp4xml.commons.TextDocument,org.eclipse.lsp4xml.uriresolver.URIResolverExtensionManager)", "TOT": 7, "UPD": 0, "INS": 6, "MOV": 1, "DEL": 0}]}, {"spoonFilePath": "DTDAttlistDecl.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.dom.DTDAttlistDecl", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.dom.DTDAttlistDecl.getElementName()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "DTDElementDecl.java", "spoonMethods": []}, {"spoonFilePath": "XMLScanner.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.dom.parser.XMLScanner.internalScan()", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLSymbolsProvider.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.services.XMLSymbolsProvider.isNodeSymbol(org.eclipse.lsp4xml.dom.DOMNode)", "TOT": 4, "UPD": 1, "INS": 0, "MOV": 2, "DEL": 1}, {"spoonMethodName": "org.eclipse.lsp4xml.services.XMLSymbolsProvider.nodeToName(org.eclipse.lsp4xml.dom.DOMNode)", "TOT": 3, "UPD": 0, "INS": 2, "MOV": 0, "DEL": 1}, {"spoonMethodName": "org.eclipse.lsp4xml.services.XMLSymbolsProvider.findDocumentSymbols(org.eclipse.lsp4xml.dom.DOMDocument)", "TOT": 3, "UPD": 0, "INS": 3, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.services.XMLSymbolsProvider.provideFileSymbolsInternal(org.eclipse.lsp4xml.dom.DOMNode,java.lang.String,java.util.List,boolean,boolean)", "TOT": 8, "UPD": 0, "INS": 8, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.services.XMLSymbolsProvider.provideFileSymbolsInternal(org.eclipse.lsp4xml.dom.DOMNode,java.lang.String,java.util.List)", "TOT": 3, "UPD": 0, "INS": 0, "MOV": 3, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "f4d6d4ae56bbb7c7afb2d2de567f5aa86a4c6e75", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": ["864ab31e3c9693ce215fc4f66b7a0fe61cc1fc88"], "nameRev": "f4d6d4ae56bbb7c7afb2d2de567f5aa86a4c6e75 tags/0.3.0~48", "commitMessage": "Simplify DTD symbols + add tests (see #226)", "commitDateTime": "2018-12-05 01:15:55", "authoredDateTime": "2018-12-05 01:15:55", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/XMLSymbolsProvider.java", "insertions": 10, "deletions": 24, "lines": 34}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/services/XMLSymbolsTest.java", "insertions": 263, "deletions": 208, "lines": 471}], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": "tooManyChanges"}], "filteredCommits": ["8af3594b5d973e21932ff18b5c31efaf8acf6daf", "f4d6d4ae56bbb7c7afb2d2de567f5aa86a4c6e75"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 2, "gitStatsSummary": {"insertions": 83, "deletions": 38, "lines": 121, "gitFilesChange": 6}, "spoonStatsSummary": {"TOT": 32.0, "UPD": 2.0, "INS": 22.0, "MOV": 6.0, "DEL": 2.0, "spoonFilesChanged": 5, "spoonMethodsChanged": 10}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/parser"], "changesInPackagesSPOON": ["org.eclipse.lsp4xml.dom.DOMDocument.getDTDAttrList(java.lang.String)", "org.eclipse.lsp4xml.services.XMLSymbolsProvider.findDocumentSymbols(org.eclipse.lsp4xml.dom.DOMDocument)", "org.eclipse.lsp4xml.dom.parser.XMLScanner.internalScan()", "org.eclipse.lsp4xml.services.XMLSymbolsProvider.isNodeSymbol(org.eclipse.lsp4xml.dom.DOMNode)", "org.eclipse.lsp4xml.dom.DTDAttlistDecl.getElementName()", "org.eclipse.lsp4xml.services.XMLSymbolsProvider.provideFileSymbolsInternal(org.eclipse.lsp4xml.dom.DOMNode,java.lang.String,java.util.List,boolean,boolean)", "org.eclipse.lsp4xml.dom.DOMParser.parse(org.eclipse.lsp4xml.commons.TextDocument,org.eclipse.lsp4xml.uriresolver.URIResolverExtensionManager)", "org.eclipse.lsp4xml.services.XMLSymbolsProvider.provideFileSymbolsInternal(org.eclipse.lsp4xml.dom.DOMNode,java.lang.String,java.util.List)", "org.eclipse.lsp4xml.services.XMLSymbolsProvider.nodeToName(org.eclipse.lsp4xml.dom.DOMNode)", "org.eclipse.lsp4xml.dom.DTDAttlistDecl"]}, {"title": "Adjust range error for internal DTD declaration", "body": "When internal DTD declaration is done with bad syntax, error is not well adjusted:\r\n\r\n![image](https://user-images.githubusercontent.com/1932211/48502997-3684ef00-e841-11e8-9664-863e0e9b7cca.png)\r\n\r\nTo fix this issue we need that XMLDocument is able to parse DTD declaration (here <!Element). \r\n\r\n\r\n**UPDATE**  \r\n  Implemented Error Codes:  \r\n\r\n  [Refer here](https://github.com/apache/xerces2-j/blob/trunk/src/org/apache/xerces/impl/msg/XMLMessages.properties) for more info on each code.\r\n\r\n- \tAttNameRequiredInAttDef,\r\n- \tAttTypeRequiredInAttDef,\r\n- \tAttlistDeclUnterminated,\r\n- \tElementDeclUnterminated,\r\n- \tEntityDeclUnterminated,\r\n- \tExternalIDorPublicIDRequired,\r\n- \tIDInvalidWithNamespaces,\r\n- \tIDREFInvalidWithNamespaces,\r\n- \tIDREFSInvalid,\r\n- \tLessthanInAttValue,\r\n- \tMSG_ATTRIBUTE_NOT_DECLARED,\r\n- \tMSG_ATTRIBUTE_VALUE_NOT_IN_LIST,\r\n- \tMSG_CONTENT_INCOMPLETE,\r\n- \tMSG_CONTENT_INVALID,\r\n- \tMSG_ELEMENT_NOT_DECLARED,\r\n- \tMSG_ELEMENT_TYPE_REQUIRED_IN_ATTLISTDECL,\r\n- \tMSG_ELEMENT_TYPE_REQUIRED_IN_ELEMENTDECL,\r\n- \tMSG_ELEMENT_WITH_ID_REQUIRED,\r\n- \tMSG_ENTITY_NAME_REQUIRED_IN_ENTITYDECL,\r\n- \tMSG_FIXED_ATTVALUE_INVALID,\r\n- \tMSG_MARKUP_NOT_RECOGNIZED_IN_DTD,\r\n- \tMSG_NOTATION_NAME_REQUIRED_IN_NOTATIONDECL,\r\n- \tMSG_OPEN_PAREN_OR_ELEMENT_TYPE_REQUIRED_IN_CHILDREN,\r\n- \tMSG_REQUIRED_ATTRIBUTE_NOT_SPECIFIED,\r\n- \tMSG_SPACE_REQUIRED_AFTER_NOTATION_NAME_IN_NOTATIONDECL,\r\n- \tNotationDeclUnterminated,\r\n- \tOpenQuoteExpected,\r\n- \tOpenQuoteMissingInDecl,\r\n- \tQuoteRequiredInPublicID,\r\n- \tQuoteRequiredInSystemID\r\n- \tSpaceRequiredAfterSYSTEM,", "url": "https://github.com/eclipse/lemminx/issues/225", "user": "angelozerr", "labels": ["DTD", "bug", "validation"], "created": "2018-11-14 18:13:56", "closed": "2019-01-21 18:42:52", "commits": {"c5768b5ed9489ebe1c474a766f8566b90d88ec17": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "e6f38ebaa401c6f414bd9862f0f26fadb3c19c6d": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "0b75cae77bac5be03dc635bf3377775f86e1d7d5": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "b349053fd11036f007722b04d345dc568993574f": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "600f68639ea523b6e2140254df225dfe072434c2": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "0b3c46066f3c6e144e7bd674220f04fca6b5ce6a": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "bc14624286a9fada2c8bf9e0dbb9679ea3772241": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "60e9e34cfd26f552739ff8159d7f284db2d658ac": {"commitGHEventType": "referenced", "commitUser": "fbricon"}}, "ttf": 68.00027777777778, "commitsDetails": [{"commitHash": "c5768b5ed9489ebe1c474a766f8566b90d88ec17", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": ["d4bc75527ece469f61317149c92001235cf97aed"], "nameRev": "c5768b5ed9489ebe1c474a766f8566b90d88ec17 tags/0.3.0~55", "commitMessage": "Adjust range error for MSG_ELEMENT_TYPE_REQUIRED_IN_ELEMENTDECL (see\n#225)", "commitDateTime": "2018-12-01 20:24:38", "authoredDateTime": "2018-12-01 20:24:38", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/participants/DTDErrorCode.java", "insertions": 8, "deletions": 2, "lines": 10}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/dtd/diagnostics/DTDDiagnosticsParticipant.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/utils/XMLPositionUtility.java", "insertions": 10, "deletions": 0, "lines": 10}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/extensions/contentmodel/DTDDiagnosticsTest.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/extensions/contentmodel/DTDDoctypeDiagnosticsTest.java", "insertions": 35, "deletions": 0, "lines": 35}, {"filePath": "org.eclipse.lsp4xml/src/test/resources/validation/dtd/MSG_ELEMENT_TYPE_REQUIRED_IN_ELEMENTDECL.xml", "insertions": 5, "deletions": 0, "lines": 5}], "commitSpoonAstDiffStats": [{"spoonFilePath": "DTDErrorCode.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.participants.DTDErrorCode", "TOT": 2, "UPD": 0, "INS": 2, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.participants.DTDErrorCode.toLSPRange(org.apache.xerces.xni.XMLLocator,org.eclipse.lsp4xml.extensions.contentmodel.participants.DTDErrorCode,java.lang.Object[],org.eclipse.lsp4xml.dom.DOMDocument)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "DTDDiagnosticsParticipant.java", "spoonMethods": []}, {"spoonFilePath": "XMLPositionUtility.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.utils.XMLPositionUtility.selectDTDElementDeclTagAt(int,org.eclipse.lsp4xml.dom.DOMDocument)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "DTDDiagnosticsTest.java", "spoonMethods": []}, {"spoonFilePath": "DTDDoctypeDiagnosticsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.DTDDoctypeDiagnosticsTest", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "e6f38ebaa401c6f414bd9862f0f26fadb3c19c6d", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": ["c5768b5ed9489ebe1c474a766f8566b90d88ec17"], "nameRev": "e6f38ebaa401c6f414bd9862f0f26fadb3c19c6d tags/0.3.0~54", "commitMessage": "Adjust range for ElementDeclUnterminated (see #225)", "commitDateTime": "2018-12-01 20:58:49", "authoredDateTime": "2018-12-01 20:58:49", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/commons/CodeActionFactory.java", "insertions": 3, "deletions": 2, "lines": 5}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/participants/ContentModelCodeActionParticipant.java", "insertions": 1, "deletions": 0, "lines": 1}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/participants/DTDErrorCode.java", "insertions": 13, "deletions": 2, "lines": 15}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/participants/codeactions/ElementDeclUnterminatedCodeAction.java", "insertions": 41, "deletions": 0, "lines": 41}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/participants/codeactions/ElementUnterminatedCodeAction.java", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/participants/codeactions/EqRequiredInAttributeCodeAction.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/participants/codeactions/cvc_complex_type_4CodeAction.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/extensions/contentmodel/DTDDoctypeDiagnosticsTest.java", "insertions": 13, "deletions": 2, "lines": 15}, {"filePath": "org.eclipse.lsp4xml/src/test/resources/validation/dtd/ElementDeclUnterminated.xml", "insertions": 6, "deletions": 0, "lines": 6}], "commitSpoonAstDiffStats": [{"spoonFilePath": "CodeActionFactory.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.commons.CodeActionFactory.insert(java.lang.String,org.eclipse.lsp4j.Range,java.lang.String,org.eclipse.lsp4j.TextDocumentItem,org.eclipse.lsp4j.Diagnostic)", "TOT": 4, "UPD": 2, "INS": 0, "MOV": 0, "DEL": 2}, {"spoonMethodName": "org.eclipse.lsp4xml.commons.CodeActionFactory.insert(java.lang.String,org.eclipse.lsp4j.Position,java.lang.String,org.eclipse.lsp4j.TextDocumentItem,org.eclipse.lsp4j.Diagnostic)", "TOT": 2, "UPD": 0, "INS": 2, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "ContentModelCodeActionParticipant.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.participants.ContentModelCodeActionParticipant", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "DTDErrorCode.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.participants.DTDErrorCode.registerCodeActionParticipants(java.util.Map)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.participants.DTDErrorCode", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.participants.DTDErrorCode.toLSPRange(org.apache.xerces.xni.XMLLocator,org.eclipse.lsp4xml.extensions.contentmodel.participants.DTDErrorCode,java.lang.Object[],org.eclipse.lsp4xml.dom.DOMDocument)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "ElementDeclUnterminatedCodeAction.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.participants.codeactions.ElementDeclUnterminatedCodeAction", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "ElementUnterminatedCodeAction.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.participants.codeactions.ElementUnterminatedCodeAction.doCodeAction(org.eclipse.lsp4j.Diagnostic,org.eclipse.lsp4j.Range,org.eclipse.lsp4xml.dom.DOMDocument,java.util.List,org.eclipse.lsp4xml.settings.XMLFormattingOptions,org.eclipse.lsp4xml.services.extensions.IComponentProvider)", "TOT": 6, "UPD": 0, "INS": 3, "MOV": 3, "DEL": 0}]}, {"spoonFilePath": "EqRequiredInAttributeCodeAction.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.participants.codeactions.EqRequiredInAttributeCodeAction.doCodeAction(org.eclipse.lsp4j.Diagnostic,org.eclipse.lsp4j.Range,org.eclipse.lsp4xml.dom.DOMDocument,java.util.List,org.eclipse.lsp4xml.settings.XMLFormattingOptions,org.eclipse.lsp4xml.services.extensions.IComponentProvider)", "TOT": 2, "UPD": 0, "INS": 1, "MOV": 1, "DEL": 0}]}, {"spoonFilePath": "cvc_complex_type_4CodeAction.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.participants.codeactions.cvc_complex_type_4CodeAction.doCodeAction(org.eclipse.lsp4j.Diagnostic,org.eclipse.lsp4j.Range,org.eclipse.lsp4xml.dom.DOMDocument,java.util.List,org.eclipse.lsp4xml.settings.XMLFormattingOptions,org.eclipse.lsp4xml.services.extensions.IComponentProvider)", "TOT": 2, "UPD": 0, "INS": 1, "MOV": 1, "DEL": 0}]}, {"spoonFilePath": "DTDDoctypeDiagnosticsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.DTDDoctypeDiagnosticsTest.ElementDeclUnterminated()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "0b75cae77bac5be03dc635bf3377775f86e1d7d5", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": ["e6f38ebaa401c6f414bd9862f0f26fadb3c19c6d"], "nameRev": "0b75cae77bac5be03dc635bf3377775f86e1d7d5 tags/0.3.0~53", "commitMessage": "Adjust range for MSG_OPEN_PAREN_OR_ELEMENT_TYPE_REQUIRED_IN_CHILDREN\n(see #225)", "commitDateTime": "2018-12-01 21:03:49", "authoredDateTime": "2018-12-01 21:03:49", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/participants/DTDErrorCode.java", "insertions": 3, "deletions": 2, "lines": 5}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/extensions/contentmodel/DTDDoctypeDiagnosticsTest.java", "insertions": 11, "deletions": 0, "lines": 11}, {"filePath": "org.eclipse.lsp4xml/src/test/resources/validation/dtd/MSG_OPEN_PAREN_OR_ELEMENT_TYPE_REQUIRED_IN_CHILDREN.xml", "insertions": 5, "deletions": 0, "lines": 5}], "commitSpoonAstDiffStats": [{"spoonFilePath": "DTDErrorCode.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.participants.DTDErrorCode", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.participants.DTDErrorCode.toLSPRange(org.apache.xerces.xni.XMLLocator,org.eclipse.lsp4xml.extensions.contentmodel.participants.DTDErrorCode,java.lang.Object[],org.eclipse.lsp4xml.dom.DOMDocument)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "DTDDoctypeDiagnosticsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.DTDDoctypeDiagnosticsTest.MSG_OPEN_PAREN_OR_ELEMENT_TYPE_REQUIRED_IN_CHILDREN()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "b349053fd11036f007722b04d345dc568993574f", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": ["2f0ee118be458d60b544af082237a5e2c71c6847"], "nameRev": "b349053fd11036f007722b04d345dc568993574f tags/0.3.0~45", "commitMessage": "Adjust range for IDInvalidWithNamespaces (see #225)", "commitDateTime": "2018-12-05 14:25:51", "authoredDateTime": "2018-12-05 14:25:51", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/participants/DTDErrorCode.java", "insertions": 5, "deletions": 0, "lines": 5}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/extensions/contentmodel/DTDDiagnosticsTest.java", "insertions": 18, "deletions": 7, "lines": 25}, {"filePath": "org.eclipse.lsp4xml/src/test/resources/validation/dtd/IDInvalidWithNamespaces.xml", "insertions": 6, "deletions": 0, "lines": 6}], "commitSpoonAstDiffStats": [{"spoonFilePath": "DTDErrorCode.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.participants.DTDErrorCode", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.participants.DTDErrorCode.toLSPRange(org.apache.xerces.xni.XMLLocator,org.eclipse.lsp4xml.extensions.contentmodel.participants.DTDErrorCode,java.lang.Object[],org.eclipse.lsp4xml.dom.DOMDocument)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "DTDDiagnosticsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.DTDDiagnosticsTest.IDInvalidWithNamespaces()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "600f68639ea523b6e2140254df225dfe072434c2", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": ["93459bbdd0c73f71355401fafab6fd2f916b3883"], "nameRev": "600f68639ea523b6e2140254df225dfe072434c2 tags/0.3.0~39", "commitMessage": "Adjust range error for IDREFInvalidWithNamespaces (see #225)", "commitDateTime": "2018-12-05 21:20:46", "authoredDateTime": "2018-12-05 21:20:46", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/participants/DTDErrorCode.java", "insertions": 3, "deletions": 2, "lines": 5}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/extensions/contentmodel/DTDDiagnosticsTest.java", "insertions": 12, "deletions": 1, "lines": 13}, {"filePath": "org.eclipse.lsp4xml/src/test/resources/validation/dtd/IDREFInvalidWithNamespaces.xml", "insertions": 6, "deletions": 0, "lines": 6}], "commitSpoonAstDiffStats": [{"spoonFilePath": "DTDErrorCode.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.participants.DTDErrorCode", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.participants.DTDErrorCode.toLSPRange(org.apache.xerces.xni.XMLLocator,org.eclipse.lsp4xml.extensions.contentmodel.participants.DTDErrorCode,java.lang.Object[],org.eclipse.lsp4xml.dom.DOMDocument)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "DTDDiagnosticsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.DTDDiagnosticsTest.IDREFInvalidWithNamespaces()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "0b3c46066f3c6e144e7bd674220f04fca6b5ce6a", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": ["600f68639ea523b6e2140254df225dfe072434c2"], "nameRev": "0b3c46066f3c6e144e7bd674220f04fca6b5ce6a tags/0.3.0~38", "commitMessage": "Adjust range error for IDREFSInvalid (see #225)", "commitDateTime": "2018-12-05 21:26:17", "authoredDateTime": "2018-12-05 21:26:17", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/participants/DTDErrorCode.java", "insertions": 2, "deletions": 1, "lines": 3}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/extensions/contentmodel/DTDDiagnosticsTest.java", "insertions": 11, "deletions": 0, "lines": 11}, {"filePath": "org.eclipse.lsp4xml/src/test/resources/validation/dtd/IDREFSInvalid.xml", "insertions": 6, "deletions": 0, "lines": 6}], "commitSpoonAstDiffStats": [{"spoonFilePath": "DTDErrorCode.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.participants.DTDErrorCode", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.participants.DTDErrorCode.toLSPRange(org.apache.xerces.xni.XMLLocator,org.eclipse.lsp4xml.extensions.contentmodel.participants.DTDErrorCode,java.lang.Object[],org.eclipse.lsp4xml.dom.DOMDocument)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "DTDDiagnosticsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.DTDDiagnosticsTest.IDREFSInvalid()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "bc14624286a9fada2c8bf9e0dbb9679ea3772241", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": ["0b3c46066f3c6e144e7bd674220f04fca6b5ce6a"], "nameRev": "bc14624286a9fada2c8bf9e0dbb9679ea3772241 tags/0.3.0~37", "commitMessage": "Adjust range error for MSG_ELEMENT_WITH_ID_REQUIRED (see #225)", "commitDateTime": "2018-12-05 21:42:24", "authoredDateTime": "2018-12-05 21:42:24", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/participants/DTDErrorCode.java", "insertions": 9, "deletions": 2, "lines": 11}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/extensions/contentmodel/DTDDiagnosticsTest.java", "insertions": 20, "deletions": 0, "lines": 20}, {"filePath": "org.eclipse.lsp4xml/src/test/resources/validation/dtd/MSG_ELEMENT_WITH_ID_REQUIRED.xml", "insertions": 15, "deletions": 0, "lines": 15}], "commitSpoonAstDiffStats": [{"spoonFilePath": "DTDErrorCode.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.participants.DTDErrorCode", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.participants.DTDErrorCode.toLSPRange(org.apache.xerces.xni.XMLLocator,org.eclipse.lsp4xml.extensions.contentmodel.participants.DTDErrorCode,java.lang.Object[],org.eclipse.lsp4xml.dom.DOMDocument)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "DTDDiagnosticsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.DTDDiagnosticsTest.MSG_ELEMENT_WITH_ID_REQUIRED()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "60e9e34cfd26f552739ff8159d7f284db2d658ac", "commitGHEventType": "referenced", "commitUser": "fbricon", "commitParents": ["a631d4f47984b8bd73a343a7b2a681fd08875523"], "nameRev": "60e9e34cfd26f552739ff8159d7f284db2d658ac tags/0.3.0~13", "commitMessage": "DTD Error Ranges Adjusted\n\nFixes #225\n\nSigned-off-by: Nikolas Komonen <nikolaskomonen@gmail.com>\n", "commitDateTime": "2019-01-21 13:42:51", "authoredDateTime": "2018-12-19 15:21:03", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/DOMNode.java", "insertions": 3, "deletions": 0, "lines": 3}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/DOMParser.java", "insertions": 7, "deletions": 7, "lines": 14}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/DTDAttlistDecl.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/DTDDeclNode.java", "insertions": 6, "deletions": 2, "lines": 8}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/DTDDeclParameter.java", "insertions": 7, "deletions": 0, "lines": 7}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/DTDElementDecl.java", "insertions": 4, "deletions": 4, "lines": 8}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/DTDEntityDecl.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/DTDNotationDecl.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/parser/XMLScanner.java", "insertions": 3, "deletions": 1, "lines": 4}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/participants/DTDErrorCode.java", "insertions": 83, "deletions": 12, "lines": 95}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/utils/XMLPositionUtility.java", "insertions": 124, "deletions": 4, "lines": 128}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/dom/DOMParserForInternalDTDTest.java", "insertions": 21, "deletions": 2, "lines": 23}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/extensions/contentmodel/DTDDiagnosticsTest.java", "insertions": 134, "deletions": 1, "lines": 135}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/extensions/contentmodel/DTDDoctypeDiagnosticsTest.java", "insertions": 3, "deletions": 3, "lines": 6}], "commitSpoonAstDiffStats": [{"spoonFilePath": "DOMNode.java", "spoonMethods": []}, {"spoonFilePath": "DOMParser.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.dom.DOMParser.parse(org.eclipse.lsp4xml.commons.TextDocument,org.eclipse.lsp4xml.uriresolver.URIResolverExtensionManager)", "TOT": 36, "UPD": 0, "INS": 9, "MOV": 19, "DEL": 8}]}, {"spoonFilePath": "DTDAttlistDecl.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.dom.DTDAttlistDecl", "TOT": 4, "UPD": 0, "INS": 1, "MOV": 2, "DEL": 1}]}, {"spoonFilePath": "DTDDeclNode.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.dom.DTDDeclNode.setDeclType(int,int)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.dom.DTDDeclNode", "TOT": 2, "UPD": 0, "INS": 2, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "DTDDeclParameter.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.dom.DTDDeclParameter.getStart()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.dom.DTDDeclParameter.getEnd()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "DTDElementDecl.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.dom.DTDElementDecl", "TOT": 7, "UPD": 0, "INS": 4, "MOV": 2, "DEL": 1}]}, {"spoonFilePath": "DTDEntityDecl.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.dom.DTDEntityDecl", "TOT": 4, "UPD": 0, "INS": 1, "MOV": 2, "DEL": 1}]}, {"spoonFilePath": "DTDNotationDecl.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.dom.DTDNotationDecl", "TOT": 4, "UPD": 0, "INS": 1, "MOV": 2, "DEL": 1}]}, {"spoonFilePath": "XMLScanner.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.dom.parser.XMLScanner.internalScan()", "TOT": 2, "UPD": 1, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "DTDErrorCode.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.participants.DTDErrorCode.toLSPRange(org.apache.xerces.xni.XMLLocator,org.eclipse.lsp4xml.extensions.contentmodel.participants.DTDErrorCode,java.lang.Object[],org.eclipse.lsp4xml.dom.DOMDocument)", "TOT": 23, "UPD": 4, "INS": 19, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.participants.DTDErrorCode", "TOT": 26, "UPD": 0, "INS": 17, "MOV": 9, "DEL": 0}]}, {"spoonFilePath": "XMLPositionUtility.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.utils.XMLPositionUtility.selectDTDElementDeclTagAt(int,org.eclipse.lsp4xml.dom.DOMDocument)", "TOT": 13, "UPD": 5, "INS": 0, "MOV": 7, "DEL": 1}, {"spoonMethodName": "org.eclipse.lsp4xml.utils.XMLPositionUtility.getLastValidDTDDeclParameter(int,org.eclipse.lsp4xml.dom.DOMDocument)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.utils.XMLPositionUtility.getLastValidDTDDeclParameterOrUnrecognized(int,org.eclipse.lsp4xml.dom.DOMDocument)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.utils.XMLPositionUtility.getLastDTDDeclParameter(int,org.eclipse.lsp4xml.dom.DOMDocument)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.utils.XMLPositionUtility.selectDTDDeclTagNameAt(int,org.eclipse.lsp4xml.dom.DOMDocument)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.utils.XMLPositionUtility.selectWholeTag(int,org.eclipse.lsp4xml.dom.DOMDocument)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.utils.XMLPositionUtility.getElementDeclMissingContentOrCategory(int,org.eclipse.lsp4xml.dom.DOMDocument)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.utils.XMLPositionUtility.getLastValidDTDDeclParameter(int,org.eclipse.lsp4xml.dom.DOMDocument,boolean)", "TOT": 7, "UPD": 0, "INS": 7, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "DOMParserForInternalDTDTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.dom.DOMParserForInternalDTDTest.testAttlistUncompletedInternalDecl()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "DTDDiagnosticsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.DTDDiagnosticsTest.MSG_ATTRIBUTE_NOT_DECLARED()", "TOT": 2, "UPD": 2, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.DTDDiagnosticsTest.MSG_MARKUP_NOT_RECOGNIZED_IN_DTD()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.DTDDiagnosticsTest.QuoteRequiredInPublicID()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.DTDDiagnosticsTest.QuoteRequiredInPublicID2()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.DTDDiagnosticsTest.QuoteRequiredInSystemID()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.DTDDiagnosticsTest.OpenQuoteMissingInDecl()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.DTDDiagnosticsTest.SpaceRequiredAfterSYSTEM()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.DTDDiagnosticsTest.MSG_SPACE_REQUIRED_AFTER_NOTATION_NAME_IN_NOTATIONDECL()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.DTDDiagnosticsTest.AttTypeRequiredInAttDef()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.DTDDiagnosticsTest.EntityDeclUnterminated()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.DTDDiagnosticsTest.NotationDeclUnterminated()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.DTDDiagnosticsTest.ElementDeclUnterminated()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.DTDDiagnosticsTest.PEReferenceWithinMarkup()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.DTDDiagnosticsTest.MSG_ELEMENT_ALREADY_DECLARED()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "DTDDoctypeDiagnosticsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.DTDDoctypeDiagnosticsTest.MSG_ELEMENT_TYPE_REQUIRED_IN_ELEMENTDECL()", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.DTDDoctypeDiagnosticsTest.ElementDeclUnterminated()", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.DTDDoctypeDiagnosticsTest.MSG_OPEN_PAREN_OR_ELEMENT_TYPE_REQUIRED_IN_CHILDREN()", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["c5768b5ed9489ebe1c474a766f8566b90d88ec17", "e6f38ebaa401c6f414bd9862f0f26fadb3c19c6d", "0b75cae77bac5be03dc635bf3377775f86e1d7d5", "b349053fd11036f007722b04d345dc568993574f", "600f68639ea523b6e2140254df225dfe072434c2", "0b3c46066f3c6e144e7bd674220f04fca6b5ce6a", "bc14624286a9fada2c8bf9e0dbb9679ea3772241", "60e9e34cfd26f552739ff8159d7f284db2d658ac"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 8, "gitStatsSummary": {"insertions": 344, "deletions": 52, "lines": 396, "gitFilesChange": 18}, "spoonStatsSummary": {"TOT": 172, "UPD": 12, "INS": 97, "MOV": 48, "DEL": 15, "spoonFilesChanged": 16, "spoonMethodsChanged": 28}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/participants", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/utils", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/dtd/diagnostics", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/parser", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/commons"], "changesInPackagesSPOON": ["org.eclipse.lsp4xml.extensions.contentmodel.participants.DTDErrorCode.toLSPRange(org.apache.xerces.xni.XMLLocator,org.eclipse.lsp4xml.extensions.contentmodel.participants.DTDErrorCode,java.lang.Object[],org.eclipse.lsp4xml.dom.DOMDocument)", "org.eclipse.lsp4xml.extensions.contentmodel.participants.DTDErrorCode", "org.eclipse.lsp4xml.utils.XMLPositionUtility.selectDTDElementDeclTagAt(int,org.eclipse.lsp4xml.dom.DOMDocument)", "org.eclipse.lsp4xml.dom.DTDDeclNode", "org.eclipse.lsp4xml.dom.DTDNotationDecl", "org.eclipse.lsp4xml.commons.CodeActionFactory.insert(java.lang.String,org.eclipse.lsp4j.Range,java.lang.String,org.eclipse.lsp4j.TextDocumentItem,org.eclipse.lsp4j.Diagnostic)", "org.eclipse.lsp4xml.dom.DOMParser.parse(org.eclipse.lsp4xml.commons.TextDocument,org.eclipse.lsp4xml.uriresolver.URIResolverExtensionManager)", "org.eclipse.lsp4xml.utils.XMLPositionUtility.getLastValidDTDDeclParameter(int,org.eclipse.lsp4xml.dom.DOMDocument,boolean)", "org.eclipse.lsp4xml.extensions.contentmodel.participants.codeactions.ElementDeclUnterminatedCodeAction", "org.eclipse.lsp4xml.dom.DTDAttlistDecl", "org.eclipse.lsp4xml.dom.DTDDeclNode.setDeclType(int,int)", "org.eclipse.lsp4xml.dom.DTDDeclParameter.getEnd()", "org.eclipse.lsp4xml.utils.XMLPositionUtility.selectWholeTag(int,org.eclipse.lsp4xml.dom.DOMDocument)", "org.eclipse.lsp4xml.extensions.contentmodel.participants.DTDErrorCode.registerCodeActionParticipants(java.util.Map)", "org.eclipse.lsp4xml.extensions.contentmodel.participants.codeactions.ElementUnterminatedCodeAction.doCodeAction(org.eclipse.lsp4j.Diagnostic,org.eclipse.lsp4j.Range,org.eclipse.lsp4xml.dom.DOMDocument,java.util.List,org.eclipse.lsp4xml.settings.XMLFormattingOptions,org.eclipse.lsp4xml.services.extensions.IComponentProvider)", "org.eclipse.lsp4xml.dom.parser.XMLScanner.internalScan()", "org.eclipse.lsp4xml.utils.XMLPositionUtility.getLastDTDDeclParameter(int,org.eclipse.lsp4xml.dom.DOMDocument)", "org.eclipse.lsp4xml.commons.CodeActionFactory.insert(java.lang.String,org.eclipse.lsp4j.Position,java.lang.String,org.eclipse.lsp4j.TextDocumentItem,org.eclipse.lsp4j.Diagnostic)", "org.eclipse.lsp4xml.dom.DTDDeclParameter.getStart()", "org.eclipse.lsp4xml.utils.XMLPositionUtility.getLastValidDTDDeclParameterOrUnrecognized(int,org.eclipse.lsp4xml.dom.DOMDocument)", "org.eclipse.lsp4xml.utils.XMLPositionUtility.getLastValidDTDDeclParameter(int,org.eclipse.lsp4xml.dom.DOMDocument)", "org.eclipse.lsp4xml.extensions.contentmodel.participants.codeactions.cvc_complex_type_4CodeAction.doCodeAction(org.eclipse.lsp4j.Diagnostic,org.eclipse.lsp4j.Range,org.eclipse.lsp4xml.dom.DOMDocument,java.util.List,org.eclipse.lsp4xml.settings.XMLFormattingOptions,org.eclipse.lsp4xml.services.extensions.IComponentProvider)", "org.eclipse.lsp4xml.utils.XMLPositionUtility.selectDTDDeclTagNameAt(int,org.eclipse.lsp4xml.dom.DOMDocument)", "org.eclipse.lsp4xml.utils.XMLPositionUtility.getElementDeclMissingContentOrCategory(int,org.eclipse.lsp4xml.dom.DOMDocument)", "org.eclipse.lsp4xml.extensions.contentmodel.participants.ContentModelCodeActionParticipant", "org.eclipse.lsp4xml.dom.DTDElementDecl", "org.eclipse.lsp4xml.extensions.contentmodel.participants.codeactions.EqRequiredInAttributeCodeAction.doCodeAction(org.eclipse.lsp4j.Diagnostic,org.eclipse.lsp4j.Range,org.eclipse.lsp4xml.dom.DOMDocument,java.util.List,org.eclipse.lsp4xml.settings.XMLFormattingOptions,org.eclipse.lsp4xml.services.extensions.IComponentProvider)", "org.eclipse.lsp4xml.dom.DTDEntityDecl"]}, {"title": "Provide a dedicated DTD Validator", "body": "if you save http://java.sun.com/dtd/web-app_2_3.dtd locally and open it in VS Code, an error shows up on the 1st ELEMENT, L72. \"The markup in the document preceding the root element must be well-formed.\"\r\nDTDs do not follow the actual xml syntax but are part of the XML spec, so \"The markup in the document preceding the root element must be well-formed.\" (and maybe other specific errors) should be ignored.\r\nWe still need tooling support for DTD (completion, validation ...)", "url": "https://github.com/eclipse/lemminx/issues/223", "user": "fbricon", "labels": ["DTD", "bug", "to do", "validation"], "created": "2018-11-14 14:46:12", "closed": "2018-11-15 17:18:08", "commits": {"41efab422f7b9e6caca0e358c2d5cec8da8f0796": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}}, "ttf": 1.0002777777777778, "commitsDetails": [{"commitHash": "41efab422f7b9e6caca0e358c2d5cec8da8f0796", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": ["b3b16e80b342a63a89037262e47aeec674197d01"], "nameRev": "41efab422f7b9e6caca0e358c2d5cec8da8f0796 tags/0.3.0~91", "commitMessage": "Validate DTD file with a dedicated DTD validator (see #223)", "commitDateTime": "2018-11-15 14:12:15", "authoredDateTime": "2018-11-15 14:12:15", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/participants/diagnostics/ContentModelDiagnosticsParticipant.java", "insertions": 5, "deletions": 0, "lines": 5}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/dtd/DTDPlugin.java", "insertions": 9, "deletions": 0, "lines": 9}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/dtd/diagnostics/DTDDiagnosticsParticipant.java", "insertions": 41, "deletions": 0, "lines": 41}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/dtd/diagnostics/DTDValidator.java", "insertions": 52, "deletions": 0, "lines": 52}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/utils/DOMUtils.java", "insertions": 23, "deletions": 10, "lines": 33}], "commitSpoonAstDiffStats": [{"spoonFilePath": "ContentModelDiagnosticsParticipant.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.participants.diagnostics.ContentModelDiagnosticsParticipant.doDiagnostics(org.eclipse.lsp4xml.dom.XMLDocument,java.util.List,org.eclipse.lsp4j.jsonrpc.CancelChecker)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "DTDPlugin.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.dtd.DTDPlugin", "TOT": 2, "UPD": 0, "INS": 2, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.dtd.DTDPlugin.start(org.eclipse.lsp4j.InitializeParams,org.eclipse.lsp4xml.services.extensions.XMLExtensionsRegistry)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.dtd.DTDPlugin.stop(org.eclipse.lsp4xml.services.extensions.XMLExtensionsRegistry)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "DTDDiagnosticsParticipant.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.dtd.diagnostics.DTDDiagnosticsParticipant", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "DTDValidator.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.dtd.diagnostics.DTDValidator", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "DOMUtils.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.utils.DOMUtils.isDTD(org.eclipse.lsp4xml.dom.XMLDocument)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.utils.DOMUtils.isDTD(java.lang.String)", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 1, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["41efab422f7b9e6caca0e358c2d5cec8da8f0796"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 130, "deletions": 10, "lines": 140, "gitFilesChange": 5}, "spoonStatsSummary": {"TOT": 9, "UPD": 0, "INS": 8, "MOV": 1, "DEL": 0, "spoonFilesChanged": 5, "spoonMethodsChanged": 8}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/dtd/diagnostics", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/dtd", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/utils", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/participants"], "changesInPackagesSPOON": ["org.eclipse.lsp4xml.extensions.dtd.diagnostics.DTDDiagnosticsParticipant", "org.eclipse.lsp4xml.extensions.dtd.DTDPlugin.start(org.eclipse.lsp4j.InitializeParams,org.eclipse.lsp4xml.services.extensions.XMLExtensionsRegistry)", "org.eclipse.lsp4xml.utils.DOMUtils.isDTD(java.lang.String)", "org.eclipse.lsp4xml.utils.DOMUtils.isDTD(org.eclipse.lsp4xml.dom.XMLDocument)", "org.eclipse.lsp4xml.extensions.dtd.DTDPlugin.stop(org.eclipse.lsp4xml.services.extensions.XMLExtensionsRegistry)", "org.eclipse.lsp4xml.extensions.dtd.diagnostics.DTDValidator", "org.eclipse.lsp4xml.extensions.contentmodel.participants.diagnostics.ContentModelDiagnosticsParticipant.doDiagnostics(org.eclipse.lsp4xml.dom.XMLDocument,java.util.List,org.eclipse.lsp4j.jsonrpc.CancelChecker)", "org.eclipse.lsp4xml.extensions.dtd.DTDPlugin"]}, {"title": "DTD elements are not formatted", "body": "Following up on #90, given:\r\n```\r\n<?xml version=\"1.0\"?>\r\n<!DOCTYPE note [\r\n<!ELEMENT note (to,from,heading,body)>\r\n    <!ELEMENT to (#PCDATA)>\r\n        <!ELEMENT from (#PCDATA)>\r\n                <!ELEMENT heading (#PCDATA)>\r\n            <!ELEMENT body (#PCDATA)>\r\n]>\r\n<note>\r\n    <from>Jani</from>\r\n    <heading>Reminder</heading>\r\n    <body>Don't forget me this weekend</body>\r\n</note>\r\n```\r\n\r\nFormatting the document ignores the DOCTYPE content. ", "url": "https://github.com/eclipse/lemminx/issues/221", "user": "fbricon", "labels": ["DTD", "bug", "formatting", "in progress"], "created": "2018-11-13 17:46:34", "closed": "2019-01-09 16:38:16", "commits": {"d4bc75527ece469f61317149c92001235cf97aed": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "393ca7256b95cc3e65386128420d0cda57379a10": {"commitGHEventType": "referenced", "commitUser": "fbricon"}}, "ttf": 56.000277777777775, "commitsDetails": [{"commitHash": "d4bc75527ece469f61317149c92001235cf97aed", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": ["3f1ef897f1f1915ae33cf929c6ea715d2f4fe638"], "nameRev": "d4bc75527ece469f61317149c92001235cf97aed tags/0.3.0~56", "commitMessage": "Basic fix for formatting DTD DocType to avoid breaking DTD content (see\n#221)", "commitDateTime": "2018-12-01 19:28:44", "authoredDateTime": "2018-12-01 19:28:44", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/XMLFormatter.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/utils/XMLBuilder.java", "insertions": 11, "deletions": 3, "lines": 14}], "commitSpoonAstDiffStats": [{"spoonFilePath": "XMLFormatter.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.services.XMLFormatter.format(org.eclipse.lsp4xml.dom.DOMNode,int,int,org.eclipse.lsp4xml.utils.XMLBuilder)", "TOT": 3, "UPD": 2, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLBuilder.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.utils.XMLBuilder.addContentDoctype(java.lang.String)", "TOT": 5, "UPD": 3, "INS": 0, "MOV": 2, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.utils.XMLBuilder.startDoctype(java.lang.String)", "TOT": 2, "UPD": 0, "INS": 2, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "393ca7256b95cc3e65386128420d0cda57379a10", "commitGHEventType": "referenced", "commitUser": "fbricon", "commitParents": ["23f83553fed870525bd9bc3172307d506aad016c"], "nameRev": "393ca7256b95cc3e65386128420d0cda57379a10 tags/0.3.0~25", "commitMessage": "DTD Formatting implemented\n\nFixes #221 and #268\n\nSigned-off-by: Nikolas Komonen <nikolaskomonen@gmail.com>\n", "commitDateTime": "2019-01-09 11:38:14", "authoredDateTime": "2018-12-19 15:21:03", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/DOMDocument.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/DOMDocumentType.java", "insertions": 46, "deletions": 60, "lines": 106}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/DOMNode.java", "insertions": 4, "deletions": 0, "lines": 4}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/DOMParser.java", "insertions": 41, "deletions": 53, "lines": 94}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/DTDAttlistDecl.java", "insertions": 26, "deletions": 18, "lines": 44}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/DTDDeclNode.java", "insertions": 51, "deletions": 5, "lines": 56}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/DTDDeclParameter.java", "insertions": 64, "deletions": 0, "lines": 64}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/DTDElementDecl.java", "insertions": 20, "deletions": 13, "lines": 33}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/DTDEntityDecl.java", "insertions": 37, "deletions": 28, "lines": 65}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/DTDNotationDecl.java", "insertions": 13, "deletions": 25, "lines": 38}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/DTDUnrecognizedDeclParameter.java", "insertions": 15, "deletions": 0, "lines": 15}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/LineIndentInfo.java", "insertions": 12, "deletions": 0, "lines": 12}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/parser/Constants.java", "insertions": 3, "deletions": 1, "lines": 4}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/parser/MultiLineStream.java", "insertions": 72, "deletions": 0, "lines": 72}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/parser/ScannerState.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/parser/XMLScanner.java", "insertions": 45, "deletions": 21, "lines": 66}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/dtd/contentmodel/CMDTDContentModelProvider.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/XMLFormatter.java", "insertions": 183, "deletions": 62, "lines": 245}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/utils/XMLBuilder.java", "insertions": 27, "deletions": 11, "lines": 38}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/dom/DOMParserForInternalDTDTest.java", "insertions": 63, "deletions": 7, "lines": 70}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/dom/DOMParserTest.java", "insertions": 64, "deletions": 126, "lines": 190}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/dom/parser/XMLScannerForExternalDTDTest.java", "insertions": 33, "deletions": 0, "lines": 33}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/services/XMLDocumentSymbolsTest.java", "insertions": 0, "deletions": 1, "lines": 1}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/services/XMLFormatterTest.java", "insertions": 610, "deletions": 3, "lines": 613}], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": "tooManyFiles"}], "filteredCommits": ["d4bc75527ece469f61317149c92001235cf97aed"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 1, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 13, "deletions": 5, "lines": 18, "gitFilesChange": 2}, "spoonStatsSummary": {"TOT": 10.0, "UPD": 5.0, "INS": 3.0, "MOV": 2.0, "DEL": 0.0, "spoonFilesChanged": 2, "spoonMethodsChanged": 3}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/utils"], "changesInPackagesSPOON": ["org.eclipse.lsp4xml.services.XMLFormatter.format(org.eclipse.lsp4xml.dom.DOMNode,int,int,org.eclipse.lsp4xml.utils.XMLBuilder)", "org.eclipse.lsp4xml.utils.XMLBuilder.startDoctype(java.lang.String)", "org.eclipse.lsp4xml.utils.XMLBuilder.addContentDoctype(java.lang.String)"]}, {"title": "Emmet extension tests fail when running with JDK 11", "body": "See:\r\n\r\n```\r\n[INFO] -------------------------------------------------------\r\n[INFO]  T E S T S\r\n[INFO] -------------------------------------------------------\r\n[INFO] Running org.eclipse.lsp4xml.extensions.emmet.participants.EmmetCompletionTest\r\nWarning: Nashorn engine is planned to be removed from a future JDK release\r\njava.lang.ClassCastException: class java.lang.Integer cannot be cast to class java.lang.Double (java.lang.Integer and java.lang.Double are in module java.base of loader 'bootstrap')\r\n\tat org.eclipse.lsp4xml.extensions.emmet.emmetio.extract.ExtractAbbreviation.extractAbbreviation(ExtractAbbreviation.java:68)\r\n\tat org.eclipse.lsp4xml.extensions.emmet.utils.EmmetHelper.extract(EmmetHelper.java:159)\r\n\tat org.eclipse.lsp4xml.extensions.emmet.utils.EmmetHelper.extractAbbreviation(EmmetHelper.java:148)\r\n\tat org.eclipse.lsp4xml.extensions.emmet.utils.EmmetHelper.doComplete(EmmetHelper.java:59)\r\n\tat org.eclipse.lsp4xml.extensions.emmet.participants.EmmetCompletionParticipant.onXMLContent(EmmetCompletionParticipant.java:32)\r\n\tat org.eclipse.lsp4xml.services.XMLCompletions.collectInsideContent(XMLCompletions.java:518)\r\n\tat org.eclipse.lsp4xml.services.XMLCompletions.doComplete(XMLCompletions.java:204)\r\n\tat org.eclipse.lsp4xml.services.XMLLanguageService.doComplete(XMLLanguageService.java:98)\r\n\tat org.eclipse.lsp4xml.extensions.emmet.participants.EmmetCompletionTest.testCompletionFor(EmmetCompletionTest.java:65)\r\n\tat org.eclipse.lsp4xml.extensions.emmet.participants.EmmetCompletionTest.testCompletionFor(EmmetCompletionTest.java:105)\r\n\tat org.eclipse.lsp4xml.extensions.emmet.participants.EmmetCompletionTest.testHTMLAttributeNameCompletion(EmmetCompletionTest.java:46)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\r\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n\tat org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)\r\n\tat org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273)\r\n\tat org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)\r\n\tat org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418)\r\njava.lang.ClassCastException: class java.lang.Integer cannot be cast to class java.lang.Double (java.lang.Integer and java.lang.Double are in module java.base of loader 'bootstrap')\r\n\tat org.eclipse.lsp4xml.extensions.emmet.emmetio.extract.ExtractAbbreviation.extractAbbreviation(ExtractAbbreviation.java:68)\r\n\tat org.eclipse.lsp4xml.extensions.emmet.utils.EmmetHelper.extract(EmmetHelper.java:159)\r\n\tat org.eclipse.lsp4xml.extensions.emmet.utils.EmmetHelper.extractAbbreviation(EmmetHelper.java:148)\r\n\tat org.eclipse.lsp4xml.extensions.emmet.utils.EmmetHelper.doComplete(EmmetHelper.java:59)\r\n\tat org.eclipse.lsp4xml.extensions.emmet.participants.EmmetCompletionParticipant.onXMLContent(EmmetCompletionParticipant.java:32)\r\n\tat org.eclipse.lsp4xml.services.XMLCompletions.collectInsideContent(XMLCompletions.java:518)\r\n\tat org.eclipse.lsp4xml.services.XMLCompletions.doComplete(XMLCompletions.java:204)\r\n\tat org.eclipse.lsp4xml.services.XMLLanguageService.doComplete(XMLLanguageService.java:98)\r\n\tat org.eclipse.lsp4xml.extensions.emmet.participants.EmmetCompletionTest.testCompletionFor(EmmetCompletionTest.java:65)\r\n\tat org.eclipse.lsp4xml.extensions.emmet.participants.EmmetCompletionTest.testCompletionFor(EmmetCompletionTest.java:105)\r\n\tat org.eclipse.lsp4xml.extensions.emmet.participants.EmmetCompletionTest.testHTMLElementCompletion(EmmetCompletionTest.java:40)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\r\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n\tat org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)\r\n\tat org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273)\r\n\tat org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)\r\n\tat org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418)\r\n[ERROR] Tests run: 3, Failures: 2, Errors: 0, Skipped: 0, Time elapsed: 15.968 s <<< FAILURE! - in org.eclipse.lsp4xml.extensions.emmet.participants.EmmetCompletionTest\r\n[ERROR] testHTMLAttributeNameCompletion(org.eclipse.lsp4xml.extensions.emmet.participants.EmmetCompletionTest)  Time elapsed: 15.813 s  <<< FAILURE!\r\njava.lang.AssertionError: a>b[c] should only existing once: Actual:  expected:<1> but was:<0>\r\n\tat org.eclipse.lsp4xml.extensions.emmet.participants.EmmetCompletionTest.assertCompletion(EmmetCompletionTest.java:93)\r\n\tat org.eclipse.lsp4xml.extensions.emmet.participants.EmmetCompletionTest.testCompletionFor(EmmetCompletionTest.java:82)\r\n\tat org.eclipse.lsp4xml.extensions.emmet.participants.EmmetCompletionTest.testCompletionFor(EmmetCompletionTest.java:105)\r\n\tat org.eclipse.lsp4xml.extensions.emmet.participants.EmmetCompletionTest.testHTMLAttributeNameCompletion(EmmetCompletionTest.java:46)\r\n\r\n[ERROR] testHTMLElementCompletion(org.eclipse.lsp4xml.extensions.emmet.participants.EmmetCompletionTest)  Time elapsed: 0.072 s  <<< FAILURE!\r\njava.lang.AssertionError: a>b should only existing once: Actual:  expected:<1> but was:<0>\r\n\tat org.eclipse.lsp4xml.extensions.emmet.participants.EmmetCompletionTest.assertCompletion(EmmetCompletionTest.java:93)\r\n\tat org.eclipse.lsp4xml.extensions.emmet.participants.EmmetCompletionTest.testCompletionFor(EmmetCompletionTest.java:82)\r\n\tat org.eclipse.lsp4xml.extensions.emmet.participants.EmmetCompletionTest.testCompletionFor(EmmetCompletionTest.java:105)\r\n\tat org.eclipse.lsp4xml.extensions.emmet.participants.EmmetCompletionTest.testHTMLElementCompletion(EmmetCompletionTest.java:40)\r\n\r\n[INFO] Running org.eclipse.lsp4xml.extensions.emmet.emmetio.expand.ExpandAbbreviationTest\r\nWarning: Nashorn engine is planned to be removed from a future JDK release\r\n[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 10.137 s - in org.eclipse.lsp4xml.extensions.emmet.emmetio.expand.ExpandAbbreviationTest\r\n[INFO] Running org.eclipse.lsp4xml.extensions.emmet.emmetio.extract.ExtractAbbreviationTest\r\njava.lang.ClassCastException: class java.lang.Integer cannot be cast to class java.lang.Double (java.lang.Integer and java.lang.Double are in module java.base of loader 'bootstrap')\r\n\tat org.eclipse.lsp4xml.extensions.emmet.emmetio.extract.ExtractAbbreviation.extractAbbreviation(ExtractAbbreviation.java:68)\r\n\tat org.eclipse.lsp4xml.extensions.emmet.emmetio.extract.ExtractAbbreviationTest.testExtract(ExtractAbbreviationTest.java:12)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\r\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n\tat org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)\r\n\tat org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273)\r\n\tat org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)\r\n\tat org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418)\r\n[ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.013 s <<< FAILURE! - in org.eclipse.lsp4xml.extensions.emmet.emmetio.extract.ExtractAbbreviationTest\r\n[ERROR] testExtract(org.eclipse.lsp4xml.extensions.emmet.emmetio.extract.ExtractAbbreviationTest)  Time elapsed: 0.012 s  <<< ERROR!\r\njava.lang.NullPointerException\r\n\tat org.eclipse.lsp4xml.extensions.emmet.emmetio.extract.ExtractAbbreviationTest.testExtract(ExtractAbbreviationTest.java:13)\r\n\r\n[INFO]\r\n[INFO] Results:\r\n[INFO]\r\n[ERROR] Failures:\r\n[ERROR]   EmmetCompletionTest.testHTMLAttributeNameCompletion:46->testCompletionFor:105->testCompletionFor:82->assertCompletion:93 a>b[c] should only existing once: Actual:  expected:<1> but was:<0>\r\n[ERROR]   EmmetCompletionTest.testHTMLElementCompletion:40->testCompletionFor:105->testCompletionFor:82->assertCompletion:93 a>b should only existing once: Actual:  expected:<1> but was:<0>\r\n[ERROR] Errors:\r\n[ERROR]   ExtractAbbreviationTest.testExtract:13 NullPointer\r\n[INFO]\r\n[ERROR] Tests run: 5, Failures: 2, Errors: 1, Skipped: 0\r\n[INFO]\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Reactor Summary for lsp4xml 0.0.3-SNAPSHOT:\r\n[INFO]\r\n[INFO] lsp4xml ............................................ SUCCESS [  0.148 s]\r\n[INFO] org.eclipse.lsp4xml ................................ SUCCESS [ 16.554 s]\r\n[INFO] lsp4xml-extensions ................................. SUCCESS [  0.013 s]\r\n[INFO] org.eclipse.lsp4xml.extensions.emmet ............... FAILURE [ 28.727 s]\r\n[INFO] org.eclipse.lsp4xml.extensions.web ................. SKIPPED\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  45.579 s\r\n[INFO] Finished at: 2018-11-13T09:40:33-05:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.0.0-M1:test (default-test) on project org.eclipse.lsp4xml.extensions.emmet: There are test failures.\r\n[ERROR]\r\n[ERROR] Please refer to /Users/fbricon/Dev/projects/lsp4xml/extensions/org.eclipse.lsp4xml.extensions.emmet/target/surefire-reports for the individual test results.\r\n[ERROR] Please refer to dump files (if any exist) [date].dump, [date]-jvmRun[N].dump and [date].dumpstream.\r\n[ERROR] -> [Help 1]\r\n```", "url": "https://github.com/eclipse/lemminx/issues/219", "user": "fbricon", "labels": ["Emmet Extension", "bug", "debt"], "created": "2018-11-13 15:06:23", "closed": "2019-07-11 19:12:08", "commits": {"b46fafc4589cbfd6b18ede30af9c117fca2f993a": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}}, "ttf": 240.00027777777777, "commitsDetails": [{"commitHash": "b46fafc4589cbfd6b18ede30af9c117fca2f993a", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": ["0c018a2c3897012ee740f3aac87c6d71db7fc786"], "nameRev": "b46fafc4589cbfd6b18ede30af9c117fca2f993a tags/0.8.0~22", "commitMessage": "Cast to Number instead of Double\n\nFixes https://github.com/angelozerr/lsp4xml/issues/219\n", "commitDateTime": "2019-07-11 21:12:07", "authoredDateTime": "2019-07-10 17:04:14", "commitGitStats": [{"filePath": "extensions/org.eclipse.lsp4xml.extensions.emmet/src/main/java/org/eclipse/lsp4xml/extensions/emmet/emmetio/extract/ExtractAbbreviation.java", "insertions": 3, "deletions": 3, "lines": 6}], "commitSpoonAstDiffStats": [{"spoonFilePath": "ExtractAbbreviation.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.emmet.emmetio.extract.ExtractAbbreviation.extractAbbreviation(java.lang.String,java.lang.Integer,org.eclipse.lsp4xml.extensions.emmet.emmetio.extract.EmmetOptions)", "TOT": 3, "UPD": 3, "INS": 0, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["b46fafc4589cbfd6b18ede30af9c117fca2f993a"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 3, "deletions": 3, "lines": 6, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 3, "UPD": 3, "INS": 0, "MOV": 0, "DEL": 0, "spoonFilesChanged": 1, "spoonMethodsChanged": 1}, "statsSkippedReason": "", "changesInPackagesGIT": ["extensions/org.eclipse.lsp4xml.extensions.emmet/src/main/java/org/eclipse/lsp4xml/extensions/emmet"], "changesInPackagesSPOON": ["org.eclipse.lsp4xml.extensions.emmet.emmetio.extract.ExtractAbbreviation.extractAbbreviation(java.lang.String,java.lang.Integer,org.eclipse.lsp4xml.extensions.emmet.emmetio.extract.EmmetOptions)"]}, {"title": "Validation needs additional <uri> catalog entry", "body": "To make validation and completion work I currently need two catalog entries, e.g.\r\n```xml\r\n  <public publicId=\"urn:oasis:names:tc:entity:xmlns:xml:catalog\" uri=\"./schemas/catalog.xsd\" />\r\n  <uri name=\"urn:oasis:names:tc:entity:xmlns:xml:catalog\" uri=\"./schemas/catalog.xsd\" />\r\n```\r\n\r\nFrom the [XML Catalog specification](https://www.oasis-open.org/committees/download.php/14809/xml-catalogs.html#s.ext.ent) I would have expected to just need the `<uri>` entry because `<public>` is intended for resolving *external identifiers* and expressly *not* for resolving XML namespace names:\r\n\r\n> External Identifiers, as defined in [Production 75] of [XML], identify the external subset, entities, and notations of an XML document. They are not used to identify other resources such as namespace names, stylesheets, and schema languages other than DTDs; URI entries are used for that purpose.\r\n\r\nHowever with just a `<uri>` entry neither validation nor code completion are triggered.\r\n\r\nNote: this issue is of low importance as validation and completion work fine as long as the catalog contains these \"duplicate\" entries. Mentioning this in documentation on \"how to write a catalog.xml\" would be sufficient.", "url": "https://github.com/eclipse/lemminx/issues/217", "user": "ralfhandl", "labels": ["bug", "catalog", "completion", "validation"], "created": "2018-11-12 13:26:38", "closed": "2018-11-13 18:21:34", "commits": {"979251bb4b74f3f3c17fcdd5463c3c69a19a5e7b": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "7c224cd3b3a353d0a7a4136e443a0a36e98da998": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}}, "ttf": 1.0002777777777778, "commitsDetails": [{"commitHash": "979251bb4b74f3f3c17fcdd5463c3c69a19a5e7b", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": ["e996b1419d49b64274bdd2c720f4ee962e4c0b7f"], "nameRev": "979251bb4b74f3f3c17fcdd5463c3c69a19a5e7b tags/0.3.0~106", "commitMessage": "Resolve URI at first with namespace from XML Schema at first for\ncatalog(see #217)", "commitDateTime": "2018-11-13 14:34:34", "authoredDateTime": "2018-11-13 14:34:34", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/uriresolver/XMLCatalogResolverExtension.java", "insertions": 18, "deletions": 0, "lines": 18}], "commitSpoonAstDiffStats": [{"spoonFilePath": "XMLCatalogResolverExtension.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.uriresolver.XMLCatalogResolverExtension.resolve(java.lang.String,java.lang.String,java.lang.String)", "TOT": 2, "UPD": 0, "INS": 2, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "7c224cd3b3a353d0a7a4136e443a0a36e98da998", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": ["5c87c8f88949dc0392c0a8b884a138ab75c9df7f"], "nameRev": "7c224cd3b3a353d0a7a4136e443a0a36e98da998 tags/0.3.0~101", "commitMessage": "Write test for #217", "commitDateTime": "2018-11-13 19:19:25", "authoredDateTime": "2018-11-13 19:19:25", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/extensions/contentmodel/XMLSchemaDiagnosticsTest.java", "insertions": 14, "deletions": 0, "lines": 14}], "commitSpoonAstDiffStats": [{"spoonFilePath": "XMLSchemaDiagnosticsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.XMLSchemaDiagnosticsTest.issue217()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["979251bb4b74f3f3c17fcdd5463c3c69a19a5e7b", "7c224cd3b3a353d0a7a4136e443a0a36e98da998"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 18, "deletions": 0, "lines": 18, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 2, "UPD": 0, "INS": 2, "MOV": 0, "DEL": 0, "spoonFilesChanged": 1, "spoonMethodsChanged": 1}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/uriresolver"], "changesInPackagesSPOON": ["org.eclipse.lsp4xml.extensions.contentmodel.uriresolver.XMLCatalogResolverExtension.resolve(java.lang.String,java.lang.String,java.lang.String)"]}, {"title": "Some managers like ContentModelManager, URIResolverManagerExtension should not be a singleton", "body": "When I try to implement https://github.com/angelozerr/lsp4xml/issues/204 by adding a new simple URIResolver https://github.com/angelozerr/lsp4xml/blob/master/org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/catalog/XMLCatalogURIResolverExtension.java it breaks tests. It's so crazy:\r\n\r\n * when I launch the all tests, some tests failed.\r\n * when I launch only a test which has failed, it works?\r\n\r\nAfter spending a lot of time, I see the problem is because each time test is executed, it updates singleton with some uriresolver, and we are not in the same context if we launch the all tests and just one test.\r\n\r\nThe problem is because URIResolverManagerExtension is a singleton, although it should be a singleton only for an instance of XMLLanguageService. \r\n\r\nThis issue is for link an instance of URIResolverManagerExtension to an instance of XMLLanguageService to be in the same context (in test context) than real case \r\n\r\nI'm working on this issue.\r\n", "url": "https://github.com/eclipse/lemminx/issues/215", "user": "angelozerr", "labels": ["bug", "debt"], "created": "2018-11-12 08:40:46", "closed": "2018-11-12 16:55:56", "commits": {"6dd7fb4bb7b68cec0043f14ca6160b851922933a": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "2b80639cf95e2183ff75bf17759599322d00e5e9": {"commitGHEventType": "referenced", "commitUser": "fbricon"}}, "ttf": 0.0002777777777777778, "commitsDetails": [{"commitHash": "6dd7fb4bb7b68cec0043f14ca6160b851922933a", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": ["1d83bea2ed5c8f5812bcc2d3a0995e923f868091"], "nameRev": "6dd7fb4bb7b68cec0043f14ca6160b851922933a tags/0.3.0~110", "commitMessage": "Don't use singleton for manager which are related to the XML language\nservice instance (see #215)", "commitDateTime": "2018-11-12 13:48:56", "authoredDateTime": "2018-11-12 13:48:56", "commitGitStats": [{"filePath": "extensions/org.eclipse.lsp4xml.extensions.emmet/src/test/java/org/eclipse/lsp4xml/extensions/emmet/participants/EmmetCompletionTest.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/XMLTextDocumentService.java", "insertions": 3, "deletions": 1, "lines": 4}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/XMLDocument.java", "insertions": 11, "deletions": 6, "lines": 17}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/XMLParser.java", "insertions": 7, "deletions": 6, "lines": 13}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/catalog/XMLCatalogPlugin.java", "insertions": 3, "deletions": 4, "lines": 7}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/catalog/XMLCatalogURIResolverExtension.java", "insertions": 8, "deletions": 7, "lines": 15}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/ContentModelPlugin.java", "insertions": 11, "deletions": 5, "lines": 16}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/model/ContentModelManager.java", "insertions": 9, "deletions": 8, "lines": 17}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/participants/ContentModelCodeActionParticipant.java", "insertions": 3, "deletions": 2, "lines": 5}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/participants/ContentModelCompletionParticipant.java", "insertions": 8, "deletions": 7, "lines": 15}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/participants/ContentModelHoverParticipant.java", "insertions": 4, "deletions": 3, "lines": 7}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/participants/codeactions/ElementUnterminatedCodeAction.java", "insertions": 2, "deletions": 1, "lines": 3}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/participants/codeactions/EqRequiredInAttributeCodeAction.java", "insertions": 4, "deletions": 4, "lines": 8}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/participants/codeactions/cvc_attribute_3CodeAction.java", "insertions": 9, "deletions": 5, "lines": 14}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/participants/codeactions/cvc_complex_type_2_1CodeAction.java", "insertions": 2, "deletions": 1, "lines": 3}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/participants/codeactions/cvc_complex_type_2_3CodeAction.java", "insertions": 4, "deletions": 3, "lines": 7}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/participants/codeactions/cvc_complex_type_3_2_2CodeAction.java", "insertions": 2, "deletions": 1, "lines": 3}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/participants/codeactions/cvc_complex_type_4CodeAction.java", "insertions": 8, "deletions": 5, "lines": 13}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/participants/codeactions/cvc_enumeration_validCodeAction.java", "insertions": 4, "deletions": 2, "lines": 6}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/participants/codeactions/cvc_type_3_1_1CodeAction.java", "insertions": 4, "deletions": 3, "lines": 7}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/participants/diagnostics/ContentModelDiagnosticsParticipant.java", "insertions": 1, "deletions": 2, "lines": 3}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/uriresolver/XMLCacheResolverExtension.java", "insertions": 18, "deletions": 10, "lines": 28}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/xsd/XSDPlugin.java", "insertions": 3, "deletions": 4, "lines": 7}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/xsd/participants/diagnostics/XSDDiagnosticsParticipant.java", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/xsl/XSLPlugin.java", "insertions": 2, "deletions": 3, "lines": 5}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/CompletionRequest.java", "insertions": 14, "deletions": 5, "lines": 19}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/HoverRequest.java", "insertions": 10, "deletions": 1, "lines": 11}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/XMLCodeActions.java", "insertions": 2, "deletions": 1, "lines": 3}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/XMLCompletions.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/XMLFormatter.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/XMLHover.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/extensions/ICodeActionParticipant.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/extensions/IComponentProvider.java", "insertions": 29, "deletions": 0, "lines": 29}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/extensions/IHoverRequest.java", "insertions": 1, "deletions": 0, "lines": 1}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/extensions/IPositionRequest.java", "insertions": 2, "deletions": 0, "lines": 2}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/extensions/XMLExtensionsRegistry.java", "insertions": 24, "deletions": 2, "lines": 26}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/uriresolver/CacheResourcesManager.java", "insertions": 1, "deletions": 6, "lines": 7}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/uriresolver/URIResolverExtensionManager.java", "insertions": 1, "deletions": 7, "lines": 8}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/XMLAssert.java", "insertions": 41, "deletions": 19, "lines": 60}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/dom/XMLDocumentTest.java", "insertions": 5, "deletions": 5, "lines": 10}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/dom/XMLParserTest.java", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/extensions/contentmodel/DTDDiagnosticsTest.java", "insertions": 0, "deletions": 9, "lines": 9}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/extensions/contentmodel/XMLFileAssociationsCompletionTest.java", "insertions": 42, "deletions": 28, "lines": 70}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/extensions/contentmodel/XMLFileAssociationsDiagnosticsTest.java", "insertions": 34, "deletions": 17, "lines": 51}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/extensions/contentmodel/XMLSchemaCompletionExtensionsTest.java", "insertions": 2, "deletions": 11, "lines": 13}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/extensions/contentmodel/XMLSchemaDiagnosticsTest.java", "insertions": 0, "deletions": 7, "lines": 7}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/extensions/contentmodel/XMLSchemaHoverExtensionsTest.java", "insertions": 0, "deletions": 9, "lines": 9}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/extensions/contentmodel/XMLSchemaPublishDiagnosticsTest.java", "insertions": 34, "deletions": 23, "lines": 57}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/services/XMLCompletionTest.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/services/XMLFormatterTest.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/services/XMLHighlightingTest.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/services/XMLRenameTest.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/services/XMLSymbolsTest.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/services/extensions/HTMLCompletionExtensionsTest.java", "insertions": 25, "deletions": 20, "lines": 45}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/uriresolver/CacheResourcesManagerTest.java", "insertions": 7, "deletions": 12, "lines": 19}], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": "tooManyFiles"}, {"commitHash": "2b80639cf95e2183ff75bf17759599322d00e5e9", "commitGHEventType": "referenced", "commitUser": "fbricon", "commitParents": ["8d789fcd04cef7e0456100679d7cbe3f3b673565"], "nameRev": "2b80639cf95e2183ff75bf17759599322d00e5e9 tags/0.3.0~107^2", "commitMessage": "Execute tests in random order. See #215\n\nSigned-off-by: Fred Bricon <fbricon@gmail.com>\n", "commitDateTime": "2018-11-12 08:47:10", "authoredDateTime": "2018-11-12 08:47:10", "commitGitStats": [{"filePath": "pom.xml", "insertions": 8, "deletions": 0, "lines": 8}], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}], "filteredCommits": ["6dd7fb4bb7b68cec0043f14ca6160b851922933a", "2b80639cf95e2183ff75bf17759599322d00e5e9"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 221, "deletions": 122, "lines": 343, "gitFilesChange": 37}, "spoonStatsSummary": {}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/extensions", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/participants", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/catalog", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/xsd", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/xsl", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/uriresolver", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/uriresolver", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/model", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/xsd/participants", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml"]}, {"title": "XML Schema completion prefix doesn't work in some case", "body": "See https://github.com/redhat-developer/vscode-xml/issues/78#issuecomment-437049479\r\n\r\n(Annotation should not have prefix)\r\n\r\n![image](https://user-images.githubusercontent.com/1932211/48304737-bd268d00-e51e-11e8-8348-3b2d84a69442.png)\r\n", "url": "https://github.com/eclipse/lemminx/issues/214", "user": "angelozerr", "labels": ["CM Extension", "bug", "completion"], "created": "2018-11-10 18:28:50", "closed": "2018-11-13 18:14:32", "commits": {"e567943a17456a9b2ae9c54b958fd06a86d4ff4a": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "1d83bea2ed5c8f5812bcc2d3a0995e923f868091": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "a43a43a79ee7332acb43e28a2aa73050cd5fb67b": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}}, "ttf": 2.000277777777778, "commitsDetails": [{"commitHash": "e567943a17456a9b2ae9c54b958fd06a86d4ff4a", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": ["bbe35cb33bfcdad7b7237849d9417acf1b758600"], "nameRev": "e567943a17456a9b2ae9c54b958fd06a86d4ff4a tags/0.3.0~112", "commitMessage": "Use prefix retrieve from Element for completion (see #214)", "commitDateTime": "2018-11-10 19:30:53", "authoredDateTime": "2018-11-10 19:30:53", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/Element.java", "insertions": 91, "deletions": 6, "lines": 97}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/Node.java", "insertions": 4, "deletions": 4, "lines": 8}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/model/CMElementDeclaration.java", "insertions": 9, "deletions": 1, "lines": 10}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/participants/ContentModelCompletionParticipant.java", "insertions": 5, "deletions": 4, "lines": 9}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/xsd/XSDElementDeclaration.java", "insertions": 6, "deletions": 0, "lines": 6}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/extensions/contentmodel/XMLSchemaCompletionExtensionsTest.java", "insertions": 10, "deletions": 10, "lines": 20}], "commitSpoonAstDiffStats": [{"spoonFilePath": "Element.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.dom.Element.getAllPrefixes()", "TOT": 3, "UPD": 2, "INS": 0, "MOV": 1, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.dom.Element.getNamespaceURI()", "TOT": 6, "UPD": 0, "INS": 3, "MOV": 0, "DEL": 3}, {"spoonMethodName": "org.eclipse.lsp4xml.dom.Element.getNamespaceURI(java.lang.String)", "TOT": 2, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 1}, {"spoonMethodName": "org.eclipse.lsp4xml.dom.Element", "TOT": 2, "UPD": 0, "INS": 2, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.dom.Element.extractPrefixFromXmlns(java.lang.String)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.dom.Element.getPrefix(java.lang.String)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.dom.Element.isXmlns(java.lang.String)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.dom.Element.isDefaultXmlns(java.lang.String)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.dom.Element.isNoDefaultXmlns(java.lang.String)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "Node.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.dom.Node.hasAttributes()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "CMElementDeclaration.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.model.getNamespace()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "ContentModelCompletionParticipant.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.participants.ContentModelCompletionParticipant.fillWithChildrenElementDeclaration(java.util.Collection,java.lang.String,org.eclipse.lsp4xml.services.extensions.ICompletionRequest,org.eclipse.lsp4xml.services.extensions.ICompletionResponse)", "TOT": 3, "UPD": 2, "INS": 0, "MOV": 1, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.participants.ContentModelCompletionParticipant.onTagOpen(org.eclipse.lsp4xml.services.extensions.ICompletionRequest,org.eclipse.lsp4xml.services.extensions.ICompletionResponse)", "TOT": 5, "UPD": 2, "INS": 0, "MOV": 3, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.participants.ContentModelCompletionParticipant.fillWithChildrenElementDeclaration(org.eclipse.lsp4xml.dom.Element,java.util.Collection,org.eclipse.lsp4xml.services.extensions.ICompletionRequest,org.eclipse.lsp4xml.services.extensions.ICompletionResponse)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XSDElementDeclaration.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.xsd.XSDElementDeclaration.getNamespace()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLSchemaCompletionExtensionsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.XMLSchemaCompletionExtensionsTest.completionOnAttributeName()", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.XMLSchemaCompletionExtensionsTest.completionOnAttributeValue()", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.XMLSchemaCompletionExtensionsTest.completionWithoutStartBracket()", "TOT": 8, "UPD": 8, "INS": 0, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "1d83bea2ed5c8f5812bcc2d3a0995e923f868091", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": ["e567943a17456a9b2ae9c54b958fd06a86d4ff4a"], "nameRev": "1d83bea2ed5c8f5812bcc2d3a0995e923f868091 tags/0.3.0~111", "commitMessage": "Fix build (see #214)", "commitDateTime": "2018-11-10 23:38:29", "authoredDateTime": "2018-11-10 23:38:29", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/participants/ContentModelCompletionParticipant.java", "insertions": 11, "deletions": 5, "lines": 16}], "commitSpoonAstDiffStats": [{"spoonFilePath": "ContentModelCompletionParticipant.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.participants.ContentModelCompletionParticipant.fillWithChildrenElementDeclaration(org.eclipse.lsp4xml.dom.Element,java.util.Collection,java.lang.String,boolean,org.eclipse.lsp4xml.services.extensions.ICompletionRequest,org.eclipse.lsp4xml.services.extensions.ICompletionResponse)", "TOT": 3, "UPD": 0, "INS": 3, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.participants.ContentModelCompletionParticipant.onTagOpen(org.eclipse.lsp4xml.services.extensions.ICompletionRequest,org.eclipse.lsp4xml.services.extensions.ICompletionResponse)", "TOT": 6, "UPD": 0, "INS": 6, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.participants.ContentModelCompletionParticipant.fillWithChildrenElementDeclaration(org.eclipse.lsp4xml.dom.Element,java.util.Collection,org.eclipse.lsp4xml.services.extensions.ICompletionRequest,org.eclipse.lsp4xml.services.extensions.ICompletionResponse)", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 1, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "a43a43a79ee7332acb43e28a2aa73050cd5fb67b", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": ["1ce7469980bcd54c0720e45350be1129a9c17b1d"], "nameRev": "a43a43a79ee7332acb43e28a2aa73050cd5fb67b tags/0.3.0~104", "commitMessage": "Write test for #214", "commitDateTime": "2018-11-13 18:30:07", "authoredDateTime": "2018-11-13 18:30:07", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/extensions/contentmodel/XMLSchemaCompletionExtensionsTest.java", "insertions": 31, "deletions": 0, "lines": 31}, {"filePath": "org.eclipse.lsp4xml/src/test/resources/catalogs/catalog.xml", "insertions": 6, "deletions": 1, "lines": 7}, {"filePath": "org.eclipse.lsp4xml/src/test/resources/xsd/edm.xsd", "insertions": 897, "deletions": 0, "lines": 897}, {"filePath": "org.eclipse.lsp4xml/src/test/resources/xsd/edmx.xsd", "insertions": 108, "deletions": 0, "lines": 108}], "commitSpoonAstDiffStats": [{"spoonFilePath": "XMLSchemaCompletionExtensionsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.XMLSchemaCompletionExtensionsTest.issue214()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["e567943a17456a9b2ae9c54b958fd06a86d4ff4a", "1d83bea2ed5c8f5812bcc2d3a0995e923f868091", "a43a43a79ee7332acb43e28a2aa73050cd5fb67b"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 2, "gitStatsSummary": {"insertions": 126, "deletions": 20, "lines": 146, "gitFilesChange": 5}, "spoonStatsSummary": {"TOT": 40, "UPD": 6, "INS": 24, "MOV": 6, "DEL": 4, "spoonFilesChanged": 5, "spoonMethodsChanged": 16}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/participants", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/model", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/xsd"], "changesInPackagesSPOON": ["org.eclipse.lsp4xml.extensions.contentmodel.participants.ContentModelCompletionParticipant.fillWithChildrenElementDeclaration(org.eclipse.lsp4xml.dom.Element,java.util.Collection,org.eclipse.lsp4xml.services.extensions.ICompletionRequest,org.eclipse.lsp4xml.services.extensions.ICompletionResponse)", "org.eclipse.lsp4xml.extensions.contentmodel.participants.ContentModelCompletionParticipant.onTagOpen(org.eclipse.lsp4xml.services.extensions.ICompletionRequest,org.eclipse.lsp4xml.services.extensions.ICompletionResponse)", "org.eclipse.lsp4xml.extensions.contentmodel.participants.ContentModelCompletionParticipant.fillWithChildrenElementDeclaration(org.eclipse.lsp4xml.dom.Element,java.util.Collection,java.lang.String,boolean,org.eclipse.lsp4xml.services.extensions.ICompletionRequest,org.eclipse.lsp4xml.services.extensions.ICompletionResponse)", "org.eclipse.lsp4xml.dom.Element.getNamespaceURI()", "org.eclipse.lsp4xml.dom.Element.isXmlns(java.lang.String)", "org.eclipse.lsp4xml.dom.Element.getAllPrefixes()", "org.eclipse.lsp4xml.dom.Element.isNoDefaultXmlns(java.lang.String)", "org.eclipse.lsp4xml.extensions.contentmodel.model.getNamespace()", "org.eclipse.lsp4xml.dom.Element.extractPrefixFromXmlns(java.lang.String)", "org.eclipse.lsp4xml.dom.Element.isDefaultXmlns(java.lang.String)", "org.eclipse.lsp4xml.dom.Element", "org.eclipse.lsp4xml.dom.Element.getNamespaceURI(java.lang.String)", "org.eclipse.lsp4xml.extensions.contentmodel.participants.ContentModelCompletionParticipant.fillWithChildrenElementDeclaration(java.util.Collection,java.lang.String,org.eclipse.lsp4xml.services.extensions.ICompletionRequest,org.eclipse.lsp4xml.services.extensions.ICompletionResponse)", "org.eclipse.lsp4xml.dom.Node.hasAttributes()", "org.eclipse.lsp4xml.extensions.contentmodel.xsd.XSDElementDeclaration.getNamespace()", "org.eclipse.lsp4xml.dom.Element.getPrefix(java.lang.String)"]}, {"title": "Don't add sibling element when completion items is filled with grammar", "body": "In some case (I have just reproduce it once), there is duplicate element (element coming from sibling and element coming from grammar:\r\n\r\n![image](https://user-images.githubusercontent.com/1932211/48260281-2f15ae00-e41b-11e8-8409-cdfb637638d4.png)\r\n\r\nSee https://github.com/angelozerr/lsp4xml/issues/210\r\n\r\nThis logic should work, but it fails in some case. I cannot reproduce it every time, but to be sure to avoid having this trouble, we must exectute completion of content model (from grammar) before sibling strategies and check we have NOT element coming from grammar to process sibling strategy.\r\n", "url": "https://github.com/eclipse/lemminx/issues/211", "user": "angelozerr", "labels": ["CM Extension", "bug", "completion"], "created": "2018-11-09 11:32:42", "closed": "2018-11-09 11:35:14", "commits": {"d58be460444f0023400cee0cd53b00f59461e020": {"commitGHEventType": "closed", "commitUser": "angelozerr"}}, "ttf": 0.0002777777777777778, "commitsDetails": [{"commitHash": "d58be460444f0023400cee0cd53b00f59461e020", "commitGHEventType": "closed", "commitUser": "angelozerr", "commitParents": ["4789034ae0d958226450a15dc25b4e31b5fae984"], "nameRev": "d58be460444f0023400cee0cd53b00f59461e020 tags/0.3.0~121", "commitMessage": "Fix #211", "commitDateTime": "2018-11-09 12:35:11", "authoredDateTime": "2018-11-09 12:35:11", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/participants/ContentModelCompletionParticipant.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/CompletionResponse.java", "insertions": 12, "deletions": 0, "lines": 12}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/XMLCompletions.java", "insertions": 40, "deletions": 42, "lines": 82}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/extensions/ICompletionResponse.java", "insertions": 27, "deletions": 0, "lines": 27}], "commitSpoonAstDiffStats": [{"spoonFilePath": "ContentModelCompletionParticipant.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.participants.ContentModelCompletionParticipant.fillWithChildrenElementDeclaration(java.util.Collection,java.lang.String,org.eclipse.lsp4xml.services.extensions.ICompletionRequest,org.eclipse.lsp4xml.services.extensions.ICompletionResponse)", "TOT": 3, "UPD": 0, "INS": 2, "MOV": 0, "DEL": 1}]}, {"spoonFilePath": "CompletionResponse.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.services.CompletionResponse", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.services.CompletionResponse.addCompletionItem(org.eclipse.lsp4j.CompletionItem,boolean)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.services.CompletionResponse.hasSomeItemFromGrammar()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLCompletions.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.services.XMLCompletions.collectOpenTagSuggestions(boolean,org.eclipse.lsp4j.Range,org.eclipse.lsp4xml.services.CompletionRequest,org.eclipse.lsp4xml.services.CompletionResponse)", "TOT": 5, "UPD": 0, "INS": 1, "MOV": 3, "DEL": 1}]}, {"spoonFilePath": "ICompletionResponse.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.services.extensions.addCompletionItem(org.eclipse.lsp4j.CompletionItem,boolean)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.services.extensions.hasSomeItemFromGrammar()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["d58be460444f0023400cee0cd53b00f59461e020"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 81, "deletions": 44, "lines": 125, "gitFilesChange": 4}, "spoonStatsSummary": {"TOT": 13, "UPD": 0, "INS": 8, "MOV": 3, "DEL": 2, "spoonFilesChanged": 4, "spoonMethodsChanged": 7}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/extensions", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/participants", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services"], "changesInPackagesSPOON": ["org.eclipse.lsp4xml.services.CompletionResponse", "org.eclipse.lsp4xml.extensions.contentmodel.participants.ContentModelCompletionParticipant.fillWithChildrenElementDeclaration(java.util.Collection,java.lang.String,org.eclipse.lsp4xml.services.extensions.ICompletionRequest,org.eclipse.lsp4xml.services.extensions.ICompletionResponse)", "org.eclipse.lsp4xml.services.extensions.addCompletionItem(org.eclipse.lsp4j.CompletionItem,boolean)", "org.eclipse.lsp4xml.services.XMLCompletions.collectOpenTagSuggestions(boolean,org.eclipse.lsp4j.Range,org.eclipse.lsp4xml.services.CompletionRequest,org.eclipse.lsp4xml.services.CompletionResponse)", "org.eclipse.lsp4xml.services.extensions.hasSomeItemFromGrammar()", "org.eclipse.lsp4xml.services.CompletionResponse.hasSomeItemFromGrammar()", "org.eclipse.lsp4xml.services.CompletionResponse.addCompletionItem(org.eclipse.lsp4j.CompletionItem,boolean)"]}, {"title": "Multiple `insert required attribute` code actions shown when multiple attributes are missing", "body": "Given an xml document:\r\n\r\n```xml\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<invoice xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\r\n xsi:noNamespaceSchemaLocation=\"invoice.xsd\">\r\n  <date>2017-11-30</date>\r\n  <number>5235</number>\r\n  <products>\r\n    <product />\r\n  </products>\r\n  <payments>\r\n    <payment amount=\"770.00\" method=\"credit\"/>\r\n  </payments>\r\n</invoice>\r\n```\r\n\r\nwith an invoice.xsd:\r\n```xml\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<xsd:schema elementFormDefault=\"qualified\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\">\r\n    <xsd:element name=\"invoice\" type=\"invoiceType\"></xsd:element>\r\n    \r\n    <xsd:complexType name=\"invoiceType\">\r\n    \t<xsd:sequence>\r\n    \t\t<xsd:element name=\"date\" type=\"xsd:date\"></xsd:element>\r\n            <xsd:element name=\"number\" type=\"xsd:int\"></xsd:element>\r\n            <xsd:element name=\"products\" type=\"productsType\"></xsd:element>\r\n    \t\t<xsd:element name=\"payments\" type=\"paymentsType\"></xsd:element>\r\n    \t</xsd:sequence>\r\n    </xsd:complexType>\r\n\r\n    <xsd:complexType name=\"productsType\">\r\n    \t<xsd:choice minOccurs=\"1\" maxOccurs=\"unbounded\">\r\n    \t\t<xsd:element name=\"product\" type=\"productType\"></xsd:element>\r\n    \t</xsd:choice>\r\n    </xsd:complexType>\r\n\r\n    <xsd:complexType name=\"productType\">\r\n    \t<xsd:attribute name=\"price\" type=\"xsd:float\" use=\"required\"></xsd:attribute>\r\n    \t<xsd:attribute name=\"description\" type=\"xsd:string\" use=\"required\"></xsd:attribute>\r\n    </xsd:complexType>\r\n\r\n\r\n    <xsd:complexType name=\"paymentsType\">\r\n    \t<xsd:sequence minOccurs=\"1\" maxOccurs=\"unbounded\">\r\n    \t\t<xsd:element name=\"payment\" type=\"paymentType\"></xsd:element>\r\n    \t</xsd:sequence>\r\n    </xsd:complexType>\r\n\r\n    <xsd:complexType name=\"paymentType\">\r\n    \t<xsd:attribute name=\"amount\" type=\"xsd:float\" use=\"required\"></xsd:attribute>\r\n    \t<xsd:attribute name=\"method\" type=\"paymentMethodType\" use=\"required\"></xsd:attribute>\r\n    </xsd:complexType>\r\n\r\n    <xsd:simpleType name=\"paymentMethodType\">\r\n    \t<xsd:restriction base=\"xsd:string\">\r\n\t\t\t<xsd:enumeration value=\"credit\"></xsd:enumeration>\r\n    \t\t<xsd:enumeration value=\"debit\"></xsd:enumeration>\r\n    \t\t<xsd:enumeration value=\"cash\"></xsd:enumeration>\r\n    \t\t<xsd:enumeration value=\"aaaa\"></xsd:enumeration>\r\n    \t</xsd:restriction>\r\n    </xsd:simpleType>\r\n</xsd:schema>\r\n```\r\n\r\nmissing both attributes on the product tag generates duplicate code actions:\r\n\r\n<img width=\"323\" alt=\"screen shot 2018-11-08 at 5 20 49 pm\" src=\"https://user-images.githubusercontent.com/148698/48231000-ca0a7b80-e37a-11e8-8603-d60f99ddcbc1.png\">\r\n\r\nThere are as many code actions as there are missing attributes. The server should not send duplicates", "url": "https://github.com/eclipse/lemminx/issues/209", "user": "fbricon", "labels": ["bug", "code action"], "created": "2018-11-08 22:26:03", "closed": "2019-03-28 21:22:51", "commits": {"867b3ad5b4fecf7b283819dd5d171ed68fa79cbd": {"commitGHEventType": "referenced", "commitUser": "fbricon"}}, "ttf": 139.00027777777777, "commitsDetails": [{"commitHash": "867b3ad5b4fecf7b283819dd5d171ed68fa79cbd", "commitGHEventType": "referenced", "commitUser": "fbricon", "commitParents": ["cb0c290fc36fb578bc24342cc7a8223010f1796f"], "nameRev": "867b3ad5b4fecf7b283819dd5d171ed68fa79cbd tags/0.5.0~7", "commitMessage": "Removed duplicate code actions on multiple attributes\n\nFixes #209\n\nSigned-off-by: Nikolas <nikolaskomonen@gmail.com>\n", "commitDateTime": "2019-03-28 17:22:50", "authoredDateTime": "2019-03-27 12:41:19", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/participants/codeactions/cvc_complex_type_4CodeAction.java", "insertions": 21, "deletions": 0, "lines": 21}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/extensions/contentmodel/XMLSchemaDiagnosticsTest.java", "insertions": 21, "deletions": 0, "lines": 21}], "commitSpoonAstDiffStats": [{"spoonFilePath": "cvc_complex_type_4CodeAction.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.participants.codeactions.cvc_complex_type_4CodeAction.codeAlreadyActionExists(java.util.List,org.eclipse.lsp4j.Diagnostic)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.participants.codeactions.cvc_complex_type_4CodeAction.doCodeAction(org.eclipse.lsp4j.Diagnostic,org.eclipse.lsp4j.Range,org.eclipse.lsp4xml.dom.DOMDocument,java.util.List,org.eclipse.lsp4xml.settings.XMLFormattingOptions,org.eclipse.lsp4xml.services.extensions.IComponentProvider)", "TOT": 2, "UPD": 0, "INS": 2, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLSchemaDiagnosticsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.XMLSchemaDiagnosticsTest.cvc_type_4_Multiple_attributes()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["867b3ad5b4fecf7b283819dd5d171ed68fa79cbd"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 21, "deletions": 0, "lines": 21, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 3, "UPD": 0, "INS": 3, "MOV": 0, "DEL": 0, "spoonFilesChanged": 1, "spoonMethodsChanged": 2}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/participants"], "changesInPackagesSPOON": ["org.eclipse.lsp4xml.extensions.contentmodel.participants.codeactions.cvc_complex_type_4CodeAction.codeAlreadyActionExists(java.util.List,org.eclipse.lsp4j.Diagnostic)", "org.eclipse.lsp4xml.extensions.contentmodel.participants.codeactions.cvc_complex_type_4CodeAction.doCodeAction(org.eclipse.lsp4j.Diagnostic,org.eclipse.lsp4j.Range,org.eclipse.lsp4xml.dom.DOMDocument,java.util.List,org.eclipse.lsp4xml.settings.XMLFormattingOptions,org.eclipse.lsp4xml.services.extensions.IComponentProvider)"]}, {"title": "Support rootUri for XML catalog configuration", "body": "When catalog path is relative:, \r\n\r\n```xml\r\n{\r\n    \"xml.catalogs\": [\r\n        \"./catalog.xml\"\r\n    ]\r\n}\r\n```\r\n\r\nIt is not loaded. It should use rootUri workspace.", "url": "https://github.com/eclipse/lemminx/issues/206", "user": "angelozerr", "labels": ["bug", "catalog"], "created": "2018-11-08 10:52:07", "closed": "2018-11-09 04:49:31", "commits": {"9b7568f6778d2c49f14f2735cf775f4474da59f4": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "e7fa1381a006e468ac71a5cf82d6f1405b9eb37c": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "c187dc8954ccdea9991dc8222e7f0ea995eea99d": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "4789034ae0d958226450a15dc25b4e31b5fae984": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}}, "ttf": 0.0002777777777777778, "commitsDetails": [{"commitHash": "9b7568f6778d2c49f14f2735cf775f4474da59f4", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": ["10a2a4c7943bce322fcb402120a94c8fe1a2afe7"], "nameRev": "9b7568f6778d2c49f14f2735cf775f4474da59f4 tags/v0.0.2~4", "commitMessage": "Use rootUri for XML catalog paths (see #206)", "commitDateTime": "2018-11-08 12:39:42", "authoredDateTime": "2018-11-08 12:39:42", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/model/ContentModelManager.java", "insertions": 6, "deletions": 29, "lines": 35}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/uriresolver/XMLCatalogResolverExtension.java", "insertions": 65, "deletions": 4, "lines": 69}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/uriresolver/XMLFileAssociationResolverExtension.java", "insertions": 4, "deletions": 18, "lines": 22}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/utils/URIUtils.java", "insertions": 30, "deletions": 7, "lines": 37}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/extensions/contentmodel/XMLSchemaPublishDiagnosticsTest.java", "insertions": 1, "deletions": 0, "lines": 1}], "commitSpoonAstDiffStats": [{"spoonFilePath": "ContentModelManager.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.model.ContentModelManager.isXMLCatalogFileValid(java.lang.String)", "TOT": 5, "UPD": 3, "INS": 0, "MOV": 2, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.model.ContentModelManager.setCatalogs(java.lang.String[])", "TOT": 6, "UPD": 1, "INS": 1, "MOV": 3, "DEL": 1}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.model.ContentModelManager.setRootURI(java.lang.String)", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}]}, {"spoonFilePath": "XMLCatalogResolverExtension.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.uriresolver.XMLCatalogResolverExtension", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.uriresolver.XMLCatalogResolverExtension.setRootUri(java.lang.String)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.uriresolver.XMLCatalogResolverExtension.setCatalogs(java.lang.String[])", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.uriresolver.XMLCatalogResolverExtension.expandSystemId(java.lang.String)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.uriresolver.XMLCatalogResolverExtension.isXMLCatalogFileValid(java.lang.String)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.uriresolver.XMLCatalogResolverExtension.setCatalogResolver(org.apache.xerces.util.XMLCatalogResolver)", "TOT": 3, "UPD": 0, "INS": 1, "MOV": 2, "DEL": 0}]}, {"spoonFilePath": "XMLFileAssociationResolverExtension.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.uriresolver.XMLFileAssociationResolverExtension.setRootUri(java.lang.String)", "TOT": 2, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 1}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.uriresolver.XMLFileAssociationResolverExtension.sanitizingUri(java.lang.String)", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}]}, {"spoonFilePath": "URIUtils.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.utils.URIUtils.sanitizingUri(java.lang.String)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLSchemaPublishDiagnosticsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.XMLSchemaPublishDiagnosticsTest.init()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "e7fa1381a006e468ac71a5cf82d6f1405b9eb37c", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": ["9b7568f6778d2c49f14f2735cf775f4474da59f4"], "nameRev": "e7fa1381a006e468ac71a5cf82d6f1405b9eb37c tags/v0.0.2~3", "commitMessage": "Try fix build (see #206)", "commitDateTime": "2018-11-08 14:20:46", "authoredDateTime": "2018-11-08 14:20:46", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/uriresolver/XMLCatalogResolverExtension.java", "insertions": 3, "deletions": 0, "lines": 3}], "commitSpoonAstDiffStats": [{"spoonFilePath": "XMLCatalogResolverExtension.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.uriresolver.XMLCatalogResolverExtension.expandSystemId(java.lang.String)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "c187dc8954ccdea9991dc8222e7f0ea995eea99d", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": ["a1b91c84f889642f13f19da23ad628b226902db6"], "nameRev": "c187dc8954ccdea9991dc8222e7f0ea995eea99d tags/v0.0.2~1", "commitMessage": "Don't use rootUri for the moment to avoid breaking build (see #206)", "commitDateTime": "2018-11-08 14:27:59", "authoredDateTime": "2018-11-08 14:27:59", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/uriresolver/XMLCatalogResolverExtension.java", "insertions": 3, "deletions": 5, "lines": 8}], "commitSpoonAstDiffStats": [{"spoonFilePath": "XMLCatalogResolverExtension.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.uriresolver.XMLCatalogResolverExtension.expandSystemId(java.lang.String)", "TOT": 2, "UPD": 0, "INS": 0, "MOV": 1, "DEL": 1}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.uriresolver.XMLCatalogResolverExtension.isXMLCatalogFileValid(java.lang.String)", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "4789034ae0d958226450a15dc25b4e31b5fae984", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": ["68c1bb67e87a46fee861c0ba53eb327df204835c"], "nameRev": "4789034ae0d958226450a15dc25b4e31b5fae984 tags/0.3.0~122", "commitMessage": "Use root Uri again for catalog and add catalog log for file path (see\n#206)", "commitDateTime": "2018-11-09 05:46:06", "authoredDateTime": "2018-11-09 05:46:06", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/uriresolver/XMLCatalogResolverExtension.java", "insertions": 24, "deletions": 14, "lines": 38}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/extensions/contentmodel/DTDDiagnosticsTest.java", "insertions": 9, "deletions": 0, "lines": 9}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/extensions/contentmodel/XMLSchemaCompletionExtensionsTest.java", "insertions": 12, "deletions": 2, "lines": 14}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/extensions/contentmodel/XMLSchemaDiagnosticsTest.java", "insertions": 7, "deletions": 0, "lines": 7}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/extensions/contentmodel/XMLSchemaHoverExtensionsTest.java", "insertions": 12, "deletions": 2, "lines": 14}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/extensions/contentmodel/XMLSchemaPublishDiagnosticsTest.java", "insertions": 2, "deletions": 7, "lines": 9}], "commitSpoonAstDiffStats": [{"spoonFilePath": "XMLCatalogResolverExtension.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.uriresolver.XMLCatalogResolverExtension.setCatalogs(java.lang.String[])", "TOT": 12, "UPD": 3, "INS": 3, "MOV": 4, "DEL": 2}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.uriresolver.XMLCatalogResolverExtension", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.uriresolver.XMLCatalogResolverExtension.expandSystemId(java.lang.String)", "TOT": 2, "UPD": 0, "INS": 1, "MOV": 1, "DEL": 0}]}, {"spoonFilePath": "DTDDiagnosticsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.DTDDiagnosticsTest.tearDown()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLSchemaCompletionExtensionsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.XMLSchemaCompletionExtensionsTest.tearDown()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLSchemaDiagnosticsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.XMLSchemaDiagnosticsTest.tearDown()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLSchemaHoverExtensionsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.XMLSchemaHoverExtensionsTest.tearDown()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLSchemaPublishDiagnosticsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.XMLSchemaPublishDiagnosticsTest.init()", "TOT": 2, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 1}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.XMLSchemaPublishDiagnosticsTest.tearDown()", "TOT": 2, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 1}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["9b7568f6778d2c49f14f2735cf775f4474da59f4", "e7fa1381a006e468ac71a5cf82d6f1405b9eb37c", "c187dc8954ccdea9991dc8222e7f0ea995eea99d", "4789034ae0d958226450a15dc25b4e31b5fae984"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 4, "gitStatsSummary": {"insertions": 135, "deletions": 77, "lines": 212, "gitFilesChange": 4}, "spoonStatsSummary": {"TOT": 43, "UPD": 7, "INS": 15, "MOV": 13, "DEL": 8, "spoonFilesChanged": 4, "spoonMethodsChanged": 12}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/uriresolver", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/utils", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/model"], "changesInPackagesSPOON": ["org.eclipse.lsp4xml.extensions.contentmodel.uriresolver.XMLCatalogResolverExtension.expandSystemId(java.lang.String)", "org.eclipse.lsp4xml.extensions.contentmodel.uriresolver.XMLCatalogResolverExtension.isXMLCatalogFileValid(java.lang.String)", "org.eclipse.lsp4xml.extensions.contentmodel.uriresolver.XMLCatalogResolverExtension", "org.eclipse.lsp4xml.extensions.contentmodel.uriresolver.XMLCatalogResolverExtension.setCatalogs(java.lang.String[])", "org.eclipse.lsp4xml.extensions.contentmodel.model.ContentModelManager.setCatalogs(java.lang.String[])", "org.eclipse.lsp4xml.extensions.contentmodel.uriresolver.XMLFileAssociationResolverExtension.setRootUri(java.lang.String)", "org.eclipse.lsp4xml.extensions.contentmodel.model.ContentModelManager.isXMLCatalogFileValid(java.lang.String)", "org.eclipse.lsp4xml.extensions.contentmodel.uriresolver.XMLFileAssociationResolverExtension.sanitizingUri(java.lang.String)", "org.eclipse.lsp4xml.extensions.contentmodel.uriresolver.XMLCatalogResolverExtension.setCatalogResolver(org.apache.xerces.util.XMLCatalogResolver)", "org.eclipse.lsp4xml.extensions.contentmodel.model.ContentModelManager.setRootURI(java.lang.String)", "org.eclipse.lsp4xml.extensions.contentmodel.uriresolver.XMLCatalogResolverExtension.setRootUri(java.lang.String)", "org.eclipse.lsp4xml.utils.URIUtils.sanitizingUri(java.lang.String)"]}, {"title": "Formatting deletes document's body when there's a DTD declaration", "body": "Formatting this:\r\n```\r\n<?xml version=\"1.0\"?>\r\n<!DOCTYPE student [\r\n  <!ELEMENT student (surname,id)>\r\n  <!ELEMENT surname (#PCDATA)>\r\n  <!ELEMENT id (#PCDATA)>\r\n]>\r\n<student>\r\n  <surname>Smith</surname>\r\n  <id>567896</id>\r\n</student>\r\n```\r\n\r\nyields\r\n```\r\n<?xml version=\"1.0\"?>\r\n<!DOCTYPE student [\r\n  >\r\n```", "url": "https://github.com/eclipse/lemminx/issues/198", "user": "fbricon", "labels": ["DTD", "bug", "formatting"], "created": "2018-11-06 13:27:28", "closed": "2018-11-07 16:04:24", "commits": {"ca150a3f4f29907c35fd518764046df7edee41bd": {"commitGHEventType": "referenced", "commitUser": "fbricon"}}, "ttf": 1.0002777777777778, "commitsDetails": [{"commitHash": "ca150a3f4f29907c35fd518764046df7edee41bd", "commitGHEventType": "referenced", "commitUser": "fbricon", "commitParents": ["4866e911704a0dd49949c588cf9dadb1af308b85"], "nameRev": "ca150a3f4f29907c35fd518764046df7edee41bd tags/v0.0.2~9", "commitMessage": "DTD losing content on format fixed\n\nFixes #198\n", "commitDateTime": "2018-11-07 11:04:23", "authoredDateTime": "2018-11-06 15:53:08", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/XMLParser.java", "insertions": 5, "deletions": 3, "lines": 8}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/parser/MultiLineStream.java", "insertions": 12, "deletions": 0, "lines": 12}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/parser/Scanner.java", "insertions": 8, "deletions": 0, "lines": 8}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/parser/ScannerState.java", "insertions": 2, "deletions": 1, "lines": 3}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/parser/XMLScanner.java", "insertions": 20, "deletions": 3, "lines": 23}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/services/XMLFormatterTest.java", "insertions": 83, "deletions": 11, "lines": 94}], "commitSpoonAstDiffStats": [{"spoonFilePath": "XMLParser.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.dom.XMLParser.parse(org.eclipse.lsp4xml.commons.TextDocument)", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 1, "DEL": 0}]}, {"spoonFilePath": "MultiLineStream.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.dom.parser.MultiLineStream", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.dom.parser.MultiLineStream.advanceUntilWhitespace()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "Scanner.java", "spoonMethods": []}, {"spoonFilePath": "ScannerState.java", "spoonMethods": []}, {"spoonFilePath": "XMLScanner.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.dom.parser.XMLScanner.internalScan()", "TOT": 13, "UPD": 3, "INS": 7, "MOV": 2, "DEL": 1}]}, {"spoonFilePath": "XMLFormatterTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.services.XMLFormatterTest.testDTDFormatting()", "TOT": 33, "UPD": 12, "INS": 1, "MOV": 7, "DEL": 13}, {"spoonMethodName": "org.eclipse.lsp4xml.services.XMLFormatterTest.testDTDFormattingExternal()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.services.XMLFormatterTest.testDTDFormattingEmptyContent()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.services.XMLFormatterTest.testDTDFormattingInternal()", "TOT": 13, "UPD": 0, "INS": 13, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["ca150a3f4f29907c35fd518764046df7edee41bd"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 47, "deletions": 7, "lines": 54, "gitFilesChange": 5}, "spoonStatsSummary": {"TOT": 16, "UPD": 3, "INS": 9, "MOV": 3, "DEL": 1, "spoonFilesChanged": 3, "spoonMethodsChanged": 4}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/parser", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom"], "changesInPackagesSPOON": ["org.eclipse.lsp4xml.dom.parser.MultiLineStream", "org.eclipse.lsp4xml.dom.parser.XMLScanner.internalScan()", "org.eclipse.lsp4xml.dom.parser.MultiLineStream.advanceUntilWhitespace()", "org.eclipse.lsp4xml.dom.XMLParser.parse(org.eclipse.lsp4xml.commons.TextDocument)"]}, {"title": "[regression] catalog support broken by cache download", "body": "Initially opened in https://github.com/redhat-developer/vscode-xml/issues/78:\r\n\r\n\r\n> Testing the good old IBM examples https://raw.githubusercontent.com/microclimate-devops/xml-language-server/master/client-vscode/xml-client/readme-resources/examples.zip, I get no errors, but that diagnostic that won't go away:\r\n<img width=\"679\" alt=\"screen shot 2018-11-05 at 11 55 37 am\" src=\"https://user-images.githubusercontent.com/148698/48013215-d0d28d80-e0f1-11e8-99ff-70172c9da825.png\">\r\n\r\n>  I set \r\n\r\n```json\r\n    \"xml.catalogs\": [\r\n        \"catalog/catalog.xml\"\r\n    ],\r\n``` \r\n\r\nto which @angelozerr replied\r\n\r\n> The problem comes from cache resolver which is executed before catalog te resolver. More there is \u00e0 bug with cache when download fails. Validation is triggered every time.", "url": "https://github.com/eclipse/lemminx/issues/195", "user": "fbricon", "labels": ["XSD", "bug", "regression"], "created": "2018-11-05 18:39:31", "closed": "2018-11-06 16:12:50", "commits": {"0796608e831b0a699f44ae3b58528828f06e8dc1": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "2a67ab48a16b1b898be258366130d24ea9d75321": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}}, "ttf": 0.0002777777777777778, "commitsDetails": [{"commitHash": "0796608e831b0a699f44ae3b58528828f06e8dc1", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": ["6e06f247c72af798af62bde1447d587a04b8f729"], "nameRev": "0796608e831b0a699f44ae3b58528828f06e8dc1 tags/v0.0.2~14", "commitMessage": "Stop revalidation when resource cannot be downloaded with cache + and\ntests (see #195)", "commitDateTime": "2018-11-06 15:34:11", "authoredDateTime": "2018-11-06 15:34:11", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/XMLTextDocumentService.java", "insertions": 6, "deletions": 27, "lines": 33}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/XMLLanguageService.java", "insertions": 57, "deletions": 2, "lines": 59}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/uriresolver/CacheResourceDownloadedException.java", "insertions": 25, "deletions": 0, "lines": 25}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/uriresolver/CacheResourcesManager.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/XMLAssert.java", "insertions": 59, "deletions": 8, "lines": 67}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/extensions/contentmodel/XMLSchemaPublishDiagnosticsTest.java", "insertions": 78, "deletions": 0, "lines": 78}], "commitSpoonAstDiffStats": [{"spoonFilePath": "XMLTextDocumentService.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.XMLTextDocumentService.triggerValidation(java.lang.String,int,org.eclipse.lsp4xml.XMLTextDocumentService$BasicCancelChecker)", "TOT": 10, "UPD": 4, "INS": 0, "MOV": 4, "DEL": 2}, {"spoonMethodName": "org.eclipse.lsp4xml.XMLTextDocumentService.triggerValidation(java.lang.String,int,org.eclipse.lsp4j.jsonrpc.CancelChecker)", "TOT": 2, "UPD": 0, "INS": 2, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLLanguageService.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.services.XMLLanguageService.publishDiagnostics(org.eclipse.lsp4xml.dom.XMLDocument,java.util.function.Consumer,java.util.function.BiConsumer,org.eclipse.lsp4j.jsonrpc.CancelChecker)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.services.XMLLanguageService.publishOneDiagnosticInRoot(org.eclipse.lsp4xml.dom.XMLDocument,java.lang.String,org.eclipse.lsp4j.DiagnosticSeverity,java.util.function.Consumer)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "CacheResourceDownloadedException.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.uriresolver.CacheResourceDownloadedException", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "CacheResourcesManager.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.uriresolver.CacheResourcesManager.downloadResource(java.lang.String,java.nio.file.Path)", "TOT": 2, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 1}]}, {"spoonFilePath": "XMLAssert.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.XMLAssert.assertDiagnostics(java.util.List,org.eclipse.lsp4j.Diagnostic[])", "TOT": 5, "UPD": 0, "INS": 1, "MOV": 4, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.XMLAssert.testPublishDiagnosticsFor(java.lang.String,java.lang.String,org.eclipse.lsp4j.PublishDiagnosticsParams[])", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.XMLAssert.publishDiagnostics(org.eclipse.lsp4xml.dom.XMLDocument,java.util.List,org.eclipse.lsp4xml.services.XMLLanguageService)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.XMLAssert.pd(java.lang.String,org.eclipse.lsp4j.Diagnostic[])", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.XMLAssert.assertDiagnostics(java.util.List,java.util.List,boolean)", "TOT": 5, "UPD": 0, "INS": 5, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLSchemaPublishDiagnosticsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.XMLSchemaPublishDiagnosticsTest", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "2a67ab48a16b1b898be258366130d24ea9d75321", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": ["0796608e831b0a699f44ae3b58528828f06e8dc1"], "nameRev": "2a67ab48a16b1b898be258366130d24ea9d75321 tags/v0.0.2~13", "commitMessage": "Execute cache resolver after catalog resolver + write test (see #195)", "commitDateTime": "2018-11-06 15:53:08", "authoredDateTime": "2018-11-06 15:53:08", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/model/ContentModelManager.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/extensions/contentmodel/XMLSchemaPublishDiagnosticsTest.java", "insertions": 104, "deletions": 14, "lines": 118}, {"filePath": "org.eclipse.lsp4xml/src/test/resources/catalogs/catalog.xml", "insertions": 5, "deletions": 4, "lines": 9}], "commitSpoonAstDiffStats": [{"spoonFilePath": "ContentModelManager.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.model.ContentModelManager", "TOT": 2, "UPD": 0, "INS": 0, "MOV": 2, "DEL": 0}]}, {"spoonFilePath": "XMLSchemaPublishDiagnosticsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.XMLSchemaPublishDiagnosticsTest", "TOT": 2, "UPD": 0, "INS": 0, "MOV": 1, "DEL": 1}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.XMLSchemaPublishDiagnosticsTest.init()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.XMLSchemaPublishDiagnosticsTest.schemaWithUrlWithCacheAndWithCatalog()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.XMLSchemaPublishDiagnosticsTest.schemaWithUrlWithoutCacheAndWithCatalog()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["0796608e831b0a699f44ae3b58528828f06e8dc1", "2a67ab48a16b1b898be258366130d24ea9d75321"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 2, "gitStatsSummary": {"insertions": 91, "deletions": 32, "lines": 123, "gitFilesChange": 5}, "spoonStatsSummary": {"TOT": 32, "UPD": 4, "INS": 15, "MOV": 10, "DEL": 3, "spoonFilesChanged": 6, "spoonMethodsChanged": 12}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/uriresolver", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/model"], "changesInPackagesSPOON": ["org.eclipse.lsp4xml.uriresolver.CacheResourceDownloadedException", "org.eclipse.lsp4xml.XMLAssert.publishDiagnostics(org.eclipse.lsp4xml.dom.XMLDocument,java.util.List,org.eclipse.lsp4xml.services.XMLLanguageService)", "org.eclipse.lsp4xml.XMLTextDocumentService.triggerValidation(java.lang.String,int,org.eclipse.lsp4xml.XMLTextDocumentService$BasicCancelChecker)", "org.eclipse.lsp4xml.services.XMLLanguageService.publishOneDiagnosticInRoot(org.eclipse.lsp4xml.dom.XMLDocument,java.lang.String,org.eclipse.lsp4j.DiagnosticSeverity,java.util.function.Consumer)", "org.eclipse.lsp4xml.services.XMLLanguageService.publishDiagnostics(org.eclipse.lsp4xml.dom.XMLDocument,java.util.function.Consumer,java.util.function.BiConsumer,org.eclipse.lsp4j.jsonrpc.CancelChecker)", "org.eclipse.lsp4xml.extensions.contentmodel.model.ContentModelManager", "org.eclipse.lsp4xml.XMLAssert.assertDiagnostics(java.util.List,java.util.List,boolean)", "org.eclipse.lsp4xml.XMLAssert.assertDiagnostics(java.util.List,org.eclipse.lsp4j.Diagnostic[])", "org.eclipse.lsp4xml.XMLAssert.pd(java.lang.String,org.eclipse.lsp4j.Diagnostic[])", "org.eclipse.lsp4xml.XMLAssert.testPublishDiagnosticsFor(java.lang.String,java.lang.String,org.eclipse.lsp4j.PublishDiagnosticsParams[])", "org.eclipse.lsp4xml.uriresolver.CacheResourcesManager.downloadResource(java.lang.String,java.nio.file.Path)", "org.eclipse.lsp4xml.XMLTextDocumentService.triggerValidation(java.lang.String,int,org.eclipse.lsp4j.jsonrpc.CancelChecker)"]}, {"title": "Completion from local xsd seems cached too agressively", "body": "Given an xml document:\r\n```xml\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<resources variant=\"foo\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:noNamespaceSchemaLocation=\"resources.xsd\">\r\n    <resource name=\"res00\" >\r\n        <property name=\"propA\" value=\"...\" />\r\n        <property name=\"propB\" value=\"...\" />\r\n    </resource>\r\n    <resource name=\"\" >\r\n        <property name=\"\" value=\"...\" />\r\n        <property name=\"\" value=\"...\" />\r\n    </resource> \r\n</resources>\r\n```\r\nand its resources.xsd:\r\n```xml\r\n<?xml version=\"1.0\"?>\r\n<xs:schema elementFormDefault=\"qualified\" xmlns:xs=\"http://www.w3.org/2001/XMLSchema\">\r\n    <xs:complexType name=\"property\">\r\n        <xs:attribute name=\"name\" type=\"xs:string\" use=\"required\"/>\r\n        <xs:attribute name=\"value\" type=\"xs:string\" />\r\n    </xs:complexType>\r\n    <xs:complexType name=\"resource\">\r\n        <xs:sequence>\r\n            <xs:element name=\"property\" type=\"property\" minOccurs=\"0\" maxOccurs=\"unbounded\" />\r\n        </xs:sequence>\r\n        <xs:attribute name=\"name\" type=\"xs:string\" use=\"required\" />\r\n    </xs:complexType>\r\n\r\n    <xs:element name=\"resources\" type=\"resources\">\r\n        \r\n    </xs:element>\r\n    <xs:complexType name=\"resources\">\r\n            <xs:sequence>\r\n                <xs:element name=\"resource\" type=\"resource\" minOccurs=\"0\" maxOccurs=\"unbounded\" />\r\n            </xs:sequence>\r\n            <xs:attribute name=\"variant\" type=\"xs:string\" use=\"required\"/>\r\n        </xs:complexType>\r\n</xs:schema>\r\n```\r\n\r\nIf you remove `variant=\"foo\"` from the xml doc, a validation error pops up, as expected. Completion within the resources node shows you can add `variant`.\r\nNow if you modify resources.xsd, rename `variant` into `something`, save the file, then make a change in the xml document, you'll see 2 errors, as expected: \r\n- cvc-complex-type.4: Attribute 'something' must appear on element 'resources'.\r\n- cvc-complex-type.3.2.2: Attribute 'variant' is not allowed to appear in element 'resources'.\r\n\r\n\r\nRemove the `variant` attribute from `<resources` and autocomplete to get the new attribute: `variant` is still shown, not `something`. Closing/reopening all documents don't change anything, the old attribute name is definitely cached in memory. Only way to get past it is to restart the server.", "url": "https://github.com/eclipse/lemminx/issues/194", "user": "fbricon", "labels": ["XSD", "bug", "completion"], "created": "2018-11-05 13:42:51", "closed": "2018-11-06 21:59:51", "commits": {"699816d18fc1233d2340c39827b9e37c5cf135ed": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "4866e911704a0dd49949c588cf9dadb1af308b85": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}}, "ttf": 1.0002777777777778, "commitsDetails": [{"commitHash": "699816d18fc1233d2340c39827b9e37c5cf135ed", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": ["2a67ab48a16b1b898be258366130d24ea9d75321"], "nameRev": "699816d18fc1233d2340c39827b9e37c5cf135ed tags/v0.0.2~12", "commitMessage": "Remove XML Schema cache for completion (see #194)", "commitDateTime": "2018-11-06 16:51:01", "authoredDateTime": "2018-11-06 16:51:01", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/model/ContentModelManager.java", "insertions": 5, "deletions": 14, "lines": 19}], "commitSpoonAstDiffStats": [{"spoonFilePath": "ContentModelManager.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.model.ContentModelManager", "TOT": 2, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 2}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.model.ContentModelManager.findCMDocument(java.lang.String,java.lang.String,java.lang.String)", "TOT": 12, "UPD": 0, "INS": 3, "MOV": 4, "DEL": 5}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "4866e911704a0dd49949c588cf9dadb1af308b85", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": ["c8441945a336b82ff31786cfa1e2b1d2a811dcb2"], "nameRev": "4866e911704a0dd49949c588cf9dadb1af308b85 tags/v0.0.2~10", "commitMessage": "Add test for cache completion (see #194)\n\nSigned-off-by: angelozerr <angelo.zerr@gmail.com>", "commitDateTime": "2018-11-06 22:47:15", "authoredDateTime": "2018-11-06 22:47:15", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/extensions/contentmodel/XMLSchemaCompletionExtensionsTest.java", "insertions": 75, "deletions": 7, "lines": 82}], "commitSpoonAstDiffStats": [{"spoonFilePath": "XMLSchemaCompletionExtensionsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.XMLSchemaCompletionExtensionsTest.completionWithXMLSchemaContentChanged()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["699816d18fc1233d2340c39827b9e37c5cf135ed", "4866e911704a0dd49949c588cf9dadb1af308b85"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 5, "deletions": 14, "lines": 19, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 14, "UPD": 0, "INS": 3, "MOV": 4, "DEL": 7, "spoonFilesChanged": 1, "spoonMethodsChanged": 2}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/model"], "changesInPackagesSPOON": ["org.eclipse.lsp4xml.extensions.contentmodel.model.ContentModelManager.findCMDocument(java.lang.String,java.lang.String,java.lang.String)", "org.eclipse.lsp4xml.extensions.contentmodel.model.ContentModelManager"]}, {"title": "\"format.splitAttributes:true\" adds excessive indentation", "body": "Having \"format.splitAttributes:true\", given:\r\n```xml\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<beans\r\n        xmlns=\"http://www.springframework.org/schema/beans\"\r\n        xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\r\n        xmlns:camel=\"http://camel.apache.org/schema/spring\"\r\n        xmlns:util=\"http://www.springframework.org/schema/util\"\r\n        xsi:schemaLocation=\"http://www.springframework.org/schema/beans \r\n          http://www.springframework.org/schema/beans/spring-beans-4.2.xsd  \r\n          http://camel.apache.org/schema/spring \r\n          http://camel.apache.org/schema/spring/camel-spring.xsd\r\n          http://www.springframework.org/schema/util \r\n          http://www.springframework.org/schema/util/spring-util-4.2.xsd\">\r\n    <camelContext xmlns=\"http://camel.apache.org/schema/spring\">\r\n        <!-- Add routes here -->\r\n        <route>\r\n            <proces|// complete here\r\n        </route>\r\n    </camelContext>\r\n</beans>\r\n```\r\nresults in weirdly formatted xml, with too many indentations:\r\n![splitattributes](https://user-images.githubusercontent.com/148698/47924424-0da04980-de92-11e8-8477-3a4d6f43a121.gif)\r\n", "url": "https://github.com/eclipse/lemminx/issues/188", "user": "fbricon", "labels": ["bug", "completion", "formatting", "to do"], "created": "2018-11-02 15:26:29", "closed": "2018-11-05 23:00:34", "commits": {"6e06f247c72af798af62bde1447d587a04b8f729": {"commitGHEventType": "referenced", "commitUser": "fbricon"}}, "ttf": 3.000277777777778, "commitsDetails": [{"commitHash": "6e06f247c72af798af62bde1447d587a04b8f729", "commitGHEventType": "referenced", "commitUser": "fbricon", "commitParents": ["2d79d8a735a1812de0b3ea2d3861140a55a841cd"], "nameRev": "6e06f247c72af798af62bde1447d587a04b8f729 tags/v0.0.2~15", "commitMessage": "Fixes indentation issue for schema based attributes\n\nFixes #188\n\nThe issue was that when adding attributes it  needed to know before hand how many attributes\nwould be added to know which add attribute method should be called.\n.isRequired() was messing this up and was moved outside to determine the total variables being added\nbefore the add attribute methods were called.\n\nSigned-off-by: Nikolas Komonen <nikolaskomonen@gmail.com>\n", "commitDateTime": "2018-11-05 18:00:33", "authoredDateTime": "2018-11-05 10:59:44", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/utils/XMLGenerator.java", "insertions": 21, "deletions": 16, "lines": 37}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/extensions/contentmodel/XMLSchemaCompletionExtensionsTest.java", "insertions": 9, "deletions": 0, "lines": 9}, {"filePath": "org.eclipse.lsp4xml/src/test/resources/xsd/simpleAttribute.xsd", "insertions": 27, "deletions": 0, "lines": 27}], "commitSpoonAstDiffStats": [{"spoonFilePath": "XMLGenerator.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.utils.XMLGenerator.generate(java.util.Collection,int,int,org.eclipse.lsp4xml.utils.XMLBuilder,java.lang.String)", "TOT": 9, "UPD": 2, "INS": 2, "MOV": 4, "DEL": 1}]}, {"spoonFilePath": "XMLSchemaCompletionExtensionsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.XMLSchemaCompletionExtensionsTest.schemaLocationWithElementAndAttributeCompletion()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["6e06f247c72af798af62bde1447d587a04b8f729"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 21, "deletions": 16, "lines": 37, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 9, "UPD": 2, "INS": 2, "MOV": 4, "DEL": 1, "spoonFilesChanged": 1, "spoonMethodsChanged": 1}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/utils"], "changesInPackagesSPOON": ["org.eclipse.lsp4xml.extensions.contentmodel.utils.XMLGenerator.generate(java.util.Collection,int,int,org.eclipse.lsp4xml.utils.XMLBuilder,java.lang.String)"]}, {"title": "xsd files can only be edited if useCache is enabled", "body": "Given:\r\n```xml\r\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<xs:schema attributeFormDefault=\"unqualified\"\r\n           elementFormDefault=\"qualified\"\r\n           xmlns:xs=\"http://www.w3.org/2001/XMLSchema\"\r\n           xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\r\n           xsi:schemaLocation=\"http://www.w3.org/2001/XMLSchema\r\n                               http://www.w3.org/2001/XMLSchema.xsd\">\r\n\r\n</xs:schema>\r\n```\r\n\r\nwhen useCache is disabled, the document fails to validate (even if stuff was cached in .lsp4xml before). I get:\r\n- error: cvc-elt.1.a: Cannot find the declaration of element 'xs:schema'.\r\n- warning: schema_reference.4: Failed to read schema document 'http://www.w3.org/2001/XMLSchema.xsd', because 1) could not find the document; 2) the document could not be read; 3) the root element of the document is not <xsd:schema>.\r\n\r\nLooks like, by default, if clients don't send the useCache:true, the preference is unmarshalled as false, overriding the server's default value, thus breaking xsd editing.", "url": "https://github.com/eclipse/lemminx/issues/186", "user": "fbricon", "labels": ["XSD", "bug", "completion", "validation"], "created": "2018-10-31 20:14:35", "closed": "2018-11-03 07:50:42", "commits": {"896776438519fcdf91a51c600cebc0f582799e2d": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}}, "ttf": 2.000277777777778, "commitsDetails": [{"commitHash": "896776438519fcdf91a51c600cebc0f582799e2d", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": ["b935ebabdbd2d878c01304af617a1f999ef08318"], "nameRev": "896776438519fcdf91a51c600cebc0f582799e2d tags/v0.0.2~30", "commitMessage": "Expand system ID in the default URI resolver (see #186)", "commitDateTime": "2018-11-02 12:03:20", "authoredDateTime": "2018-11-02 12:02:51", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/NoNamespaceSchemaLocation.java", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/SchemaLocation.java", "insertions": 5, "deletions": 5, "lines": 10}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/uriresolver/URIResolverExtensionManager.java", "insertions": 10, "deletions": 2, "lines": 12}], "commitSpoonAstDiffStats": [{"spoonFilePath": "NoNamespaceSchemaLocation.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.dom.NoNamespaceSchemaLocation", "TOT": 2, "UPD": 0, "INS": 0, "MOV": 1, "DEL": 1}]}, {"spoonFilePath": "SchemaLocation.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.dom.SchemaLocation", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}]}, {"spoonFilePath": "URIResolverExtensionManager.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.uriresolver.URIResolverExtensionManager.DefaultURIResolverExtension.resolve(java.lang.String,java.lang.String,java.lang.String)", "TOT": 2, "UPD": 0, "INS": 1, "MOV": 1, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.uriresolver.URIResolverExtensionManager.DefaultURIResolverExtension.resolveEntity(org.apache.xerces.xni.XMLResourceIdentifier)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["896776438519fcdf91a51c600cebc0f582799e2d"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 18, "deletions": 10, "lines": 28, "gitFilesChange": 3}, "spoonStatsSummary": {"TOT": 6, "UPD": 0, "INS": 2, "MOV": 2, "DEL": 2, "spoonFilesChanged": 3, "spoonMethodsChanged": 4}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/uriresolver", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom"], "changesInPackagesSPOON": ["org.eclipse.lsp4xml.dom.SchemaLocation", "org.eclipse.lsp4xml.uriresolver.URIResolverExtensionManager.DefaultURIResolverExtension.resolve(java.lang.String,java.lang.String,java.lang.String)", "org.eclipse.lsp4xml.uriresolver.URIResolverExtensionManager.DefaultURIResolverExtension.resolveEntity(org.apache.xerces.xni.XMLResourceIdentifier)", "org.eclipse.lsp4xml.dom.NoNamespaceSchemaLocation"]}, {"title": "Insert required attribute code action inserts bad placeholder", "body": "See \r\n![insert-req](https://user-images.githubusercontent.com/148698/47808347-91342c00-dd14-11e8-9b1c-d0ce356147f9.gif)\r\n\r\n\r\n```\r\n[Trace - 1:52:32 PM] Received response 'textDocument/codeAction - (69)' in 2ms.\r\nResult: [\r\n    {\r\n        \"title\": \"Insert required attributes\",\r\n        \"kind\": \"quickfix\",\r\n        \"diagnostics\": [\r\n            {\r\n                \"range\": {\r\n                    \"start\": {\r\n                        \"line\": 1,\r\n                        \"character\": 1\r\n                    },\r\n                    \"end\": {\r\n                        \"line\": 1,\r\n                        \"character\": 10\r\n                    }\r\n                },\r\n                \"severity\": 1,\r\n                \"code\": \"cvc-complex-type.4\",\r\n                \"source\": \"xml\",\r\n                \"message\": \"cvc-complex-type.4: Attribute 'variant' must appear on element 'resources'.\"\r\n            }\r\n        ],\r\n        \"edit\": {\r\n            \"documentChanges\": [\r\n                {\r\n                    \"textDocument\": {\r\n                        \"version\": 8,\r\n                        \"uri\": \"file:///Users/fbricon/Downloads/sample-resources%203/tesst/resources.xml\"\r\n                    },\r\n                    \"edits\": [\r\n                        {\r\n                            \"range\": {\r\n                                \"start\": {\r\n                                    \"line\": 1,\r\n                                    \"character\": 10\r\n                                },\r\n                                \"end\": {\r\n                                    \"line\": 1,\r\n                                    \"character\": 10\r\n                                }\r\n                            },\r\n                            \"newText\": \" variant=\\\"$1\\\"\"\r\n                        }\r\n                    ]\r\n                }\r\n            ]\r\n        }\r\n    }\r\n]\r\n```", "url": "https://github.com/eclipse/lemminx/issues/185", "user": "fbricon", "labels": ["bug", "code action"], "created": "2018-10-31 17:56:05", "closed": "2018-11-02 13:56:20", "commits": {"4b0db9ced3375160f2ac3cc29f1d9a276e9550d9": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "b935ebabdbd2d878c01304af617a1f999ef08318": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}}, "ttf": 1.0002777777777778, "commitsDetails": [{"commitHash": "4b0db9ced3375160f2ac3cc29f1d9a276e9550d9", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "b935ebabdbd2d878c01304af617a1f999ef08318", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": ["5da726f313581f354eefa637a266840f715abd21"], "nameRev": "b935ebabdbd2d878c01304af617a1f999ef08318 tags/v0.0.2~31", "commitMessage": "Disable snippet in code action (see #185)", "commitDateTime": "2018-11-02 11:49:52", "authoredDateTime": "2018-11-02 11:48:14", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/participants/codeactions/cvc_complex_type_2_1CodeAction.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/participants/codeactions/cvc_complex_type_4CodeAction.java", "insertions": 4, "deletions": 2, "lines": 6}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/extensions/contentmodel/XMLSchemaDiagnosticsTest.java", "insertions": 1, "deletions": 1, "lines": 2}], "commitSpoonAstDiffStats": [{"spoonFilePath": "cvc_complex_type_2_1CodeAction.java", "spoonMethods": []}, {"spoonFilePath": "cvc_complex_type_4CodeAction.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.participants.codeactions.cvc_complex_type_4CodeAction.doCodeAction(org.eclipse.lsp4j.Diagnostic,org.eclipse.lsp4j.Range,org.eclipse.lsp4xml.dom.XMLDocument,java.util.List,org.eclipse.lsp4xml.settings.XMLFormattingOptions)", "TOT": 3, "UPD": 0, "INS": 2, "MOV": 0, "DEL": 1}]}, {"spoonFilePath": "XMLSchemaDiagnosticsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.XMLSchemaDiagnosticsTest.cvc_complex_type_4()", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["b935ebabdbd2d878c01304af617a1f999ef08318"], "filteredCommitsReason": {"duplicated": 1, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 5.0, "deletions": 3.0, "lines": 8.0, "gitFilesChange": 2}, "spoonStatsSummary": {"TOT": 3.0, "UPD": 0.0, "INS": 2.0, "MOV": 0.0, "DEL": 1.0, "spoonFilesChanged": 1, "spoonMethodsChanged": 1}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/participants"], "changesInPackagesSPOON": ["org.eclipse.lsp4xml.extensions.contentmodel.participants.codeactions.cvc_complex_type_4CodeAction.doCodeAction(org.eclipse.lsp4j.Diagnostic,org.eclipse.lsp4j.Range,org.eclipse.lsp4xml.dom.XMLDocument,java.util.List,org.eclipse.lsp4xml.settings.XMLFormattingOptions)"]}, {"title": "[regression] XSL files have errors in xsl:stylesheet", "body": "I think it's a regression, but when I open XSL file, I have this error:\r\n\r\n![image](https://user-images.githubusercontent.com/1932211/47801663-f1d06280-dd2e-11e8-9ff9-3127000ca2b7.png)\r\n\r\nI'm working on this issue.\r\n", "url": "https://github.com/eclipse/lemminx/issues/184", "user": "angelozerr", "labels": ["bug", "validation", "xsl extension"], "created": "2018-10-31 16:04:31", "closed": "2018-10-31 16:44:07", "commits": {"139d3029dbd8246566caa664cb376faf7edf6e0a": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}}, "ttf": 0.0002777777777777778, "commitsDetails": [{"commitHash": "139d3029dbd8246566caa664cb376faf7edf6e0a", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": ["1104ee134d63480b7bf6aaf3f16a8c14e4bf07ad"], "nameRev": "139d3029dbd8246566caa664cb376faf7edf6e0a tags/v0.0.2~33", "commitMessage": "Fix bug with XSL error and and test (see #184)", "commitDateTime": "2018-10-31 17:41:02", "authoredDateTime": "2018-10-31 17:41:02", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/xsl/XSLPlugin.java", "insertions": 0, "deletions": 3, "lines": 3}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/xsl/XSLURIResolverExtension.java", "insertions": 20, "deletions": 2, "lines": 22}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/uriresolver/CacheResourcesManager.java", "insertions": 7, "deletions": 2, "lines": 9}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/XMLAssert.java", "insertions": 2, "deletions": 1, "lines": 3}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/extensions/xsl/XSLValidationExtensionsTest.java", "insertions": 47, "deletions": 0, "lines": 47}], "commitSpoonAstDiffStats": [{"spoonFilePath": "XSLPlugin.java", "spoonMethods": []}, {"spoonFilePath": "XSLURIResolverExtension.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.xsl.XSLURIResolverExtension.resolve(java.lang.String,java.lang.String,java.lang.String)", "TOT": 2, "UPD": 2, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.xsl.XSLURIResolverExtension.resolveEntity(org.apache.xerces.xni.XMLResourceIdentifier)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "CacheResourcesManager.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.uriresolver.CacheResourcesManager.getResourceCachePath(java.lang.String)", "TOT": 5, "UPD": 1, "INS": 1, "MOV": 2, "DEL": 1}, {"spoonMethodName": "org.eclipse.lsp4xml.uriresolver.CacheResourcesManager", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.uriresolver.CacheResourcesManager.getResourceCachePath(java.net.URI)", "TOT": 2, "UPD": 0, "INS": 2, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLAssert.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.XMLAssert.testDiagnosticsFor(java.lang.String,java.lang.String,org.eclipse.lsp4j.Diagnostic[])", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XSLValidationExtensionsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.xsl.XSLValidationExtensionsTest", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["139d3029dbd8246566caa664cb376faf7edf6e0a"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 27, "deletions": 7, "lines": 34, "gitFilesChange": 3}, "spoonStatsSummary": {"TOT": 12, "UPD": 3, "INS": 6, "MOV": 2, "DEL": 1, "spoonFilesChanged": 3, "spoonMethodsChanged": 6}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/xsl", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/uriresolver"], "changesInPackagesSPOON": ["org.eclipse.lsp4xml.extensions.xsl.XSLURIResolverExtension.resolveEntity(org.apache.xerces.xni.XMLResourceIdentifier)", "org.eclipse.lsp4xml.uriresolver.CacheResourcesManager", "org.eclipse.lsp4xml.XMLAssert.testDiagnosticsFor(java.lang.String,java.lang.String,org.eclipse.lsp4j.Diagnostic[])", "org.eclipse.lsp4xml.uriresolver.CacheResourcesManager.getResourceCachePath(java.lang.String)", "org.eclipse.lsp4xml.uriresolver.CacheResourcesManager.getResourceCachePath(java.net.URI)", "org.eclipse.lsp4xml.extensions.xsl.XSLURIResolverExtension.resolve(java.lang.String,java.lang.String,java.lang.String)"]}, {"title": "Hover doesn't work when xs:annotation is declared in type and not element", "body": "When you hover sevlet, servlet-name from web.xml it should display documentation, but it doesn't work.", "url": "https://github.com/eclipse/lemminx/issues/182", "user": "angelozerr", "labels": ["CM Extension", "bug", "hover"], "created": "2018-10-30 15:20:52", "closed": "2018-10-30 15:22:17", "commits": {"dc1cafcf9fafc3f2b60bcffc9701beb63cd6d31d": {"commitGHEventType": "closed", "commitUser": "angelozerr"}, "59a66853d041d333d94499f752fbd90fd84a6a7d": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "752a84b4696384f5d8cd2ecccbefe14be14e6404": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "59c850f7708855fe15dd48d60d88877ffd152205": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}}, "ttf": 0.0002777777777777778, "commitsDetails": [{"commitHash": "dc1cafcf9fafc3f2b60bcffc9701beb63cd6d31d", "commitGHEventType": "closed", "commitUser": "angelozerr", "commitParents": ["cf0e839b1ec8995dc2bd2e676118268bfc5e6c2e"], "nameRev": "dc1cafcf9fafc3f2b60bcffc9701beb63cd6d31d tags/v0.0.2~39", "commitMessage": "Search xs:annotation from type. Fix #182", "commitDateTime": "2018-10-30 16:22:15", "authoredDateTime": "2018-10-30 16:22:15", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/xsd/XSDAnnotationModel.java", "insertions": 21, "deletions": 0, "lines": 21}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/xsd/XSDAttributeDeclaration.java", "insertions": 38, "deletions": 4, "lines": 42}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/xsd/XSDElementDeclaration.java", "insertions": 35, "deletions": 4, "lines": 39}], "commitSpoonAstDiffStats": [{"spoonFilePath": "XSDAnnotationModel.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.xsd.XSDAnnotationModel.getDocumentation(org.apache.xerces.xs.XSObjectList)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XSDAttributeDeclaration.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.xsd.XSDAttributeDeclaration", "TOT": 2, "UPD": 2, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.xsd.XSDAttributeDeclaration.getDocumentation()", "TOT": 18, "UPD": 4, "INS": 1, "MOV": 12, "DEL": 1}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.xsd.XSDAttributeDeclaration.getAnnotations()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XSDElementDeclaration.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.xsd.XSDElementDeclaration", "TOT": 2, "UPD": 2, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.xsd.XSDElementDeclaration.getDocumentation()", "TOT": 17, "UPD": 5, "INS": 1, "MOV": 10, "DEL": 1}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.xsd.XSDElementDeclaration.getAnnotations()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "59a66853d041d333d94499f752fbd90fd84a6a7d", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": ["dc1cafcf9fafc3f2b60bcffc9701beb63cd6d31d"], "nameRev": "59a66853d041d333d94499f752fbd90fd84a6a7d tags/v0.0.2~38", "commitMessage": "Write test for #182", "commitDateTime": "2018-10-30 16:46:21", "authoredDateTime": "2018-10-30 16:46:21", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/extensions/contentmodel/XMLSchemaHoverExtensionsTest.java", "insertions": 19, "deletions": 1, "lines": 20}], "commitSpoonAstDiffStats": [{"spoonFilePath": "XMLSchemaHoverExtensionsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.XMLSchemaHoverExtensionsTest.testTagHoverFromXSType()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "752a84b4696384f5d8cd2ecccbefe14be14e6404", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "59c850f7708855fe15dd48d60d88877ffd152205", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": ["59a66853d041d333d94499f752fbd90fd84a6a7d"], "nameRev": "59c850f7708855fe15dd48d60d88877ffd152205 tags/v0.0.2~37", "commitMessage": "Use invoice.xsd for testing #182", "commitDateTime": "2018-10-30 17:09:38", "authoredDateTime": "2018-10-30 17:09:18", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/XMLAssert.java", "insertions": 4, "deletions": 4, "lines": 8}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/extensions/contentmodel/XMLSchemaHoverExtensionsTest.java", "insertions": 5, "deletions": 11, "lines": 16}, {"filePath": "org.eclipse.lsp4xml/src/test/resources/xsd/invoice.xsd", "insertions": 3, "deletions": 0, "lines": 3}], "commitSpoonAstDiffStats": [{"spoonFilePath": "XMLAssert.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.XMLAssert.assertHover(org.eclipse.lsp4xml.services.XMLLanguageService,java.lang.String,java.lang.String,java.lang.String,java.lang.Integer)", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.XMLAssert.assertHover(org.eclipse.lsp4xml.services.XMLLanguageService,java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.Integer)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.XMLAssert.assertHover(java.lang.String,java.lang.String,java.lang.Integer)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.XMLAssert.getHoverLabel(org.eclipse.lsp4j.Hover)", "TOT": 2, "UPD": 0, "INS": 1, "MOV": 1, "DEL": 0}]}, {"spoonFilePath": "XMLSchemaHoverExtensionsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.XMLSchemaHoverExtensionsTest.testTagHoverFromXSType()", "TOT": 11, "UPD": 4, "INS": 4, "MOV": 1, "DEL": 2}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.XMLSchemaHoverExtensionsTest.assertHover(java.lang.String,java.lang.String,java.lang.Integer)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["dc1cafcf9fafc3f2b60bcffc9701beb63cd6d31d", "59a66853d041d333d94499f752fbd90fd84a6a7d", "59c850f7708855fe15dd48d60d88877ffd152205"], "filteredCommitsReason": {"duplicated": 1, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 94.0, "deletions": 8.0, "lines": 102.0, "gitFilesChange": 3}, "spoonStatsSummary": {"TOT": 47.0, "UPD": 14.0, "INS": 8.0, "MOV": 23.0, "DEL": 2.0, "spoonFilesChanged": 4, "spoonMethodsChanged": 11}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/xsd"], "changesInPackagesSPOON": ["org.eclipse.lsp4xml.extensions.contentmodel.xsd.XSDElementDeclaration", "org.eclipse.lsp4xml.extensions.contentmodel.xsd.XSDAttributeDeclaration.getAnnotations()", "org.eclipse.lsp4xml.extensions.contentmodel.xsd.XSDAttributeDeclaration", "org.eclipse.lsp4xml.extensions.contentmodel.xsd.XSDAnnotationModel.getDocumentation(org.apache.xerces.xs.XSObjectList)", "org.eclipse.lsp4xml.XMLAssert.assertHover(org.eclipse.lsp4xml.services.XMLLanguageService,java.lang.String,java.lang.String,java.lang.String,java.lang.Integer)", "org.eclipse.lsp4xml.XMLAssert.getHoverLabel(org.eclipse.lsp4j.Hover)", "org.eclipse.lsp4xml.extensions.contentmodel.xsd.XSDAttributeDeclaration.getDocumentation()", "org.eclipse.lsp4xml.extensions.contentmodel.xsd.XSDElementDeclaration.getAnnotations()", "org.eclipse.lsp4xml.XMLAssert.assertHover(java.lang.String,java.lang.String,java.lang.Integer)", "org.eclipse.lsp4xml.XMLAssert.assertHover(org.eclipse.lsp4xml.services.XMLLanguageService,java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.Integer)", "org.eclipse.lsp4xml.extensions.contentmodel.xsd.XSDElementDeclaration.getDocumentation()"]}, {"title": "no validation or code completion on nested elements", "body": "Good day,\r\nI was referred by @angelozerr to report the issue I have using Red hat vscode xml extension.\r\n\r\nI created a custom xsd schema for a xml file. Am using Vscode with Red hat vscode-xml extension.\r\n\r\nThe schema works for only the top elements giving me all its attributes and validation from my xsd file but not on the nested elements in the xml file.\r\n\r\nI used the same xsd schema file in Jetbrain Intellij and it worked fine.\r\n\r\nHere is an example of my issue.\r\n![xml_schema_error](https://user-images.githubusercontent.com/8577824/47619779-9e69d480-dae2-11e8-8616-5608c03176fb.gif)\r\n\r\nPlease also find below are my xsd and xml file.\r\n[kll Page.zip](https://github.com/angelozerr/lsp4xml/files/2523037/kll.Page.zip)\r\n\r\nI get swirling lines on the top element every time I reload vscode. My fix for that was to remove or add attribute to page tag.\r\n\r\nPlease can you kindly resolve this issue.  Thanks", "url": "https://github.com/eclipse/lemminx/issues/177", "user": "ehigiepaul", "labels": ["bug", "completion"], "created": "2018-10-28 18:01:10", "closed": "2018-11-03 13:55:32", "commits": {"6055aef9490b6e275155fcb641b6c47701236f6c": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "49344ad7c002f8e6cf5935bebce7d4185d09d7e0": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "b65f60234f09edf3e2a6d093cb4218fc7d593ffe": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "a993eb86e1f2a4caf1ed25ce81eac836a346d7a4": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "5f1502443b706e79e114e5983995d2391952b77b": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "4eaea24d41b23dd09d76737483b3557f7bbb71e4": {"commitGHEventType": "referenced", "commitUser": "fbricon"}}, "ttf": 5.000277777777778, "commitsDetails": [{"commitHash": "6055aef9490b6e275155fcb641b6c47701236f6c", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": ["98e7766da396a6301834300eb22b6a4ef00b4e68"], "nameRev": "6055aef9490b6e275155fcb641b6c47701236f6c tags/v0.0.2~47", "commitMessage": "Support completion for xs:any (see #177)", "commitDateTime": "2018-10-29 04:57:33", "authoredDateTime": "2018-10-29 04:57:33", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/xsd/XSDDocument.java", "insertions": 0, "deletions": 1, "lines": 1}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/xsd/XSDElementDeclaration.java", "insertions": 10, "deletions": 18, "lines": 28}], "commitSpoonAstDiffStats": [{"spoonFilePath": "XSDDocument.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.xsd.XSDDocument.getElements()", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}]}, {"spoonFilePath": "XSDElementDeclaration.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.xsd.XSDElementDeclaration.getElements()", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.xsd.XSDElementDeclaration.collectElementsDeclaration(org.apache.xerces.xs.XSTerm,java.util.Collection)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "49344ad7c002f8e6cf5935bebce7d4185d09d7e0", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "b65f60234f09edf3e2a6d093cb4218fc7d593ffe", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "a993eb86e1f2a4caf1ed25ce81eac836a346d7a4", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "5f1502443b706e79e114e5983995d2391952b77b", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "4eaea24d41b23dd09d76737483b3557f7bbb71e4", "commitGHEventType": "referenced", "commitUser": "fbricon", "commitParents": ["abe7a52ced09fa9d615a988cc00676793872b9fc"], "nameRev": "4eaea24d41b23dd09d76737483b3557f7bbb71e4 tags/0.9.0~1", "commitMessage": "Fix completion duplicate with xs:any\n\nSee #177\n\nSigned-off-by: azerr <azerr@redhat.com>", "commitDateTime": "2019-08-23 13:56:34", "authoredDateTime": "2019-08-22 18:45:31", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/model/CMDocument.java", "insertions": 0, "deletions": 25, "lines": 25}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/participants/ContentModelCompletionParticipant.java", "insertions": 37, "deletions": 16, "lines": 53}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/xsd/contentmodel/CMXSDDocument.java", "insertions": 5, "deletions": 2, "lines": 7}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/extensions/contentmodel/XMLSchemaCompletionExtensionsTest.java", "insertions": 17, "deletions": 1, "lines": 18}, {"filePath": "org.eclipse.lsp4xml/src/test/resources/xsd/tns.xsd", "insertions": 1172, "deletions": 0, "lines": 1172}], "commitSpoonAstDiffStats": [{"spoonFilePath": "CMDocument.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.model.getAllElements()", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.model.fillElements(org.eclipse.lsp4xml.extensions.contentmodel.model.CMElementDeclaration,java.util.Set)", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}]}, {"spoonFilePath": "ContentModelCompletionParticipant.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.participants.ContentModelCompletionParticipant.fillWithChildrenElementDeclaration(org.eclipse.lsp4xml.dom.DOMElement,org.eclipse.lsp4xml.extensions.contentmodel.model.CMDocument,java.util.Collection,java.lang.String,boolean,org.eclipse.lsp4xml.services.extensions.ICompletionRequest,org.eclipse.lsp4xml.services.extensions.ICompletionResponse)", "TOT": 23, "UPD": 7, "INS": 4, "MOV": 11, "DEL": 1}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.participants.ContentModelCompletionParticipant.addCompletionItem(org.eclipse.lsp4xml.extensions.contentmodel.model.CMElementDeclaration,org.eclipse.lsp4xml.dom.DOMElement,java.lang.String,boolean,org.eclipse.lsp4xml.services.extensions.ICompletionRequest,org.eclipse.lsp4xml.services.extensions.ICompletionResponse,org.eclipse.lsp4xml.extensions.contentmodel.utils.XMLGenerator)", "TOT": 2, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 1}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.participants.ContentModelCompletionParticipant.fillCompletionItem(java.util.Collection,org.eclipse.lsp4xml.dom.DOMElement,java.lang.String,boolean,org.eclipse.lsp4xml.services.extensions.ICompletionRequest,org.eclipse.lsp4xml.services.extensions.ICompletionResponse,org.eclipse.lsp4xml.extensions.contentmodel.utils.XMLGenerator,java.util.Set,java.util.Set)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.participants.ContentModelCompletionParticipant.addCompletionItem(org.eclipse.lsp4xml.extensions.contentmodel.model.CMElementDeclaration,org.eclipse.lsp4xml.dom.DOMElement,java.lang.String,boolean,org.eclipse.lsp4xml.services.extensions.ICompletionRequest,org.eclipse.lsp4xml.services.extensions.ICompletionResponse,org.eclipse.lsp4xml.extensions.contentmodel.utils.XMLGenerator,java.util.Set)", "TOT": 2, "UPD": 0, "INS": 2, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "CMXSDDocument.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.xsd.contentmodel.CMXSDDocument.getOwnerSchemaGrammar(org.apache.xerces.xs.XSElementDeclaration)", "TOT": 2, "UPD": 1, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLSchemaCompletionExtensionsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.XMLSchemaCompletionExtensionsTest.xsAnyDuplicate()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["6055aef9490b6e275155fcb641b6c47701236f6c", "4eaea24d41b23dd09d76737483b3557f7bbb71e4"], "filteredCommitsReason": {"duplicated": 4, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 2, "gitStatsSummary": {"insertions": 52.0, "deletions": 62.0, "lines": 114.0, "gitFilesChange": 5}, "spoonStatsSummary": {"TOT": 35.0, "UPD": 9.0, "INS": 9.0, "MOV": 11.0, "DEL": 6.0, "spoonFilesChanged": 5, "spoonMethodsChanged": 10}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/model", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/participants", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/xsd", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/xsd/contentmodel"], "changesInPackagesSPOON": ["org.eclipse.lsp4xml.extensions.contentmodel.participants.ContentModelCompletionParticipant.fillCompletionItem(java.util.Collection,org.eclipse.lsp4xml.dom.DOMElement,java.lang.String,boolean,org.eclipse.lsp4xml.services.extensions.ICompletionRequest,org.eclipse.lsp4xml.services.extensions.ICompletionResponse,org.eclipse.lsp4xml.extensions.contentmodel.utils.XMLGenerator,java.util.Set,java.util.Set)", "org.eclipse.lsp4xml.extensions.contentmodel.xsd.XSDElementDeclaration.collectElementsDeclaration(org.apache.xerces.xs.XSTerm,java.util.Collection)", "org.eclipse.lsp4xml.extensions.contentmodel.xsd.XSDElementDeclaration.getElements()", "org.eclipse.lsp4xml.extensions.contentmodel.participants.ContentModelCompletionParticipant.fillWithChildrenElementDeclaration(org.eclipse.lsp4xml.dom.DOMElement,org.eclipse.lsp4xml.extensions.contentmodel.model.CMDocument,java.util.Collection,java.lang.String,boolean,org.eclipse.lsp4xml.services.extensions.ICompletionRequest,org.eclipse.lsp4xml.services.extensions.ICompletionResponse)", "org.eclipse.lsp4xml.extensions.contentmodel.participants.ContentModelCompletionParticipant.addCompletionItem(org.eclipse.lsp4xml.extensions.contentmodel.model.CMElementDeclaration,org.eclipse.lsp4xml.dom.DOMElement,java.lang.String,boolean,org.eclipse.lsp4xml.services.extensions.ICompletionRequest,org.eclipse.lsp4xml.services.extensions.ICompletionResponse,org.eclipse.lsp4xml.extensions.contentmodel.utils.XMLGenerator,java.util.Set)", "org.eclipse.lsp4xml.extensions.contentmodel.participants.ContentModelCompletionParticipant.addCompletionItem(org.eclipse.lsp4xml.extensions.contentmodel.model.CMElementDeclaration,org.eclipse.lsp4xml.dom.DOMElement,java.lang.String,boolean,org.eclipse.lsp4xml.services.extensions.ICompletionRequest,org.eclipse.lsp4xml.services.extensions.ICompletionResponse,org.eclipse.lsp4xml.extensions.contentmodel.utils.XMLGenerator)", "org.eclipse.lsp4xml.extensions.contentmodel.xsd.XSDDocument.getElements()", "org.eclipse.lsp4xml.extensions.contentmodel.model.getAllElements()", "org.eclipse.lsp4xml.extensions.xsd.contentmodel.CMXSDDocument.getOwnerSchemaGrammar(org.apache.xerces.xs.XSElementDeclaration)", "org.eclipse.lsp4xml.extensions.contentmodel.model.fillElements(org.eclipse.lsp4xml.extensions.contentmodel.model.CMElementDeclaration,java.util.Set)"]}, {"title": "[regression] schema file association no longer works with relative paths", "body": "With the latest vscode-xml build and with IBM's file association examples, when using:\r\n\r\n```json\r\n\"xml.fileAssociations\": [\r\n        {\r\n            \"systemId\": \"file_association/invoice.xsd\",\r\n            \"pattern\": \"**/file_association/invoice_*.xml\"\r\n        },\r\n    ],\r\n```\r\n\r\nThe validation of files under `/Users/fbricon/Downloads/sample-resources 3/` fails with:\r\n \r\n[xml] cvc-elt.1.a: Cannot find the declaration of element 'invoice'. [cvc-elt.1.a]\r\n[xml] schema_reference.4: Failed to read schema document 'file:///Users/fbricon/Downloads/file_association/invoice.xsd', because 1) could not find the document; 2) the document could not be read; 3) the root element of the document is not <xsd:schema>. [schema_reference.4]\r\n\r\nThe server is looking for the schema one folder up from the actual working directory. \r\nThis used to work properly before.\r\n", "url": "https://github.com/eclipse/lemminx/issues/174", "user": "fbricon", "labels": ["bug", "file association", "validation"], "created": "2018-10-28 14:44:54", "closed": "2018-10-31 18:31:26", "commits": {"46c9e6280345b55b567c3ce9c2a799d388ce36a6": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "1104ee134d63480b7bf6aaf3f16a8c14e4bf07ad": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}}, "ttf": 3.000277777777778, "commitsDetails": [{"commitHash": "46c9e6280345b55b567c3ce9c2a799d388ce36a6", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": ["8a5444e05f5c010f1048d31f7d43dabafd6a3ca2"], "nameRev": "46c9e6280345b55b567c3ce9c2a799d388ce36a6 tags/v0.0.2~45", "commitMessage": "Add default resolver extension (see #174)", "commitDateTime": "2018-10-29 09:28:20", "authoredDateTime": "2018-10-29 09:28:20", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/uriresolver/XMLFileAssociationResolverExtension.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/uriresolver/URIResolverExtensionManager.java", "insertions": 13, "deletions": 2, "lines": 15}], "commitSpoonAstDiffStats": [{"spoonFilePath": "XMLFileAssociationResolverExtension.java", "spoonMethods": []}, {"spoonFilePath": "URIResolverExtensionManager.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.uriresolver.URIResolverExtensionManager.resolveEntity(org.apache.xerces.xni.XMLResourceIdentifier)", "TOT": 2, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 1}, {"spoonMethodName": "org.eclipse.lsp4xml.uriresolver.URIResolverExtensionManager", "TOT": 2, "UPD": 0, "INS": 2, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.uriresolver.URIResolverExtensionManager.DefaultURIResolverExtension", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.uriresolver.URIResolverExtensionManager.resolve(java.lang.String,java.lang.String,java.lang.String)", "TOT": 2, "UPD": 0, "INS": 1, "MOV": 1, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "1104ee134d63480b7bf6aaf3f16a8c14e4bf07ad", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": ["33ecf3a6d9e9992b21882c98f057f03854a06f2d"], "nameRev": "1104ee134d63480b7bf6aaf3f16a8c14e4bf07ad tags/v0.0.2~34", "commitMessage": "Sanitize root URI with '/' for file associations (see #174)", "commitDateTime": "2018-10-31 15:57:02", "authoredDateTime": "2018-10-31 15:57:02", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/uriresolver/XMLFileAssociationResolverExtension.java", "insertions": 20, "deletions": 1, "lines": 21}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/extensions/contentmodel/XMLFileAssociationsCompletionTest.java", "insertions": 4, "deletions": 4, "lines": 8}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/extensions/contentmodel/XMLFileAssociationsCompletionWithRootURITest.java", "insertions": 79, "deletions": 0, "lines": 79}], "commitSpoonAstDiffStats": [{"spoonFilePath": "XMLFileAssociationResolverExtension.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.uriresolver.XMLFileAssociationResolverExtension.setRootUri(java.lang.String)", "TOT": 2, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 1}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.uriresolver.XMLFileAssociationResolverExtension.sanitizingUri(java.lang.String)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLFileAssociationsCompletionTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.XMLFileAssociationsCompletionTest.initializeFileAssociations()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLFileAssociationsCompletionWithRootURITest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.XMLFileAssociationsCompletionWithRootURITest", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["46c9e6280345b55b567c3ce9c2a799d388ce36a6", "1104ee134d63480b7bf6aaf3f16a8c14e4bf07ad"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 2, "gitStatsSummary": {"insertions": 34, "deletions": 4, "lines": 38, "gitFilesChange": 2}, "spoonStatsSummary": {"TOT": 10, "UPD": 0, "INS": 7, "MOV": 1, "DEL": 2, "spoonFilesChanged": 2, "spoonMethodsChanged": 6}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/uriresolver", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/uriresolver"], "changesInPackagesSPOON": ["org.eclipse.lsp4xml.uriresolver.URIResolverExtensionManager.DefaultURIResolverExtension", "org.eclipse.lsp4xml.uriresolver.URIResolverExtensionManager.resolveEntity(org.apache.xerces.xni.XMLResourceIdentifier)", "org.eclipse.lsp4xml.extensions.contentmodel.uriresolver.XMLFileAssociationResolverExtension.sanitizingUri(java.lang.String)", "org.eclipse.lsp4xml.uriresolver.URIResolverExtensionManager", "org.eclipse.lsp4xml.extensions.contentmodel.uriresolver.XMLFileAssociationResolverExtension.setRootUri(java.lang.String)", "org.eclipse.lsp4xml.uriresolver.URIResolverExtensionManager.resolve(java.lang.String,java.lang.String,java.lang.String)"]}, {"title": "Incomplete autocompletion for xsl documents", "body": "Given \r\n```xml\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<xsl:stylesheet version=\"2.0\" xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\">\r\n<xsl:|\r\n</xsl:stylesheet>\r\n```\r\nThere's no autocompletion result for `xsl:template`, even though some other items are proposed:\r\n\r\n<img width=\"684\" alt=\"screen shot 2018-10-17 at 4 09 20 pm\" src=\"https://user-images.githubusercontent.com/148698/47113479-29b3b200-d227-11e8-9443-5df67381745b.png\">\r\n", "url": "https://github.com/eclipse/lemminx/issues/165", "user": "fbricon", "labels": ["bug", "completion"], "created": "2018-10-17 20:13:10", "closed": "2018-10-19 10:35:28", "commits": {"728f6e0018908205761d9f09d784a048cd86032c": {"commitGHEventType": "closed", "commitUser": "angelozerr"}}, "ttf": 1.0002777777777778, "commitsDetails": [{"commitHash": "728f6e0018908205761d9f09d784a048cd86032c", "commitGHEventType": "closed", "commitUser": "angelozerr", "commitParents": ["9dd46aba5f9ade8c331294703fe7b6160a30ae83"], "nameRev": "728f6e0018908205761d9f09d784a048cd86032c tags/v0.0.2~69", "commitMessage": "Support XML Schema substitutionGroup for completion to fix #165", "commitDateTime": "2018-10-19 12:35:28", "authoredDateTime": "2018-10-19 12:35:28", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/xsd/XSDDocument.java", "insertions": 37, "deletions": 7, "lines": 44}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/xsd/XSDElementDeclaration.java", "insertions": 2, "deletions": 5, "lines": 7}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/extensions/xsl/XSLCompletionExtensionsTest.java", "insertions": 3, "deletions": 2, "lines": 5}], "commitSpoonAstDiffStats": [{"spoonFilePath": "XSDDocument.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.xsd.XSDDocument.getElements()", "TOT": 20, "UPD": 0, "INS": 1, "MOV": 16, "DEL": 3}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.xsd.XSDDocument.collectElement(org.apache.xerces.xs.XSElementDeclaration,java.util.Collection)", "TOT": 6, "UPD": 0, "INS": 6, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XSDElementDeclaration.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.xsd.XSDElementDeclaration.collectElementsDeclaration(org.apache.xerces.xs.XSTerm,java.util.Collection)", "TOT": 8, "UPD": 2, "INS": 1, "MOV": 3, "DEL": 2}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.xsd.XSDElementDeclaration.getElements()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XSLCompletionExtensionsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.xsl.XSLCompletionExtensionsTest.completion()", "TOT": 4, "UPD": 3, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["728f6e0018908205761d9f09d784a048cd86032c"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 39, "deletions": 12, "lines": 51, "gitFilesChange": 2}, "spoonStatsSummary": {"TOT": 35, "UPD": 2, "INS": 9, "MOV": 19, "DEL": 5, "spoonFilesChanged": 2, "spoonMethodsChanged": 4}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/xsd"], "changesInPackagesSPOON": ["org.eclipse.lsp4xml.extensions.contentmodel.xsd.XSDDocument.collectElement(org.apache.xerces.xs.XSElementDeclaration,java.util.Collection)", "org.eclipse.lsp4xml.extensions.contentmodel.xsd.XSDDocument.getElements()", "org.eclipse.lsp4xml.extensions.contentmodel.xsd.XSDElementDeclaration.collectElementsDeclaration(org.apache.xerces.xs.XSTerm,java.util.Collection)", "org.eclipse.lsp4xml.extensions.contentmodel.xsd.XSDElementDeclaration.getElements()"]}, {"title": "'textDocument/publishDiagnostics' failed with message: Illegal argument: line must be non-negative", "body": "When debugging in vscode, when pasting `<?xml version=\"1.0\" encoding=\"UTF-8\"?>` into a new empty document, the host vscode instance displays an error:\r\n\r\n> Notification handler 'textDocument/publishDiagnostics' failed with message: Illegal argument: line must be non-negative\r\n\r\nThe server sent :\r\n```json\r\nParams: {\r\n    \"uri\": \"file:///Users/fbricon/Dev/xml/foo.xml\",\r\n    \"diagnostics\": [\r\n        {\r\n            \"range\": {\r\n                \"start\": {\r\n                    \"line\": -2,\r\n                    \"character\": -2\r\n                },\r\n                \"end\": {\r\n                    \"line\": -2,\r\n                    \"character\": -2\r\n                }\r\n            },\r\n            \"severity\": 1,\r\n            \"code\": \"PrematureEOF\",\r\n            \"source\": \"xml\",\r\n            \"message\": \"Premature end of file.\"\r\n        }\r\n    ]\r\n}\r\n\r\n``` ", "url": "https://github.com/eclipse/lemminx/issues/157", "user": "fbricon", "labels": ["bug", "to do", "validation"], "created": "2018-10-09 12:54:25", "closed": "2019-03-19 16:37:01", "commits": {"6194bdb0b3b36481e83b683328ba7529771fe468": {"commitGHEventType": "referenced", "commitUser": "fbricon"}}, "ttf": 161.00027777777777, "commitsDetails": [{"commitHash": "6194bdb0b3b36481e83b683328ba7529771fe468", "commitGHEventType": "referenced", "commitUser": "fbricon", "commitParents": ["28b1b89bcbd14e08a29560f18b95bd5ff55a0548"], "nameRev": "6194bdb0b3b36481e83b683328ba7529771fe468 tags/0.5.0~9", "commitMessage": "Fixed EOF Error\n\nFixes #157\n\nThe most common ocurrences of this error are\nwhen the document is empty or there is just the\nxml prolog (<?xml ... ?>). Errors that give negative values\nwill be ignored for now.\n\nSigned-off-by: Nikolas <nikolaskomonen@gmail.com>\n", "commitDateTime": "2019-03-19 12:37:00", "authoredDateTime": "2019-03-18 14:49:52", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/participants/XMLSyntaxErrorCode.java", "insertions": 2, "deletions": 1, "lines": 3}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/extensions/diagnostics/AbstractLSPErrorReporter.java", "insertions": 10, "deletions": 1, "lines": 11}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/XMLAssert.java", "insertions": 6, "deletions": 1, "lines": 7}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/extensions/contentmodel/XMLSchemaDiagnosticsTest.java", "insertions": 12, "deletions": 0, "lines": 12}], "commitSpoonAstDiffStats": [{"spoonFilePath": "XMLSyntaxErrorCode.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.participants.XMLSyntaxErrorCode", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.participants.XMLSyntaxErrorCode.toLSPRange(org.apache.xerces.xni.XMLLocator,org.eclipse.lsp4xml.extensions.contentmodel.participants.XMLSyntaxErrorCode,java.lang.Object[],org.eclipse.lsp4xml.dom.DOMDocument)", "TOT": 3, "UPD": 0, "INS": 2, "MOV": 1, "DEL": 0}]}, {"spoonFilePath": "AbstractLSPErrorReporter.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.services.extensions.diagnostics.AbstractLSPErrorReporter.reportError(org.apache.xerces.xni.XMLLocator,java.lang.String,java.lang.String,java.lang.Object[],short,java.lang.Exception)", "TOT": 4, "UPD": 0, "INS": 3, "MOV": 1, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.services.extensions.diagnostics.AbstractLSPErrorReporter.internalToLSPRange(org.apache.xerces.xni.XMLLocator,java.lang.String,java.lang.Object[],org.eclipse.lsp4xml.dom.DOMDocument)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLAssert.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.XMLAssert.testDiagnosticsFor(java.lang.String,java.lang.String,java.util.function.Consumer,java.lang.String,boolean,org.eclipse.lsp4xml.extensions.contentmodel.settings.ContentModelSettings,org.eclipse.lsp4j.Diagnostic[])", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLSchemaDiagnosticsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.XMLSchemaDiagnosticsTest.prematureEOFNoErrorReported()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.XMLSchemaDiagnosticsTest.prematureEOFWithPrologNoErrorReported()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["6194bdb0b3b36481e83b683328ba7529771fe468"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 12, "deletions": 2, "lines": 14, "gitFilesChange": 2}, "spoonStatsSummary": {"TOT": 10, "UPD": 0, "INS": 8, "MOV": 2, "DEL": 0, "spoonFilesChanged": 3, "spoonMethodsChanged": 5}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/participants", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/extensions/diagnostics"], "changesInPackagesSPOON": ["org.eclipse.lsp4xml.services.extensions.diagnostics.AbstractLSPErrorReporter.internalToLSPRange(org.apache.xerces.xni.XMLLocator,java.lang.String,java.lang.Object[],org.eclipse.lsp4xml.dom.DOMDocument)", "org.eclipse.lsp4xml.extensions.contentmodel.participants.XMLSyntaxErrorCode", "org.eclipse.lsp4xml.extensions.contentmodel.participants.XMLSyntaxErrorCode.toLSPRange(org.apache.xerces.xni.XMLLocator,org.eclipse.lsp4xml.extensions.contentmodel.participants.XMLSyntaxErrorCode,java.lang.Object[],org.eclipse.lsp4xml.dom.DOMDocument)", "org.eclipse.lsp4xml.services.extensions.diagnostics.AbstractLSPErrorReporter.reportError(org.apache.xerces.xni.XMLLocator,java.lang.String,java.lang.String,java.lang.Object[],short,java.lang.Exception)", "org.eclipse.lsp4xml.XMLAssert.testDiagnosticsFor(java.lang.String,java.lang.String,java.util.function.Consumer,java.lang.String,boolean,org.eclipse.lsp4xml.extensions.contentmodel.settings.ContentModelSettings,org.eclipse.lsp4j.Diagnostic[])"]}, {"title": "Formatting node content inserts new line without proper indentation", "body": "When \"format.joinContentLines\":false, formatting a node with text in it puts the text in the next line, with no indentation:\r\n\r\n![bad-format](https://user-images.githubusercontent.com/148698/46210338-7417d200-c2fe-11e8-8eba-086ab8a0c319.gif)\r\n\r\nBoth Eclipse and IntelliJ keep the text at the same place. If a new line was to be inserted (which I'm really not sure about), at least some proper indentation should be used.", "url": "https://github.com/eclipse/lemminx/issues/152", "user": "fbricon", "labels": ["bug", "formatting", "in progress"], "created": "2018-09-28 13:15:02", "closed": "2018-10-09 16:53:18", "commits": {}, "ttf": 11.000277777777777, "commitsDetails": []}, {"title": "Validation of non-empty nodes required to be empty shows misplaced diagnostics", "body": "```xml\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<beans xmlns=\"http://www.springframework.org/schema/beans\"\r\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\r\n        xmlns:camel=\"http://camel.apache.org/schema/spring\"\r\n    xmlns:util=\"http://www.springframework.org/schema/util\"\r\n    xsi:schemaLocation=\"http://www.springframework.org/schema/beans \r\n          http://www.springframework.org/schema/beans/spring-beans-4.2.xsd  \r\n          http://camel.apache.org/schema/spring \r\n          http://camel.apache.org/schema/spring/camel-spring.xsd\r\n          http://www.springframework.org/schema/util \r\n          http://www.springframework.org/schema/util/spring-util-4.2.xsd\">\r\n \r\n    <camelContext xmlns=\"http://camel.apache.org/schema/spring\">\r\n            <!-- Add routes here -->\r\n            <consumerTemplate camelContextId=\"1\" maximumCacheSize=\"1\">\r\n            </consumerTemplate>\r\n    </camelContext>\r\n \r\n</beans>\r\n```\r\nhas the closing bracket of ` </consumerTemplate>` underlined with \r\n> cvc-complex-type.2.1: Element 'consumerTemplate' must have no character or element information item [children], because the type's content type is empty.\r\n\r\n<img width=\"588\" alt=\"screen shot 2018-09-26 at 11 47 40 am\" src=\"https://user-images.githubusercontent.com/148698/46092063-08105f00-c182-11e8-913a-1fb3a77586e8.png\">\r\n", "url": "https://github.com/eclipse/lemminx/issues/147", "user": "fbricon", "labels": ["bug", "validation"], "created": "2018-09-26 15:47:09", "closed": "2018-09-26 18:52:21", "commits": {"d4bbe52966d7b74815f50ba8ad5002f53975b984": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}}, "ttf": 0.0002777777777777778, "commitsDetails": [{"commitHash": "d4bbe52966d7b74815f50ba8ad5002f53975b984", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": ["7f20069f3f74f4b2b533b74765b97b6279fbe1a5"], "nameRev": "d4bbe52966d7b74815f50ba8ad5002f53975b984 tags/v0.0.2~88", "commitMessage": "Adjust range for cvc-complex-type.2.1 and provide code action to close\nelement (see #147)", "commitDateTime": "2018-09-26 18:22:44", "authoredDateTime": "2018-09-26 18:22:44", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/contentmodel/participants/XMLSchemaErrorCode.java", "insertions": 4, "deletions": 0, "lines": 4}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/contentmodel/participants/codeactions/cvc_complex_type_2_1CodeAction.java", "insertions": 54, "deletions": 0, "lines": 54}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/contentmodel/XMLSchemaDiagnosticsTest.java", "insertions": 30, "deletions": 0, "lines": 30}, {"filePath": "org.eclipse.lsp4xml/src/test/resources/validation/schema/cvc-complex-type.2.1.xml", "insertions": 7, "deletions": 0, "lines": 7}], "commitSpoonAstDiffStats": [{"spoonFilePath": "XMLSchemaErrorCode.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.contentmodel.participants.XMLSchemaErrorCode", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.contentmodel.participants.XMLSchemaErrorCode.registerCodeActionParticipants(java.util.Map)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.contentmodel.participants.XMLSchemaErrorCode.toLSPRange(org.apache.xerces.xni.XMLLocator,org.eclipse.lsp4xml.contentmodel.participants.XMLSchemaErrorCode,java.lang.Object[],org.eclipse.lsp4xml.dom.XMLDocument)", "TOT": 3, "UPD": 0, "INS": 2, "MOV": 1, "DEL": 0}]}, {"spoonFilePath": "cvc_complex_type_2_1CodeAction.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.contentmodel.participants.codeactions.cvc_complex_type_2_1CodeAction", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLSchemaDiagnosticsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.contentmodel.XMLSchemaDiagnosticsTest.cvc_complex_type_2_1()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.contentmodel.XMLSchemaDiagnosticsTest.cvc_complex_type_2_1WithLinefeed()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["d4bbe52966d7b74815f50ba8ad5002f53975b984"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 58, "deletions": 0, "lines": 58, "gitFilesChange": 2}, "spoonStatsSummary": {"TOT": 6, "UPD": 0, "INS": 5, "MOV": 1, "DEL": 0, "spoonFilesChanged": 2, "spoonMethodsChanged": 4}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/contentmodel/participants/codeactions", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/contentmodel/participants"], "changesInPackagesSPOON": ["org.eclipse.lsp4xml.contentmodel.participants.codeactions.cvc_complex_type_2_1CodeAction", "org.eclipse.lsp4xml.contentmodel.participants.XMLSchemaErrorCode", "org.eclipse.lsp4xml.contentmodel.participants.XMLSchemaErrorCode.registerCodeActionParticipants(java.util.Map)", "org.eclipse.lsp4xml.contentmodel.participants.XMLSchemaErrorCode.toLSPRange(org.apache.xerces.xni.XMLLocator,org.eclipse.lsp4xml.contentmodel.participants.XMLSchemaErrorCode,java.lang.Object[],org.eclipse.lsp4xml.dom.XMLDocument)"]}, {"title": "Validation of empty required node shows misplaced diagnostics", "body": "With the same old invoice document, when adding empty tags that are required, the diagnostics are put under the closing bracket. Also the 1st empty tag is underline:\r\n![sep-25-2018 18-09-12](https://user-images.githubusercontent.com/148698/46046335-a94dd580-c0ee-11e8-8b5a-bf7123780a09.gif)\r\n", "url": "https://github.com/eclipse/lemminx/issues/145", "user": "fbricon", "labels": ["bug", "validation"], "created": "2018-09-25 22:13:30", "closed": "2018-09-26 15:32:39", "commits": {"90bd091b4ec0e285b8b28653976f6364513c795e": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}}, "ttf": 0.0002777777777777778, "commitsDetails": [{"commitHash": "90bd091b4ec0e285b8b28653976f6364513c795e", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": ["e5c67b286da3b31a47140bc4669fdcdfcd3d5a81"], "nameRev": "90bd091b4ec0e285b8b28653976f6364513c795e tags/v0.0.2~97", "commitMessage": "Select start tag when none text to select (see #145)", "commitDateTime": "2018-09-26 02:36:00", "authoredDateTime": "2018-09-26 02:36:00", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/utils/XMLPositionUtility.java", "insertions": 24, "deletions": 14, "lines": 38}], "commitSpoonAstDiffStats": [{"spoonFilePath": "XMLPositionUtility.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.utils.XMLPositionUtility.selectText(int,org.eclipse.lsp4xml.dom.XMLDocument)", "TOT": 5, "UPD": 0, "INS": 1, "MOV": 3, "DEL": 1}, {"spoonMethodName": "org.eclipse.lsp4xml.utils.XMLPositionUtility.selectStartTag(org.eclipse.lsp4xml.dom.Node,org.eclipse.lsp4xml.dom.XMLDocument)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.utils.XMLPositionUtility.selectStartTag(int,org.eclipse.lsp4xml.dom.XMLDocument)", "TOT": 7, "UPD": 0, "INS": 2, "MOV": 5, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["90bd091b4ec0e285b8b28653976f6364513c795e"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 24, "deletions": 14, "lines": 38, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 13, "UPD": 0, "INS": 4, "MOV": 8, "DEL": 1, "spoonFilesChanged": 1, "spoonMethodsChanged": 3}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/utils"], "changesInPackagesSPOON": ["org.eclipse.lsp4xml.utils.XMLPositionUtility.selectStartTag(int,org.eclipse.lsp4xml.dom.XMLDocument)", "org.eclipse.lsp4xml.utils.XMLPositionUtility.selectText(int,org.eclipse.lsp4xml.dom.XMLDocument)", "org.eclipse.lsp4xml.utils.XMLPositionUtility.selectStartTag(org.eclipse.lsp4xml.dom.Node,org.eclipse.lsp4xml.dom.XMLDocument)"]}, {"title": "No validation when referencing a schema  in the same directory", "body": "Trying the example in https://stackoverflow.com/a/8780114/753170\r\n\r\nresources.xsd:\r\n```xml\r\n<?xml version=\"1.0\"?>\r\n<xs:schema xmlns:xs=\"http://www.w3.org/2001/XMLSchema\">\r\n\r\n    <xs:complexType name=\"property\">\r\n        <xs:attribute name=\"name\" type=\"xs:string\" />\r\n        <xs:attribute name=\"value\" type=\"xs:string\" />\r\n    </xs:complexType>\r\n\r\n    <xs:complexType name=\"resource\">\r\n        <xs:sequence>\r\n            <xs:element name=\"property\" type=\"property\" minOccurs=\"0\" maxOccurs=\"unbounded\" />\r\n        </xs:sequence>\r\n        <xs:attribute name=\"name\" type=\"xs:string\" use=\"required\" />\r\n    </xs:complexType>\r\n\r\n    <xs:element name=\"resources\">\r\n        <xs:complexType>\r\n            <xs:sequence>\r\n                <xs:element name=\"resource\" type=\"resource\" minOccurs=\"0\" maxOccurs=\"unbounded\" />\r\n            </xs:sequence>\r\n            <xs:attribute name=\"variant\" type=\"xs:string\" use=\"required\"/>\r\n        </xs:complexType>\r\n    </xs:element>\r\n</xs:schema>\r\n```\r\nand resources.xml:\r\n\r\n```xml\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<resources xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\r\n        xsi:noNamespaceSchemaLocation=\"resources.xsd\"\r\n        variant=\"X\">\r\n    <resource name=\"res00\" >\r\n        <property name=\"propA\" value=\"...\" />\r\n        <property name=\"propB\" value=\"...\" />\r\n    </resource>\r\n    <resource name=\"res01\" >\r\n        <property name=\"propA\" value=\"...\" />\r\n        <property name=\"propB\" value=\"...\" />\r\n    </resource>\r\n</resources>\r\n```\r\n\r\nresources.xml has an error on the opening resources tag:\r\n> cvc-elt.1.a: Cannot find the declaration of element 'resources'.\r\n", "url": "https://github.com/eclipse/lemminx/issues/144", "user": "fbricon", "labels": ["bug", "validation"], "created": "2018-09-25 22:02:18", "closed": "2018-10-31 15:46:02", "commits": {"f261c31e8106d8bdf94f99303e5a327c7af3030a": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "33ecf3a6d9e9992b21882c98f057f03854a06f2d": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}}, "ttf": 35.000277777777775, "commitsDetails": [{"commitHash": "f261c31e8106d8bdf94f99303e5a327c7af3030a", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": ["46c9e6280345b55b567c3ce9c2a799d388ce36a6"], "nameRev": "f261c31e8106d8bdf94f99303e5a327c7af3030a tags/v0.0.2~44", "commitMessage": "Don't cache XML Schema (see #144)", "commitDateTime": "2018-10-29 13:09:59", "authoredDateTime": "2018-10-29 13:09:59", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/participants/diagnostics/XMLValidator.java", "insertions": 12, "deletions": 6, "lines": 18}], "commitSpoonAstDiffStats": [{"spoonFilePath": "XMLValidator.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.participants.diagnostics.XMLValidator.doDiagnostics(org.eclipse.lsp4xml.dom.XMLDocument,org.apache.xerces.xni.parser.XMLEntityResolver,org.eclipse.lsp4xml.uriresolver.IExternalSchemaLocationProvider,java.util.List,org.eclipse.lsp4j.jsonrpc.CancelChecker)", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "33ecf3a6d9e9992b21882c98f057f03854a06f2d", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": ["d237c01524e9df7400b0739037c7f0dfdd1cedc1"], "nameRev": "33ecf3a6d9e9992b21882c98f057f03854a06f2d tags/v0.0.2~35", "commitMessage": "Simplify URI resolver (see #144)", "commitDateTime": "2018-10-30 19:08:33", "authoredDateTime": "2018-10-30 19:08:33", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/uriresolver/URIResolverExtension.java", "insertions": 3, "deletions": 16, "lines": 19}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/uriresolver/URIResolverExtensionManager.java", "insertions": 19, "deletions": 0, "lines": 19}], "commitSpoonAstDiffStats": [{"spoonFilePath": "URIResolverExtension.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.uriresolver.resolveEntity(org.apache.xerces.xni.XMLResourceIdentifier)", "TOT": 9, "UPD": 1, "INS": 1, "MOV": 0, "DEL": 7}]}, {"spoonFilePath": "URIResolverExtensionManager.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.uriresolver.URIResolverExtensionManager.DefaultURIResolverExtension.resolveEntity(org.apache.xerces.xni.XMLResourceIdentifier)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["f261c31e8106d8bdf94f99303e5a327c7af3030a", "33ecf3a6d9e9992b21882c98f057f03854a06f2d"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 2, "gitStatsSummary": {"insertions": 34, "deletions": 22, "lines": 56, "gitFilesChange": 3}, "spoonStatsSummary": {"TOT": 11, "UPD": 2, "INS": 2, "MOV": 0, "DEL": 7, "spoonFilesChanged": 3, "spoonMethodsChanged": 3}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/uriresolver", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/participants"], "changesInPackagesSPOON": ["org.eclipse.lsp4xml.uriresolver.resolveEntity(org.apache.xerces.xni.XMLResourceIdentifier)", "org.eclipse.lsp4xml.extensions.contentmodel.participants.diagnostics.XMLValidator.doDiagnostics(org.eclipse.lsp4xml.dom.XMLDocument,org.apache.xerces.xni.parser.XMLEntityResolver,org.eclipse.lsp4xml.uriresolver.IExternalSchemaLocationProvider,java.util.List,org.eclipse.lsp4j.jsonrpc.CancelChecker)", "org.eclipse.lsp4xml.uriresolver.URIResolverExtensionManager.DefaultURIResolverExtension.resolveEntity(org.apache.xerces.xni.XMLResourceIdentifier)"]}, {"title": "File association should support relative path for systemId", "body": "right now, trying to validate the [examples](https://github.com/microclimate-devops/xml-language-server/blob/master/sample-resources/file_association/invoice_with_errors.xml) from IBM's XML language server by associating files like:\r\n```json\r\n\"xml.fileAssociations\": [{\r\n    \"systemId\": \"file_association/invoice.xsd\",\r\n    \"pattern\": \"**/file_association/invoice_*.xml\"\r\n},\r\n```\r\nhas no effect. I tried using an absolute path for systemId but didn't work either (tried on a Mac)\r\n", "url": "https://github.com/eclipse/lemminx/issues/142", "user": "fbricon", "labels": ["bug", "file association", "validation"], "created": "2018-09-24 20:59:55", "closed": "2018-09-26 19:29:21", "commits": {"66ade4e3e309e9d88444ae1cfe5b617017a33761": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}}, "ttf": 1.0002777777777778, "commitsDetails": [{"commitHash": "66ade4e3e309e9d88444ae1cfe5b617017a33761", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": ["41f17a8204042059ef4345dc12ebd894bf2d959e"], "nameRev": "66ade4e3e309e9d88444ae1cfe5b617017a33761 tags/v0.0.1~2", "commitMessage": "Expand system if of XML file association with rootUri (see #142)", "commitDateTime": "2018-09-25 16:13:04", "authoredDateTime": "2018-09-25 16:13:04", "commitGitStats": [{"filePath": "extensions/org.eclipse.lsp4xml.emmet/src/main/java/org/eclipse/lsp4xml/emmet/EmmetPlugin.java", "insertions": 2, "deletions": 1, "lines": 3}, {"filePath": "extensions/org.eclipse.lsp4xml.xsl/src/main/java/org/eclipse/lsp4xml/xsl/XSLPlugin.java", "insertions": 2, "deletions": 1, "lines": 3}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/XMLLanguageServer.java", "insertions": 3, "deletions": 0, "lines": 3}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/contentmodel/ContentModelPlugin.java", "insertions": 3, "deletions": 1, "lines": 4}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/contentmodel/model/ContentModelManager.java", "insertions": 5, "deletions": 16, "lines": 21}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/contentmodel/uriresolver/XMLFileAssociationResolverExtension.java", "insertions": 28, "deletions": 1, "lines": 29}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/extensions/IXMLExtension.java", "insertions": 4, "deletions": 1, "lines": 5}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/extensions/XMLExtensionsRegistry.java", "insertions": 13, "deletions": 1, "lines": 14}], "commitSpoonAstDiffStats": [{"spoonFilePath": "EmmetPlugin.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.emmet.EmmetPlugin.start(org.eclipse.lsp4j.InitializeParams,org.eclipse.lsp4xml.services.extensions.XMLExtensionsRegistry)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XSLPlugin.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.xsl.XSLPlugin.start(org.eclipse.lsp4j.InitializeParams,org.eclipse.lsp4xml.services.extensions.XMLExtensionsRegistry)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLLanguageServer.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.XMLLanguageServer.initialize(org.eclipse.lsp4j.InitializeParams)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "ContentModelPlugin.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.contentmodel.ContentModelPlugin.start(org.eclipse.lsp4j.InitializeParams,org.eclipse.lsp4xml.services.extensions.XMLExtensionsRegistry)", "TOT": 2, "UPD": 0, "INS": 2, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "ContentModelManager.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.contentmodel.model.ContentModelManager.getCacheKey(java.lang.String,java.lang.String,java.lang.String)", "TOT": 5, "UPD": 4, "INS": 0, "MOV": 1, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.contentmodel.model.ContentModelManager", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLFileAssociationResolverExtension.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.contentmodel.uriresolver.XMLFileAssociationResolverExtension", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.contentmodel.uriresolver.XMLFileAssociationResolverExtension.setRootUri(java.lang.String)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.contentmodel.uriresolver.XMLFileAssociationResolverExtension.expandSystemId()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.contentmodel.uriresolver.XMLFileAssociationResolverExtension.setFileAssociations(org.eclipse.lsp4xml.contentmodel.settings.XMLFileAssociation[])", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "IXMLExtension.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.services.extensions.start(org.eclipse.lsp4j.InitializeParams,org.eclipse.lsp4xml.services.extensions.XMLExtensionsRegistry)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLExtensionsRegistry.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.services.extensions.XMLExtensionsRegistry", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.services.extensions.XMLExtensionsRegistry.initializeParams(org.eclipse.lsp4j.InitializeParams)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.services.extensions.XMLExtensionsRegistry.registerExtension(org.eclipse.lsp4xml.services.extensions.IXMLExtension)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["66ade4e3e309e9d88444ae1cfe5b617017a33761"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 60, "deletions": 22, "lines": 82, "gitFilesChange": 8}, "spoonStatsSummary": {"TOT": 19, "UPD": 4, "INS": 14, "MOV": 1, "DEL": 0, "spoonFilesChanged": 8, "spoonMethodsChanged": 14}, "statsSkippedReason": "", "changesInPackagesGIT": ["extensions/org.eclipse.lsp4xml.emmet/src/main/java/org/eclipse/lsp4xml/emmet", "extensions/org.eclipse.lsp4xml.xsl/src/main/java/org/eclipse/lsp4xml/xsl", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/contentmodel", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/extensions", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/contentmodel/uriresolver", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/contentmodel/model", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml"], "changesInPackagesSPOON": ["org.eclipse.lsp4xml.contentmodel.uriresolver.XMLFileAssociationResolverExtension.expandSystemId()", "org.eclipse.lsp4xml.contentmodel.uriresolver.XMLFileAssociationResolverExtension", "org.eclipse.lsp4xml.contentmodel.model.ContentModelManager.getCacheKey(java.lang.String,java.lang.String,java.lang.String)", "org.eclipse.lsp4xml.contentmodel.ContentModelPlugin.start(org.eclipse.lsp4j.InitializeParams,org.eclipse.lsp4xml.services.extensions.XMLExtensionsRegistry)", "org.eclipse.lsp4xml.services.extensions.XMLExtensionsRegistry.initializeParams(org.eclipse.lsp4j.InitializeParams)", "org.eclipse.lsp4xml.emmet.EmmetPlugin.start(org.eclipse.lsp4j.InitializeParams,org.eclipse.lsp4xml.services.extensions.XMLExtensionsRegistry)", "org.eclipse.lsp4xml.xsl.XSLPlugin.start(org.eclipse.lsp4j.InitializeParams,org.eclipse.lsp4xml.services.extensions.XMLExtensionsRegistry)", "org.eclipse.lsp4xml.services.extensions.XMLExtensionsRegistry", "org.eclipse.lsp4xml.XMLLanguageServer.initialize(org.eclipse.lsp4j.InitializeParams)", "org.eclipse.lsp4xml.services.extensions.start(org.eclipse.lsp4j.InitializeParams,org.eclipse.lsp4xml.services.extensions.XMLExtensionsRegistry)", "org.eclipse.lsp4xml.contentmodel.uriresolver.XMLFileAssociationResolverExtension.setFileAssociations(org.eclipse.lsp4xml.contentmodel.settings.XMLFileAssociation[])", "org.eclipse.lsp4xml.services.extensions.XMLExtensionsRegistry.registerExtension(org.eclipse.lsp4xml.services.extensions.IXMLExtension)", "org.eclipse.lsp4xml.contentmodel.uriresolver.XMLFileAssociationResolverExtension.setRootUri(java.lang.String)", "org.eclipse.lsp4xml.contentmodel.model.ContentModelManager"]}, {"title": "multiple NPEs while editing a file, after changing the formatting preference", "body": "In vscode, I opened a document, to check formatting was disabled with \"xml.format.enabled\": false, then I switched to open the settings to switch to \"xml.format.enabled\": true. Once I returned to the document, the server started spitting NPEs left and right.\r\n```\r\nParams: {\r\n    \"textDocument\": {\r\n        \"uri\": \"file:///Users/fbricon/Downloads/sample-resources%203/multiple_namespaces/service.xsd\"\r\n    }\r\n}\r\n\r\n\r\n[Trace - 9:49:00 AM] Received response 'textDocument/documentLink - (68)' in 1ms.\r\nResult: []\r\n\r\n\r\n[Trace - 9:49:03 AM] Sending notification 'textDocument/didChange'.\r\nParams: {\r\n    \"textDocument\": {\r\n        \"uri\": \"file:///Users/fbricon/Downloads/sample-resources%203/multiple_namespaces/service.xsd\",\r\n        \"version\": 11\r\n    },\r\n    \"contentChanges\": [\r\n        {\r\n            \"text\": \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?>\\n<schema targetNamespace=\\\"http://service\\\" elementFormDefault=\\\"qualified\\\" xmlns=\\\"http://www.w3.org/2001/XMLSchema\\\" xmlns:tns=\\\"http://service\\\">\\n    <complexType name=\\\"service\\\">\\n        <attribute name=\\\"name\\\" type=\\\"string\\\" use=\\\"required\\\"></attribute>\\n                  <attribute name=\\\"description\\\" type=\\\"string\\\" use=\\\"required\\\"></attribute>\\n    </complexType>\\n    <element name=\\\"service\\\" type=\\\"tns:service\\\"></element>\\n</schema>       \"\r\n        }\r\n    ]\r\n}\r\n\r\n\r\n[Trace - 9:49:03 AM] Sending request 'textDocument/foldingRange - (69)'.\r\nParams: {\r\n    \"textDocument\": {\r\n        \"uri\": \"file:///Users/fbricon/Downloads/sample-resources%203/multiple_namespaces/service.xsd\"\r\n    }\r\n}\r\n\r\n\r\n[Trace - 9:49:03 AM] Received response 'textDocument/foldingRange - (69)' in 3ms. Request failed: Internal error. (-32603).\r\nError data: \"java.util.concurrent.CompletionException: java.lang.NullPointerException\\n\\tat java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:273)\\n\\tat java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:280)\\n\\tat java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:604)\\n\\tat java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:577)\\n\\tat java.util.concurrent.CompletableFuture$Completion.exec(CompletableFuture.java:443)\\n\\tat java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)\\n\\tat java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)\\n\\tat java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)\\n\\tat java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)\\nCaused by: java.lang.NullPointerException\\n\\tat org.eclipse.lsp4xml.services.XMLFoldings.getFoldingRanges(XMLFoldings.java:62)\\n\\tat org.eclipse.lsp4xml.services.XMLLanguageService.getFoldingRanges(XMLLanguageService.java:94)\\n\\tat org.eclipse.lsp4xml.XMLTextDocumentService.lambda$foldingRange$9(XMLTextDocumentService.java:242)\\n\\tat java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:602)\\n\\t... 6 more\\n\"\r\n\r\n\r\n[Error - 9:49:03 AM] Request textDocument/foldingRange failed.\r\n  Message: Internal error.\r\n  Code: -32603 \r\njava.util.concurrent.CompletionException: java.lang.NullPointerException\r\n\tat java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:273)\r\n\tat java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:280)\r\n\tat java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:604)\r\n\tat java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:577)\r\n\tat java.util.concurrent.CompletableFuture$Completion.exec(CompletableFuture.java:443)\r\n\tat java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)\r\n\tat java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)\r\n\tat java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)\r\n\tat java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)\r\nCaused by: java.lang.NullPointerException\r\n\tat org.eclipse.lsp4xml.services.XMLFoldings.getFoldingRanges(XMLFoldings.java:62)\r\n\tat org.eclipse.lsp4xml.services.XMLLanguageService.getFoldingRanges(XMLLanguageService.java:94)\r\n\tat org.eclipse.lsp4xml.XMLTextDocumentService.lambda$foldingRange$9(XMLTextDocumentService.java:242)\r\n\tat java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:602)\r\n\t... 6 more\r\n\r\n[Trace - 9:49:03 AM] Sending request 'textDocument/documentSymbol - (70)'.\r\nParams: {\r\n    \"textDocument\": {\r\n        \"uri\": \"file:///Users/fbricon/Downloads/sample-resources%203/multiple_namespaces/service.xsd\"\r\n    }\r\n}\r\n\r\n\r\n[Trace - 9:49:03 AM] Received response 'textDocument/documentSymbol - (70)' in 2ms. Request failed: Internal error. (-32603).\r\nError data: \"java.util.concurrent.CompletionException: java.lang.NullPointerException\\n\\tat java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:273)\\n\\tat java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:280)\\n\\tat java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:604)\\n\\tat java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:577)\\n\\tat java.util.concurrent.CompletableFuture$Completion.exec(CompletableFuture.java:443)\\n\\tat java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)\\n\\tat java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)\\n\\tat java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)\\n\\tat java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)\\nCaused by: java.lang.NullPointerException\\n\\tat org.eclipse.lsp4xml.commons.LanguageModelCache.get(LanguageModelCache.java:56)\\n\\tat org.eclipse.lsp4xml.XMLTextDocumentService.getXMLDocument(XMLTextDocumentService.java:131)\\n\\tat org.eclipse.lsp4xml.XMLTextDocumentService.lambda$documentSymbol$5(XMLTextDocumentService.java:175)\\n\\tat java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:602)\\n\\t... 6 more\\n\"\r\n\r\n\r\n[Error - 9:49:03 AM] Request textDocument/documentSymbol failed.\r\n  Message: Internal error.\r\n  Code: -32603 \r\njava.util.concurrent.CompletionException: java.lang.NullPointerException\r\n\tat java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:273)\r\n\tat java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:280)\r\n\tat java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:604)\r\n\tat java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:577)\r\n\tat java.util.concurrent.CompletableFuture$Completion.exec(CompletableFuture.java:443)\r\n\tat java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)\r\n\tat java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)\r\n\tat java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)\r\n\tat java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)\r\nCaused by: java.lang.NullPointerException\r\n\tat org.eclipse.lsp4xml.commons.LanguageModelCache.get(LanguageModelCache.java:56)\r\n\tat org.eclipse.lsp4xml.XMLTextDocumentService.getXMLDocument(XMLTextDocumentService.java:131)\r\n\tat org.eclipse.lsp4xml.XMLTextDocumentService.lambda$documentSymbol$5(XMLTextDocumentService.java:175)\r\n\tat java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:602)\r\n\t... 6 more\r\n\r\n[Trace - 9:49:04 AM] Sending request 'textDocument/documentLink - (71)'.\r\nParams: {\r\n    \"textDocument\": {\r\n        \"uri\": \"file:///Users/fbricon/Downloads/sample-resources%203/multiple_namespaces/service.xsd\"\r\n    }\r\n}\r\n\r\n\r\n[Trace - 9:49:04 AM] Received response 'textDocument/documentLink - (71)' in 1ms.\r\nResult: []\r\n\r\n\r\n[Trace - 9:49:32 AM] Sending request 'textDocument/codeAction - (72)'.\r\nParams: {\r\n    \"textDocument\": {\r\n        \"uri\": \"file:///Users/fbricon/Downloads/sample-resources%203/multiple_namespaces/service.xsd\"\r\n    },\r\n    \"range\": {\r\n        \"start\": {\r\n            \"line\": 1,\r\n            \"character\": 7\r\n        },\r\n        \"end\": {\r\n            \"line\": 7,\r\n            \"character\": 16\r\n        }\r\n    },\r\n    \"context\": {\r\n        \"diagnostics\": []\r\n    }\r\n}\r\n\r\n\r\n[Trace - 9:49:32 AM] Received response 'textDocument/codeAction - (72)' in 3ms. Request failed: Internal error. (-32603).\r\nError data: \"java.util.concurrent.CompletionException: java.lang.NullPointerException\\n\\tat java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:273)\\n\\tat java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:280)\\n\\tat java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:604)\\n\\tat java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:577)\\n\\tat java.util.concurrent.CompletableFuture$Completion.exec(CompletableFuture.java:443)\\n\\tat java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)\\n\\tat java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)\\n\\tat java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)\\n\\tat java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)\\nCaused by: java.lang.NullPointerException\\n\\tat org.eclipse.lsp4xml.commons.LanguageModelCache.get(LanguageModelCache.java:56)\\n\\tat org.eclipse.lsp4xml.XMLTextDocumentService.getXMLDocument(XMLTextDocumentService.java:131)\\n\\tat org.eclipse.lsp4xml.XMLTextDocumentService.lambda$codeAction$12(XMLTextDocumentService.java:259)\\n\\tat java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:602)\\n\\t... 6 more\\n\"\r\n\r\n\r\n[Error - 9:49:32 AM] Request textDocument/codeAction failed.\r\n  Message: Internal error.\r\n  Code: -32603 \r\njava.util.concurrent.CompletionException: java.lang.NullPointerException\r\n\tat java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:273)\r\n\tat java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:280)\r\n\tat java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:604)\r\n\tat java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:577)\r\n\tat java.util.concurrent.CompletableFuture$Completion.exec(CompletableFuture.java:443)\r\n\tat java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)\r\n\tat java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)\r\n\tat java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)\r\n\tat java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)\r\nCaused by: java.lang.NullPointerException\r\n\tat org.eclipse.lsp4xml.commons.LanguageModelCache.get(LanguageModelCache.java:56)\r\n\tat org.eclipse.lsp4xml.XMLTextDocumentService.getXMLDocument(XMLTextDocumentService.java:131)\r\n\tat org.eclipse.lsp4xml.XMLTextDocumentService.lambda$codeAction$12(XMLTextDocumentService.java:259)\r\n\tat java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:602)\r\n\t... 6 more\r\n\r\n[Trace - 9:49:32 AM] Sending request 'textDocument/codeAction - (73)'.\r\nParams: {\r\n    \"textDocument\": {\r\n        \"uri\": \"file:///Users/fbricon/Downloads/sample-resources%203/multiple_namespaces/service.xsd\"\r\n    },\r\n    \"range\": {\r\n        \"start\": {\r\n            \"line\": 0,\r\n            \"character\": 0\r\n        },\r\n        \"end\": {\r\n            \"line\": 7,\r\n            \"character\": 16\r\n        }\r\n    },\r\n    \"context\": {\r\n        \"diagnostics\": []\r\n    }\r\n}\r\n\r\n\r\n[Trace - 9:49:32 AM] Received response 'textDocument/codeAction - (73)' in 3ms. Request failed: Internal error. (-32603).\r\nError data: \"java.util.concurrent.CompletionException: java.lang.NullPointerException\\n\\tat java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:273)\\n\\tat java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:280)\\n\\tat java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:604)\\n\\tat java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:577)\\n\\tat java.util.concurrent.CompletableFuture$Completion.exec(CompletableFuture.java:443)\\n\\tat java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)\\n\\tat java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)\\n\\tat java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)\\n\\tat java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)\\nCaused by: java.lang.NullPointerException\\n\\tat org.eclipse.lsp4xml.commons.LanguageModelCache.get(LanguageModelCache.java:56)\\n\\tat org.eclipse.lsp4xml.XMLTextDocumentService.getXMLDocument(XMLTextDocumentService.java:131)\\n\\tat org.eclipse.lsp4xml.XMLTextDocumentService.lambda$codeAction$12(XMLTextDocumentService.java:259)\\n\\tat java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:602)\\n\\t... 6 more\\n\"\r\n\r\n\r\n[Error - 9:49:32 AM] Request textDocument/codeAction failed.\r\n  Message: Internal error.\r\n  Code: -32603 \r\njava.util.concurrent.CompletionException: java.lang.NullPointerException\r\n\tat java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:273)\r\n\tat java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:280)\r\n\tat java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:604)\r\n\tat java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:577)\r\n\tat java.util.concurrent.CompletableFuture$Completion.exec(CompletableFuture.java:443)\r\n\tat java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)\r\n\tat java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)\r\n\tat java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)\r\n\tat java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)\r\nCaused by: java.lang.NullPointerException\r\n\tat org.eclipse.lsp4xml.commons.LanguageModelCache.get(LanguageModelCache.java:56)\r\n\tat org.eclipse.lsp4xml.XMLTextDocumentService.getXMLDocument(XMLTextDocumentService.java:131)\r\n\tat org.eclipse.lsp4xml.XMLTextDocumentService.lambda$codeAction$12(XMLTextDocumentService.java:259)\r\n\tat java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:602)\r\n\t... 6 more\r\n```\r\n\r\nContent of document:\r\n```xml\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<schema targetNamespace=\"http://service\" elementFormDefault=\"qualified\" xmlns=\"http://www.w3.org/2001/XMLSchema\" xmlns:tns=\"http://service\">\r\n    <complexType name=\"service\">\r\n        <attribute name=\"name\" type=\"string\" use=\"required\"></attribute>\r\n                  <attribute name=\"description\" type=\"string\" use=\"required\"></attribute>\r\n    </complexType>\r\n    <element name=\"service\" type=\"tns:service\"></element>\r\n</schema>       \r\n```\r\n", "url": "https://github.com/eclipse/lemminx/issues/138", "user": "fbricon", "labels": ["bug"], "created": "2018-09-22 13:58:23", "closed": "2018-09-24 12:19:45", "commits": {"13a8d14d5fef08a43bb24654cdd2b73b3a4974a9": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}}, "ttf": 1.0002777777777778, "commitsDetails": [{"commitHash": "13a8d14d5fef08a43bb24654cdd2b73b3a4974a9", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": ["92f8906ac08cb3b61739a539b3fab07e26e0acd6"], "nameRev": "13a8d14d5fef08a43bb24654cdd2b73b3a4974a9 tags/v0.0.1~13", "commitMessage": "Don' clean documents map when incremental is setted (see #138)", "commitDateTime": "2018-09-23 12:48:19", "authoredDateTime": "2018-09-23 12:48:19", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/commons/TextDocument.java", "insertions": 17, "deletions": 13, "lines": 30}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/commons/TextDocuments.java", "insertions": 4, "deletions": 2, "lines": 6}], "commitSpoonAstDiffStats": [{"spoonFilePath": "TextDocument.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.commons.TextDocument", "TOT": 13, "UPD": 0, "INS": 1, "MOV": 7, "DEL": 5}, {"spoonMethodName": "org.eclipse.lsp4xml.commons.TextDocument.update(java.util.List)", "TOT": 2, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 1}, {"spoonMethodName": "org.eclipse.lsp4xml.commons.TextDocument.setIncremental(boolean)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.commons.TextDocument.isIncremental()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "TextDocuments.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.commons.TextDocuments.setIncremental(boolean)", "TOT": 3, "UPD": 1, "INS": 1, "MOV": 1, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.commons.TextDocuments.createDocument(org.eclipse.lsp4j.TextDocumentItem)", "TOT": 6, "UPD": 0, "INS": 3, "MOV": 2, "DEL": 1}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["13a8d14d5fef08a43bb24654cdd2b73b3a4974a9"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 21, "deletions": 15, "lines": 36, "gitFilesChange": 2}, "spoonStatsSummary": {"TOT": 26, "UPD": 1, "INS": 8, "MOV": 10, "DEL": 7, "spoonFilesChanged": 2, "spoonMethodsChanged": 6}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/commons"], "changesInPackagesSPOON": ["org.eclipse.lsp4xml.commons.TextDocument", "org.eclipse.lsp4xml.commons.TextDocument.isIncremental()", "org.eclipse.lsp4xml.commons.TextDocument.setIncremental(boolean)", "org.eclipse.lsp4xml.commons.TextDocument.update(java.util.List)", "org.eclipse.lsp4xml.commons.TextDocuments.createDocument(org.eclipse.lsp4j.TextDocumentItem)", "org.eclipse.lsp4xml.commons.TextDocuments.setIncremental(boolean)"]}, {"title": "Wrong diagnostic range for malformed attribute", "body": "Given \r\n```xml\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<foo>\r\n  <bar  one= two=\"\" />\r\n</foo>\r\n```\r\nthe error range for `Open quote is expected for attribute \"one\" associated with an  element type  \"bar\".`  is underlying `two`, instead of `one`", "url": "https://github.com/eclipse/lemminx/issues/135", "user": "fbricon", "labels": ["bug", "in progress", "validation"], "created": "2018-09-21 15:05:04", "closed": "2018-09-22 13:32:07", "commits": {"92f8906ac08cb3b61739a539b3fab07e26e0acd6": {"commitGHEventType": "referenced", "commitUser": "fbricon"}}, "ttf": 0.0002777777777777778, "commitsDetails": [{"commitHash": "92f8906ac08cb3b61739a539b3fab07e26e0acd6", "commitGHEventType": "referenced", "commitUser": "fbricon", "commitParents": ["36dbbbd62f16758be95eefdd8f27f8c2ecec4b92"], "nameRev": "92f8906ac08cb3b61739a539b3fab07e26e0acd6 tags/v0.0.1~14", "commitMessage": "Fixes wrong diagnostic range for missing attribute quotations Fixes #135\n\nSigned-off-by: Nikolas <nikolaskomonen@gmail.com>\n", "commitDateTime": "2018-09-22 09:32:05", "authoredDateTime": "2018-09-21 15:44:09", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/contentmodel/participants/XMLSyntaxErrorCode.java", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/contentmodel/XMLSyntaxDiagnosticsTest.java", "insertions": 11, "deletions": 1, "lines": 12}], "commitSpoonAstDiffStats": [{"spoonFilePath": "XMLSyntaxErrorCode.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.contentmodel.participants.XMLSyntaxErrorCode.toLSPRange(org.apache.xerces.xni.XMLLocator,org.eclipse.lsp4xml.contentmodel.participants.XMLSyntaxErrorCode,java.lang.Object[],org.eclipse.lsp4xml.dom.XMLDocument)", "TOT": 4, "UPD": 0, "INS": 3, "MOV": 0, "DEL": 1}]}, {"spoonFilePath": "XMLSyntaxDiagnosticsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.contentmodel.XMLSyntaxDiagnosticsTest.testOpenQuoteExpected()", "TOT": 2, "UPD": 2, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.contentmodel.XMLSyntaxDiagnosticsTest.testMissingQuotesForAttribute()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["92f8906ac08cb3b61739a539b3fab07e26e0acd6"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 3, "deletions": 3, "lines": 6, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 4, "UPD": 0, "INS": 3, "MOV": 0, "DEL": 1, "spoonFilesChanged": 1, "spoonMethodsChanged": 1}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/contentmodel/participants"], "changesInPackagesSPOON": ["org.eclipse.lsp4xml.contentmodel.participants.XMLSyntaxErrorCode.toLSPRange(org.apache.xerces.xni.XMLLocator,org.eclipse.lsp4xml.contentmodel.participants.XMLSyntaxErrorCode,java.lang.Object[],org.eclipse.lsp4xml.dom.XMLDocument)"]}, {"title": "Only end tag is ignored by XML parser", "body": "The following XML content:\r\n\r\n```xml\r\n</a>\r\n```\r\nor \r\n\r\n```xml\r\n<root>\r\n  </a>\r\n</root>\r\n```\r\nignores the end tag element `</a>` by the XML parser which causes many problem with \r\n\r\n * higlight (root is not higlighted)\r\n * rename (root cannot be rename)\r\n * document symbols doesn't return the element a\r\n * format remove the element a.\r\n\r\nTo fix thoses issues, the XML parser should take care of this end tag only case.", "url": "https://github.com/eclipse/lemminx/issues/132", "user": "angelozerr", "labels": ["bug"], "created": "2018-09-20 09:18:59", "closed": "2018-09-20 09:19:58", "commits": {"6bbce504c8a8eeb2be1b58ae4c263813d79896bd": {"commitGHEventType": "closed", "commitUser": "angelozerr"}}, "ttf": 0.0002777777777777778, "commitsDetails": [{"commitHash": "6bbce504c8a8eeb2be1b58ae4c263813d79896bd", "commitGHEventType": "closed", "commitUser": "angelozerr", "commitParents": ["bd83b0baf6b8bdeeec06bcb2ba202dffc24a6d3c"], "nameRev": "6bbce504c8a8eeb2be1b58ae4c263813d79896bd tags/v0.0.1~24", "commitMessage": "Fix #132", "commitDateTime": "2018-09-20 11:19:52", "authoredDateTime": "2018-09-20 11:19:52", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/Element.java", "insertions": 47, "deletions": 15, "lines": 62}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/ProcessingInstruction.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/XMLParser.java", "insertions": 17, "deletions": 6, "lines": 23}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/XMLCompletions.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/XMLFormatter.java", "insertions": 48, "deletions": 43, "lines": 91}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/XMLHighlighting.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/XMLHover.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/utils/XMLPositionUtility.java", "insertions": 3, "deletions": 2, "lines": 5}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/dom/XMLParserTest.java", "insertions": 46, "deletions": 9, "lines": 55}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/services/XMLFormatterTest.java", "insertions": 7, "deletions": 0, "lines": 7}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/services/XMLHighlightingTest.java", "insertions": 7, "deletions": 0, "lines": 7}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/services/XMLRenameTest.java", "insertions": 5, "deletions": 0, "lines": 5}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/services/XMLSymbolsTest.java", "insertions": 18, "deletions": 0, "lines": 18}], "commitSpoonAstDiffStats": [{"spoonFilePath": "Element.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.dom.Element", "TOT": 6, "UPD": 3, "INS": 3, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.dom.Element.isStartTagClose()", "TOT": 3, "UPD": 1, "INS": 0, "MOV": 1, "DEL": 1}, {"spoonMethodName": "org.eclipse.lsp4xml.dom.Element.getEndTagStart()", "TOT": 3, "UPD": 2, "INS": 0, "MOV": 1, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.dom.Element.isInStartTag(int)", "TOT": 14, "UPD": 2, "INS": 3, "MOV": 5, "DEL": 4}, {"spoonMethodName": "org.eclipse.lsp4xml.dom.Element.hasEndTag()", "TOT": 3, "UPD": 1, "INS": 1, "MOV": 1, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.dom.Element.getStartTagOpenOffset()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.dom.Element.getStartTagCloseOffset()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.dom.Element.hasStartTag()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.dom.Element.hasStartTagClose()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "ProcessingInstruction.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.dom.ProcessingInstruction", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.dom.ProcessingInstruction.getEndTagStart()", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLParser.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.dom.XMLParser.parse(org.eclipse.lsp4xml.commons.TextDocument)", "TOT": 13, "UPD": 8, "INS": 4, "MOV": 0, "DEL": 1}]}, {"spoonFilePath": "XMLCompletions.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.services.XMLCompletions.doTagComplete(org.eclipse.lsp4xml.dom.XMLDocument,org.eclipse.lsp4j.Position)", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.services.XMLCompletions.collectCloseTagSuggestions(int,boolean,int,org.eclipse.lsp4xml.services.CompletionRequest,org.eclipse.lsp4xml.services.CompletionResponse)", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLFormatter.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.services.XMLFormatter.format(org.eclipse.lsp4xml.dom.Node,int,int,org.eclipse.lsp4xml.utils.XMLBuilder)", "TOT": 9, "UPD": 2, "INS": 1, "MOV": 6, "DEL": 0}]}, {"spoonFilePath": "XMLHighlighting.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.services.XMLHighlighting.findDocumentHighlights(org.eclipse.lsp4xml.dom.XMLDocument,org.eclipse.lsp4j.Position)", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLHover.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.services.XMLHover.doHover(org.eclipse.lsp4xml.dom.XMLDocument,org.eclipse.lsp4j.Position)", "TOT": 2, "UPD": 2, "INS": 0, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLPositionUtility.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.utils.XMLPositionUtility.selectEndTag(int,org.eclipse.lsp4xml.dom.XMLDocument)", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.utils.XMLPositionUtility.findChildNode(java.lang.String,java.util.List)", "TOT": 3, "UPD": 0, "INS": 1, "MOV": 2, "DEL": 0}]}, {"spoonFilePath": "XMLParserTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.dom.XMLParserTest.singleEndTag()", "TOT": 6, "UPD": 1, "INS": 5, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.dom.XMLParserTest.testClosedWithIncompleteEndTag()", "TOT": 3, "UPD": 1, "INS": 2, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.dom.XMLParserTest.setRestOfNode(org.eclipse.lsp4xml.dom.Node,java.lang.String,java.lang.Integer,boolean)", "TOT": 2, "UPD": 2, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.dom.XMLParserTest.compareTrees(org.eclipse.lsp4xml.dom.Node,org.eclipse.lsp4xml.dom.Node)", "TOT": 2, "UPD": 2, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.dom.XMLParserTest.assertFailedDocument(java.lang.String)", "TOT": 2, "UPD": 0, "INS": 0, "MOV": 1, "DEL": 1}, {"spoonMethodName": "org.eclipse.lsp4xml.dom.XMLParserTest.insideEndTag()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.dom.XMLParserTest.elementOffsets()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLFormatterTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.services.XMLFormatterTest.singleEndTag()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLHighlightingTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.services.XMLHighlightingTest.insideEndTag()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLRenameTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.services.XMLRenameTest.insideEndTag()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLSymbolsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.services.XMLSymbolsTest.singleEndTag()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.services.XMLSymbolsTest.insideEndTag()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["6bbce504c8a8eeb2be1b58ae4c263813d79896bd"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 122, "deletions": 73, "lines": 195, "gitFilesChange": 8}, "spoonStatsSummary": {"TOT": 66, "UPD": 27, "INS": 17, "MOV": 16, "DEL": 6, "spoonFilesChanged": 8, "spoonMethodsChanged": 19}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/utils", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom"], "changesInPackagesSPOON": ["org.eclipse.lsp4xml.dom.Element.isInStartTag(int)", "org.eclipse.lsp4xml.services.XMLCompletions.collectCloseTagSuggestions(int,boolean,int,org.eclipse.lsp4xml.services.CompletionRequest,org.eclipse.lsp4xml.services.CompletionResponse)", "org.eclipse.lsp4xml.dom.Element.isStartTagClose()", "org.eclipse.lsp4xml.dom.Element.getStartTagCloseOffset()", "org.eclipse.lsp4xml.dom.Element.hasStartTag()", "org.eclipse.lsp4xml.services.XMLFormatter.format(org.eclipse.lsp4xml.dom.Node,int,int,org.eclipse.lsp4xml.utils.XMLBuilder)", "org.eclipse.lsp4xml.utils.XMLPositionUtility.findChildNode(java.lang.String,java.util.List)", "org.eclipse.lsp4xml.dom.Element", "org.eclipse.lsp4xml.services.XMLHover.doHover(org.eclipse.lsp4xml.dom.XMLDocument,org.eclipse.lsp4j.Position)", "org.eclipse.lsp4xml.dom.Element.getEndTagStart()", "org.eclipse.lsp4xml.utils.XMLPositionUtility.selectEndTag(int,org.eclipse.lsp4xml.dom.XMLDocument)", "org.eclipse.lsp4xml.services.XMLCompletions.doTagComplete(org.eclipse.lsp4xml.dom.XMLDocument,org.eclipse.lsp4j.Position)", "org.eclipse.lsp4xml.dom.Element.getStartTagOpenOffset()", "org.eclipse.lsp4xml.services.XMLHighlighting.findDocumentHighlights(org.eclipse.lsp4xml.dom.XMLDocument,org.eclipse.lsp4j.Position)", "org.eclipse.lsp4xml.dom.Element.hasStartTagClose()", "org.eclipse.lsp4xml.dom.ProcessingInstruction", "org.eclipse.lsp4xml.dom.XMLParser.parse(org.eclipse.lsp4xml.commons.TextDocument)", "org.eclipse.lsp4xml.dom.ProcessingInstruction.getEndTagStart()", "org.eclipse.lsp4xml.dom.Element.hasEndTag()"]}, {"title": "Language server cannot find schema after a while", "body": "After I leave a file open in the background for a while, then come back to it, I often see that the root element is not recognised anymore. Restarting solves it, so it cannot be a problem with the schema.\r\n\r\n![2018-09-14 18 34 12](https://user-images.githubusercontent.com/10532611/45563212-f9a27900-b84c-11e8-85a9-d02322603f9e.gif)\r\n", "url": "https://github.com/eclipse/lemminx/issues/126", "user": "felixfbecker", "labels": ["bug", "file association", "validation"], "created": "2018-09-14 16:35:52", "closed": "2018-09-25 08:11:09", "commits": {"6b6cb82d3fd2b311c4bcec10f72fd7894710d682": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}}, "ttf": 10.000277777777777, "commitsDetails": [{"commitHash": "6b6cb82d3fd2b311c4bcec10f72fd7894710d682", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": ["a7b35e3fbe6ff1129ebd29c2641f4298c87bdf8d"], "nameRev": "6b6cb82d3fd2b311c4bcec10f72fd7894710d682 tags/v0.0.1~5", "commitMessage": "Use file URI as CM document key for XML file association (see #126)", "commitDateTime": "2018-09-24 18:19:02", "authoredDateTime": "2018-09-24 18:19:02", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/contentmodel/model/ContentModelManager.java", "insertions": 17, "deletions": 1, "lines": 18}], "commitSpoonAstDiffStats": [{"spoonFilePath": "ContentModelManager.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.contentmodel.model.ContentModelManager.getCacheKey(java.lang.String,java.lang.String,java.lang.String)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.contentmodel.model.ContentModelManager.findCMDocument(java.lang.String,java.lang.String,java.lang.String)", "TOT": 2, "UPD": 0, "INS": 1, "MOV": 1, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["6b6cb82d3fd2b311c4bcec10f72fd7894710d682"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 17, "deletions": 1, "lines": 18, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 3, "UPD": 0, "INS": 2, "MOV": 1, "DEL": 0, "spoonFilesChanged": 1, "spoonMethodsChanged": 2}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/contentmodel/model"], "changesInPackagesSPOON": ["org.eclipse.lsp4xml.contentmodel.model.ContentModelManager.findCMDocument(java.lang.String,java.lang.String,java.lang.String)", "org.eclipse.lsp4xml.contentmodel.model.ContentModelManager.getCacheKey(java.lang.String,java.lang.String,java.lang.String)"]}, {"title": "Comment should not be returned by documentSymbol", "body": "documentSymbol returns comment and it can be confusing with element:\r\n\r\n![image](https://user-images.githubusercontent.com/1932211/45441267-e661a300-b6be-11e8-9ec6-514e2cee6f6e.png)\r\n\r\nTo fix this issue, there are 3 solutions:\r\n\r\n 1) display comments with other kind to see that it's a comment\r\n 2) or remove it\r\n 3) or  provide a preferences to return it or not.\r\n\r\n@fbricon @NikolasKomonen what do you prefer?", "url": "https://github.com/eclipse/lemminx/issues/120", "user": "angelozerr", "labels": ["bug", "symbols"], "created": "2018-09-12 17:07:18", "closed": "2018-09-12 18:20:59", "commits": {"8c7c93804531b941780c12efcb296df8b09858a3": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}}, "ttf": 0.0002777777777777778, "commitsDetails": [{"commitHash": "8c7c93804531b941780c12efcb296df8b09858a3", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": ["65f5b1f28450d327ad2ec91b8df97edbbf96939a"], "nameRev": "8c7c93804531b941780c12efcb296df8b09858a3 tags/v0.0.1~47", "commitMessage": "Collect comment with flag. see #120", "commitDateTime": "2018-09-12 19:23:51", "authoredDateTime": "2018-09-12 19:23:51", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/XMLParser.java", "insertions": 23, "deletions": 14, "lines": 37}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/XMLFormatter.java", "insertions": 5, "deletions": 5, "lines": 10}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/dom/XMLParserTest.java", "insertions": 4, "deletions": 5, "lines": 9}], "commitSpoonAstDiffStats": [{"spoonFilePath": "XMLParser.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.dom.XMLParser.parse(org.eclipse.lsp4xml.commons.TextDocument,java.util.EnumSet)", "TOT": 9, "UPD": 1, "INS": 3, "MOV": 5, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.dom.XMLParser.Flag", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLFormatter.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.services.XMLFormatter", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLParserTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.dom.XMLParserTest.assertDocument(java.lang.String,org.eclipse.lsp4xml.dom.Node)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["8c7c93804531b941780c12efcb296df8b09858a3"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 28, "deletions": 19, "lines": 47, "gitFilesChange": 2}, "spoonStatsSummary": {"TOT": 11, "UPD": 1, "INS": 5, "MOV": 5, "DEL": 0, "spoonFilesChanged": 2, "spoonMethodsChanged": 3}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom"], "changesInPackagesSPOON": ["org.eclipse.lsp4xml.services.XMLFormatter", "org.eclipse.lsp4xml.dom.XMLParser.parse(org.eclipse.lsp4xml.commons.TextDocument,java.util.EnumSet)", "org.eclipse.lsp4xml.dom.XMLParser.Flag"]}, {"title": "Autocompletion from xsd doesn't cope with existing closing bracket", "body": "In a document with xsd, with an editor having autoclosing brackets enabled, typing \"<\" automatically inserts \"<>\". In that case, closing a tag works properly (inserts only `/lastTag` between the brackets, but node completion from the xsd ignores the closing tag (i.e. inserts `othertag></othertag>`, which means we end up with an extra `>`. Eg, a pom.xml in vscode with \"editor.autoClosingBrackets\": \"always\":\r\n\r\n![autocomplete-bracket-bug](https://user-images.githubusercontent.com/148698/45363219-eec5bb00-b5a4-11e8-89b8-24b8eafede78.gif)\r\n", "url": "https://github.com/eclipse/lemminx/issues/117", "user": "fbricon", "labels": ["bug", "completion"], "created": "2018-09-11 13:34:11", "closed": "2018-09-15 10:17:39", "commits": {"a4fc2164a6eacfd0c73c84a507de9e18febc33c1": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "b23e9943e2fbfff0bac97cfbcf957fc4b11f7ac1": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}}, "ttf": 3.000277777777778, "commitsDetails": [{"commitHash": "a4fc2164a6eacfd0c73c84a507de9e18febc33c1", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": ["234d4c1eeeb77ee6e185fc56cc4964898ecaf88d"], "nameRev": "a4fc2164a6eacfd0c73c84a507de9e18febc33c1 tags/v0.0.1~37", "commitMessage": "Remove '>' character when completion element is applied (see #117)", "commitDateTime": "2018-09-14 18:52:56", "authoredDateTime": "2018-09-14 18:52:56", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/commons/LanguageModelCache.java", "insertions": 2, "deletions": 0, "lines": 2}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/contentmodel/participants/ContentModelCompletionParticipant.java", "insertions": 2, "deletions": 29, "lines": 31}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/contentmodel/utils/XMLGenerator.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/LineIndentInfo.java", "insertions": 21, "deletions": 0, "lines": 21}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/XMLDocument.java", "insertions": 8, "deletions": 0, "lines": 8}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/AbstractPositionRequest.java", "insertions": 10, "deletions": 0, "lines": 10}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/CompletionRequest.java", "insertions": 22, "deletions": 7, "lines": 29}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/XMLCompletions.java", "insertions": 27, "deletions": 12, "lines": 39}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/extensions/ICompletionRequest.java", "insertions": 6, "deletions": 2, "lines": 8}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/extensions/IPositionRequest.java", "insertions": 11, "deletions": 0, "lines": 11}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/utils/StringUtils.java", "insertions": 22, "deletions": 2, "lines": 24}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/XMLAssert.java", "insertions": 30, "deletions": 3, "lines": 33}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/contentmodel/XMLSchemaCompletionExtensionsTest.java", "insertions": 59, "deletions": 11, "lines": 70}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/services/XMLCompletionTest.java", "insertions": 10, "deletions": 10, "lines": 20}], "commitSpoonAstDiffStats": [{"spoonFilePath": "LanguageModelCache.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.commons.LanguageModelCache.parseAndGet(org.eclipse.lsp4j.TextDocumentItem,int,java.lang.String,java.lang.String)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "ContentModelCompletionParticipant.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.contentmodel.participants.ContentModelCompletionParticipant.fillWithChildrenElementDeclaration(org.eclipse.lsp4xml.dom.Element,java.util.Collection,java.lang.String,org.eclipse.lsp4xml.services.extensions.ICompletionRequest,org.eclipse.lsp4xml.services.extensions.ICompletionResponse)", "TOT": 11, "UPD": 0, "INS": 2, "MOV": 2, "DEL": 7}, {"spoonMethodName": "org.eclipse.lsp4xml.contentmodel.participants.ContentModelCompletionParticipant.getStartWhitespaces(java.lang.String)", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}]}, {"spoonFilePath": "XMLGenerator.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.contentmodel.utils.XMLGenerator.generate(org.eclipse.lsp4xml.contentmodel.model.CMElementDeclaration,java.lang.String)", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "LineIndentInfo.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.dom.LineIndentInfo", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLDocument.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.dom.XMLDocument.getLineIndentInfo(int)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "AbstractPositionRequest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.services.AbstractPositionRequest", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.services.AbstractPositionRequest.getLineIndentInfo()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "CompletionRequest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.services.CompletionRequest", "TOT": 3, "UPD": 1, "INS": 1, "MOV": 1, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.services.CompletionRequest.setOpenTag(boolean)", "TOT": 6, "UPD": 4, "INS": 0, "MOV": 2, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.services.CompletionRequest.hasOpenTag()", "TOT": 3, "UPD": 2, "INS": 0, "MOV": 1, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.services.CompletionRequest.setHasOpenBracket(boolean)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLCompletions.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.services.XMLCompletions.isFollowedBy(java.lang.String,int,org.eclipse.lsp4xml.dom.parser.ScannerState,org.eclipse.lsp4xml.dom.parser.TokenType)", "TOT": 4, "UPD": 2, "INS": 1, "MOV": 1, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.services.XMLCompletions.collectOpenTagSuggestions(org.eclipse.lsp4j.Range,boolean,org.eclipse.lsp4xml.services.CompletionRequest,org.eclipse.lsp4xml.services.CompletionResponse)", "TOT": 8, "UPD": 3, "INS": 0, "MOV": 4, "DEL": 1}, {"spoonMethodName": "org.eclipse.lsp4xml.services.XMLCompletions.collectOpenTagSuggestions(int,int,org.eclipse.lsp4xml.services.CompletionRequest,org.eclipse.lsp4xml.services.CompletionResponse)", "TOT": 4, "UPD": 0, "INS": 2, "MOV": 0, "DEL": 2}, {"spoonMethodName": "org.eclipse.lsp4xml.services.XMLCompletions.collectInsideContent(org.eclipse.lsp4xml.services.CompletionRequest,org.eclipse.lsp4xml.services.CompletionResponse)", "TOT": 2, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 1}, {"spoonMethodName": "org.eclipse.lsp4xml.services.XMLCompletions.collectOpenTagSuggestions(boolean,org.eclipse.lsp4j.Range,org.eclipse.lsp4xml.services.CompletionRequest,org.eclipse.lsp4xml.services.CompletionResponse)", "TOT": 2, "UPD": 0, "INS": 2, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.services.XMLCompletions.getOffsetFollowedBy(java.lang.String,int,org.eclipse.lsp4xml.dom.parser.ScannerState,org.eclipse.lsp4xml.dom.parser.TokenType)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "ICompletionRequest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.services.extensions.hasOpenTag()", "TOT": 3, "UPD": 2, "INS": 0, "MOV": 1, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.services.extensions.getXMLGenerator()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "IPositionRequest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.services.extensions.getLineIndentInfo()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "StringUtils.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.utils.StringUtils.getStartWhitespaces(java.lang.String)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLAssert.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.XMLAssert.r(java.lang.String,java.lang.String)", "TOT": 5, "UPD": 1, "INS": 1, "MOV": 3, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.XMLAssert.testCompletionFor(java.lang.String,int,org.eclipse.lsp4xml.XMLAssert$ItemDescription[])", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.XMLAssert.assertCompletion(org.eclipse.lsp4j.CompletionList,org.eclipse.lsp4xml.XMLAssert$ItemDescription,org.eclipse.lsp4xml.commons.TextDocument,int)", "TOT": 3, "UPD": 0, "INS": 3, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.XMLAssert.r(java.lang.String,java.lang.String,java.lang.String)", "TOT": 4, "UPD": 0, "INS": 4, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.XMLAssert.ItemDescription", "TOT": 3, "UPD": 0, "INS": 3, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.XMLAssert.testCompletionFor(java.lang.String,java.lang.String,java.lang.String,java.lang.Integer,org.eclipse.lsp4xml.XMLAssert$ItemDescription[])", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 1, "DEL": 0}]}, {"spoonFilePath": "XMLSchemaCompletionExtensionsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.contentmodel.XMLSchemaCompletionExtensionsTest.completionInRootWithOnlyPrefix()", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.contentmodel.XMLSchemaCompletionExtensionsTest.completionInChildElementWithPrefixes()", "TOT": 2, "UPD": 2, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.contentmodel.XMLSchemaCompletionExtensionsTest.completionInChildElementWithElementWhichDeclareNS()", "TOT": 2, "UPD": 2, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.contentmodel.XMLSchemaCompletionExtensionsTest.noNamespaceSchemaLocationCompletion()", "TOT": 2, "UPD": 2, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.contentmodel.XMLSchemaCompletionExtensionsTest.completionInRootNoOpenBracket()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.contentmodel.XMLSchemaCompletionExtensionsTest.completionInChildElementNoOpenBracket()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.contentmodel.XMLSchemaCompletionExtensionsTest.completionInRootWithAndWithoutPrefixesNoOpenBracket()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.contentmodel.XMLSchemaCompletionExtensionsTest.completionInRoot()", "TOT": 2, "UPD": 0, "INS": 2, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.contentmodel.XMLSchemaCompletionExtensionsTest.completionInChildElement()", "TOT": 3, "UPD": 0, "INS": 3, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.contentmodel.XMLSchemaCompletionExtensionsTest.completionInRootWithAndWithoutPrefixes()", "TOT": 2, "UPD": 0, "INS": 2, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLCompletionTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.services.XMLCompletionTest.startTagOpenBracket()", "TOT": 33, "UPD": 14, "INS": 2, "MOV": 13, "DEL": 4}, {"spoonMethodName": "org.eclipse.lsp4xml.services.XMLCompletionTest.assertOpenStartTagCompletion(java.lang.String,int,java.lang.String[])", "TOT": 3, "UPD": 0, "INS": 0, "MOV": 1, "DEL": 2}, {"spoonMethodName": "org.eclipse.lsp4xml.services.XMLCompletionTest.assertOpenStartTagCompletion(java.lang.String,int,boolean,java.lang.String[])", "TOT": 3, "UPD": 0, "INS": 3, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "b23e9943e2fbfff0bac97cfbcf957fc4b11f7ac1", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": ["8fc2216dcc03a3d1ac8a825b15ca42abd87c1d11"], "nameRev": "b23e9943e2fbfff0bac97cfbcf957fc4b11f7ac1 tags/v0.0.1~34", "commitMessage": "Write test for #117", "commitDateTime": "2018-09-15 12:17:29", "authoredDateTime": "2018-09-15 12:17:29", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/XMLAssert.java", "insertions": 31, "deletions": 29, "lines": 60}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/contentmodel/XMLSchemaCompletionExtensionsTest.java", "insertions": 37, "deletions": 24, "lines": 61}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/services/XMLCompletionTest.java", "insertions": 11, "deletions": 4, "lines": 15}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/services/extensions/HTMLCompletionExtensionsTest.java", "insertions": 32, "deletions": 33, "lines": 65}], "commitSpoonAstDiffStats": [{"spoonFilePath": "XMLAssert.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.XMLAssert.r(java.lang.String,java.lang.String)", "TOT": 5, "UPD": 5, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.XMLAssert.r(java.lang.String,java.lang.String,java.lang.String)", "TOT": 7, "UPD": 3, "INS": 0, "MOV": 3, "DEL": 1}, {"spoonMethodName": "org.eclipse.lsp4xml.XMLAssert.testCompletionFor(java.lang.String,org.eclipse.lsp4xml.XMLAssert$ItemDescription[])", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.XMLAssert.testCompletionFor(java.lang.String,java.lang.String,org.eclipse.lsp4xml.XMLAssert$ItemDescription[])", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.XMLAssert.testCompletionFor(java.lang.String,int,org.eclipse.lsp4xml.XMLAssert$ItemDescription[])", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.XMLAssert.testCompletionFor(java.lang.String,java.lang.String,java.lang.String,java.lang.Integer,org.eclipse.lsp4xml.XMLAssert$ItemDescription[])", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.XMLAssert.testCompletionFor(org.eclipse.lsp4xml.services.XMLLanguageService,java.lang.String,java.lang.String,java.lang.String,java.lang.Integer,org.eclipse.lsp4xml.XMLAssert$ItemDescription[])", "TOT": 2, "UPD": 2, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.XMLAssert.assertCompletion(org.eclipse.lsp4j.CompletionList,org.eclipse.lsp4xml.XMLAssert$ItemDescription,org.eclipse.lsp4xml.commons.TextDocument,int)", "TOT": 9, "UPD": 2, "INS": 0, "MOV": 2, "DEL": 5}, {"spoonMethodName": "org.eclipse.lsp4xml.XMLAssert.ItemDescription", "TOT": 4, "UPD": 0, "INS": 0, "MOV": 3, "DEL": 1}, {"spoonMethodName": "org.eclipse.lsp4xml.XMLAssert.c(java.lang.String,org.eclipse.lsp4j.TextEdit,java.lang.String)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.XMLAssert.c(java.lang.String,java.lang.String,org.eclipse.lsp4j.Range,java.lang.String)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.XMLAssert.assertCompletion(org.eclipse.lsp4j.CompletionList,org.eclipse.lsp4j.CompletionItem,org.eclipse.lsp4xml.commons.TextDocument,int)", "TOT": 7, "UPD": 0, "INS": 7, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.XMLAssert.c(java.lang.String,java.lang.String,java.lang.String)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLSchemaCompletionExtensionsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.contentmodel.XMLSchemaCompletionExtensionsTest.completionInRoot()", "TOT": 3, "UPD": 2, "INS": 0, "MOV": 1, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.contentmodel.XMLSchemaCompletionExtensionsTest.completionInRootNoOpenBracket()", "TOT": 2, "UPD": 2, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.contentmodel.XMLSchemaCompletionExtensionsTest.completionInChildElement()", "TOT": 3, "UPD": 3, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.contentmodel.XMLSchemaCompletionExtensionsTest.completionInChildElementNoOpenBracket()", "TOT": 3, "UPD": 3, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.contentmodel.XMLSchemaCompletionExtensionsTest.completionInRootWithAndWithoutPrefixes()", "TOT": 2, "UPD": 2, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.contentmodel.XMLSchemaCompletionExtensionsTest.completionInRootWithAndWithoutPrefixesNoOpenBracket()", "TOT": 2, "UPD": 2, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.contentmodel.XMLSchemaCompletionExtensionsTest.completionInRootWithOnlyPrefix()", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.contentmodel.XMLSchemaCompletionExtensionsTest.completionInChildElementWithPrefixes()", "TOT": 2, "UPD": 2, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.contentmodel.XMLSchemaCompletionExtensionsTest.completionInChildElementWithElementWhichDeclareNS()", "TOT": 2, "UPD": 2, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.contentmodel.XMLSchemaCompletionExtensionsTest.noNamespaceSchemaLocationCompletion()", "TOT": 2, "UPD": 2, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.contentmodel.XMLSchemaCompletionExtensionsTest.testCompletionFor(java.lang.String,org.eclipse.lsp4xml.XMLAssert.ItemDescription[])", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.contentmodel.XMLSchemaCompletionExtensionsTest.completionInRootWithCloseBracket()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLCompletionTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.services.XMLCompletionTest.startTagOpenBracket()", "TOT": 4, "UPD": 4, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.services.XMLCompletionTest.replaceRangeOUnusedfCloseTag()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "HTMLCompletionExtensionsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.services.extensions.HTMLCompletionExtensionsTest.testHTMLElementCompletion()", "TOT": 12, "UPD": 12, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.services.extensions.HTMLCompletionExtensionsTest.testHTMLElementCompletionWithoutOpenStart()", "TOT": 9, "UPD": 9, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.services.extensions.HTMLCompletionExtensionsTest.testHTMLAttributeNameCompletion()", "TOT": 7, "UPD": 7, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.services.extensions.HTMLCompletionExtensionsTest.testHTMLAttributeValueCompletion()", "TOT": 2, "UPD": 2, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.services.extensions.HTMLCompletionExtensionsTest.testCompletionFor(java.lang.String,org.eclipse.lsp4xml.XMLAssert.ItemDescription[])", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["a4fc2164a6eacfd0c73c84a507de9e18febc33c1", "b23e9943e2fbfff0bac97cfbcf957fc4b11f7ac1"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 132, "deletions": 53, "lines": 185, "gitFilesChange": 11}, "spoonStatsSummary": {"TOT": 116, "UPD": 32, "INS": 41, "MOV": 24, "DEL": 19, "spoonFilesChanged": 12, "spoonMethodsChanged": 35}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/extensions", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/utils", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/commons", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/contentmodel/participants", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/contentmodel/utils"], "changesInPackagesSPOON": ["org.eclipse.lsp4xml.XMLAssert.r(java.lang.String,java.lang.String,java.lang.String)", "org.eclipse.lsp4xml.XMLAssert.testCompletionFor(java.lang.String,java.lang.String,java.lang.String,java.lang.Integer,org.eclipse.lsp4xml.XMLAssert$ItemDescription[])", "org.eclipse.lsp4xml.XMLAssert.assertCompletion(org.eclipse.lsp4j.CompletionList,org.eclipse.lsp4xml.XMLAssert$ItemDescription,org.eclipse.lsp4xml.commons.TextDocument,int)", "org.eclipse.lsp4xml.XMLAssert.r(java.lang.String,java.lang.String)", "org.eclipse.lsp4xml.XMLAssert.testCompletionFor(java.lang.String,int,org.eclipse.lsp4xml.XMLAssert$ItemDescription[])", "org.eclipse.lsp4xml.XMLAssert.ItemDescription", "org.eclipse.lsp4xml.services.XMLCompletions.isFollowedBy(java.lang.String,int,org.eclipse.lsp4xml.dom.parser.ScannerState,org.eclipse.lsp4xml.dom.parser.TokenType)", "org.eclipse.lsp4xml.XMLAssert.testCompletionFor(org.eclipse.lsp4xml.services.XMLLanguageService,java.lang.String,java.lang.String,java.lang.String,java.lang.Integer,org.eclipse.lsp4xml.XMLAssert$ItemDescription[])", "org.eclipse.lsp4xml.services.extensions.hasOpenTag()", "org.eclipse.lsp4xml.services.XMLCompletions.collectOpenTagSuggestions(org.eclipse.lsp4j.Range,boolean,org.eclipse.lsp4xml.services.CompletionRequest,org.eclipse.lsp4xml.services.CompletionResponse)", "org.eclipse.lsp4xml.services.XMLCompletions.getOffsetFollowedBy(java.lang.String,int,org.eclipse.lsp4xml.dom.parser.ScannerState,org.eclipse.lsp4xml.dom.parser.TokenType)", "org.eclipse.lsp4xml.XMLAssert.assertCompletion(org.eclipse.lsp4j.CompletionList,org.eclipse.lsp4j.CompletionItem,org.eclipse.lsp4xml.commons.TextDocument,int)", "org.eclipse.lsp4xml.services.extensions.getLineIndentInfo()", "org.eclipse.lsp4xml.services.CompletionRequest.setHasOpenBracket(boolean)", "org.eclipse.lsp4xml.services.CompletionRequest.setOpenTag(boolean)", "org.eclipse.lsp4xml.commons.LanguageModelCache.parseAndGet(org.eclipse.lsp4j.TextDocumentItem,int,java.lang.String,java.lang.String)", "org.eclipse.lsp4xml.contentmodel.participants.ContentModelCompletionParticipant.fillWithChildrenElementDeclaration(org.eclipse.lsp4xml.dom.Element,java.util.Collection,java.lang.String,org.eclipse.lsp4xml.services.extensions.ICompletionRequest,org.eclipse.lsp4xml.services.extensions.ICompletionResponse)", "org.eclipse.lsp4xml.services.extensions.getXMLGenerator()", "org.eclipse.lsp4xml.services.XMLCompletions.collectOpenTagSuggestions(boolean,org.eclipse.lsp4j.Range,org.eclipse.lsp4xml.services.CompletionRequest,org.eclipse.lsp4xml.services.CompletionResponse)", "org.eclipse.lsp4xml.services.XMLCompletions.collectOpenTagSuggestions(int,int,org.eclipse.lsp4xml.services.CompletionRequest,org.eclipse.lsp4xml.services.CompletionResponse)", "org.eclipse.lsp4xml.utils.StringUtils.getStartWhitespaces(java.lang.String)", "org.eclipse.lsp4xml.contentmodel.participants.ContentModelCompletionParticipant.getStartWhitespaces(java.lang.String)", "org.eclipse.lsp4xml.services.AbstractPositionRequest", "org.eclipse.lsp4xml.XMLAssert.testCompletionFor(java.lang.String,java.lang.String,org.eclipse.lsp4xml.XMLAssert$ItemDescription[])", "org.eclipse.lsp4xml.contentmodel.utils.XMLGenerator.generate(org.eclipse.lsp4xml.contentmodel.model.CMElementDeclaration,java.lang.String)", "org.eclipse.lsp4xml.dom.XMLDocument.getLineIndentInfo(int)", "org.eclipse.lsp4xml.XMLAssert.c(java.lang.String,java.lang.String,java.lang.String)", "org.eclipse.lsp4xml.XMLAssert.c(java.lang.String,org.eclipse.lsp4j.TextEdit,java.lang.String)", "org.eclipse.lsp4xml.XMLAssert.c(java.lang.String,java.lang.String,org.eclipse.lsp4j.Range,java.lang.String)", "org.eclipse.lsp4xml.services.XMLCompletions.collectInsideContent(org.eclipse.lsp4xml.services.CompletionRequest,org.eclipse.lsp4xml.services.CompletionResponse)", "org.eclipse.lsp4xml.XMLAssert.testCompletionFor(java.lang.String,org.eclipse.lsp4xml.XMLAssert$ItemDescription[])", "org.eclipse.lsp4xml.dom.LineIndentInfo", "org.eclipse.lsp4xml.services.AbstractPositionRequest.getLineIndentInfo()", "org.eclipse.lsp4xml.services.CompletionRequest", "org.eclipse.lsp4xml.services.CompletionRequest.hasOpenTag()"]}, {"title": "Autocompletion incorrectly prefixes suggestions with xsi namespace", "body": "I have a document that must not use namespaces (ps1xml files). I get completion, but they are always prefixed with `xsi` (from the `xsi` namespace declaration)\r\n\r\n![image](https://user-images.githubusercontent.com/10532611/45354583-3c025680-b5be-11e8-8ef9-639b20cce1ff.png)\r\n\r\n```xml\r\n<Configuration xsi:noNamespaceSchemaLocation=\"Format.xsd\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\">\r\n```\r\n\r\nAm I missing something?", "url": "https://github.com/eclipse/lemminx/issues/116", "user": "felixfbecker", "labels": ["bug", "completion"], "created": "2018-09-11 10:30:07", "closed": "2018-09-11 17:55:36", "commits": {"9a6b0cd9b7aa17a81596179d167a6dc4aa5d0bb9": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}}, "ttf": 0.0002777777777777778, "commitsDetails": [{"commitHash": "9a6b0cd9b7aa17a81596179d167a6dc4aa5d0bb9", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": ["4fd1ea466daf8ef37389a2a2db82ca1725488383"], "nameRev": "9a6b0cd9b7aa17a81596179d167a6dc4aa5d0bb9 tags/v0.0.1~61", "commitMessage": "Don't returns an XML Schema whith xsi:xsi:noNamespaceSchemaLocation and\na non empty namespace. (see #116)", "commitDateTime": "2018-09-11 19:54:31", "authoredDateTime": "2018-09-11 19:54:31", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/contentmodel/model/ContentModelManager.java", "insertions": 5, "deletions": 1, "lines": 6}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/contentmodel/participants/ContentModelCompletionParticipant.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/Element.java", "insertions": 4, "deletions": 0, "lines": 4}], "commitSpoonAstDiffStats": [{"spoonFilePath": "ContentModelManager.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.contentmodel.model.ContentModelManager.findCMDocument(java.lang.String,java.lang.String,java.lang.String)", "TOT": 2, "UPD": 0, "INS": 1, "MOV": 1, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.contentmodel.model.ContentModelManager.findCMDocument(org.eclipse.lsp4xml.dom.Element,java.lang.String)", "TOT": 4, "UPD": 0, "INS": 2, "MOV": 2, "DEL": 0}]}, {"spoonFilePath": "ContentModelCompletionParticipant.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.contentmodel.participants.ContentModelCompletionParticipant.onTagOpen(org.eclipse.lsp4xml.services.extensions.ICompletionRequest,org.eclipse.lsp4xml.services.extensions.ICompletionResponse)", "TOT": 3, "UPD": 0, "INS": 1, "MOV": 1, "DEL": 1}]}, {"spoonFilePath": "Element.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.dom.Element.isDocumentElement()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["9a6b0cd9b7aa17a81596179d167a6dc4aa5d0bb9"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 10, "deletions": 2, "lines": 12, "gitFilesChange": 3}, "spoonStatsSummary": {"TOT": 10, "UPD": 0, "INS": 5, "MOV": 4, "DEL": 1, "spoonFilesChanged": 3, "spoonMethodsChanged": 4}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/contentmodel/participants", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/contentmodel/model"], "changesInPackagesSPOON": ["org.eclipse.lsp4xml.contentmodel.model.ContentModelManager.findCMDocument(java.lang.String,java.lang.String,java.lang.String)", "org.eclipse.lsp4xml.contentmodel.participants.ContentModelCompletionParticipant.onTagOpen(org.eclipse.lsp4xml.services.extensions.ICompletionRequest,org.eclipse.lsp4xml.services.extensions.ICompletionResponse)", "org.eclipse.lsp4xml.contentmodel.model.ContentModelManager.findCMDocument(org.eclipse.lsp4xml.dom.Element,java.lang.String)", "org.eclipse.lsp4xml.dom.Element.isDocumentElement()"]}, {"title": "Documentation on hover unnecessarily indented", "body": "Hovering over the `<dependencies>` tag of a pom.xml, you can see the documentation is unnecessarily indented.\r\n\r\n![screen shot 2018-09-10 at 11 59 09 pm](https://user-images.githubusercontent.com/148698/45337389-b9de4780-b555-11e8-9197-ab7bbfda5115.png)\r\n", "url": "https://github.com/eclipse/lemminx/issues/115", "user": "fbricon", "labels": ["bug", "hover"], "created": "2018-09-11 04:02:00", "closed": "2018-09-12 10:27:47", "commits": {"433b071902ff44f6f23335d426f4674af5d53c3b": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}}, "ttf": 1.0002777777777778, "commitsDetails": [{"commitHash": "433b071902ff44f6f23335d426f4674af5d53c3b", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": ["1f6f6189abfdf06293aaf76d251595e0f18fd47b"], "nameRev": "433b071902ff44f6f23335d426f4674af5d53c3b tags/v0.0.1~57", "commitMessage": "Normalize space of xsd:documentation & xsd:appinfo. (see #115)", "commitDateTime": "2018-09-12 12:26:20", "authoredDateTime": "2018-09-12 12:26:20", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/contentmodel/xsd/XSDAnnotationModel.java", "insertions": 10, "deletions": 5, "lines": 15}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/utils/LogHelper.java", "insertions": 0, "deletions": 1, "lines": 1}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/utils/StringUtils.java", "insertions": 39, "deletions": 0, "lines": 39}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/utils/XMLBuilder.java", "insertions": 7, "deletions": 20, "lines": 27}], "commitSpoonAstDiffStats": [{"spoonFilePath": "XSDAnnotationModel.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.contentmodel.xsd.XSDAnnotationModel.XSAnnotationHandler.startElement(java.lang.String,java.lang.String,java.lang.String,org.xml.sax.Attributes)", "TOT": 4, "UPD": 0, "INS": 2, "MOV": 0, "DEL": 2}, {"spoonMethodName": "org.eclipse.lsp4xml.contentmodel.xsd.XSDAnnotationModel.XSAnnotationHandler.endElement(java.lang.String,java.lang.String,java.lang.String)", "TOT": 8, "UPD": 0, "INS": 4, "MOV": 2, "DEL": 2}, {"spoonMethodName": "org.eclipse.lsp4xml.contentmodel.xsd.XSDAnnotationModel.XSAnnotationHandler", "TOT": 2, "UPD": 0, "INS": 2, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "LogHelper.java", "spoonMethods": []}, {"spoonFilePath": "StringUtils.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.utils.StringUtils", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLBuilder.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.utils.XMLBuilder.normalizeSpace(java.lang.String)", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["433b071902ff44f6f23335d426f4674af5d53c3b"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 56, "deletions": 26, "lines": 82, "gitFilesChange": 4}, "spoonStatsSummary": {"TOT": 16, "UPD": 0, "INS": 9, "MOV": 2, "DEL": 5, "spoonFilesChanged": 3, "spoonMethodsChanged": 5}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/contentmodel/xsd", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/utils"], "changesInPackagesSPOON": ["org.eclipse.lsp4xml.contentmodel.xsd.XSDAnnotationModel.XSAnnotationHandler.startElement(java.lang.String,java.lang.String,java.lang.String,org.xml.sax.Attributes)", "org.eclipse.lsp4xml.utils.StringUtils", "org.eclipse.lsp4xml.contentmodel.xsd.XSDAnnotationModel.XSAnnotationHandler", "org.eclipse.lsp4xml.utils.XMLBuilder.normalizeSpace(java.lang.String)", "org.eclipse.lsp4xml.contentmodel.xsd.XSDAnnotationModel.XSAnnotationHandler.endElement(java.lang.String,java.lang.String,java.lang.String)"]}, {"title": "Autocompletion when writing XSDs", "body": "I am trying to get autocompletion while authoring an XSD.\r\nFor this, I declared the XSD as an instance of the XSD meta schema:\r\n\r\n```xml\r\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<xs:schema attributeFormDefault=\"unqualified\"\r\n           elementFormDefault=\"qualified\"\r\n           xmlns:xs=\"http://www.w3.org/2001/XMLSchema\"\r\n           xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\r\n           xsi:schemaLocation=\"http://www.w3.org/2001/XMLSchema\r\n                               http://www.w3.org/2001/XMLSchema.xsd\">\r\n\r\n</xs:schema>\r\n```\r\n\r\nHowever, I am not getting any autocompletion or hovers.\r\n\r\nOutput channel log:\r\n\r\n```\r\nSep 10, 2018 2:18:30 PM org.eclipse.lsp4xml.XMLLanguageServer initialize\r\nINFO: Initializing LSP4XML server\r\n```\r\n\r\n(no errors)\r\n\r\nVersion: `vscode-xml-0.1.0-199.vsix`", "url": "https://github.com/eclipse/lemminx/issues/111", "user": "felixfbecker", "labels": ["bug", "completion", "performance"], "created": "2018-09-10 12:21:17", "closed": "2018-11-03 04:48:30", "commits": {"dbda60800a148dad30b8ae006142212f8d2ddcbb": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "0b1d0cd0d19d27ff3c4431459351478e5894626b": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}}, "ttf": 53.000277777777775, "commitsDetails": [{"commitHash": "dbda60800a148dad30b8ae006142212f8d2ddcbb", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": ["efef96da1da8c4ef34f1cfd2ba3145370102b387"], "nameRev": "dbda60800a148dad30b8ae006142212f8d2ddcbb tags/v0.0.1~71", "commitMessage": "Don't fill completion with processed prefix. see #111", "commitDateTime": "2018-09-10 18:35:31", "authoredDateTime": "2018-09-10 18:35:31", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/contentmodel/participants/ContentModelCompletionParticipant.java", "insertions": 6, "deletions": 1, "lines": 7}], "commitSpoonAstDiffStats": [{"spoonFilePath": "ContentModelCompletionParticipant.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.contentmodel.participants.ContentModelCompletionParticipant.onTagOpen(org.eclipse.lsp4xml.services.extensions.ICompletionRequest,org.eclipse.lsp4xml.services.extensions.ICompletionResponse)", "TOT": 5, "UPD": 0, "INS": 4, "MOV": 1, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "0b1d0cd0d19d27ff3c4431459351478e5894626b", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": ["3edbcc387b6f92c2780c487371d09d8ec9a81625"], "nameRev": "0b1d0cd0d19d27ff3c4431459351478e5894626b tags/v0.0.1~67", "commitMessage": "Check the uniqueness of element declaration see #111", "commitDateTime": "2018-09-11 00:25:09", "authoredDateTime": "2018-09-11 00:25:09", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/contentmodel/xsd/XSDDocument.java", "insertions": 6, "deletions": 2, "lines": 8}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/contentmodel/xsd/XSDElementDeclaration.java", "insertions": 5, "deletions": 1, "lines": 6}], "commitSpoonAstDiffStats": [{"spoonFilePath": "XSDDocument.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.contentmodel.xsd.XSDDocument.getElements()", "TOT": 5, "UPD": 0, "INS": 2, "MOV": 2, "DEL": 1}]}, {"spoonFilePath": "XSDElementDeclaration.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.contentmodel.xsd.XSDElementDeclaration.collectElementsDeclaration(org.apache.xerces.xs.XSTerm,java.util.Collection)", "TOT": 5, "UPD": 0, "INS": 2, "MOV": 2, "DEL": 1}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["dbda60800a148dad30b8ae006142212f8d2ddcbb", "0b1d0cd0d19d27ff3c4431459351478e5894626b"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 2, "gitStatsSummary": {"insertions": 17, "deletions": 4, "lines": 21, "gitFilesChange": 3}, "spoonStatsSummary": {"TOT": 15, "UPD": 0, "INS": 8, "MOV": 5, "DEL": 2, "spoonFilesChanged": 3, "spoonMethodsChanged": 3}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/contentmodel/participants", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/contentmodel/xsd"], "changesInPackagesSPOON": ["org.eclipse.lsp4xml.contentmodel.participants.ContentModelCompletionParticipant.onTagOpen(org.eclipse.lsp4xml.services.extensions.ICompletionRequest,org.eclipse.lsp4xml.services.extensions.ICompletionResponse)", "org.eclipse.lsp4xml.contentmodel.xsd.XSDDocument.getElements()", "org.eclipse.lsp4xml.contentmodel.xsd.XSDElementDeclaration.collectElementsDeclaration(org.apache.xerces.xs.XSTerm,java.util.Collection)"]}, {"title": "hover on closing tag shows documentation from previous tag", "body": "Hovering over https://github.com/angelozerr/lsp4xml/blob/41fb0a76954a300b6954c10ef8e8fde68fe47b5a/pom.xml#L28 shows the documentation for `<modules>`, the previous tag", "url": "https://github.com/eclipse/lemminx/issues/109", "user": "fbricon", "labels": ["bug", "hover"], "created": "2018-09-09 16:33:16", "closed": "2018-09-10 23:24:03", "commits": {"9f9346c666c75112665aae00bc5b488b4f361a5e": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}}, "ttf": 1.0002777777777778, "commitsDetails": [{"commitHash": "9f9346c666c75112665aae00bc5b488b4f361a5e", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": ["37a662b6d3762c2349a6df056535ca26b47afebc"], "nameRev": "9f9346c666c75112665aae00bc5b488b4f361a5e tags/v0.0.1~65", "commitMessage": "Collect the node at offset (and not before) for hover see #109", "commitDateTime": "2018-09-11 01:23:07", "authoredDateTime": "2018-09-11 01:23:07", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/AbstractPositionRequest.java", "insertions": 3, "deletions": 1, "lines": 4}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/CompletionRequest.java", "insertions": 6, "deletions": 0, "lines": 6}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/HoverRequest.java", "insertions": 8, "deletions": 4, "lines": 12}], "commitSpoonAstDiffStats": [{"spoonFilePath": "AbstractPositionRequest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.services.AbstractPositionRequest", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.services.AbstractPositionRequest.findNodeAt(org.eclipse.lsp4xml.dom.XMLDocument,int)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "CompletionRequest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.services.CompletionRequest.findNodeAt(org.eclipse.lsp4xml.dom.XMLDocument,int)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "HoverRequest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.services.HoverRequest.findNodeAt(org.eclipse.lsp4xml.dom.XMLDocument,int)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["9f9346c666c75112665aae00bc5b488b4f361a5e"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 17, "deletions": 5, "lines": 22, "gitFilesChange": 3}, "spoonStatsSummary": {"TOT": 4, "UPD": 1, "INS": 3, "MOV": 0, "DEL": 0, "spoonFilesChanged": 3, "spoonMethodsChanged": 4}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services"], "changesInPackagesSPOON": ["org.eclipse.lsp4xml.services.AbstractPositionRequest.findNodeAt(org.eclipse.lsp4xml.dom.XMLDocument,int)", "org.eclipse.lsp4xml.services.AbstractPositionRequest", "org.eclipse.lsp4xml.services.HoverRequest.findNodeAt(org.eclipse.lsp4xml.dom.XMLDocument,int)", "org.eclipse.lsp4xml.services.CompletionRequest.findNodeAt(org.eclipse.lsp4xml.dom.XMLDocument,int)"]}, {"title": "Autocompletion and hovers fail with NullPointerException", "body": "I am using [vscode-xml](https://github.com/redhat-developer/vscode-xml), but hovers or completion don't work and log this to the output channel:\r\n\r\nHover:\r\n```\r\nSep 09, 2018 4:43:01 PM org.eclipse.lsp4xml.services.XMLHover getTagHover\r\nSEVERE: While performing IHoverParticipant#onTag\r\njava.lang.NullPointerException\r\n\tat org.eclipse.lsp4xml.contentmodel.xsd.XSDDocument.findCMElement(XSDDocument.java:63)\r\n\tat org.eclipse.lsp4xml.contentmodel.model.ContentModelManager.findCMElement(ContentModelManager.java:73)\r\n\tat org.eclipse.lsp4xml.contentmodel.model.ContentModelManager.findCMElement(ContentModelManager.java:61)\r\n\tat org.eclipse.lsp4xml.contentmodel.participants.ContentModelHoverParticipant.onTag(ContentModelHoverParticipant.java:31)\r\n\tat org.eclipse.lsp4xml.services.XMLHover.getTagHover(XMLHover.java:73)\r\n\tat org.eclipse.lsp4xml.services.XMLHover.doHover(XMLHover.java:56)\r\n\tat org.eclipse.lsp4xml.services.XMLLanguageService.doHover(XMLLanguageService.java:87)\r\n\tat org.eclipse.lsp4xml.XMLTextDocumentService.lambda$hover$2(XMLTextDocumentService.java:146)\r\n\tat java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:602)\r\n\tat java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:577)\r\n\tat java.util.concurrent.CompletableFuture$Completion.exec(CompletableFuture.java:443)\r\n\tat java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)\r\n\tat java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)\r\n\tat java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)\r\n\tat java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)\r\n```\r\n\r\nCompletion:\r\n```\r\nSep 09, 2018 4:43:26 PM org.eclipse.lsp4xml.services.XMLCompletions collectOpenTagSuggestions\r\nSEVERE: While performing ICompletionParticipant#onTagOpen\r\njava.lang.NullPointerException\r\n\tat org.eclipse.lsp4xml.contentmodel.xsd.XSDDocument.findCMElement(XSDDocument.java:63)\r\n\tat org.eclipse.lsp4xml.contentmodel.model.ContentModelManager.findCMElement(ContentModelManager.java:73)\r\n\tat org.eclipse.lsp4xml.contentmodel.model.ContentModelManager.findCMElement(ContentModelManager.java:61)\r\n\tat org.eclipse.lsp4xml.contentmodel.participants.ContentModelCompletionParticipant.onTagOpen(ContentModelCompletionParticipant.java:46)\r\n\tat org.eclipse.lsp4xml.services.XMLCompletions.collectOpenTagSuggestions(XMLCompletions.java:262)\r\n\tat org.eclipse.lsp4xml.services.XMLCompletions.collectTagSuggestions(XMLCompletions.java:251)\r\n\tat org.eclipse.lsp4xml.services.XMLCompletions.doComplete(XMLCompletions.java:82)\r\n\tat org.eclipse.lsp4xml.services.XMLLanguageService.doComplete(XMLLanguageService.java:83)\r\n\tat org.eclipse.lsp4xml.XMLTextDocumentService.lambda$completion$1(XMLTextDocumentService.java:135)\r\n\tat java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:602)\r\n\tat java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:577)\r\n\tat java.util.concurrent.CompletableFuture$Completion.exec(CompletableFuture.java:443)\r\n\tat java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)\r\n\tat java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)\r\n\tat java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)\r\n\tat java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)\r\n```", "url": "https://github.com/eclipse/lemminx/issues/108", "user": "felixfbecker", "labels": ["CM Extension", "bug", "completion", "hover"], "created": "2018-09-09 14:47:55", "closed": "2018-09-10 11:59:16", "commits": {"c15baa61672b128dc97088664c857bcf13a439b8": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}}, "ttf": 0.0002777777777777778, "commitsDetails": [{"commitHash": "c15baa61672b128dc97088664c857bcf13a439b8", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": ["9de81f06ee08a46024b73d2d261d747f71bd5861"], "nameRev": "c15baa61672b128dc97088664c857bcf13a439b8 tags/v0.0.1~73", "commitMessage": "Support completion, hover with xsi:noNamespaceSchemaLocation (see #108)", "commitDateTime": "2018-09-10 13:55:58", "authoredDateTime": "2018-09-10 13:55:58", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/contentmodel/xsd/XSDDocument.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/NoNamespaceSchemaLocation.java", "insertions": 13, "deletions": 2, "lines": 15}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/XMLDocument.java", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/contentmodel/XMLSchemaCompletionExtensionsTest.java", "insertions": 12, "deletions": 1, "lines": 13}, {"filePath": "org.eclipse.lsp4xml/src/test/resources/xsd/Format.xsd", "insertions": 142, "deletions": 0, "lines": 142}], "commitSpoonAstDiffStats": [{"spoonFilePath": "XSDDocument.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.contentmodel.xsd.XSDDocument.findCMElement(org.eclipse.lsp4xml.dom.Element,java.lang.String)", "TOT": 2, "UPD": 0, "INS": 1, "MOV": 1, "DEL": 0}]}, {"spoonFilePath": "NoNamespaceSchemaLocation.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.dom.NoNamespaceSchemaLocation", "TOT": 3, "UPD": 0, "INS": 2, "MOV": 0, "DEL": 1}, {"spoonMethodName": "org.eclipse.lsp4xml.dom.NoNamespaceSchemaLocation.getLocation(java.lang.String,java.lang.String)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLDocument.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.dom.XMLDocument.createNoNamespaceSchemaLocation(org.eclipse.lsp4xml.dom.Node,java.lang.String)", "TOT": 3, "UPD": 3, "INS": 0, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLSchemaCompletionExtensionsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.contentmodel.XMLSchemaCompletionExtensionsTest.noNamespaceSchemaLocationCompletion()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["c15baa61672b128dc97088664c857bcf13a439b8"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 17, "deletions": 6, "lines": 23, "gitFilesChange": 3}, "spoonStatsSummary": {"TOT": 9, "UPD": 3, "INS": 4, "MOV": 1, "DEL": 1, "spoonFilesChanged": 3, "spoonMethodsChanged": 4}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/contentmodel/xsd"], "changesInPackagesSPOON": ["org.eclipse.lsp4xml.dom.NoNamespaceSchemaLocation", "org.eclipse.lsp4xml.dom.NoNamespaceSchemaLocation.getLocation(java.lang.String,java.lang.String)", "org.eclipse.lsp4xml.contentmodel.xsd.XSDDocument.findCMElement(org.eclipse.lsp4xml.dom.Element,java.lang.String)", "org.eclipse.lsp4xml.dom.XMLDocument.createNoNamespaceSchemaLocation(org.eclipse.lsp4xml.dom.Node,java.lang.String)"]}, {"title": "Unclosed tag causes the formatter to insert an extra `>`", "body": "Formatting a malformed document like:\r\n```xml\r\n<foo>\r\n    <bar>\r\n    <toto></toto>\r\n</foo>\r\n```\r\nyields\r\n```xml\r\n<foo>\r\n    <bar>\r\n    <toto></toto>\r\n    >\r\n</foo>\r\n```\r\n\r\nIn Eclipse, this is the output:\r\n```xml\r\n<foo>\r\n    <bar>\r\n         <toto></toto>\r\n</foo>\r\n```\r\n", "url": "https://github.com/eclipse/lemminx/issues/102", "user": "fbricon", "labels": ["bug", "formatting"], "created": "2018-09-07 20:33:50", "closed": "2018-09-10 11:41:18", "commits": {"9de81f06ee08a46024b73d2d261d747f71bd5861": {"commitGHEventType": "closed", "commitUser": "angelozerr"}}, "ttf": 2.000277777777778, "commitsDetails": [{"commitHash": "9de81f06ee08a46024b73d2d261d747f71bd5861", "commitGHEventType": "closed", "commitUser": "angelozerr", "commitParents": ["41fb0a76954a300b6954c10ef8e8fde68fe47b5a"], "nameRev": "9de81f06ee08a46024b73d2d261d747f71bd5861 tags/v0.0.1~74", "commitMessage": "Fix #102", "commitDateTime": "2018-09-10 13:41:15", "authoredDateTime": "2018-09-10 13:41:15", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/XMLFormatter.java", "insertions": 10, "deletions": 7, "lines": 17}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/services/XMLFormatterTest.java", "insertions": 13, "deletions": 0, "lines": 13}], "commitSpoonAstDiffStats": [{"spoonFilePath": "XMLFormatter.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.services.XMLFormatter.format(org.eclipse.lsp4xml.dom.Node,int,int,org.eclipse.lsp4xml.utils.XMLBuilder)", "TOT": 11, "UPD": 2, "INS": 2, "MOV": 5, "DEL": 2}]}, {"spoonFilePath": "XMLFormatterTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.services.XMLFormatterTest.endTagMissing()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["9de81f06ee08a46024b73d2d261d747f71bd5861"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 10, "deletions": 7, "lines": 17, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 11, "UPD": 2, "INS": 2, "MOV": 5, "DEL": 2, "spoonFilesChanged": 1, "spoonMethodsChanged": 1}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services"], "changesInPackagesSPOON": ["org.eclipse.lsp4xml.services.XMLFormatter.format(org.eclipse.lsp4xml.dom.Node,int,int,org.eclipse.lsp4xml.utils.XMLBuilder)"]}, {"title": "\"xml.format.splitAttributes\": true should ignore prolog and processing instructions", "body": "```xml\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<beans\r\n\txmlns=\"http://www.springframework.org/schema/beans\"\r\n\txsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\"\r\n\txmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"></beans>\r\n```\r\n\r\nis formatted to \r\n\r\n```xml\r\n<?xml version=\"1.0\"\r\n encoding=\"UTF-8\"?>\r\n<beans xmlns=\"http://www.springframework.org/schema/beans\"\r\n xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\"\r\n xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"></beans>\r\n```\r\n\r\nEclipse ignores prolog and processing instructions during formatting, which I think is the least surprising/annoying thing to do.", "url": "https://github.com/eclipse/lemminx/issues/99", "user": "fbricon", "labels": ["bug", "formatting", "in progress"], "created": "2018-09-07 19:17:21", "closed": "2018-09-10 21:48:16", "commits": {}, "ttf": 3.000277777777778, "commitsDetails": []}, {"title": "formatting removes ending slash from empty xml elements", "body": "When there are empty elements in the xml document, the ending slash is removed after formatting is applied. I have observed this using t VS code plugin.\r\n\r\nA document like this (notice the empty elements such as the from and the log)\r\n```xml\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<beans xmlns:context=\"http://www.springframework.org/schema/context\" xmlns=\"http://www.springframework.org/schema/beans\" xsi:schemaLocation=\"\r\n       http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\n       http://camel.apache.org/schema/spring http://camel.apache.org/schema/spring/camel-spring.xsd\r\n       http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\r\n       http://camel.apache.org/schema/cxf http://camel.apache.org/schema/cxf/camel-cxf.xsd\r\n       \" xmlns:cxf=\"http://camel.apache.org/schema/cxf\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\">\r\n    \r\n    <camelContext xmlns=\"http://camel.apache.org/schema/spring\" id=\"test\">\r\n        <route id=\"http-receiver\">\r\n            <from id=\"http-receiver-starter\" uri=\"servlet://ping\" />\r\n            <log message=\"toto\"/>\r\n        </route>\r\n    </camelContext>\r\n</beans>\r\n```\r\nAfter formatting it removes the ending slash of the empty elements\r\nIt turns into this and this xml is no longer valid : \r\n\r\n```xml\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<beans xmlns:context=\"http://www.springframework.org/schema/context\" xmlns=\"http://www.springframework.org/schema/beans\" xsi:schemaLocation=\"\r\n       http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\n       http://camel.apache.org/schema/spring http://camel.apache.org/schema/spring/camel-spring.xsd\r\n       http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\r\n       http://camel.apache.org/schema/cxf http://camel.apache.org/schema/cxf/camel-cxf.xsd\r\n       \" xmlns:cxf=\"http://camel.apache.org/schema/cxf\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\">\r\n    \r\n<camelContext xmlns=\"http://camel.apache.org/schema/spring\" id=\"test\">\r\n    <route id=\"http-receiver\">\r\n        <from id=\"http-receiver-starter\" uri=\"servlet://ping\">\r\n        <log message=\"toto\">\r\n    </route>\r\n</camelContext>\r\n</beans>\r\n```\r\n\r\n\r\n", "url": "https://github.com/eclipse/lemminx/issues/96", "user": "alainpham", "labels": ["bug"], "created": "2018-09-07 10:55:41", "closed": "2018-09-07 13:19:31", "commits": {"2481c60bb5c834a7759cdb45f9b56bfb2a0ec994": {"commitGHEventType": "closed", "commitUser": "angelozerr"}}, "ttf": 0.0002777777777777778, "commitsDetails": [{"commitHash": "2481c60bb5c834a7759cdb45f9b56bfb2a0ec994", "commitGHEventType": "closed", "commitUser": "angelozerr", "commitParents": ["2e152f52421dd0cb552d4fddf16ebe77384dcbcf"], "nameRev": "2481c60bb5c834a7759cdb45f9b56bfb2a0ec994 tags/v0.0.1~92", "commitMessage": "Fix #96", "commitDateTime": "2018-09-07 15:19:26", "authoredDateTime": "2018-09-07 15:19:26", "commitGitStats": [{"filePath": "extensions/org.eclipse.lsp4xml.emmet/src/test/java/org/eclipse/lsp4xml/emmet/participants/EmmetCompletionTest.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/XMLLanguageServer.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/XMLTextDocumentService.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/contentmodel/model/CMDocument.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/contentmodel/model/ContentModelManager.java", "insertions": 4, "deletions": 4, "lines": 8}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/contentmodel/participants/ContentModelCodeActionParticipant.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/contentmodel/participants/ContentModelCompletionParticipant.java", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/contentmodel/participants/ContentModelHoverParticipant.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/contentmodel/participants/XMLSchemaErrorCode.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/contentmodel/participants/XMLSyntaxErrorCode.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/contentmodel/participants/codeactions/CVCComplexType23CodeAction.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/contentmodel/participants/codeactions/ElementUnterminatedCodeAction.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/contentmodel/participants/diagnostics/ContentModelDiagnosticsParticipant.java", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/contentmodel/participants/diagnostics/LSPErrorReporter.java", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/contentmodel/participants/diagnostics/XMLValidator.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/contentmodel/xsd/XSDDocument.java", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/{model => dom}/Attr.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/{model => dom}/Element.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/{model => dom}/NoNamespaceSchemaLocation.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/{model => dom}/Node.java", "insertions": 16, "deletions": 2, "lines": 18}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/{model => dom}/SchemaLocation.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/{model => dom}/XMLDocument.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/{internal/parser => dom}/XMLParser.java", "insertions": 6, "deletions": 5, "lines": 11}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/AbstractPositionRequest.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/CompletionRequest.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/HoverRequest.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/XMLCodeActions.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/XMLCompletions.java", "insertions": 4, "deletions": 4, "lines": 8}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/XMLFormatter.java", "insertions": 40, "deletions": 20, "lines": 60}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/XMLHighlighting.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/XMLHover.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/XMLLanguageService.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/XMLSymbolsProvider.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/extensions/CodeActionParticipantAdapter.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/extensions/ICodeActionParticipant.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/extensions/IPositionRequest.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/utils/XMLPositionUtility.java", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/XMLAssert.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/{internal/parser => dom}/XMLDocumentTest.java", "insertions": 3, "deletions": 2, "lines": 5}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/{internal/parser => dom}/XMLParserTest.java", "insertions": 4, "deletions": 3, "lines": 7}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/services/XMLCompletionTest.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/services/XMLFormatterTest.java", "insertions": 38, "deletions": 9, "lines": 47}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/services/XMLHighlightingTest.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/services/XMLRenameTest.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/services/XMLSymbolsTest.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/services/extensions/HTMLCompletionExtensionsTest.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/services/extensions/HTMLHoverExtensionsTest.java", "insertions": 2, "deletions": 2, "lines": 4}], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": "tooManyFiles"}], "filteredCommits": ["2481c60bb5c834a7759cdb45f9b56bfb2a0ec994"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 118, "deletions": 83, "lines": 201, "gitFilesChange": 36}, "spoonStatsSummary": {}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/{model => dom}", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/contentmodel/participants/diagnostics", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/contentmodel/model", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/extensions", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/contentmodel/participants/codeactions", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/utils", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/contentmodel/participants", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/{internal/parser => dom}", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/contentmodel/xsd"]}, {"title": "Formatting removes DTD", "body": "Formatting \r\n```xml\r\n<!DOCTYPE web-app PUBLIC\r\n \"-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN\"\r\n \"http://java.sun.com/dtd/web-app_2_3.dtd\" >\r\n\r\n<web-app>\r\n  <display-name>Servlet 2.3 Web Application</display-name>\r\n</web-app>\r\n```\r\nremoves the DTD!:\r\n```xml\r\n<web-app>\r\n  <display-name>Servlet 2.3 Web Application</display-name>\r\n</web-app>\r\n```\r\n", "url": "https://github.com/eclipse/lemminx/issues/90", "user": "fbricon", "labels": ["DTD", "bug", "formatting"], "created": "2018-09-02 23:42:53", "closed": "2018-09-08 09:06:55", "commits": {}, "ttf": 5.000277777777778, "commitsDetails": []}, {"title": "Processing instruction errors not reported if followed by another processing instruction", "body": "Given a document containing 2 processing instructions (PI), the 1st malformed PI is not reported as an error \r\n```xml\r\n<?xml-stylesheet type=\"text/xsl\" href=\"style.xsl\"? //should fail here\r\n<?xml-stylesheet type=\"text/css\" href=\"style.css\"?>\r\n```", "url": "https://github.com/eclipse/lemminx/issues/89", "user": "fbricon", "labels": ["bug", "validation"], "created": "2018-09-02 23:36:09", "closed": "2018-10-17 14:02:12", "commits": {}, "ttf": 44.000277777777775, "commitsDetails": []}, {"title": "Duplicate completion proposals", "body": "Completion proposals to close tags are duplicated:\r\n\r\n<img width=\"685\" alt=\"screen shot 2018-09-02 at 7 17 15 pm\" src=\"https://user-images.githubusercontent.com/148698/44961795-ee625b80-aee4-11e8-9b5a-0db45a2c83bd.png\">\r\n", "url": "https://github.com/eclipse/lemminx/issues/88", "user": "fbricon", "labels": ["bug", "completion", "invalid"], "created": "2018-09-02 23:19:11", "closed": "2018-09-03 15:13:25", "commits": {}, "ttf": 0.0002777777777777778, "commitsDetails": []}, {"title": "Same error reported twice on unclosed tag", "body": "Try this snippet:\r\n```xml\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<site>\r\n   <bundle id=\"foo\" version=\"1.0.0.qualifier\"/\r\n</site>\r\n```\r\nSame error message is reported twice, at the beginning and the end of the offending tag:\r\n- `Element type \"bundle\" must be followed by either attribute specifications, \">\" or \"/>\".` (3, 5)\r\n- `Element type \"bundle\" must be followed by either attribute specifications, \">\" or \"/>\".` (3, 69)\r\n\r\n<img width=\"820\" alt=\"screen shot 2018-09-02 at 7 07 51 pm\" src=\"https://user-images.githubusercontent.com/148698/44961721-b60e4d80-aee3-11e8-8657-05ead97afc91.png\">\r\n", "url": "https://github.com/eclipse/lemminx/issues/87", "user": "fbricon", "labels": ["bug", "invalid", "validation"], "created": "2018-09-02 23:12:59", "closed": "2018-09-03 15:14:19", "commits": {}, "ttf": 0.0002777777777777778, "commitsDetails": []}, {"title": "Maven wrapper breaks the build", "body": "Build failed every time https://travis-ci.org/angelozerr/lsp4xml/builds/422519278?utm_source=email&utm_medium=notification because of \r\n\r\n```\r\n3.45s$ ./mvnw install -DskipTests=true -Dmaven.javadoc.skip=true -B -V\r\n--2018-08-30 12:05:36--  https://repo.maven.apache.org/maven2/io/takari/maven-wrapper/0.4.2/maven-wrapper-0.4.2.jar\r\nResolving repo.maven.apache.org (repo.maven.apache.org)... 151.101.20.215\r\nConnecting to repo.maven.apache.org (repo.maven.apache.org)|151.101.20.215|:443... connected.\r\nHTTP request sent, awaiting response... 403 Forbidden\r\n2018-08-30 12:05:36 ERROR 403: Forbidden.\r\n```\r\n\r\n@fbricon have you an idea about this problem?", "url": "https://github.com/eclipse/lemminx/issues/79", "user": "angelozerr", "labels": ["bug", "not reproducible"], "created": "2018-08-30 12:10:29", "closed": "2018-09-02 23:01:43", "commits": {}, "ttf": 3.000277777777778, "commitsDetails": []}, {"title": "Basic Validation response sent twice if auto save is on", "body": "Not sure about schema validation", "url": "https://github.com/eclipse/lemminx/issues/77", "user": "NikolasKomonen", "labels": ["bug"], "created": "2018-08-28 20:42:41", "closed": "2018-09-20 15:36:46", "commits": {}, "ttf": 22.00027777777778, "commitsDetails": []}, {"title": "Comments are not considered in Formatting", "body": "The XMLScanner is setup for comments, but it is not handled in XMLFormatting, formatting will remove the comments. \r\n\r\nTo fix add consideration of comments in XMLParser", "url": "https://github.com/eclipse/lemminx/issues/74", "user": "NikolasKomonen", "labels": ["bug", "formatting", "in progress"], "created": "2018-08-22 20:37:55", "closed": "2018-09-07 19:31:16", "commits": {}, "ttf": 15.000277777777777, "commitsDetails": []}, {"title": "Scanner does not handle unclosed tags well", "body": "If a tag is not properly closed eg `<tag </tag>` the scanner will not be smart enough to recognise the start of a new tag.\r\n\r\nThe scanner should search for the closing tag, while also checking if it sees a new opening tag.\r\nThis will be helpful since it will indicate and un-closed tag to every service that uses the Scanner and will prevent incorrect Node structures, Incorrect Document Validations, Formatting...\r\n\r\nAt most the Scanner will return the new opening bracket Token (eg '<') instead of the wrong closing bracket Token.", "url": "https://github.com/eclipse/lemminx/issues/45", "user": "NikolasKomonen", "labels": ["bug"], "created": "2018-08-09 14:17:03", "closed": "2018-09-05 14:43:36", "commits": {}, "ttf": 27.00027777777778, "commitsDetails": []}, {"title": "Don't log to System.err/out", "body": "... or call exception.printStackTrace();\r\n\r\nstdio is used to exchange messages with the client. Logging to standard streams will break the client/server communication.\r\n\r\nEither log messages via a logging facade (slf4j?) to a log file, and/or log messages to the client", "url": "https://github.com/eclipse/lemminx/issues/19", "user": "fbricon", "labels": ["bug"], "created": "2018-07-09 18:25:15", "closed": "2018-08-17 15:23:17", "commits": {}, "ttf": 38.000277777777775, "commitsDetails": []}, {"title": "Cache doesn't seem to work for web.xml", "body": "With the following web.xml:\r\n```xml\r\n<web-app\r\n        xmlns=\"http://xmlns.jcp.org/xml/ns/javaee\"\r\n        xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\r\n        xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/javaee \r\n\t\t http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd\"\r\n        version=\"3.1\">\r\n\r\n</web-app>\r\n```\r\nvalidation is very slow to kick in. Every time the vscode-xml extension is restarted, the 1st time the web.xml is accessed, it's still super slow. Looks like it doesn't leverage the caching mechanism (no web-app_3_1.xsd stored in ~/.lsp4xml).\r\n\r\nMoreover, once the validation eventually kicks in, autocompletion doesn't provide the expected results. You need to close/reopen the file for it to work.\r\n\r\n", "url": "https://github.com/eclipse/lemminx/issues/176", "user": "fbricon", "labels": ["completion", "not a bug", "validation"], "created": "2018-10-28 16:05:36", "closed": "2018-10-28 18:42:46", "commits": {}, "ttf": 0.0002777777777777778, "commitsDetails": []}, {"title": "Formatting ignores some indentation within node", "body": "Here's a document using spaces for content and tab indentation in the attribute list:\r\n```xml\r\n<web-app xmlns=\"http://xmlns.jcp.org/xml/ns/javaee\"\r\n\t\t xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\r\n\t\t xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/javaee \r\n\t\t http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd\"\r\n         version=\"3.1\">\r\n<context-param>\r\n    <description>param description</description>\r\n    <param-name>name</param-name>\r\n    <param-value>value</param-value>\r\n</context-param>\r\n</web-app>\r\n```\r\nThe document is supposed to be formatted with spaces. \r\nWhen calling the formatting command, attributes are aligned except for the last one which keeps its tabs instead of spaces:\r\n```xml\r\n<web-app xmlns=\"http://xmlns.jcp.org/xml/ns/javaee\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/javaee \r\n\t\t http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd\" version=\"3.1\">\r\n    <context-param>\r\n        <description>param description</description>\r\n        <param-name>name</param-name>\r\n        <param-value>value</param-value>\r\n    </context-param>\r\n</web-app>\r\n```\r\n![format-mixed-indentation](https://user-images.githubusercontent.com/148698/46225293-c53bbc00-c326-11e8-884c-eb58822344dd.gif)\r\n", "url": "https://github.com/eclipse/lemminx/issues/153", "user": "fbricon", "labels": ["formatting", "not a bug"], "created": "2018-09-28 18:00:22", "closed": "2018-10-05 20:23:51", "commits": {}, "ttf": 7.000277777777778, "commitsDetails": []}, {"title": "NPE in ContentModelCompletionParticipant.addCompletionItem", "body": "Given the following xml:\r\n\r\n```xml\r\n<!DOCTYPE web-app PUBLIC \"-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN\" \"http://java.sun.com/dtd/web-app_2_3.dtd\"[\r\n<!ENTITY mdash \"&#x2014;\">\r\n]>\r\nm| \r\n<web-app>\r\n  <display-name>Servlet 2.3 Web Application</display-name>\r\n</web-app>\r\n```\r\n\r\n when typing anything outside the nodes, I get an NPE:\r\n\r\n```\r\n[Error - 2:10:18 PM] May 25, 2020 02:10:18 org.eclipse.lemminx.services.XMLCompletions collectOpenTagSuggestions()\r\nMessage: While performing ICompletionParticipant#onTagOpen\r\njava.lang.IllegalArgumentException: Property must not be null: label\r\n\tat org.eclipse.lsp4j.util.Preconditions.checkNotNull(Preconditions.java:29)\r\n\tat org.eclipse.lsp4j.CompletionItem.<init>(CompletionItem.java:144)\r\n\tat org.eclipse.lemminx.extensions.contentmodel.participants.ContentModelCompletionParticipant.addCompletionItem(ContentModelCompletionParticipant.java:244)\r\n\tat org.eclipse.lemminx.extensions.contentmodel.participants.ContentModelCompletionParticipant.fillWithChildrenElementDeclaration(ContentModelCompletionParticipant.java:183)\r\n\tat org.eclipse.lemminx.extensions.contentmodel.participants.ContentModelCompletionParticipant.onTagOpen(ContentModelCompletionParticipant.java:65)\r\n\tat org.eclipse.lemminx.services.XMLCompletions.collectOpenTagSuggestions(XMLCompletions.java:608)\r\n\tat org.eclipse.lemminx.services.XMLCompletions.collectInsideContent(XMLCompletions.java:733)\r\n\tat org.eclipse.lemminx.services.XMLCompletions.doComplete(XMLCompletions.java:224)\r\n\tat org.eclipse.lemminx.services.XMLLanguageService.doComplete(XMLLanguageService.java:139)\r\n\tat org.eclipse.lemminx.XMLTextDocumentService.lambda$completion$1(XMLTextDocumentService.java:189)\r\n\tat java.base/java.util.concurrent.CompletableFuture.biApply(CompletableFuture.java:1307)\r\n\tat java.base/java.util.concurrent.CompletableFuture$BiApply.tryFire(CompletableFuture.java:1276)\r\n\tat java.base/java.util.concurrent.CompletableFuture$Completion.exec(CompletableFuture.java:479)\r\n\tat java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:290)\r\n\tat java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1016)\r\n\tat java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1665)\r\n\tat java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1598)\r\n\tat java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:177)\r\n```\r\n\r\nThere's no issue with vscode-xml 0.11.0, so it's a regression", "url": "https://github.com/eclipse/lemminx/issues/720", "user": "fbricon", "labels": ["bug", "completion", "regression"], "created": "2020-05-25 12:28:57", "closed": "2020-05-25 14:58:26", "commits": {"afa277fe59925bcb977408fba717da7544ad13e7": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "dbbbf8e08420164f4484b3659ebb0f00247d7711": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "9a5bf7df2b964f70f90898756638a7ca68bd6866": {"commitGHEventType": "referenced", "commitUser": "fbricon"}}, "ttf": 0.0002777777777777778, "commitsDetails": [{"commitHash": "afa277fe59925bcb977408fba717da7544ad13e7", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "dbbbf8e08420164f4484b3659ebb0f00247d7711", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "9a5bf7df2b964f70f90898756638a7ca68bd6866", "commitGHEventType": "referenced", "commitUser": "fbricon", "commitParents": ["034b2b3e2246f83765e5a8aa7626fe4c35127bbb"], "nameRev": "9a5bf7df2b964f70f90898756638a7ca68bd6866 tags/0.12.0~32", "commitMessage": "NPE in ContentModelCompletionParticipant.addCompletionItem\n\nFixes #720\n\nSigned-off-by: azerr <azerr@redhat.com>", "commitDateTime": "2020-05-25 16:58:25", "authoredDateTime": "2020-05-25 14:54:54", "commitGitStats": [{"filePath": "org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/extensions/dtd/contentmodel/CMDTDDocument.java", "insertions": 6, "deletions": 3, "lines": 9}, {"filePath": "org.eclipse.lemminx/src/test/java/org/eclipse/lemminx/extensions/contentmodel/DTDCompletionExtensionsTest.java", "insertions": 30, "deletions": 0, "lines": 30}], "commitSpoonAstDiffStats": [{"spoonFilePath": "CMDTDDocument.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lemminx.extensions.dtd.contentmodel.CMDTDDocument.getElements()", "TOT": 3, "UPD": 0, "INS": 1, "MOV": 2, "DEL": 0}]}, {"spoonFilePath": "DTDCompletionExtensionsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lemminx.extensions.contentmodel.DTDCompletionExtensionsTest.elementCompletionWithDoctypeSubsetWithNoElements()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lemminx.extensions.contentmodel.DTDCompletionExtensionsTest.attributeCompletionWithDoctypeSubsetWithNoElements()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["9a5bf7df2b964f70f90898756638a7ca68bd6866"], "filteredCommitsReason": {"duplicated": 2, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 6.0, "deletions": 3.0, "lines": 9.0, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 3.0, "UPD": 0.0, "INS": 1.0, "MOV": 2.0, "DEL": 0.0, "spoonFilesChanged": 1, "spoonMethodsChanged": 1}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lemminx/src/main/java/org/eclipse/lemminx/extensions/dtd/contentmodel"], "changesInPackagesSPOON": ["org.eclipse.lemminx.extensions.dtd.contentmodel.CMDTDDocument.getElements()"]}, {"title": "Closing CDATA tag throws exception", "body": "With lsp4xml 0.5.0 from master, given\r\n```xml\r\n<script>\r\n   <![CDATA[\r\n      <message>Foo</message>\r\n   ]]\r\n</script>\r\n```\r\nwhen you type the closing bracket on L4, an exception is thrown:\r\n\r\n```\r\nMessage: Internal error: java.lang.ClassCastException: org.eclipse.lsp4xml.dom.DOMCDATASection cannot be cast to org.eclipse.lsp4xml.dom.DOMElement\r\njava.util.concurrent.CompletionException: java.lang.ClassCastException: org.eclipse.lsp4xml.dom.DOMCDATASection cannot be cast to org.eclipse.lsp4xml.dom.DOMElement\r\n\tat java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:273)\r\n\tat java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:280)\r\n\tat java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:604)\r\n\tat java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:577)\r\n\tat java.util.concurrent.CompletableFuture$Completion.exec(CompletableFuture.java:443)\r\n\tat java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)\r\n\tat java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)\r\n\tat java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)\r\n\tat java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)\r\nCaused by: java.lang.ClassCastException: org.eclipse.lsp4xml.dom.DOMCDATASection cannot be cast to org.eclipse.lsp4xml.dom.DOMElement\r\n\tat org.eclipse.lsp4xml.services.XMLCompletions.doTagComplete(XMLCompletions.java:341)\r\n\tat org.eclipse.lsp4xml.services.XMLLanguageService.doTagComplete(XMLLanguageService.java:193)\r\n\tat org.eclipse.lsp4xml.services.XMLLanguageService.doAutoClose(XMLLanguageService.java:203)\r\n\tat org.eclipse.lsp4xml.XMLLanguageServer.lambda$closeTag$1(XMLLanguageServer.java:211)\r\n\tat java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:602)\r\n\t... 6 more\r\n\r\n```\r\n\r\nThere's no such error in lsp4xml 0.4.0", "url": "https://github.com/eclipse/lemminx/issues/341", "user": "fbricon", "labels": ["bug", "completion", "regression"], "created": "2019-04-03 20:17:24", "closed": "2019-04-04 15:30:13", "commits": {"a40a9e16ef975df573aba2d6b6bb645dbe267c95": {"commitGHEventType": "referenced", "commitUser": "fbricon"}}, "ttf": 0.0002777777777777778, "commitsDetails": [{"commitHash": "a40a9e16ef975df573aba2d6b6bb645dbe267c95", "commitGHEventType": "referenced", "commitUser": "fbricon", "commitParents": ["60639926ea1c323d0acce72cfd1b10baf0241b2b"], "nameRev": "a40a9e16ef975df573aba2d6b6bb645dbe267c95 tags/0.5.0~3", "commitMessage": "CDATA npe\n\nFixes #341\n\nSigned-off-by: Nikolas Komonen <nikolaskomonen@gmail.com>\n", "commitDateTime": "2019-04-04 11:30:12", "authoredDateTime": "2019-04-04 09:12:25", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/XMLCompletions.java", "insertions": 3, "deletions": 0, "lines": 3}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/services/XMLCompletionTest.java", "insertions": 9, "deletions": 0, "lines": 9}], "commitSpoonAstDiffStats": [{"spoonFilePath": "XMLCompletions.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.services.XMLCompletions.doTagComplete(org.eclipse.lsp4xml.dom.DOMDocument,org.eclipse.lsp4j.Position)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLCompletionTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.services.XMLCompletionTest.testnoCDATANPE()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["a40a9e16ef975df573aba2d6b6bb645dbe267c95"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 3, "deletions": 0, "lines": 3, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0, "spoonFilesChanged": 1, "spoonMethodsChanged": 1}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services"], "changesInPackagesSPOON": ["org.eclipse.lsp4xml.services.XMLCompletions.doTagComplete(org.eclipse.lsp4xml.dom.DOMDocument,org.eclipse.lsp4j.Position)"]}, {"title": "Server goes into an infinite loop when typing `<` in an empty dtd file", "body": "Server goes into an infinite loop when typing `<` in an empty dtd file. jstack shows:\r\n\r\n```\r\n2018-12-18 01:01:28\r\nFull thread dump Java HotSpot(TM) 64-Bit Server VM (25.141-b15 mixed mode):\r\n\r\n\"ForkJoinPool.commonPool-worker-0\" #29 daemon prio=5 os_prio=31 tid=0x00007fc67d2e9800 nid=0x100f waiting on condition [0x0000700005a87000]\r\n   java.lang.Thread.State: WAITING (parking)\r\n\tat sun.misc.Unsafe.park(Native Method)\r\n\t- parking to wait for  <0x00000007bc541ab8> (a java.util.concurrent.ForkJoinPool)\r\n\tat java.util.concurrent.ForkJoinPool.awaitWork(ForkJoinPool.java:1824)\r\n\tat java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1693)\r\n\tat java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)\r\n\r\n\"ForkJoinPool.commonPool-worker-3\" #28 daemon prio=5 os_prio=31 tid=0x00007fc67d0f0800 nid=0x5b0f runnable [0x0000700005983000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\tat org.eclipse.lsp4xml.dom.DOMNode.getParentElement(DOMNode.java:389)\r\n\tat org.eclipse.lsp4xml.services.AbstractPositionRequest.getParentElement(AbstractPositionRequest.java:57)\r\n\tat org.eclipse.lsp4xml.extensions.contentmodel.participants.ContentModelCompletionParticipant.onTagOpen(ContentModelCompletionParticipant.java:46)\r\n\tat org.eclipse.lsp4xml.services.XMLCompletions.collectOpenTagSuggestions(XMLCompletions.java:375)\r\n\tat org.eclipse.lsp4xml.services.XMLCompletions.collectInsideContent(XMLCompletions.java:542)\r\n\tat org.eclipse.lsp4xml.services.XMLCompletions.doComplete(XMLCompletions.java:205)\r\n\tat org.eclipse.lsp4xml.services.XMLLanguageService.doComplete(XMLLanguageService.java:103)\r\n\tat org.eclipse.lsp4xml.XMLTextDocumentService.lambda$completion$1(XMLTextDocumentService.java:192)\r\n\tat org.eclipse.lsp4xml.XMLTextDocumentService$$Lambda$46/2027672026.apply(Unknown Source)\r\n\tat java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:602)\r\n\tat java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:577)\r\n\tat java.util.concurrent.CompletableFuture$Completion.exec(CompletableFuture.java:443)\r\n\tat java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)\r\n\tat java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)\r\n\tat java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)\r\n\tat java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)\r\n\r\n\"ForkJoinPool.commonPool-worker-2\" #27 daemon prio=5 os_prio=31 tid=0x00007fc67b924000 nid=0x9a0f runnable [0x0000700005880000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\tat org.eclipse.lsp4xml.dom.DOMNode.getParentElement(DOMNode.java:389)\r\n\tat org.eclipse.lsp4xml.services.AbstractPositionRequest.getParentElement(AbstractPositionRequest.java:57)\r\n\tat org.eclipse.lsp4xml.extensions.contentmodel.participants.ContentModelCompletionParticipant.onTagOpen(ContentModelCompletionParticipant.java:46)\r\n\tat org.eclipse.lsp4xml.services.XMLCompletions.collectOpenTagSuggestions(XMLCompletions.java:375)\r\n\tat org.eclipse.lsp4xml.services.XMLCompletions.collectInsideContent(XMLCompletions.java:542)\r\n\tat org.eclipse.lsp4xml.services.XMLCompletions.doComplete(XMLCompletions.java:205)\r\n\tat org.eclipse.lsp4xml.services.XMLLanguageService.doComplete(XMLLanguageService.java:103)\r\n\tat org.eclipse.lsp4xml.XMLTextDocumentService.lambda$completion$1(XMLTextDocumentService.java:192)\r\n\tat org.eclipse.lsp4xml.XMLTextDocumentService$$Lambda$46/2027672026.apply(Unknown Source)\r\n\tat java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:602)\r\n\tat java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:577)\r\n\tat java.util.concurrent.CompletableFuture$Completion.exec(CompletableFuture.java:443)\r\n\tat java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)\r\n\tat java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)\r\n\tat java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)\r\n\tat java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)\r\n\r\n\"Attach Listener\" #20 daemon prio=9 os_prio=31 tid=0x00007fc67d26a800 nid=0x9d07 waiting on condition [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\r\n\"pool-2-thread-1\" #16 prio=5 os_prio=31 tid=0x00007fc67b8f2800 nid=0x5903 waiting on condition [0x000070000567b000]\r\n   java.lang.Thread.State: WAITING (parking)\r\n\tat sun.misc.Unsafe.park(Native Method)\r\n\t- parking to wait for  <0x00000007bc54e418> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\r\n\tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\r\n\tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1081)\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)\r\n\tat java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n\r\n\"DestroyJavaVM\" #15 prio=5 os_prio=31 tid=0x00007fc67d002800 nid=0x1803 waiting on condition [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\r\n\"pool-3-thread-1\" #14 prio=5 os_prio=31 tid=0x00007fc67b8db800 nid=0x5803 runnable [0x0000700005578000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\tat java.io.FileInputStream.readBytes(Native Method)\r\n\tat java.io.FileInputStream.read(FileInputStream.java:255)\r\n\tat java.io.BufferedInputStream.fill(BufferedInputStream.java:246)\r\n\tat java.io.BufferedInputStream.read(BufferedInputStream.java:265)\r\n\t- locked <0x00000007bc582168> (a java.io.BufferedInputStream)\r\n\tat org.eclipse.lsp4j.jsonrpc.json.StreamMessageProducer.listen(StreamMessageProducer.java:79)\r\n\tat org.eclipse.lsp4j.jsonrpc.json.ConcurrentMessageProcessor.run(ConcurrentMessageProcessor.java:99)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n\r\n\"pool-4-thread-1\" #13 prio=5 os_prio=31 tid=0x00007fc67c93b800 nid=0x9f03 waiting on condition [0x0000700005475000]\r\n   java.lang.Thread.State: TIMED_WAITING (parking)\r\n\tat sun.misc.Unsafe.park(Native Method)\r\n\t- parking to wait for  <0x00000007bc582410> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\r\n\tat java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)\r\n\tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)\r\n\tat java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n\r\n\"Service Thread\" #11 daemon prio=9 os_prio=31 tid=0x00007fc67c03c800 nid=0xa203 runnable [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\r\n\"C1 CompilerThread2\" #10 daemon prio=9 os_prio=31 tid=0x00007fc67c03c000 nid=0xa403 waiting on condition [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\r\n\"C2 CompilerThread1\" #9 daemon prio=9 os_prio=31 tid=0x00007fc67b832000 nid=0xa603 waiting on condition [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\r\n\"C2 CompilerThread0\" #8 daemon prio=9 os_prio=31 tid=0x00007fc67c04d800 nid=0xa803 waiting on condition [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\r\n\"JDWP Event Helper Thread\" #7 daemon prio=10 os_prio=31 tid=0x00007fc67c04c800 nid=0x5503 runnable [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\r\n\"JDWP Transport Listener: dt_socket\" #6 daemon prio=10 os_prio=31 tid=0x00007fc67c04c000 nid=0x3e07 runnable [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\r\n\"Signal Dispatcher\" #5 daemon prio=9 os_prio=31 tid=0x00007fc67c846000 nid=0x3d03 runnable [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\r\n\"Surrogate Locker Thread (Concurrent GC)\" #4 daemon prio=9 os_prio=31 tid=0x00007fc67c824000 nid=0x3b03 waiting on condition [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\r\n\"Finalizer\" #3 daemon prio=8 os_prio=31 tid=0x00007fc67b831800 nid=0x4603 in Object.wait() [0x0000700004a57000]\r\n   java.lang.Thread.State: WAITING (on object monitor)\r\n\tat java.lang.Object.wait(Native Method)\r\n\t- waiting on <0x00000007bc5832c8> (a java.lang.ref.ReferenceQueue$Lock)\r\n\tat java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:143)\r\n\t- locked <0x00000007bc5832c8> (a java.lang.ref.ReferenceQueue$Lock)\r\n\tat java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:164)\r\n\tat java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:209)\r\n\r\n\"Reference Handler\" #2 daemon prio=10 os_prio=31 tid=0x00007fc67b829000 nid=0x3503 in Object.wait() [0x0000700004954000]\r\n   java.lang.Thread.State: WAITING (on object monitor)\r\n\tat java.lang.Object.wait(Native Method)\r\n\t- waiting on <0x00000007bc583480> (a java.lang.ref.Reference$Lock)\r\n\tat java.lang.Object.wait(Object.java:502)\r\n\tat java.lang.ref.Reference.tryHandlePending(Reference.java:191)\r\n\t- locked <0x00000007bc583480> (a java.lang.ref.Reference$Lock)\r\n\tat java.lang.ref.Reference$ReferenceHandler.run(Reference.java:153)\r\n\r\n\"VM Thread\" os_prio=31 tid=0x00007fc67d02c800 nid=0x3403 runnable\r\n\r\n\"Gang worker#0 (Parallel GC Threads)\" os_prio=31 tid=0x00007fc67c803800 nid=0x1e07 runnable\r\n\r\n\"Gang worker#1 (Parallel GC Threads)\" os_prio=31 tid=0x00007fc67c812800 nid=0x2a03 runnable\r\n\r\n\"Gang worker#2 (Parallel GC Threads)\" os_prio=31 tid=0x00007fc67c813000 nid=0x2c03 runnable\r\n\r\n\"Gang worker#3 (Parallel GC Threads)\" os_prio=31 tid=0x00007fc67c814000 nid=0x5303 runnable\r\n\r\n\"G1 Main Concurrent Mark GC Thread\" os_prio=31 tid=0x00007fc67b80f000 nid=0x3103 runnable\r\n\r\n\"Gang worker#0 (G1 Parallel Marking Threads)\" os_prio=31 tid=0x00007fc67b810000 nid=0x4b03 runnable\r\n\r\n\"G1 Concurrent Refinement Thread#0\" os_prio=31 tid=0x00007fc67b807800 nid=0x4d03 runnable\r\n\r\n\"G1 Concurrent Refinement Thread#1\" os_prio=31 tid=0x00007fc67b807000 nid=0x3003 runnable\r\n\r\n\"G1 Concurrent Refinement Thread#2\" os_prio=31 tid=0x00007fc67c815000 nid=0x2f03 runnable\r\n\r\n\"G1 Concurrent Refinement Thread#3\" os_prio=31 tid=0x00007fc67b806000 nid=0x2e03 runnable\r\n\r\n\"G1 Concurrent Refinement Thread#4\" os_prio=31 tid=0x00007fc67c814800 nid=0x2d03 runnable\r\n\r\n\"String Deduplication Thread\" os_prio=31 tid=0x00007fc67c818800 nid=0x3303 runnable\r\n\r\n\"VM Periodic Task Thread\" os_prio=31 tid=0x00007fc67c03d800 nid=0xa103 waiting on condition\r\n\r\nJNI global references: 2535\r\n```\r\n\r\nThe issue is caused by:\r\nhttps://github.com/angelozerr/lsp4xml/blob/f4e8319ba63c970277469ccd3115cd6c1f96c096/org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/dom/DOMNode.java#L370-L378\r\n\r\nwhen parent.isElement() returns false, it goes back into the loop but the parent value is not updated, so it continues indefinitely\r\n", "url": "https://github.com/eclipse/lemminx/issues/266", "user": "fbricon", "labels": ["bug", "completion", "regression"], "created": "2018-12-18 06:24:17", "closed": "2018-12-18 06:31:28", "commits": {}, "ttf": 0.0002777777777777778, "commitsDetails": []}, {"title": "XSD Completion is a noticeably slower", "body": "See the lsp4xml pom.xml now \r\n![slow](https://user-images.githubusercontent.com/148698/48146988-440c0900-e284-11e8-9742-0c899ff45bee.gif)\r\n\r\n\r\nvs when using the previous 0.0.1:\r\n![fast](https://user-images.githubusercontent.com/148698/48146977-3bb3ce00-e284-11e8-8a13-8204a1a31288.gif)\r\n", "url": "https://github.com/eclipse/lemminx/issues/203", "user": "fbricon", "labels": ["completion", "performance", "regression"], "created": "2018-11-07 16:57:59", "closed": "2018-11-07 20:44:38", "commits": {"375286635eb729962600fc10701c0dd43e63aaba": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}}, "ttf": 0.0002777777777777778, "commitsDetails": [{"commitHash": "375286635eb729962600fc10701c0dd43e63aaba", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": ["a7ece105e709ae685398258fe5116cdaca1b130f"], "nameRev": "375286635eb729962600fc10701c0dd43e63aaba tags/v0.0.2~7", "commitMessage": "Cache XSD/DTD completion only for http, url (see #203)", "commitDateTime": "2018-11-07 21:15:33", "authoredDateTime": "2018-11-07 21:15:33", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/model/ContentModelManager.java", "insertions": 32, "deletions": 1, "lines": 33}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/uriresolver/CacheResourcesManager.java", "insertions": 14, "deletions": 10, "lines": 24}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/utils/FilesUtils.java", "insertions": 10, "deletions": 0, "lines": 10}], "commitSpoonAstDiffStats": [{"spoonFilePath": "ContentModelManager.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.model.ContentModelManager.findCMDocument(java.lang.String,java.lang.String,java.lang.String)", "TOT": 7, "UPD": 2, "INS": 1, "MOV": 4, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.model.ContentModelManager", "TOT": 2, "UPD": 0, "INS": 2, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "CacheResourcesManager.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.uriresolver.CacheResourcesManager.canUseCache(java.lang.String)", "TOT": 5, "UPD": 1, "INS": 0, "MOV": 2, "DEL": 2}]}, {"spoonFilePath": "FilesUtils.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.utils.FilesUtils.isRemoteResource(java.lang.String)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["375286635eb729962600fc10701c0dd43e63aaba"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 56, "deletions": 11, "lines": 67, "gitFilesChange": 3}, "spoonStatsSummary": {"TOT": 15, "UPD": 3, "INS": 4, "MOV": 6, "DEL": 2, "spoonFilesChanged": 3, "spoonMethodsChanged": 4}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/utils", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/model", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/uriresolver"], "changesInPackagesSPOON": ["org.eclipse.lsp4xml.extensions.contentmodel.model.ContentModelManager.findCMDocument(java.lang.String,java.lang.String,java.lang.String)", "org.eclipse.lsp4xml.uriresolver.CacheResourcesManager.canUseCache(java.lang.String)", "org.eclipse.lsp4xml.extensions.contentmodel.model.ContentModelManager", "org.eclipse.lsp4xml.utils.FilesUtils.isRemoteResource(java.lang.String)"]}, {"title": "[regression] catalog support broken by cache download", "body": "Initially opened in https://github.com/redhat-developer/vscode-xml/issues/78:\r\n\r\n\r\n> Testing the good old IBM examples https://raw.githubusercontent.com/microclimate-devops/xml-language-server/master/client-vscode/xml-client/readme-resources/examples.zip, I get no errors, but that diagnostic that won't go away:\r\n<img width=\"679\" alt=\"screen shot 2018-11-05 at 11 55 37 am\" src=\"https://user-images.githubusercontent.com/148698/48013215-d0d28d80-e0f1-11e8-99ff-70172c9da825.png\">\r\n\r\n>  I set \r\n\r\n```json\r\n    \"xml.catalogs\": [\r\n        \"catalog/catalog.xml\"\r\n    ],\r\n``` \r\n\r\nto which @angelozerr replied\r\n\r\n> The problem comes from cache resolver which is executed before catalog te resolver. More there is \u00e0 bug with cache when download fails. Validation is triggered every time.", "url": "https://github.com/eclipse/lemminx/issues/195", "user": "fbricon", "labels": ["XSD", "bug", "regression"], "created": "2018-11-05 18:39:31", "closed": "2018-11-06 16:12:50", "commits": {"0796608e831b0a699f44ae3b58528828f06e8dc1": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}, "2a67ab48a16b1b898be258366130d24ea9d75321": {"commitGHEventType": "referenced", "commitUser": "angelozerr"}}, "ttf": 0.0002777777777777778, "commitsDetails": [{"commitHash": "0796608e831b0a699f44ae3b58528828f06e8dc1", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": ["6e06f247c72af798af62bde1447d587a04b8f729"], "nameRev": "0796608e831b0a699f44ae3b58528828f06e8dc1 tags/v0.0.2~14", "commitMessage": "Stop revalidation when resource cannot be downloaded with cache + and\ntests (see #195)", "commitDateTime": "2018-11-06 15:34:11", "authoredDateTime": "2018-11-06 15:34:11", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/XMLTextDocumentService.java", "insertions": 6, "deletions": 27, "lines": 33}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services/XMLLanguageService.java", "insertions": 57, "deletions": 2, "lines": 59}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/uriresolver/CacheResourceDownloadedException.java", "insertions": 25, "deletions": 0, "lines": 25}, {"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/uriresolver/CacheResourcesManager.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/XMLAssert.java", "insertions": 59, "deletions": 8, "lines": 67}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/extensions/contentmodel/XMLSchemaPublishDiagnosticsTest.java", "insertions": 78, "deletions": 0, "lines": 78}], "commitSpoonAstDiffStats": [{"spoonFilePath": "XMLTextDocumentService.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.XMLTextDocumentService.triggerValidation(java.lang.String,int,org.eclipse.lsp4xml.XMLTextDocumentService$BasicCancelChecker)", "TOT": 10, "UPD": 4, "INS": 0, "MOV": 4, "DEL": 2}, {"spoonMethodName": "org.eclipse.lsp4xml.XMLTextDocumentService.triggerValidation(java.lang.String,int,org.eclipse.lsp4j.jsonrpc.CancelChecker)", "TOT": 2, "UPD": 0, "INS": 2, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLLanguageService.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.services.XMLLanguageService.publishDiagnostics(org.eclipse.lsp4xml.dom.XMLDocument,java.util.function.Consumer,java.util.function.BiConsumer,org.eclipse.lsp4j.jsonrpc.CancelChecker)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.services.XMLLanguageService.publishOneDiagnosticInRoot(org.eclipse.lsp4xml.dom.XMLDocument,java.lang.String,org.eclipse.lsp4j.DiagnosticSeverity,java.util.function.Consumer)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "CacheResourceDownloadedException.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.uriresolver.CacheResourceDownloadedException", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "CacheResourcesManager.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.uriresolver.CacheResourcesManager.downloadResource(java.lang.String,java.nio.file.Path)", "TOT": 2, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 1}]}, {"spoonFilePath": "XMLAssert.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.XMLAssert.assertDiagnostics(java.util.List,org.eclipse.lsp4j.Diagnostic[])", "TOT": 5, "UPD": 0, "INS": 1, "MOV": 4, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.XMLAssert.testPublishDiagnosticsFor(java.lang.String,java.lang.String,org.eclipse.lsp4j.PublishDiagnosticsParams[])", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.XMLAssert.publishDiagnostics(org.eclipse.lsp4xml.dom.XMLDocument,java.util.List,org.eclipse.lsp4xml.services.XMLLanguageService)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.XMLAssert.pd(java.lang.String,org.eclipse.lsp4j.Diagnostic[])", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.XMLAssert.assertDiagnostics(java.util.List,java.util.List,boolean)", "TOT": 5, "UPD": 0, "INS": 5, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLSchemaPublishDiagnosticsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.XMLSchemaPublishDiagnosticsTest", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "2a67ab48a16b1b898be258366130d24ea9d75321", "commitGHEventType": "referenced", "commitUser": "angelozerr", "commitParents": ["0796608e831b0a699f44ae3b58528828f06e8dc1"], "nameRev": "2a67ab48a16b1b898be258366130d24ea9d75321 tags/v0.0.2~13", "commitMessage": "Execute cache resolver after catalog resolver + write test (see #195)", "commitDateTime": "2018-11-06 15:53:08", "authoredDateTime": "2018-11-06 15:53:08", "commitGitStats": [{"filePath": "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/model/ContentModelManager.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "org.eclipse.lsp4xml/src/test/java/org/eclipse/lsp4xml/extensions/contentmodel/XMLSchemaPublishDiagnosticsTest.java", "insertions": 104, "deletions": 14, "lines": 118}, {"filePath": "org.eclipse.lsp4xml/src/test/resources/catalogs/catalog.xml", "insertions": 5, "deletions": 4, "lines": 9}], "commitSpoonAstDiffStats": [{"spoonFilePath": "ContentModelManager.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.model.ContentModelManager", "TOT": 2, "UPD": 0, "INS": 0, "MOV": 2, "DEL": 0}]}, {"spoonFilePath": "XMLSchemaPublishDiagnosticsTest.java", "spoonMethods": [{"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.XMLSchemaPublishDiagnosticsTest", "TOT": 2, "UPD": 0, "INS": 0, "MOV": 1, "DEL": 1}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.XMLSchemaPublishDiagnosticsTest.init()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.XMLSchemaPublishDiagnosticsTest.schemaWithUrlWithCacheAndWithCatalog()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.eclipse.lsp4xml.extensions.contentmodel.XMLSchemaPublishDiagnosticsTest.schemaWithUrlWithoutCacheAndWithCatalog()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["0796608e831b0a699f44ae3b58528828f06e8dc1", "2a67ab48a16b1b898be258366130d24ea9d75321"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 2, "gitStatsSummary": {"insertions": 91, "deletions": 32, "lines": 123, "gitFilesChange": 5}, "spoonStatsSummary": {"TOT": 32, "UPD": 4, "INS": 15, "MOV": 10, "DEL": 3, "spoonFilesChanged": 6, "spoonMethodsChanged": 12}, "statsSkippedReason": "", "changesInPackagesGIT": ["org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/services", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/uriresolver", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml", "org.eclipse.lsp4xml/src/main/java/org/eclipse/lsp4xml/extensions/contentmodel/model"], "changesInPackagesSPOON": ["org.eclipse.lsp4xml.uriresolver.CacheResourceDownloadedException", "org.eclipse.lsp4xml.XMLAssert.publishDiagnostics(org.eclipse.lsp4xml.dom.XMLDocument,java.util.List,org.eclipse.lsp4xml.services.XMLLanguageService)", "org.eclipse.lsp4xml.XMLTextDocumentService.triggerValidation(java.lang.String,int,org.eclipse.lsp4xml.XMLTextDocumentService$BasicCancelChecker)", "org.eclipse.lsp4xml.services.XMLLanguageService.publishOneDiagnosticInRoot(org.eclipse.lsp4xml.dom.XMLDocument,java.lang.String,org.eclipse.lsp4j.DiagnosticSeverity,java.util.function.Consumer)", "org.eclipse.lsp4xml.services.XMLLanguageService.publishDiagnostics(org.eclipse.lsp4xml.dom.XMLDocument,java.util.function.Consumer,java.util.function.BiConsumer,org.eclipse.lsp4j.jsonrpc.CancelChecker)", "org.eclipse.lsp4xml.extensions.contentmodel.model.ContentModelManager", "org.eclipse.lsp4xml.XMLAssert.assertDiagnostics(java.util.List,java.util.List,boolean)", "org.eclipse.lsp4xml.XMLAssert.assertDiagnostics(java.util.List,org.eclipse.lsp4j.Diagnostic[])", "org.eclipse.lsp4xml.XMLAssert.pd(java.lang.String,org.eclipse.lsp4j.Diagnostic[])", "org.eclipse.lsp4xml.XMLAssert.testPublishDiagnosticsFor(java.lang.String,java.lang.String,org.eclipse.lsp4j.PublishDiagnosticsParams[])", "org.eclipse.lsp4xml.uriresolver.CacheResourcesManager.downloadResource(java.lang.String,java.nio.file.Path)", "org.eclipse.lsp4xml.XMLTextDocumentService.triggerValidation(java.lang.String,int,org.eclipse.lsp4j.jsonrpc.CancelChecker)"]}]}