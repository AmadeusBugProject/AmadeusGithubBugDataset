{"projectName": "mybatis/mybatis-3", "bugLabels": ["bug", "bug on dependency library"], "captureTime": "Sat Jul  4 14:21:17 2020", "issues": [{"title": "Mapper method invocation should be non-blocking (work around JDK-8161372)", "body": "<!--\r\n\u274c \u4e0d\u8981\u5728\u8fd9\u91cc\u95ee\u95ee\u9898\u2757\ufe0f\r\n\u2b55\ufe0f \u8bf7\u5c06\u60a8\u7684\u95ee\u9898\u53d1\u9001\u5230\u90ae\u4ef6\u5217\u8868\r\n\u8acb\u7528\u82f1\u6587\u5beb\r\nhttps://groups.google.com/group/mybatis-user\r\n\u6216\r\nhttps://stackoverflow.com/questions/ask?tags=mybatis\r\n\r\nQuestion?\r\n======================\r\nPlease use the mailing list. http://groups.google.com/group/mybatis-user\r\nOr Stack Overflow with 'mybatis' tag. https://stackoverflow.com/questions/ask?tags=mybatis\r\nQuestions on this tracker will be closed without comment.\r\n\r\nBug report?\r\n======================\r\nPlease fill out the BUG REPORT FORM below.\r\n\r\nTo fix a bug, we need to reproduce it first.\r\nAnd we spend a lot of time just trying to reproduce the reported problem, so please consider creating a failing test case or an example project.\r\n\r\n- How to create a test case : https://github.com/mybatis/mybatis-3/wiki/Unit-Test\r\n- How to create a good example : http://sscce.org\r\n- How to upload your project to GitHub: https://help.github.com/articles/adding-an-existing-project-to-github-using-the-command-line/\r\n\r\nFeature request?\r\n=======================\r\n- Please delete the BUG REPORT FORM below and describe the feature.\r\n- It is a good idea to discuss your changes on the mailing list to get feedback from the community. http://groups.google.com/group/mybatis-user\r\n- If you have a patch with unit tests, send a pull request. Please see the wiki page : https://github.com/mybatis/mybatis-3/wiki/Contribute\r\n-->\r\n\r\n<!-- BUG REPORT FORM -->\r\n\r\n## MyBatis version\r\n3.5.4\r\n\r\n## Database vendor and version\r\n\r\n## Test case or example project\r\nMapperProxy#cachedInvoker {methodCache.computeIfAbsent}\r\nIn ConcurrentHashMap#computeIfAbsent, the following code will cause lock acquire:\r\n[\r\n        else if ((fh = f.hash) == MOVED)\r\n                tab = helpTransfer(tab, f);\r\n            else {\r\n                boolean added = false;\r\n               // Here, even if the method and corresponding MapperMethodInvoker already exist\r\n                synchronized (f) {\r\n]\r\nI think, for mybatis, this lock is not necessary, maybe should change the code like follow:\r\n[\r\n          MapperMethodInvoker invoker = methodCache.get(method);\r\n          if (invoker == null) {\r\n                  MapperMethodInvoker newInvoker = .......\r\n                  MapperMethodInvoker old = methodCache.putIfAbsent(newInvoker);\r\n                  if (old != null) {\r\n                          invoker = old;\r\n                 }\r\n          }\r\n          return invoker;\r\n]\r\n\r\n\r\n\r\n## Steps to reproduce\r\n\r\n## Expected result\r\n\r\n## Actual result\r\n\r\n", "url": "https://github.com/mybatis/mybatis-3/issues/1929", "user": "lixinwen", "labels": ["bug"], "created": "2020-05-17 08:20:01", "closed": "2020-05-19 12:40:24", "commits": {}, "ttf": 2.000277777777778, "commitsDetails": []}, {"title": "CacheNamespaceRef causes IllegalArgumentException", "body": "## MyBatis version\r\n3.5.4\r\n\r\n## Database vendor and version\r\nhsqldb\r\n## Test case or example project\r\nunit test for cachenamespaceref #1873\r\nhttps://github.com/mybatis/mybatis-3/pull/1873\r\n## Steps to reproduce\r\nAnnotated mapper with @CacheNamespaceRef,when the mapper class is parsed before the definer mapper of the refered cache,this may happen.\r\n## Expected result\r\nunit test passed\r\n## Actual result\r\nthrows exception:\r\njava.lang.IllegalArgumentException: Result Maps collection already contains value for dao.BusinessDao.selectUsers-void\r\n", "url": "https://github.com/mybatis/mybatis-3/issues/1874", "user": "xingxingup88", "labels": ["bug"], "created": "2020-03-20 14:10:52", "closed": "2020-03-23 13:44:31", "commits": {"ecba6dc559483b76147433f12f583f091305fef7": {"commitGHEventType": "referenced", "commitUser": "harawata"}}, "ttf": 2.000277777777778, "commitsDetails": [{"commitHash": "ecba6dc559483b76147433f12f583f091305fef7", "commitGHEventType": "referenced", "commitUser": "harawata", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}], "filteredCommits": [], "filteredCommitsReason": {"duplicated": 1, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "spoonStatsSummary": {}, "statsSkippedReason": ""}, {"title": "record missing in result", "body": "## MyBatis version\r\n3.5.4\r\n\r\n## Database vendor and version\r\nH2\r\n\r\n## Test case or example project\r\n[https://github.com/blindpirate/mybatis-bug-reproduction](https://github.com/blindpirate/mybatis-bug-reproduction)\r\n## Steps to reproduce\r\n- `mvn flyway:migrate`\r\n- Run `Main` class:\r\n\r\nThe result set should be 3 rows, but MyBatis returns 2 rows.\r\n\r\n## Expected result\r\n```\r\nDEBUG [main] - Opening JDBC Connection\r\nDEBUG [main] - Created connection 240166646.\r\nDEBUG [main] - Setting autocommit to false on JDBC Connection [conn0: url=jdbc:h2:file:./target/test user=ROOT]\r\nDEBUG [main] - ==>  Preparing: select USER.id,USER.name,t.score_num from (select USER_ID,sum(SCORE) as score_num from `MATCH` group by USER_ID) t inner join USER on t.USER_ID=USER.ID \r\nDEBUG [main] - ==> Parameters: \r\nDEBUG [main] - <==      Total: 3\r\nResult size: 3\r\n```\r\n## Actual result\r\n\r\n```\r\nDEBUG [main] - Opening JDBC Connection\r\nDEBUG [main] - Created connection 240166646.\r\nDEBUG [main] - Setting autocommit to false on JDBC Connection [conn0: url=jdbc:h2:file:./target/test user=ROOT]\r\nDEBUG [main] - ==>  Preparing: select USER.id,USER.name,t.score_num from (select USER_ID,sum(SCORE) as score_num from `MATCH` group by USER_ID) t inner join USER on t.USER_ID=USER.ID \r\nDEBUG [main] - ==> Parameters: \r\nDEBUG [main] - <==      Total: 3\r\nResult size: 2\r\n```", "url": "https://github.com/mybatis/mybatis-3/issues/1848", "user": "Huangxuny1", "labels": ["bug"], "created": "2020-03-06 17:30:10", "closed": "2020-03-18 20:55:51", "commits": {"907929a4f8fc152e22ca884107af18438a61f718": {"commitGHEventType": "referenced", "commitUser": "emacarron"}, "54b4fa541d23db430d9a2b2f7c23ec5ef46cdb84": {"commitGHEventType": "referenced", "commitUser": "emacarron"}, "796cf2f1fe73fcdbd42c9f51a4a3fbaf9c2d2477": {"commitGHEventType": "referenced", "commitUser": "emacarron"}}, "ttf": 12.000277777777777, "commitsDetails": [{"commitHash": "907929a4f8fc152e22ca884107af18438a61f718", "commitGHEventType": "referenced", "commitUser": "emacarron", "commitParents": ["a19b2cb00c76833cc9d91d14cd60d4734fb058e9"], "nameRev": "907929a4f8fc152e22ca884107af18438a61f718 tags/mybatis-3.5.5~54", "commitMessage": "Test case for issue #1848", "commitDateTime": "2020-03-07 10:54:55", "authoredDateTime": "2020-03-07 10:53:13", "commitGitStats": [{"filePath": "src/test/java/org/apache/ibatis/submitted/parent_childs/Child.java", "insertions": 15, "deletions": 4, "lines": 19}, {"filePath": "src/test/java/org/apache/ibatis/submitted/parent_childs/Mapper.java", "insertions": 1, "deletions": 0, "lines": 1}, {"filePath": "src/test/java/org/apache/ibatis/submitted/parent_childs/Mapper.xml", "insertions": 37, "deletions": 7, "lines": 44}, {"filePath": "src/test/java/org/apache/ibatis/submitted/parent_childs/ParentChildTest.java", "insertions": 22, "deletions": 3, "lines": 25}], "commitSpoonAstDiffStats": [{"spoonFilePath": "Child.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.parent_childs.Child", "TOT": 4, "UPD": 2, "INS": 2, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.submitted.parent_childs.Child.getId()", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.submitted.parent_childs.Child.setId(int)", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "Mapper.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.parent_childs.getParentsWithConstructor()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "ParentChildTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.parent_childs.ParentChildTest.shouldGetAUser()", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.submitted.parent_childs.ParentChildTest.shouldGet2ParentsWithConstructor()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "54b4fa541d23db430d9a2b2f7c23ec5ef46cdb84", "commitGHEventType": "referenced", "commitUser": "emacarron", "commitParents": ["907929a4f8fc152e22ca884107af18438a61f718"], "nameRev": "54b4fa541d23db430d9a2b2f7c23ec5ef46cdb84 tags/mybatis-3.5.5~53", "commitMessage": "Fix for issue #1848", "commitDateTime": "2020-03-07 11:04:29", "authoredDateTime": "2020-03-07 11:04:29", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/executor/resultset/DefaultResultSetHandler.java", "insertions": 1, "deletions": 6, "lines": 7}, {"filePath": "src/main/java/org/apache/ibatis/mapping/ResultMapping.java", "insertions": 4, "deletions": 0, "lines": 4}, {"filePath": "src/test/java/org/apache/ibatis/submitted/parent_childs/ParentChildTest.java", "insertions": 0, "deletions": 2, "lines": 2}], "commitSpoonAstDiffStats": [{"spoonFilePath": "DefaultResultSetHandler.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.createRowKeyForMappedProperties(org.apache.ibatis.mapping.ResultMap,org.apache.ibatis.executor.resultset.ResultSetWrapper,org.apache.ibatis.cache.CacheKey,java.util.List,java.lang.String)", "TOT": 5, "UPD": 0, "INS": 1, "MOV": 2, "DEL": 2}]}, {"spoonFilePath": "ResultMapping.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.mapping.ResultMapping.isSimple()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "ParentChildTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.parent_childs.ParentChildTest.shouldGet2ParentsWithConstructor()", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "796cf2f1fe73fcdbd42c9f51a4a3fbaf9c2d2477", "commitGHEventType": "referenced", "commitUser": "emacarron", "commitParents": ["b4568d95cc87b1f935ef0851f234403b3c3ed34e"], "nameRev": "796cf2f1fe73fcdbd42c9f51a4a3fbaf9c2d2477 tags/mybatis-3.5.5~51", "commitMessage": "Restored two missing tests #1848", "commitDateTime": "2020-03-10 23:16:01", "authoredDateTime": "2020-03-10 23:15:04", "commitGitStats": [{"filePath": "src/test/java/org/apache/ibatis/builder/PostMapper.xml", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/org/apache/ibatis/session/SqlSessionManagerTest.java", "insertions": 15, "deletions": 0, "lines": 15}], "commitSpoonAstDiffStats": [{"spoonFilePath": "SqlSessionManagerTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.session.SqlSessionManagerTest.shouldFindAllPostLites()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.session.SqlSessionManagerTest.shouldFindAllMutablePostLites()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["907929a4f8fc152e22ca884107af18438a61f718", "54b4fa541d23db430d9a2b2f7c23ec5ef46cdb84", "796cf2f1fe73fcdbd42c9f51a4a3fbaf9c2d2477"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 5, "deletions": 6, "lines": 11, "gitFilesChange": 2}, "spoonStatsSummary": {"TOT": 13, "UPD": 4, "INS": 5, "MOV": 2, "DEL": 2, "spoonFilesChanged": 4, "spoonMethodsChanged": 6}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/mapping", "src/main/java/org/apache/ibatis/executor/resultset"], "changesInPackagesSPOON": ["org.apache.ibatis.executor.resultset.DefaultResultSetHandler.createRowKeyForMappedProperties(org.apache.ibatis.mapping.ResultMap,org.apache.ibatis.executor.resultset.ResultSetWrapper,org.apache.ibatis.cache.CacheKey,java.util.List,java.lang.String)", "org.apache.ibatis.submitted.parent_childs.Child.getId()", "org.apache.ibatis.submitted.parent_childs.Child", "org.apache.ibatis.submitted.parent_childs.getParentsWithConstructor()", "org.apache.ibatis.mapping.ResultMapping.isSimple()", "org.apache.ibatis.submitted.parent_childs.Child.setId(int)"]}, {"title": "Race Condition in TypeHandlerRegistry", "body": "## MyBatis version\r\n3.5.1\r\n\r\n## Database vendor and version\r\nPostgreSQL 11.+\r\n\r\n## Test case or example project\r\n\r\n```java\r\n@Test\r\n  void shouldAutoRegisterEnumTypeInMultiThreadEnvironment() {\r\n    for (int iteration = 0; iteration < 1000; iteration++) {\r\n      TypeHandlerRegistry typeHandlerRegistry = new TypeHandlerRegistry();\r\n      CountDownLatch startLatch = new CountDownLatch(1);\r\n\r\n      List<Future<Object>> taskResults = IntStream.range(0, THREAD_COUNT)\r\n        .mapToObj(taskIndex -> executorService.submit(() -> {\r\n          startLatch.await();\r\n          assertTrue(typeHandlerRegistry.hasTypeHandler(TestEnum.class, JdbcType.VARCHAR),\r\n            \"TypeHandler not registered\");\r\n          return null;\r\n        })).collect(Collectors.toList());\r\n\r\n      startLatch.countDown();\r\n      taskResults.forEach(Futures::getUnchecked);\r\n    }\r\n  }\r\n```\r\n## Steps to reproduce\r\n\r\n## Expected result\r\n\r\ntypeHandlerRegistry.hasTypeHandler(TestEnum.class, JdbcType.VARCHAR) always true\r\n\r\n## Actual result\r\n\r\nsometimes i got result false. If it happened i get strange exceptions with read/write enum values:\r\n\r\n```\r\nCaused by: org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.type.TypeException: Could not set parameters for mapping: ParameterMapping{property='role', mode=IN, javaType=class java.lang.Object, jdbcType=null, numericScale=null, resultMapId='null', jdbcTypeName='null', expression='null'}. Cause: org.apache.ibatis.type.TypeException: Error setting non null for parameter #6 with JdbcType null . Try setting a different JdbcType for this parameter or a different configuration property. Cause: org.apache.ibatis.type.TypeException: Error setting non null for parameter #6 with JdbcType null . Try setting a different JdbcType for this parameter or a different configuration property. Cause: ...SqlException: database: [xxx]; connection: [/127.0.0.1:xxx -> localhost/127.0.0.1:xxx]; state: [07006]; reason: [Can't infer the SQL type to use for an instance of xxx.Role. Use setObject() with an explicit Types value to specify the type to use.]\r\nat org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:77)\r\nat org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:446)\r\nat com.sun.proxy.$Proxy72.insert(Unknown Source)\r\nat org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:278)\r\nat org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62)\r\nat org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:58)\r\nat com.sun.proxy.$Proxy115.addUserToAccount(Unknown Source)\r\n... 27 more\r\nCaused by: org.apache.ibatis.type.TypeException: Could not set parameters for mapping: ParameterMapping{property='role', mode=IN, javaType=class java.lang.Object, jdbcType=null, numericScale=null, resultMapId='null', jdbcTypeName='null', expression='null'}. Cause: org.apache.ibatis.type.TypeException: Error setting non null for parameter #6 with JdbcType null . Try setting a different JdbcType for this parameter or a different configuration property. Cause: org.apache.ibatis.type.TypeException: Error setting non null for parameter #6 with JdbcType null . Try setting a different JdbcType for this parameter or a different configuration property. Cause: ...SqlException: database: [xxx]; connection: [/127.0.0.1:xxx -> localhost/127.0.0.1:xxx]; state: [07006]; reason: [Can't infer the SQL type to use for an instance of xxx.Role. Use setObject() with an explicit Types value to specify the type to use.]\r\nat org.apache.ibatis.scripting.defaults.DefaultParameterHandler.setParameters(DefaultParameterHandler.java:89)\r\nat org.apache.ibatis.executor.statement.PreparedStatementHandler.parameterize(PreparedStatementHandler.java:94)\r\nat org.apache.ibatis.executor.statement.RoutingStatementHandler.parameterize(RoutingStatementHandler.java:64)\r\nat org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:87)\r\nat org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)\r\nat org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)\r\nat org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)\r\nat org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)\r\nat org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)\r\nat jdk.internal.reflect.GeneratedMethodAccessor240.invoke(Unknown Source)\r\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\nat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\nat org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:433)\r\n... 34 more\r\nCaused by: org.apache.ibatis.type.TypeException: Error setting non null for parameter #6 with JdbcType null . Try setting a different JdbcType for this parameter or a different configuration property. Cause: org.apache.ibatis.type.TypeException: Error setting non null for parameter #6 with JdbcType null . Try setting a different JdbcType for this parameter or a different configuration property. Cause: ...SqlException: database: [xxx]; connection: [/127.0.0.1:xxx -> localhost/127.0.0.1:xxx]; state: [07006]; reason: [Can't infer the SQL type to use for an instance of xxx.Role. Use setObject() with an explicit Types value to specify the type to use.]\r\nat org.apache.ibatis.type.BaseTypeHandler.setParameter(BaseTypeHandler.java:71)\r\nat org.apache.ibatis.scripting.defaults.DefaultParameterHandler.setParameters(DefaultParameterHandler.java:87)\r\n... 46 more\r\nCaused by: org.apache.ibatis.type.TypeException: Error setting non null for parameter #6 with JdbcType null . Try setting a different JdbcType for this parameter or a different configuration property. Cause: ...SqlException: database: [xxx]; connection: [/127.0.0.1:xxx -> localhost/127.0.0.1:xxx]; state: [07006]; reason: [Can't infer the SQL type to use for an instance of xxx.Role. Use setObject() with an explicit Types value to specify the type to use.]\r\nat org.apache.ibatis.type.BaseTypeHandler.setParameter(BaseTypeHandler.java:71)\r\nat org.apache.ibatis.type.UnknownTypeHandler.setNonNullParameter(UnknownTypeHandler.java:45)\r\nat org.apache.ibatis.type.BaseTypeHandler.setParameter(BaseTypeHandler.java:69)\r\n... 47 more\r\n```\r\nor \r\n```\r\nCaused by: java.lang.IndexOutOfBoundsException: Index 1 out of bounds for length 1\r\n\tat java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:64)\r\n\tat java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:70)\r\n\tat java.base/jdk.internal.util.Preconditions.checkIndex(Preconditions.java:248)\r\n\tat java.base/java.util.Objects.checkIndex(Objects.java:372)\r\n\tat java.base/java.util.ArrayList.get(ArrayList.java:458)\r\n\tat org.apache.ibatis.executor.resultset.DefaultResultSetHandler.createUsingConstructor(DefaultResultSetHandler.java:669)\r\n\tat org.apache.ibatis.executor.resultset.DefaultResultSetHandler.createByConstructorSignature(DefaultResultSetHandler.java:654)\r\n\tat org.apache.ibatis.executor.resultset.DefaultResultSetHandler.createResultObject(DefaultResultSetHandler.java:618)\r\n\tat org.apache.ibatis.executor.resultset.DefaultResultSetHandler.createResultObject(DefaultResultSetHandler.java:591)\r\n\tat org.apache.ibatis.executor.resultset.DefaultResultSetHandler.getRowValue(DefaultResultSetHandler.java:397)\r\n\tat org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleRowValuesForSimpleResultMap(DefaultResultSetHandler.java:354)\r\n\tat org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleRowValues(DefaultResultSetHandler.java:328)\r\n\tat org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleResultSet(DefaultResultSetHandler.java:301)\r\n\tat org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleResultSets(DefaultResultSetHandler.java:194)\r\n\tat org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)\r\n\tat org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:79)\r\n\tat org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:63)\r\n\tat org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:324)\r\n\tat org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)\r\n\tat org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)\r\n\tat org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:83)\r\n\tat org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)\r\n\t... 36 more\r\n```\r\n", "url": "https://github.com/mybatis/mybatis-3/issues/1819", "user": "LyubinskiyPavel", "labels": ["bug"], "created": "2020-01-21 09:05:26", "closed": "2020-01-23 14:56:31", "commits": {}, "ttf": 2.000277777777778, "commitsDetails": []}, {"title": "Possible incorrect TypeVariable resolution in TypeParameterResolver", "body": "![image](https://user-images.githubusercontent.com/7368171/71608479-9319a980-2bbc-11ea-9ca6-cd3ce211f5d5.png)\r\n\r\nwhy not equals\uff1f This is bug ?", "url": "https://github.com/mybatis/mybatis-3/issues/1794", "user": "huan0huan", "labels": ["bug"], "created": "2019-12-31 03:02:09", "closed": "2019-12-31 15:14:53", "commits": {"7c06b256c6fac1bfba5f06a40fb759decfe145e5": {"commitGHEventType": "referenced", "commitUser": "harawata"}}, "ttf": 0.0002777777777777778, "commitsDetails": [{"commitHash": "7c06b256c6fac1bfba5f06a40fb759decfe145e5", "commitGHEventType": "referenced", "commitUser": "harawata", "commitParents": ["d2cb6158b8b550ebc6ce0e8049d8aaf980bc38d2"], "nameRev": "7c06b256c6fac1bfba5f06a40fb759decfe145e5 tags/mybatis-3.5.4~28", "commitMessage": "Fix for #1794 Comparing TypeVariable must be done by `equals()`\n", "commitDateTime": "2019-12-31 23:57:58", "authoredDateTime": "2019-12-31 23:02:55", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/reflection/TypeParameterResolver.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/test/java/org/apache/ibatis/reflection/TypeParameterResolverTest.java", "insertions": 28, "deletions": 0, "lines": 28}], "commitSpoonAstDiffStats": [{"spoonFilePath": "TypeParameterResolver.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.reflection.TypeParameterResolver.scanSuperTypes(java.lang.reflect.TypeVariable,java.lang.reflect.Type,java.lang.Class,java.lang.Class,java.lang.reflect.Type)", "TOT": 3, "UPD": 0, "INS": 1, "MOV": 1, "DEL": 1}, {"spoonMethodName": "org.apache.ibatis.reflection.TypeParameterResolver.translateParentTypeVars(java.lang.reflect.ParameterizedType,java.lang.Class,java.lang.reflect.ParameterizedType)", "TOT": 4, "UPD": 0, "INS": 1, "MOV": 2, "DEL": 1}]}, {"spoonFilePath": "TypeParameterResolverTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.reflection.TypeParameterResolverTest.shouldTypeVariablesBeComparedWithEquals()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.reflection.TypeParameterResolverTest.AA", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.reflection.TypeParameterResolverTest.BB", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.reflection.TypeParameterResolverTest", "TOT": 3, "UPD": 0, "INS": 3, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["7c06b256c6fac1bfba5f06a40fb759decfe145e5"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 2, "deletions": 2, "lines": 4, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 7, "UPD": 0, "INS": 2, "MOV": 3, "DEL": 2, "spoonFilesChanged": 1, "spoonMethodsChanged": 2}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/reflection"], "changesInPackagesSPOON": ["org.apache.ibatis.reflection.TypeParameterResolver.scanSuperTypes(java.lang.reflect.TypeVariable,java.lang.reflect.Type,java.lang.Class,java.lang.Class,java.lang.reflect.Type)", "org.apache.ibatis.reflection.TypeParameterResolver.translateParentTypeVars(java.lang.reflect.ParameterizedType,java.lang.Class,java.lang.reflect.ParameterizedType)"]}, {"title": "Possible NullPointerException when assigning generated keys to objects with custom hashCode() method", "body": "<!-- BUG REPORT FORM -->\r\n\r\n##Summary\r\nHello MyBatis, here is a bug for inserting objects of List which overrides hashcode method and the key uses as hashcode identifier (like id) is null.\r\n\r\nPerson overrides hashcode by id , id is null, insert List<Person> in mybatis leads to NullPointerException because dinstinct compare with id which is null.\r\n\r\n## MyBatis version\r\n3.5.1\r\n\r\n## Database vendor and version\r\n5.7.1\r\n\r\n## Test case or example project\r\n___________________________\r\nPerson.java\r\n\r\n```java\r\npublic class Person {\r\n    private Integer id;\r\n    private String name;\r\n    private Integer age;\r\n    private String email;\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) {\r\n            return true;\r\n        }\r\n        if (o == null || getClass() != o.getClass()) {\r\n            return false;\r\n        }\r\n\r\n        Person baseModel = (Person) o;\r\n\r\n        return id.equals(baseModel.id);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return id.hashCode();\r\n    }\r\n}\r\n```\r\n__________________________________\r\ninsertService.java\r\n```java\r\n public void insertPersons(){\r\n        String userName = \"test\";\r\n        int age = 18;\r\n        String mobilePhone = \"18000000000@test.com\";\r\n        Person person = new Person();\r\n        person.setAge(age);\r\n        person.setName(userName);\r\n        person.setEmail(mobilePhone);\r\n        List<Person> personList = new ArrayList<>();\r\n        personList.add(person);\r\n        try{\r\n           mapper.insertBatch(personList);\r\n        }catch (Exception e){\r\n            e.printStackTrace();\r\n        }finally {\r\n            System.out.println(person);\r\n        }\r\n    }\r\n```\r\n____________________________________\r\nmapper.xml\r\n\r\n```xml\r\n<insert id=\"insertBatch\" useGeneratedKeys=\"true\"\r\n    keyProperty=\"id\" parameterType=\"test.Person\">\r\n  INSERT INTO user (`name`, age, email) VALUES\r\n    <foreach collection=\"list\" item=\"person\" separator=\",\">\r\n      (#{person.name}, #{person.age}, #{person.email})\r\n    </foreach>\r\n</insert>\r\n```\r\n\r\n## Steps to reproduce\r\n\r\nWhile we request insertBatch, mybatis will throw a 'java.lang.NullPointerException' exception. because in src/main/java/org/apache/ibatis/executor/keygen/Jdbc3KeyGenerator.java line 174,  it uses paramMap.values().stream().distinct().count() == 1 to adjust whether the count of params is 1, but the method distinct() of stream in jdk8 uses hashcode of object to do distinct, when the object overrides hashcode method with the hashcode of id, and the insert operation doesn't have any content in field id, the exception then occrupt.\r\n\r\nBut in mybatis before version 3.4.6(I have ensured), this never happened, because Jdbc3KeyGenerator in mybatis 3.4.6 didn't use distinct() method  to adjust the count of param. \r\n\r\nAnyway, in most cases, we will use  this logic to insert batch datas ,hope you can fix this bug in the future.\r\n\r\n\r\n## Expected result\r\ntrue\r\n\r\n## Actual result\r\njava.lang.NullPointerException\r\n\r\n\r\nYou can contact me by 346736752@qq.com. Thank you!", "url": "https://github.com/mybatis/mybatis-3/issues/1719", "user": "WeiYang1005", "labels": ["bug"], "created": "2019-11-07 12:09:50", "closed": "2019-11-12 16:20:09", "commits": {}, "ttf": 5.000277777777778, "commitsDetails": []}, {"title": "Unable to iterate Cursor if the next element is null", "body": "<!--\r\n\u274c \u4e0d\u8981\u5728\u8fd9\u91cc\u95ee\u95ee\u9898\u2757\ufe0f\r\n\u2b55\ufe0f \u8bf7\u5c06\u60a8\u7684\u95ee\u9898\u53d1\u9001\u5230\u90ae\u4ef6\u5217\u8868\r\n\u8acb\u7528\u82f1\u6587\u5beb\r\nhttps://groups.google.com/group/mybatis-user\r\n\u6216\r\nhttps://stackoverflow.com/questions/ask?tags=mybatis\r\n\r\nQuestion?\r\n======================\r\nPlease use the mailing list. http://groups.google.com/group/mybatis-user\r\nOr Stack Overflow with 'mybatis' tag. https://stackoverflow.com/questions/ask?tags=mybatis\r\nQuestions on this tracker will be closed without comment.\r\n\r\nBug report?\r\n======================\r\nPlease fill out the BUG REPORT FORM below.\r\n\r\nTo fix a bug, we need to reproduce it first.\r\nAnd we spend a lot of time just trying to reproduce the reported problem, so please consider creating a failing test case or an example project.\r\n\r\n- How to create a test case : https://github.com/mybatis/mybatis-3/wiki/Unit-Test\r\n- How to create a good example : http://sscce.org\r\n- How to upload your project to GitHub: https://help.github.com/articles/adding-an-existing-project-to-github-using-the-command-line/\r\n\r\nFeature request?\r\n=======================\r\n- Please delete the BUG REPORT FORM below and describe the feature.\r\n- It is a good idea to discuss your changes on the mailing list to get feedback from the community. http://groups.google.com/group/mybatis-user\r\n- If you have a patch with unit tests, send a pull request. Please see the wiki page : https://github.com/mybatis/mybatis-3/wiki/Contribute\r\n-->\r\n\r\n<!-- BUG REPORT FORM -->\r\n\r\n## MyBatis version\r\n3.5.1\r\n\r\n## Database vendor and version\r\nmysql 5.7.27-0ubuntu0.19.04.1\r\n\r\nor \r\n\r\nTiDB 3.0 :D\r\n\r\n## Test case or example project\r\n\r\nschema and data:\r\n\r\n```\r\nCREATE TABLE `t` (\r\n  `v` varchar(100) DEFAULT NULL\r\n) ENGINE=InnoDB DEFAULT CHARSET=latin1;\r\n\r\ninsert into t values(null),(1);\r\n```\r\n\r\nmapper:\r\n```\r\npublic interface TiMapper {\r\n    @Select(\"select v from t\")\r\n    Cursor<String> queryTest();\r\n}\r\n```\r\n\r\ntest:\r\n\r\n```\r\n    @Resource\r\n    private TiMapper tiMapper;\r\n\r\n    @Transactional\r\n    public void testCursorFetch() throws Exception {\r\n        Cursor<String> cc = tiMapper.queryTest();\r\n        final Iterator<String> iterator = cc.iterator();\r\n        System.out.println(iterator.hasNext()); \r\n     }\r\n```\r\n\r\n## Steps to reproduce\r\n\r\nrun `testCursorFetch` method\r\n\r\n## Expected result\r\n\r\n```\r\n        System.out.println(iterator.hasNext()); \r\n```\r\n\r\nshould be true\r\n\r\n## Actual result\r\n\r\nbe false...and `1` record has no chance to be output.\r\n\r\nand if first record is NOT null, it will be true\r\n\r\nwe can work around this to change mapper to \r\n\r\n```\r\n    @Select(\"select v from t\")\r\n    Cursor<Map<String, Object>> queryTest();\r\n```\r\n\r\nand set `mybatis.configuration.returnInstanceForEmptyRow=true`\r\n\r\nbut IMHO, current cursor' impl is not very suitable, maybe many people meet this question\r\n", "url": "https://github.com/mybatis/mybatis-3/issues/1653", "user": "lysu", "labels": ["bug"], "created": "2019-09-03 08:43:24", "closed": "2019-09-07 11:41:29", "commits": {}, "ttf": 4.000277777777778, "commitsDetails": []}, {"title": "Occur infinite loop when throw Exception that hold cause from provider method", "body": "<!-- BUG REPORT FORM -->\r\n\r\n## MyBatis version\r\n3.5.2\r\n\r\norg.apache.ibatis.builder.annotation.ProviderSqlSource\r\n\r\n173  private Throwable extractRootCause(Exception e) {\r\n174    Throwable cause = e;\r\n175    while(cause.getCause() != null) {\r\n**176      cause = e.getCause();**\r\n177    }\r\n178    return cause;\r\n179  }\r\n\r\n176  endless loop\r\n\r\n\r\n## Database vendor and version\r\n\r\n## Test case or example project\r\n\r\n## Steps to reproduce\r\n\r\n## Expected result\r\n\r\n## Actual result\r\n\r\n", "url": "https://github.com/mybatis/mybatis-3/issues/1616", "user": "czw0058", "labels": ["bug"], "created": "2019-07-25 05:48:08", "closed": "2019-07-25 13:48:33", "commits": {"2e9632d8fa5bd56f2a42eedc741c11783c0a609a": {"commitGHEventType": "referenced", "commitUser": "kazuki43zoo"}}, "ttf": 0.0002777777777777778, "commitsDetails": [{"commitHash": "2e9632d8fa5bd56f2a42eedc741c11783c0a609a", "commitGHEventType": "referenced", "commitUser": "kazuki43zoo", "commitParents": ["20b61528ad5762a6f45fcee3dac2d50f0302d527", "729a1eff22df4419c02efae11d806e208e5d5f2a"], "nameRev": "2e9632d8fa5bd56f2a42eedc741c11783c0a609a tags/mybatis-3.5.3~32", "commitMessage": "Merge pull request #1617 from kazuki43zoo/gh-1616\n\nPrevent infinite loop when throw Exception that hold cause from provider method", "commitDateTime": "2019-07-25 22:48:32", "authoredDateTime": "2019-07-25 22:48:32", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/builder/annotation/ProviderSqlSource.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/org/apache/ibatis/submitted/sqlprovider/SqlProviderTest.java", "insertions": 21, "deletions": 1, "lines": 22}], "commitSpoonAstDiffStats": [{"spoonFilePath": "ProviderSqlSource.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.builder.annotation.ProviderSqlSource.extractRootCause(java.lang.Exception)", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "SqlProviderTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.sqlprovider.SqlProviderTest.invokeNestedError()", "TOT": 2, "UPD": 0, "INS": 2, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.submitted.sqlprovider.SqlProviderTest.ErrorSqlBuilder.invokeNestedError()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": [], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 1, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 0, "gitStatsSummary": {"insertions": 0, "deletions": 0, "lines": 0, "gitFilesChange": 0}, "spoonStatsSummary": {"TOT": 0, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 0, "spoonFilesChanged": 0, "spoonMethodsChanged": 0}, "statsSkippedReason": "", "changesInPackagesGIT": [], "changesInPackagesSPOON": []}, {"title": "NPE in DefaultResultSetHandler when using association on composite key", "body": "## MyBatis version\r\n3.3.0+ \r\n(example and lines below are based on the 3.5.1)\r\n\r\n## Database vendor and version\r\nPostgreSQL 9.6 or H2 1.4\r\n\r\n## Steps to reproduce\r\n1. Have an association in a mapper based on a composite key \r\n2. Use any request using the resultMap\r\n\r\nMapper example: \r\n```\r\n<mapper namespace=\"my.package.VariableMapper\">\r\n\t<resultMap id=\"BaseResultMap\" type=\"VariableImpl\">\r\n\t\t<id column=\"va_process_id\" property=\"processId\" jdbcType=\"INTEGER\" />\r\n\t\t<id column=\"va_variable_id\" property=\"variableId\" jdbcType=\"VARCHAR\" />\r\n\t\t[...]\r\n\t</resultMap>\r\n\t\r\n\t<resultMap id=\"CompleteResultMap\" type=\"VariableImpl\" extends=\"BaseResultMap\">\r\n\t\t<association property=\"linkedVariable\" column=\"{processId=lv_va_process_id,variableId=lv_va_variable_id}\"\r\n\t\t\tjavaType=\"VariableImpl\" resultMap=\"my.package.VariableMapper.BaseResultMap\" columnPrefix=\"lv_\"/>\r\n\t\t[...]\r\n\t</resultMap>\r\n[...]\r\n</mapper>\r\n```\r\n\r\n## Expected result\r\nThe request done, as in 3.2.8-\r\n\r\n## Actual result\r\nNPE on DefaultResultSetHandler L472 with typeHandler as null\r\n\r\n```\r\nCause: java.lang.NullPointerException\r\n\tat org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)\r\n\tat org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:149)\r\n\tat org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)\r\n\tat org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:76)\r\n\tat org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:87)\r\n\tat org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:58)\r\n\tat com.sun.proxy.$Proxy44.selectById(Unknown Source)\r\n\t[...]\r\nCaused by: java.lang.NullPointerException\r\n\tat org.apache.ibatis.executor.resultset.DefaultResultSetHandler.getPropertyMappingValue(DefaultResultSetHandler.java:472)\r\n\tat org.apache.ibatis.executor.resultset.DefaultResultSetHandler.applyPropertyMappings(DefaultResultSetHandler.java:441)\r\n\tat org.apache.ibatis.executor.resultset.DefaultResultSetHandler.getRowValue(DefaultResultSetHandler.java:905)\r\n\tat org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleRowValuesForNestedResultMap(DefaultResultSetHandler.java:870)\r\n\tat org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleRowValues(DefaultResultSetHandler.java:326)\r\n\tat org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleResultSet(DefaultResultSetHandler.java:301)\r\n\tat org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleResultSets(DefaultResultSetHandler.java:194)\r\n\tat org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)\r\n\tat org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:79)\r\n\tat org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:63)\r\n\tat org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:324)\r\n\tat org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)\r\n\tat org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)\r\n\tat org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:83)\r\n\tat org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)\r\n\t... 36 more\r\n```\r\n\r\nThe problem seems to comes from this commit : https://github.com/mybatis/mybatis-3/commit/9d2913543adf5ac3c09c7ebe42ac86d2fbd92dda\r\nwhere those three lines were deleted : \r\n`    if (composites.size() > 0) {\r\n      column = null;\r\n    }`\r\nIn case of composite column, the value of this property is then keept instead of removed and the treatment is done as it was a simple column and not a composite one so the typeHandler is null as there is no real data behind this propertyMapping.\r\n\r\n\r\nBest regards,\r\n\r\nNicolas", "url": "https://github.com/mybatis/mybatis-3/issues/1590", "user": "nboissel", "labels": ["bug"], "created": "2019-07-03 16:02:28", "closed": "2019-07-05 17:08:25", "commits": {"3becd0ac6bdbcdcb6b9ba48aaf90004a745ec0bd": {"commitGHEventType": "closed", "commitUser": "harawata"}}, "ttf": 2.000277777777778, "commitsDetails": [{"commitHash": "3becd0ac6bdbcdcb6b9ba48aaf90004a745ec0bd", "commitGHEventType": "closed", "commitUser": "harawata", "commitParents": ["a094323e9077e0614e42645a07a11592d2e518ce"], "nameRev": "3becd0ac6bdbcdcb6b9ba48aaf90004a745ec0bd tags/mybatis-3.5.2~13", "commitMessage": "fixes #1590 Ensure `composite` to be empty when unnecessary `column` is specified\n\nAlthough more active solution (e.g. output a warning) might be better, there could be a use case that I am not aware of.\n", "commitDateTime": "2019-07-06 02:05:24", "authoredDateTime": "2019-07-06 02:04:21", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/builder/MapperBuilderAssistant.java", "insertions": 7, "deletions": 1, "lines": 8}, {"filePath": "src/test/java/org/apache/ibatis/submitted/associationtest/Mapper.xml", "insertions": 2, "deletions": 1, "lines": 3}], "commitSpoonAstDiffStats": [{"spoonFilePath": "MapperBuilderAssistant.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.builder.MapperBuilderAssistant.buildResultMapping(java.lang.Class,java.lang.String,java.lang.String,java.lang.Class,org.apache.ibatis.type.JdbcType,java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.Class,java.util.List,java.lang.String,java.lang.String,boolean)", "TOT": 2, "UPD": 0, "INS": 1, "MOV": 1, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["3becd0ac6bdbcdcb6b9ba48aaf90004a745ec0bd"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 7, "deletions": 1, "lines": 8, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 2, "UPD": 0, "INS": 1, "MOV": 1, "DEL": 0, "spoonFilesChanged": 1, "spoonMethodsChanged": 1}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/builder"], "changesInPackagesSPOON": ["org.apache.ibatis.builder.MapperBuilderAssistant.buildResultMapping(java.lang.Class,java.lang.String,java.lang.String,java.lang.Class,org.apache.ibatis.type.JdbcType,java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.Class,java.util.List,java.lang.String,java.lang.String,boolean)"]}, {"title": "There is case that a TypeHandler is incorrectly selected for a nested select query parameter", "body": "there are two table with the  same  column name 'ID' and without the same type\r\n\r\n```\r\n    <resultMap id=\"BaseResultMap\" type=\"com.geco.domain.MdProduct\">\r\n        <id column=\"ID\" property=\"id\" jdbcType=\"VARCHAR\" />\r\n        ...\r\n     </resultMap>\r\n```\r\n```\r\n    <resultMap id=\"InfoResultMap\" extends=\"BaseResultMap\"  type=\"com.geco.service.product.dto.ProductResp\">\r\n        <result column=\"INFO_ID\" property=\"additionalInfo.id\" jdbcType=\"DECIMAL\"/>\r\n      ....\r\n       <collection property=\"skus\"\r\n                    select=\"selectSkuByPk1\" column=\"ID\"/>\r\n    </resultMap>\r\n```\r\n\r\n```\r\n<select id=\"select resultMap=\"InfoResultMap\">\r\n\r\n   select p.id ,i.ID as INFO_ID from md_product,md_product_info i\r\nwhere ....\r\n</select>\r\n```\r\nthere are error info\r\n```\r\norg.apache.ibatis.executor.result.ResultMapException: Error attempting to get column 'ID' from result set.  Cause: java.sql.SQLException: Invalid value for getLong() - '82620ef6659811e9809900163e02c6cf'\r\n```\r\nI debug it and try fix it\r\n```\r\nclass:  org.apache.ibatis.type.UnknownTypeHandler\r\nmethod:  private TypeHandler<?> resolveTypeHandler(ResultSet rs, String column)\r\n\r\n```\r\nold code:\r\n```\r\nprivate TypeHandler<?> resolveTypeHandler(ResultSet rs, String column) {\r\n        try {\r\n            Map<String, Integer> columnIndexLookup = new HashMap();\r\n            ResultSetMetaData rsmd = rs.getMetaData();\r\n            int count = rsmd.getColumnCount();\r\n\r\n            for (int i = 1; i <= count; ++i) {\r\n                String name = rsmd.getColumnName(i);\r\n                columnIndexLookup.put(name, i);\r\n            }\r\n\r\n            Integer columnIndex = (Integer) columnIndexLookup.get(column);\r\n            TypeHandler<?> handler = null;\r\n            if (columnIndex != null) {\r\n                handler = this.resolveTypeHandler(rsmd, columnIndex);\r\n            }\r\n\r\n            if (handler == null || handler instanceof UnknownTypeHandler) {\r\n                handler = OBJECT_TYPE_HANDLER;\r\n            }\r\n\r\n            return (TypeHandler) handler;\r\n        } catch (SQLException var8) {\r\n            throw new TypeException(\"Error determining JDBC type for column \" + column + \".  Cause: \" + var8, var8);\r\n        }\r\n    }\r\n```\r\nthis is my code:\r\n```\r\nprivate TypeHandler<?> resolveTypeHandler(ResultSet rs, String column) {\r\n        try {\r\n            Map<String, Integer> columnIndexLookup = new HashMap();\r\n            ResultSetMetaData rsmd = rs.getMetaData();\r\n            int count = rsmd.getColumnCount();\r\n\r\n            for (int i = 1; i <= count; ++i) {\r\n                String name = rsmd.getColumnLabel(i);\r\n                columnIndexLookup.put(name, i);\r\n            }\r\n\r\n            Integer columnIndex = (Integer) columnIndexLookup.get(column);\r\n            TypeHandler<?> handler = null;\r\n            if (columnIndex != null) {\r\n                handler = this.resolveTypeHandler(rsmd, columnIndex);\r\n            }\r\n\r\n            if (handler == null || handler instanceof UnknownTypeHandler) {\r\n                handler = OBJECT_TYPE_HANDLER;\r\n            }\r\n\r\n            return (TypeHandler) handler;\r\n        } catch (SQLException var8) {\r\n            throw new TypeException(\"Error determining JDBC type for column \" + column + \".  Cause: \" + var8, var8);\r\n        }\r\n    }\r\n```\r\ngetColumnName = > getColumnLabel\r\n\r\nit works but i don't know  there are any other bugs after i fixed this bug\r\n", "url": "https://github.com/mybatis/mybatis-3/issues/1551", "user": "dezhiShen", "labels": ["bug"], "created": "2019-05-30 04:01:10", "closed": "2019-10-26 07:56:50", "commits": {"79f2c1d060d53418b7ad47ddecf867c1e3c2e97c": {"commitGHEventType": "referenced", "commitUser": "kazuki43zoo"}}, "ttf": 149.00027777777777, "commitsDetails": [{"commitHash": "79f2c1d060d53418b7ad47ddecf867c1e3c2e97c", "commitGHEventType": "referenced", "commitUser": "kazuki43zoo", "commitParents": ["91dcd4e790cb041fbb12931b984f6ef40ccc933a", "c524574855477d54f69858311ea20b2ac98d9803"], "nameRev": "79f2c1d060d53418b7ad47ddecf867c1e3c2e97c tags/mybatis-3.5.4~77", "commitMessage": "Merge pull request #1693 from kazuki43zoo/gh-1551\n\nChange to refers useColumnLabel at UnknownTypeHandler", "commitDateTime": "2019-10-26 16:56:49", "authoredDateTime": "2019-10-26 16:56:49", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/session/Configuration.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/main/java/org/apache/ibatis/type/TypeHandlerRegistry.java", "insertions": 17, "deletions": 1, "lines": 18}, {"filePath": "src/main/java/org/apache/ibatis/type/UnknownTypeHandler.java", "insertions": 30, "deletions": 7, "lines": 37}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler_gh1551/CreateDB.sql", "insertions": 44, "deletions": 0, "lines": 44}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler_gh1551/NestedResultHandlerGh1551Test.java", "insertions": 82, "deletions": 0, "lines": 82}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler_gh1551/ProductInfo.java", "insertions": 48, "deletions": 0, "lines": 48}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler_gh1551/ProductMapper.java", "insertions": 24, "deletions": 0, "lines": 24}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler_gh1551/ProductMapper.xml", "insertions": 54, "deletions": 0, "lines": 54}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler_gh1551/ProductResp.java", "insertions": 69, "deletions": 0, "lines": 69}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler_gh1551/ProductSku.java", "insertions": 57, "deletions": 0, "lines": 57}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler_gh1551/mybatis-config.xml", "insertions": 48, "deletions": 0, "lines": 48}, {"filePath": "src/test/java/org/apache/ibatis/type/UnknownTypeHandlerTest.java", "insertions": 5, "deletions": 4, "lines": 9}], "commitSpoonAstDiffStats": [{"spoonFilePath": "Configuration.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.session.Configuration", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "TypeHandlerRegistry.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.type.TypeHandlerRegistry", "TOT": 5, "UPD": 0, "INS": 3, "MOV": 1, "DEL": 1}]}, {"spoonFilePath": "UnknownTypeHandler.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.type.UnknownTypeHandler", "TOT": 12, "UPD": 4, "INS": 6, "MOV": 2, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.type.UnknownTypeHandler.resolveTypeHandler(java.lang.Object,org.apache.ibatis.type.JdbcType)", "TOT": 3, "UPD": 1, "INS": 1, "MOV": 1, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.type.UnknownTypeHandler.resolveTypeHandler(java.sql.ResultSetMetaData,java.lang.Integer)", "TOT": 9, "UPD": 3, "INS": 3, "MOV": 3, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.type.UnknownTypeHandler.resolveTypeHandler(java.sql.ResultSet,java.lang.String)", "TOT": 3, "UPD": 0, "INS": 2, "MOV": 1, "DEL": 0}]}, {"spoonFilePath": "NestedResultHandlerGh1551Test.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.nestedresulthandler_gh1551.NestedResultHandlerGh1551Test", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "ProductInfo.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.nestedresulthandler_gh1551.ProductInfo", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "ProductMapper.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.nestedresulthandler_gh1551", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "ProductResp.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.nestedresulthandler_gh1551.ProductResp", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "ProductSku.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.nestedresulthandler_gh1551.ProductSku", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "UnknownTypeHandlerTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.type.UnknownTypeHandlerTest", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.type.UnknownTypeHandlerTest.shouldGetResultFromResultSetByName()", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": [], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 1, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 0, "gitStatsSummary": {"insertions": 0, "deletions": 0, "lines": 0, "gitFilesChange": 0}, "spoonStatsSummary": {"TOT": 0, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 0, "spoonFilesChanged": 0, "spoonMethodsChanged": 0}, "statsSkippedReason": "", "changesInPackagesGIT": [], "changesInPackagesSPOON": []}, {"title": "Auto-mapping fails in a result map referenced from a constructor arg with columnPrefix", "body": "## MyBatis version\r\n3.5.0\r\n\r\n## Database vendor and version\r\nH2\r\n\r\n## Test case or example project\r\n[auto_mapping.zip](https://github.com/mybatis/mybatis-3/files/2940439/auto_mapping.zip)\r\n\r\n## Steps to reproduce\r\nRun FooMapperTest should find an object Foo with object Bar.\r\n\r\n## Expected result\r\nFind a foo with a bar auto mapped by properties.\r\n\r\n## Actual result\r\nTest failed because foo.getBar() returns null.\r\n\r\n##Potential Cause\r\nIncorrectly match lowercase columnPrefix with uppercase columnName in method DefaultResultSetHandler::createAutomaticMappings", "url": "https://github.com/mybatis/mybatis-3/issues/1496", "user": "hiirage", "labels": ["bug"], "created": "2019-03-07 09:38:00", "closed": "2019-03-09 19:09:06", "commits": {"8e2df2600efa11e80c5b1663cccf01b2914f5519": {"commitGHEventType": "closed", "commitUser": "harawata"}}, "ttf": 2.000277777777778, "commitsDetails": [{"commitHash": "8e2df2600efa11e80c5b1663cccf01b2914f5519", "commitGHEventType": "closed", "commitUser": "harawata", "commitParents": ["4b91bc75f873856557e36c6a0a9c26a50482729f"], "nameRev": "8e2df2600efa11e80c5b1663cccf01b2914f5519 tags/mybatis-3.5.1~9", "commitMessage": "fixes #1496 columnPrefix specified in constructor mapping should be converted to uppercase. Otherwise, auto-mapping in the referenced result map does not find the matching column.\n", "commitDateTime": "2019-03-10 04:08:11", "authoredDateTime": "2019-03-10 02:02:32", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/executor/resultset/DefaultResultSetHandler.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/org/apache/ibatis/submitted/constructor_columnprefix/Mapper.xml", "insertions": 1, "deletions": 2, "lines": 3}], "commitSpoonAstDiffStats": [{"spoonFilePath": "DefaultResultSetHandler.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.createParameterizedResultObject(org.apache.ibatis.executor.resultset.ResultSetWrapper,java.lang.Class,java.util.List,java.util.List,java.util.List,java.lang.String)", "TOT": 2, "UPD": 0, "INS": 2, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["8e2df2600efa11e80c5b1663cccf01b2914f5519"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 1, "deletions": 1, "lines": 2, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 2, "UPD": 0, "INS": 2, "MOV": 0, "DEL": 0, "spoonFilesChanged": 1, "spoonMethodsChanged": 1}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/executor/resultset"], "changesInPackagesSPOON": ["org.apache.ibatis.executor.resultset.DefaultResultSetHandler.createParameterizedResultObject(org.apache.ibatis.executor.resultset.ResultSetWrapper,java.lang.Class,java.util.List,java.util.List,java.util.List,java.lang.String)"]}, {"title": "Constructor auto mapping could fail when columnPrefix is specified in the parent resultMap", "body": "## MyBatis version\r\n3.5.0\r\n\r\n## Database vendor and version\r\nH2\r\n\r\n## Test case or example project\r\n[contructor_mapping.zip](https://github.com/mybatis/mybatis-3/files/2940344/contructor_mapping.zip)\r\n\r\n\r\n## Steps to reproduce\r\nRun FooMapperTest to find one object Foo with an immutable Bar  from DB\r\n\r\n## Expected result\r\nget a Foo with a Bar constructed by autoMapping with columnPrefix \"b_\"\r\n\r\n## Actual result\r\nAn exception thrown with message:\r\n...JdbcSQLSyntaxErrorException: Column \"b_B_STR\" not found ...", "url": "https://github.com/mybatis/mybatis-3/issues/1495", "user": "hiirage", "labels": ["bug"], "created": "2019-03-07 09:17:05", "closed": "2019-03-10 17:05:01", "commits": {"76826c83ce404188abcdc2186e2779b7ad96004e": {"commitGHEventType": "closed", "commitUser": "harawata"}}, "ttf": 3.000277777777778, "commitsDetails": [{"commitHash": "76826c83ce404188abcdc2186e2779b7ad96004e", "commitGHEventType": "closed", "commitUser": "harawata", "commitParents": ["8e2df2600efa11e80c5b1663cccf01b2914f5519"], "nameRev": "76826c83ce404188abcdc2186e2779b7ad96004e tags/mybatis-3.5.1~8", "commitMessage": "fixes #1495 Constructor auto-mapping does not need columnPrefix.\n", "commitDateTime": "2019-03-10 20:23:52", "authoredDateTime": "2019-03-10 20:23:52", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/executor/resultset/DefaultResultSetHandler.java", "insertions": 6, "deletions": 7, "lines": 13}, {"filePath": "src/test/java/org/apache/ibatis/submitted/constructor_automapping/Article.java", "insertions": 47, "deletions": 0, "lines": 47}, {"filePath": "src/test/java/org/apache/ibatis/submitted/constructor_automapping/Author.java", "insertions": 39, "deletions": 0, "lines": 39}, {"filePath": "src/test/java/org/apache/ibatis/submitted/constructor_automapping/ConstructorAutomappingTest.java", "insertions": 62, "deletions": 0, "lines": 62}, {"filePath": "src/test/java/org/apache/ibatis/submitted/constructor_automapping/CreateDB.sql", "insertions": 37, "deletions": 0, "lines": 37}, {"filePath": "src/test/java/org/apache/ibatis/submitted/constructor_automapping/Mapper.java", "insertions": 24, "deletions": 0, "lines": 24}, {"filePath": "src/test/java/org/apache/ibatis/submitted/constructor_automapping/Mapper.xml", "insertions": 47, "deletions": 0, "lines": 47}, {"filePath": "src/test/java/org/apache/ibatis/submitted/constructor_automapping/mybatis-config.xml", "insertions": 42, "deletions": 0, "lines": 42}], "commitSpoonAstDiffStats": [{"spoonFilePath": "DefaultResultSetHandler.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.createResultObject(org.apache.ibatis.executor.resultset.ResultSetWrapper,org.apache.ibatis.mapping.ResultMap,java.util.List,java.util.List,java.lang.String)", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}, {"spoonMethodName": "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.createByConstructorSignature(org.apache.ibatis.executor.resultset.ResultSetWrapper,java.lang.Class,java.util.List,java.util.List,java.lang.String)", "TOT": 3, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 3}, {"spoonMethodName": "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.createUsingConstructor(org.apache.ibatis.executor.resultset.ResultSetWrapper,java.lang.Class,java.util.List,java.util.List,java.lang.String,java.lang.reflect.Constructor)", "TOT": 3, "UPD": 0, "INS": 0, "MOV": 1, "DEL": 2}]}, {"spoonFilePath": "Article.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.constructor_automapping.Article", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "Author.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.constructor_automapping.Author", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "ConstructorAutomappingTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.constructor_automapping.ConstructorAutomappingTest", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "Mapper.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.constructor_automapping", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["76826c83ce404188abcdc2186e2779b7ad96004e"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 6, "deletions": 7, "lines": 13, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 10, "UPD": 0, "INS": 3, "MOV": 1, "DEL": 6, "spoonFilesChanged": 4, "spoonMethodsChanged": 6}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/executor/resultset"], "changesInPackagesSPOON": ["org.apache.ibatis.executor.resultset.DefaultResultSetHandler.createUsingConstructor(org.apache.ibatis.executor.resultset.ResultSetWrapper,java.lang.Class,java.util.List,java.util.List,java.lang.String,java.lang.reflect.Constructor)", "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.createResultObject(org.apache.ibatis.executor.resultset.ResultSetWrapper,org.apache.ibatis.mapping.ResultMap,java.util.List,java.util.List,java.lang.String)", "org.apache.ibatis.submitted.constructor_automapping", "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.createByConstructorSignature(org.apache.ibatis.executor.resultset.ResultSetWrapper,java.lang.Class,java.util.List,java.util.List,java.lang.String)", "org.apache.ibatis.submitted.constructor_automapping.Author", "org.apache.ibatis.submitted.constructor_automapping.Article"]}, {"title": "cannot find type handler for enum when enum value has methods", "body": "## MyBatis version\r\n3.5.0\r\n\r\n## Database vendor and version\r\nIndependent of databases and versions. For an exapmle, hsqldb in mybatis tests.\r\n\r\n## Test case or example project\r\n\r\nhttps://github.com/zhzhsx/mybatis-3/tree/master/src/test/java/org/apache/ibatis/submitted/enum_with_method\r\n\r\n## Steps to reproduce\r\n\r\nRun the test: EnumWithMethodTest#shouldInsertAUser.\r\n\r\n## Expected result\r\n\r\nA user should be inserted into the database successfully.\r\n\r\n## Actual result\r\nThe test fails.\r\n\r\n## Notes on conditions to reproduce the issue\r\n* The enum value (Currency enum in the test) has methods\r\n* No 'parameterType' attribute is provided in corresponding insert mapper\r\n\r\n", "url": "https://github.com/mybatis/mybatis-3/issues/1489", "user": "zhzhsx", "labels": ["bug"], "created": "2019-03-04 09:04:51", "closed": "2019-03-04 14:30:44", "commits": {"ff7dc3b8f044c86b5cb80d68eb06702ce244a2c6": {"commitGHEventType": "referenced", "commitUser": "kazuki43zoo"}}, "ttf": 0.0002777777777777778, "commitsDetails": [{"commitHash": "ff7dc3b8f044c86b5cb80d68eb06702ce244a2c6", "commitGHEventType": "referenced", "commitUser": "kazuki43zoo", "commitParents": ["0419f493301e7cad32bbf2292d19d7a43d5ea9ed", "c6672b5d0acdc89b28834a4bb17248ba7435e22a"], "nameRev": "ff7dc3b8f044c86b5cb80d68eb06702ce244a2c6 tags/mybatis-3.5.1~11", "commitMessage": "Merge pull request #1490 from kazuki43zoo/gh-1489-enum-with-method\n\nSupport anonymous enum object that implement method", "commitDateTime": "2019-03-04 23:30:43", "authoredDateTime": "2019-03-04 23:30:43", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/type/TypeHandlerRegistry.java", "insertions": 5, "deletions": 4, "lines": 9}, {"filePath": "src/test/java/org/apache/ibatis/submitted/enum_interface_type_handler/EnumInterfaceTypeHandlerTest.java", "insertions": 14, "deletions": 0, "lines": 14}, {"filePath": "src/test/java/org/apache/ibatis/submitted/enum_interface_type_handler/XmlMapper.java", "insertions": 20, "deletions": 0, "lines": 20}, {"filePath": "src/test/java/org/apache/ibatis/submitted/enum_interface_type_handler/XmlMapper.xml", "insertions": 30, "deletions": 0, "lines": 30}, {"filePath": "src/test/java/org/apache/ibatis/submitted/enum_interface_type_handler/mybatis-config.xml", "insertions": 2, "deletions": 1, "lines": 3}, {"filePath": "src/test/java/org/apache/ibatis/submitted/enum_with_method/CreateDB.sql", "insertions": 25, "deletions": 0, "lines": 25}, {"filePath": "src/test/java/org/apache/ibatis/submitted/enum_with_method/Currency.java", "insertions": 37, "deletions": 0, "lines": 37}, {"filePath": "src/test/java/org/apache/ibatis/submitted/enum_with_method/EnumWithMethodTest.java", "insertions": 67, "deletions": 0, "lines": 67}, {"filePath": "src/test/java/org/apache/ibatis/submitted/enum_with_method/Mapper.java", "insertions": 24, "deletions": 0, "lines": 24}, {"filePath": "src/test/java/org/apache/ibatis/submitted/enum_with_method/Mapper.xml", "insertions": 37, "deletions": 0, "lines": 37}, {"filePath": "src/test/java/org/apache/ibatis/submitted/enum_with_method/User.java", "insertions": 47, "deletions": 0, "lines": 47}, {"filePath": "src/test/java/org/apache/ibatis/submitted/enum_with_method/mybatis-config.xml", "insertions": 42, "deletions": 0, "lines": 42}], "commitSpoonAstDiffStats": [{"spoonFilePath": "TypeHandlerRegistry.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.type.TypeHandlerRegistry.getJdbcHandlerMap(java.lang.reflect.Type)", "TOT": 7, "UPD": 6, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "EnumInterfaceTypeHandlerTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.enum_interface_type_handler.EnumInterfaceTypeHandlerTest.shouldInsertAUserWithoutParameterTypeInXmlElement()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XmlMapper.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.enum_interface_type_handler", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "Currency.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.enum_with_method.Currency", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "EnumWithMethodTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.enum_with_method.EnumWithMethodTest", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "Mapper.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.enum_with_method", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "User.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.enum_with_method.User", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": [], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 1, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 0, "gitStatsSummary": {"insertions": 0, "deletions": 0, "lines": 0, "gitFilesChange": 0}, "spoonStatsSummary": {"TOT": 0, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 0, "spoonFilesChanged": 0, "spoonMethodsChanged": 0}, "statsSkippedReason": "", "changesInPackagesGIT": [], "changesInPackagesSPOON": []}, {"title": "MyBatis 3.5.0 inconsistent handling of keyProperty", "body": "```\r\n@Options(useGeneratedKeys = true, keyProperty = \"n.id\", keyColumn = \"id\")\r\nint insertDataObject(@Param(\"n\") DataObject dataObject);\r\n```\r\nIn 3.5.0 keyProperty\r\n\"id\" works with non-batch executor, \"n.id\" doesn't\r\n\"n.id\" works with batch executor, \"id\" doesn't\r\n\"n.id\" works with multiple parameters in mapper method, \"id\" doesn't\r\n\r\nPlease allow using \"n.id\" for single parameter methods with non-batch executors again. It was working before 3.5.0.", "url": "https://github.com/mybatis/mybatis-3/issues/1485", "user": "morvael", "labels": ["bug"], "created": "2019-02-25 15:07:49", "closed": "2019-02-27 16:23:34", "commits": {"36d3a4a7e2e4e0490f6879a18d20273559b62a66": {"commitGHEventType": "closed", "commitUser": "harawata"}}, "ttf": 2.000277777777778, "commitsDetails": [{"commitHash": "36d3a4a7e2e4e0490f6879a18d20273559b62a66", "commitGHEventType": "closed", "commitUser": "harawata", "commitParents": ["4dfea244e8d83c2acaccba42d07ff808bf3e1c80"], "nameRev": "36d3a4a7e2e4e0490f6879a18d20273559b62a66 tags/mybatis-3.5.1~13", "commitMessage": "fixes #1485 Improved consistency in assigning generated keys when using BatchExecutor.\n\nJdbc3KeyGenerator is fully rewritten and it now supports assigning generated keys to different parameters. See the test 'assigningMultipleKeysToDifferentParams'.\n", "commitDateTime": "2019-02-28 01:15:38", "authoredDateTime": "2019-02-28 00:54:55", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/executor/keygen/Jdbc3KeyGenerator.java", "insertions": 163, "deletions": 89, "lines": 252}, {"filePath": "src/test/java/org/apache/ibatis/submitted/keygen/CountryMapper.java", "insertions": 5, "deletions": 1, "lines": 6}, {"filePath": "src/test/java/org/apache/ibatis/submitted/keygen/Jdbc3KeyGeneratorTest.java", "insertions": 121, "deletions": 6, "lines": 127}], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": "tooManyChanges"}], "filteredCommits": ["36d3a4a7e2e4e0490f6879a18d20273559b62a66"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 163, "deletions": 89, "lines": 252, "gitFilesChange": 1}, "spoonStatsSummary": {}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/executor/keygen"]}, {"title": "Association javaType property not automatically resolved", "body": "## MyBatis version\r\n3.4.6\r\n\r\n## Test case or example project\r\n\t// Java types (simplified)\r\n\r\n\tpublic class AuthInfo {\r\n\t\tprivate Account account;\r\n\t\tprivate String password;\r\n\t\t// getters + setters\r\n\t}\r\n\r\n\tpublic class Account {\r\n\t\tprivate String username;\r\n\t\t// getters + setters\r\n\t}\r\n\r\n\t// Mapper (with auto-mapping)\r\n\r\n\t<resultMap id=\"authInfoResult\" type=\"AuthInfo\">\r\n\t  <association property=\"account\"></association>\r\n\t  <!-- <association property=\"account\" javaType=\"Account\"> <-- fixes the problem -->\r\n\t</resultMap>\r\n\r\n\t<select id=\"selectAuthInfo\" resultMap=\"authInfoResult\">\r\n\t  SELECT username, password FROM accounts WHERE username = #{username}\r\n\t</select>\r\n\r\n\r\n## Steps to reproduce\r\nExecute selectAuthInfo(username)\r\n\r\n## Expected result\r\nNo exception :)\r\n\r\n## Actual result\r\n\t### Cause: java.lang.NullPointerException\r\n\t\tat org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)\r\n\t\tat org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:150)\r\n\t\tat org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:141)\r\n\t\tat org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:77)\r\n\t\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\t\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\t\tat org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:433)\r\n\t\t... 37 more\r\n\tCaused by: java.lang.NullPointerException\r\n\t\tat java.lang.Class.isAssignableFrom(Native Method)\r\n\t\tat org.apache.ibatis.executor.resultset.DefaultResultSetHandler.createRowKey(DefaultResultSetHandler.java:1024)\r\n\t\tat org.apache.ibatis.executor.resultset.DefaultResultSetHandler.applyNestedResultMappings(DefaultResultSetHandler.java:957)\r\n\t\tat org.apache.ibatis.executor.resultset.DefaultResultSetHandler.getRowValue(DefaultResultSetHandler.java:918)\r\n\t\tat org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleRowValuesForNestedResultMap(DefaultResultSetHandler.java:881)\r\n\t\tat org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleRowValues(DefaultResultSetHandler.java:328)\r\n\t\tat org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleResultSet(DefaultResultSetHandler.java:303)\r\n\t\tat org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleResultSets(DefaultResultSetHandler.java:196)\r\n\t\tat org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:64)\r\n\t\tat org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:79)\r\n\t\tat org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:63)\r\n\t\tat org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:326)\r\n\t\tat org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)\r\n\t\tat org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)\r\n\t\tat org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:83)\r\n\t\tat org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:148)\r\n\t\t... 44 more\r\n\r\n## Discussion\r\n\r\nThe documentation states, regarding the `javaType` property of `association`, that \"MyBatis can usually figure out the type if you're mapping to a JavaBean.\" Looking at the code however, type detection does not occur when the result map is built:\r\n\r\n\t// from XMLMapperBuilder\r\n\t  private ResultMap resultMapElement(XNode resultMapNode, List<ResultMapping> additionalResultMappings) throws Exception {\r\n\t\t// snip\r\n\t\tString type = resultMapNode.getStringAttribute(\"type\",\r\n\t\t\tresultMapNode.getStringAttribute(\"ofType\",\r\n\t\t\t\tresultMapNode.getStringAttribute(\"resultType\",\r\n\t\t\t\t\tresultMapNode.getStringAttribute(\"javaType\"))));\r\n\t\t// snip\r\n\t\tClass<?> typeClass = resolveClass(type);\r\n\t\t// snip\r\n\t  }\r\n\r\n\t// from BaseBuilder\r\n\t  protected Class<?> resolveClass(String alias) {\r\n\t\tif (alias == null) {\r\n\t\t  return null;\r\n\t\t}\r\n\t\ttry {\r\n\t\t  return resolveAlias(alias);\r\n\t\t} catch (Exception e) {\r\n\t\t  throw new BuilderException(\"Error resolving class. Cause: \" + e, e);\r\n\t\t}\r\n\t  }\r\n\r\nEither the documentation for the `javaType` property should be changed (easiest) or type detection should be implemented (harder).\r\n\r\nSidenote: is there a better way to accomplish this use-case? I want to sometimes select only `Account` and sometimes `AuthInfo` that contains an `Account`. Both operations should occur in a single select clause. `AuthInfo` is just an `Account` with added fields.", "url": "https://github.com/mybatis/mybatis-3/issues/1381", "user": "berniegp", "labels": ["bug"], "created": "2018-10-30 14:41:13", "closed": "2018-11-05 18:10:03", "commits": {"5e1bcbaf6f3aba3f763aafe6690a0c35accce1c3": {"commitGHEventType": "referenced", "commitUser": "harawata"}, "c7970583907a7049e518aef48891a3344c7870e0": {"commitGHEventType": "closed", "commitUser": "harawata"}}, "ttf": 6.000277777777778, "commitsDetails": [{"commitHash": "5e1bcbaf6f3aba3f763aafe6690a0c35accce1c3", "commitGHEventType": "referenced", "commitUser": "harawata", "commitParents": ["315b1d8974c79d467ef47e6c039a2c5c2b80236f", "4783e62677636641a310af62827d6b12f15984a0"], "nameRev": "5e1bcbaf6f3aba3f763aafe6690a0c35accce1c3 tags/mybatis-3.5.0~54", "commitMessage": "Merge pull request #1383 from berniegp/berniegp/1381\n\nA failing test case for #1381 .\n", "commitDateTime": "2018-11-04 16:54:52", "authoredDateTime": "2018-11-04 16:52:14", "commitGitStats": [{"filePath": "src/test/java/org/apache/ibatis/submitted/associationtest/AssociationTest.java", "insertions": 15, "deletions": 0, "lines": 15}, {"filePath": "src/test/java/org/apache/ibatis/submitted/associationtest/Mapper.java", "insertions": 1, "deletions": 2, "lines": 3}, {"filePath": "src/test/java/org/apache/ibatis/submitted/associationtest/Mapper.xml", "insertions": 16, "deletions": 4, "lines": 20}], "commitSpoonAstDiffStats": [{"spoonFilePath": "AssociationTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.associationtest.AssociationTest.shouldGetAllCarsAndDetectAssociationType()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "Mapper.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.associationtest.getCars3()", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "c7970583907a7049e518aef48891a3344c7870e0", "commitGHEventType": "closed", "commitUser": "harawata", "commitParents": ["5e1bcbaf6f3aba3f763aafe6690a0c35accce1c3"], "nameRev": "c7970583907a7049e518aef48891a3344c7870e0 tags/mybatis-3.5.0~53", "commitMessage": "fixes #1381 When there is no 'resultType' nor 'resultMap' specified for `<association />`, use the property's java type.\n", "commitDateTime": "2018-11-04 19:10:39", "authoredDateTime": "2018-11-04 17:44:49", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/builder/xml/XMLMapperBuilder.java", "insertions": 22, "deletions": 7, "lines": 29}, {"filePath": "src/test/java/org/apache/ibatis/submitted/associationtest/Mapper.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/org/apache/ibatis/submitted/associationtest/Mapper.xml", "insertions": 1, "deletions": 1, "lines": 2}], "commitSpoonAstDiffStats": [{"spoonFilePath": "XMLMapperBuilder.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.builder.xml.XMLMapperBuilder.inheritEnclosingType(org.apache.ibatis.parsing.XNode,java.lang.Class)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.builder.xml.XMLMapperBuilder.resultMapElement(org.apache.ibatis.parsing.XNode,java.util.List,java.lang.Class)", "TOT": 2, "UPD": 0, "INS": 2, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.builder.xml.XMLMapperBuilder.processNestedResultMappings(org.apache.ibatis.parsing.XNode,java.util.List,java.lang.Class)", "TOT": 2, "UPD": 0, "INS": 2, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.builder.xml.XMLMapperBuilder.resultMapElement(org.apache.ibatis.parsing.XNode)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.builder.xml.XMLMapperBuilder.buildResultMappingFromContext(org.apache.ibatis.parsing.XNode,java.lang.Class,java.util.List)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.builder.xml.XMLMapperBuilder.processDiscriminatorElement(org.apache.ibatis.parsing.XNode,java.lang.Class,java.util.List)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "Mapper.java", "spoonMethods": []}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["c7970583907a7049e518aef48891a3344c7870e0"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 1, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 22, "deletions": 7, "lines": 29, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 8, "UPD": 0, "INS": 8, "MOV": 0, "DEL": 0, "spoonFilesChanged": 1, "spoonMethodsChanged": 6}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/builder/xml"], "changesInPackagesSPOON": ["org.apache.ibatis.builder.xml.XMLMapperBuilder.processNestedResultMappings(org.apache.ibatis.parsing.XNode,java.util.List,java.lang.Class)", "org.apache.ibatis.builder.xml.XMLMapperBuilder.resultMapElement(org.apache.ibatis.parsing.XNode,java.util.List,java.lang.Class)", "org.apache.ibatis.builder.xml.XMLMapperBuilder.buildResultMappingFromContext(org.apache.ibatis.parsing.XNode,java.lang.Class,java.util.List)", "org.apache.ibatis.builder.xml.XMLMapperBuilder.resultMapElement(org.apache.ibatis.parsing.XNode)", "org.apache.ibatis.builder.xml.XMLMapperBuilder.processDiscriminatorElement(org.apache.ibatis.parsing.XNode,java.lang.Class,java.util.List)", "org.apache.ibatis.builder.xml.XMLMapperBuilder.inheritEnclosingType(org.apache.ibatis.parsing.XNode,java.lang.Class)"]}, {"title": "Cursor.close() closes its statement even if the ExecutorType is REUSE", "body": "[DefaultCursor.java L117](https://github.com/mybatis/mybatis-3/blob/mybatis-3.4.6/src/main/java/org/apache/ibatis/cursor/defaults/DefaultCursor.java#L117)\r\n\r\nCursor.close() method always closes its statement object regardless the ExecutorType.\r\nIn case the ExecuteType is REUSE, it will cause a problem because the Prepared Statement will also be closed and no longer reusable.\r\n\r\n## MyBatis version\r\n3.4.6\r\n\r\n## Database vendor and version\r\npostgresql 9.4\r\n\r\n## Test case or example project\r\nto quickly reproduce the problem, modify some existing tests like below.\r\n\r\n```java\r\n// CursorSimpleTest.java\r\n// add below test case\r\n    @Test\r\n    public void shouldGetUser2Times() throws IOException {\r\n        try (SqlSession sqlSession = sqlSessionFactory.openSession()) {\r\n            Mapper mapper = sqlSession.getMapper(Mapper.class);\r\n            Cursor<User> usersCursor = mapper.getAllUsers();\r\n            usersCursor.forEach(System.out::println);\r\n\r\n            usersCursor.close();\r\n            Assert.assertFalse(usersCursor.isOpen());\r\n\r\n            // 2nd invocation\r\n            usersCursor = mapper.getAllUsers();\r\n            usersCursor.forEach(System.out::println);\r\n\r\n            usersCursor.close();\r\n            Assert.assertFalse(usersCursor.isOpen());\r\n        }\r\n    }\r\n```\r\n\r\n```xml\r\n<!-- mybatis-config.xml -->\r\n<configuration>\r\n    <settings>\r\n        <setting name=\"defaultExecutorType\" value=\"REUSE\"/>\r\n    </settings>\r\n\r\n    <dataSource type=\"UNPOOLED\">\r\n        <property name=\"driver\" value=\"org.postgresql.Driver\" />\r\n        <property name=\"url\" value=\"jdbc:postgresql://localhost:5432/postgres\" />\r\n        <property name=\"username\" value=\"postgres\" />\r\n        <property name=\"password\" value=\"your_password\" />\r\n    </dataSource>\r\n</configuration>\r\n```\r\n\r\n## Steps to reproduce\r\nsee above test case.\r\n* run postgresql database on local machine\r\n* set ExecutorType to REUSE\r\n* Obtain a Cursor by invoking a Mapper.\r\n* Close the Cursor.\r\n* Invoke the Mapper again.\r\n\r\nplease note that the problem didn't occur on h2db. \r\n\r\n## Expected result\r\n* can invoke the Mapper successfully at 2nd and subsequent times.\r\n\r\n## Actual result\r\n* an exception occurs in the jdbc driver. \r\n\r\n```\r\norg.postgresql.util.PSQLException: \u3053\u306e\u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8\u306f\u9589\u3058\u3089\u308c\u307e\u3057\u305f\u3002\r\n```\r\n\r\n* EDIT: I did re-test in en_US locale. Above mentioned is the same error message translated in Japanese.\r\n```\r\nCaused by: org.postgresql.util.PSQLException: This statement has been closed.\r\n\tat org.postgresql.jdbc.PgStatement.checkClosed(PgStatement.java:649)\r\n\tat org.postgresql.jdbc.PgStatement.getQueryTimeoutMs(PgStatement.java:520)\r\n\tat org.postgresql.jdbc.PgStatement.getQueryTimeout(PgStatement.java:505)\r\n```", "url": "https://github.com/mybatis/mybatis-3/issues/1351", "user": "ryo-murai", "labels": ["bug", "no backward compatibility"], "created": "2018-09-14 03:27:42", "closed": "2018-10-06 17:32:41", "commits": {"8892890a14f47ecff1a066942e451b2a6156007f": {"commitGHEventType": "closed", "commitUser": "harawata"}}, "ttf": 22.00027777777778, "commitsDetails": [{"commitHash": "8892890a14f47ecff1a066942e451b2a6156007f", "commitGHEventType": "closed", "commitUser": "harawata", "commitParents": ["248dd75481c940e1a7b17d8a40ff73f33cdc2bda"], "nameRev": "8892890a14f47ecff1a066942e451b2a6156007f tags/mybatis-3.5.0~66", "commitMessage": "fixes #1351 Allow ReuseExecutor to reuse statement.\n\n- Closing Statement may be an executor's responsibility.\n- Using Cursor now requires drivers that support Statement#closeOnCompletion() (JDBC 4.1+).\n", "commitDateTime": "2018-10-07 02:29:18", "authoredDateTime": "2018-10-06 20:19:22", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/cursor/defaults/DefaultCursor.java", "insertions": 0, "deletions": 6, "lines": 6}, {"filePath": "src/main/java/org/apache/ibatis/executor/BatchExecutor.java", "insertions": 1, "deletions": 0, "lines": 1}, {"filePath": "src/main/java/org/apache/ibatis/executor/SimpleExecutor.java", "insertions": 1, "deletions": 0, "lines": 1}, {"filePath": "src/test/java/org/apache/ibatis/submitted/cursor_simple/PostgresCursorTest.java", "insertions": 96, "deletions": 0, "lines": 96}], "commitSpoonAstDiffStats": [{"spoonFilePath": "DefaultCursor.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.cursor.defaults.DefaultCursor.close()", "TOT": 5, "UPD": 0, "INS": 1, "MOV": 2, "DEL": 2}]}, {"spoonFilePath": "BatchExecutor.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.executor.BatchExecutor.doQueryCursor(org.apache.ibatis.mapping.MappedStatement,java.lang.Object,org.apache.ibatis.session.RowBounds,org.apache.ibatis.mapping.BoundSql)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "SimpleExecutor.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.executor.SimpleExecutor.doQueryCursor(org.apache.ibatis.mapping.MappedStatement,java.lang.Object,org.apache.ibatis.session.RowBounds,org.apache.ibatis.mapping.BoundSql)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "PostgresCursorTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.cursor_simple.PostgresCursorTest", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["8892890a14f47ecff1a066942e451b2a6156007f"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 2, "deletions": 6, "lines": 8, "gitFilesChange": 3}, "spoonStatsSummary": {"TOT": 7, "UPD": 0, "INS": 3, "MOV": 2, "DEL": 2, "spoonFilesChanged": 3, "spoonMethodsChanged": 3}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/cursor/defaults", "src/main/java/org/apache/ibatis/executor"], "changesInPackagesSPOON": ["org.apache.ibatis.executor.SimpleExecutor.doQueryCursor(org.apache.ibatis.mapping.MappedStatement,java.lang.Object,org.apache.ibatis.session.RowBounds,org.apache.ibatis.mapping.BoundSql)", "org.apache.ibatis.cursor.defaults.DefaultCursor.close()", "org.apache.ibatis.executor.BatchExecutor.doQueryCursor(org.apache.ibatis.mapping.MappedStatement,java.lang.Object,org.apache.ibatis.session.RowBounds,org.apache.ibatis.mapping.BoundSql)"]}, {"title": "SQLException when using selectCursor on DB2", "body": "We are using the selectCursor method of SqlSession to stream a large result set from a DB2 database. On DB2 this operation always fails when trying to read the last object from the cursor's iterator specifically for select statements that use a result mapping with nested results.\r\n\r\nAfter some investigation I have found that this error occurs because the DB2 driver behaves differently from most other databases. As soon as the `ResultSet#next` method returns false the DB2 driver starts throwing SQLExceptions on almost all methods (in this case on subsequent calls to `ResultSet#getType` and `ResultSet#next`). Most database drivers allow you to call these methods even after reaching the end of the result set but the behavior of DB2 is allowed by the JDBC spec because the Javadoc leaves the implementation open to the driver:\r\n```\r\nWhen a call to the next method returns false, the cursor is positioned after the last row. Any invocation of a ResultSet method which requires a current row will result in a SQLException being thrown.\r\nIf the result set type is TYPE_FORWARD_ONLY, it is vendor specified whether their JDBC driver implementation will return false or throw an SQLException on a subsequent call to next.\r\n```\r\n\r\nI had a look at the code and the exception occurs because the DefaultCursor calls the `DefaultResultSetHandler#handleRowValues` one last time after the end of the ResultSet was reached to check if any more objects remain. On DB2 the ResultSet is already closed automatically at this point causing the exception. A quick workaround that I will supply in a pull request would be to add a `ResultSet#isClosed` check before interacting with the ResultSet.\r\n\r\n## MyBatis version\r\n3.4.6\r\n\r\n## Database vendor and version\r\nIBM DB2 LUW version 9.7 (JDBC driver: db2jcc4_9.7fp11.jar)\r\n\r\n## Test case or example project\r\nI cannot provide a working example project because the problem only occurs when run with a DB2 database. However, the existing integration tests in `org.apache.ibatis.submitted.cursor_nested.CursorNestedTest` should already run into the same problem when using a DB2 database.\r\nTo demonstrate the issue I will add a pull request with a unit test that triggers the exception using a mocked ResultSet instance. I have also implemented a quick fix that works around the problem.\r\n\r\n## Steps to reproduce\r\nExecute a select query with \"resultOrdered\" set to \"true\" using a Mybatis cursor (either by using a Mapper interface returning a Cursor instance or by calling the selectCursor method of SqlSession) and where the result map contains one or more nested result maps. When run using the DB2 database driver this results in an exception when reading the last object from the iterator.\r\n\r\n## Expected result\r\nWe should be able to read all objects from the Mybatis Cursor without receiving any exceptions.\r\n\r\n## Actual result\r\nWhen we try to consume the last object from the Cursor's iterator we receive the following exception:\r\n```\r\njava.lang.RuntimeException: com.ibm.db2.jcc.am.SqlException: [jcc][t4][10120][10898][4.14.146] Invalid operation: result set is closed. ERRORCODE=-4470, SQLSTATE=null\r\n\tat org.apache.ibatis.cursor.defaults.DefaultCursor.fetchNextObjectFromDatabase(DefaultCursor.java:143)\r\n\tat org.apache.ibatis.cursor.defaults.DefaultCursor.fetchNextUsingRowBound(DefaultCursor.java:127)\r\n\tat org.apache.ibatis.cursor.defaults.DefaultCursor$CursorIterator.hasNext(DefaultCursor.java:194)\r\n\tat com.google.common.collect.Iterators.addAll(Iterators.java:366)\r\n\tat com.google.common.collect.Lists.newArrayList(Lists.java:165)\r\n\tat com.google.common.collect.Lists.newArrayList(Lists.java:150)\r\n\tat eu.vandevelde.m3.customer.CustomerRepositoryITTest.findCustomersModifiedBetween(CustomerRepositoryITTest.java:76)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\r\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n\tat org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:73)\r\n\tat org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:83)\r\n\tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\r\n\tat org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)\r\n\tat org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)\r\n\tat org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)\r\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n\tat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\r\n\tat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)\r\n\tat org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)\r\n\tat org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273)\r\n\tat org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)\r\n\tat org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:383)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:344)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:125)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:417)\r\nCaused by: com.ibm.db2.jcc.am.SqlException: [jcc][t4][10120][10898][4.14.146] Invalid operation: result set is closed. ERRORCODE=-4470, SQLSTATE=null\r\n\tat com.ibm.db2.jcc.am.ed.a(ed.java:661)\r\n\tat com.ibm.db2.jcc.am.ed.a(ed.java:60)\r\n\tat com.ibm.db2.jcc.am.ed.a(ed.java:103)\r\n\tat com.ibm.db2.jcc.am.ResultSet.checkForClosedResultSet(ResultSet.java:4599)\r\n\tat com.ibm.db2.jcc.am.ResultSet.getType(ResultSet.java:2542)\r\n\tat com.zaxxer.hikari.pool.HikariProxyResultSet.getType(HikariProxyResultSet.java)\r\n\tat org.apache.ibatis.executor.resultset.DefaultResultSetHandler.skipRows(DefaultResultSetHandler.java:379)\r\n\tat org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleRowValuesForNestedResultMap(DefaultResultSetHandler.java:867)\r\n\tat org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleRowValues(DefaultResultSetHandler.java:328)\r\n\tat org.apache.ibatis.cursor.defaults.DefaultCursor.fetchNextObjectFromDatabase(DefaultCursor.java:141)\r\n\t... 40 more\r\n```", "url": "https://github.com/mybatis/mybatis-3/issues/1345", "user": "ddoaj97", "labels": ["bug"], "created": "2018-09-06 06:45:08", "closed": "2018-09-17 00:55:26", "commits": {"4391ad913f3738a057ee5866c9d8292461d1f6a3": {"commitGHEventType": "closed", "commitUser": "harawata"}}, "ttf": 10.000277777777777, "commitsDetails": [{"commitHash": "4391ad913f3738a057ee5866c9d8292461d1f6a3", "commitGHEventType": "closed", "commitUser": "harawata", "commitParents": ["c43c9d9c4e0fb399e001ada997ece0a3704a0a84"], "nameRev": "4391ad913f3738a057ee5866c9d8292461d1f6a3 tags/mybatis-3.5.0~71^2~2", "commitMessage": "DefaultCursor could invoke method of a closed ResultSet on DB2.\n\nShould fix #1345 .\n", "commitDateTime": "2018-09-17 02:37:00", "authoredDateTime": "2018-09-14 04:16:40", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/cursor/defaults/DefaultCursor.java", "insertions": 4, "deletions": 1, "lines": 5}, {"filePath": "src/test/java/org/apache/ibatis/cursor/defaults/DefaultCursorTest.java", "insertions": 200, "deletions": 0, "lines": 200}], "commitSpoonAstDiffStats": [{"spoonFilePath": "DefaultCursor.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.cursor.defaults.DefaultCursor.fetchNextObjectFromDatabase()", "TOT": 4, "UPD": 0, "INS": 3, "MOV": 1, "DEL": 0}]}, {"spoonFilePath": "DefaultCursorTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.cursor.defaults.DefaultCursorTest", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["4391ad913f3738a057ee5866c9d8292461d1f6a3"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 4, "deletions": 1, "lines": 5, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 4, "UPD": 0, "INS": 3, "MOV": 1, "DEL": 0, "spoonFilesChanged": 1, "spoonMethodsChanged": 1}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/cursor/defaults"], "changesInPackagesSPOON": ["org.apache.ibatis.cursor.defaults.DefaultCursor.fetchNextObjectFromDatabase()"]}, {"title": "different default value between XMLStatementBuilder and MapperAnnotationBuilder", "body": "Hi, I found some differences between `XmlStatementBuilder` and `MapperAnnotationBuilder` when they parse SQL statement, they will give some variables different values when user didn't set. Sometimes, it can cause different behaviors.\r\nFor example, here is some code from `XMLStatementBuilder`  \r\n```java\r\nvoid parseStatementNode() {\r\n    // other codes are omitted\r\n    String resultSetType = context.getStringAttribute(\"resultSetType\");\r\n    ResultSetType resultSetTypeEnum = resolveResultSetType(resultSetType);\r\n    // omit some codes\r\n    builderAssistant.addMappedStatement(id, sqlSource, statementType, sqlCommandType,\r\n        fetchSize, timeout, parameterMap, parameterTypeClass, resultMap, resultTypeClass,\r\n        resultSetTypeEnum, flushCache, useCache, resultOrdered, \r\n        keyGenerator, keyProperty, keyColumn, databaseId, langDriver, resultSets);\r\n}   \r\n// inherited from BaseBuilder\r\nprotected ResultSetType resolveResultSetType(String alias) {\r\n    if (alias == null) {\r\n      return null;\r\n    }\r\n    try {\r\n      return ResultSetType.valueOf(alias);\r\n    } catch (IllegalArgumentException e) {\r\n      throw new BuilderException(\"Error resolving ResultSetType. Cause: \" + e, e);\r\n    }\r\n  }\r\n```\r\nHere is some code from `MapperAnnotationBuilder`  \r\n```java\r\n void parseStatement(Method method) {\r\n// omits unrelated codes\r\n   Options options = method.getAnnotation(Options.class);\r\n   ResultSetType resultSetType = ResultSetType.FORWARD_ONLY;\r\n   if (options != null) {\r\n        resultSetType = options.resultSetType();\r\n      }\r\n}\r\n```\r\nSo we can see, users get different resultSetType value when they didn't set, one is null and the other is `ResultSetType.FORWARD_ONLY`. This may cause some different behaviors when others' code depend on the value.\r\n# MyBatis version\r\n3.4.6", "url": "https://github.com/mybatis/mybatis-3/issues/1334", "user": "bringyou", "labels": ["bug", "no backward compatibility"], "created": "2018-08-24 08:15:16", "closed": "2018-09-07 16:51:47", "commits": {}, "ttf": 14.000277777777777, "commitsDetails": []}, {"title": "Cannot apply changes a logging implementation at some class", "body": "<!--\r\n\u274c \u4e0d\u8981\u5728\u8fd9\u91cc\u95ee\u95ee\u9898\u2757\ufe0f\r\n\u2b55\ufe0f \u8bf7\u5c06\u60a8\u7684\u95ee\u9898\u53d1\u9001\u5230\u90ae\u4ef6\u5217\u8868\r\n\u8acb\u7528\u82f1\u6587\u5beb\r\nhttps://groups.google.com/group/mybatis-user\r\n\r\nQuestion?\r\n======================\r\nPlease use the mailing list. http://groups.google.com/group/mybatis-user\r\nQuestions on this tracker will be closed without comment.\r\n\r\nBug report?\r\n======================\r\nPlease fill out the BUG REPORT FORM below.\r\n\r\nTo fix a bug, we need to reproduce it first.\r\nAnd we spend a lot of time just trying to reproduce the reported problem, so please consider creating a failing test case or an example project.\r\n\r\n- How to create a test case : https://github.com/mybatis/mybatis-3/wiki/Unit-Test\r\n- How to create a good example : http://sscce.org\r\n- How to upload your project to GitHub: https://help.github.com/articles/adding-an-existing-project-to-github-using-the-command-line/\r\n\r\nFeature request?\r\n=======================\r\n- Please delete the BUG REPORT FORM below and describe the feature.\r\n- It is a good idea to discuss your changes on the mailing list to get feedback from the community. http://groups.google.com/group/mybatis-user\r\n- If you have a patch with unit tests, send a pull request. Please see the wiki page : https://github.com/mybatis/mybatis-3/wiki/Contribute\r\n-->\r\n\r\n<!-- BUG REPORT FORM -->\r\n\r\n## MyBatis version\r\n3.4.6 (Probably all versions)\r\n\r\n## Database vendor and version\r\nAny\r\n\r\n## Test case or example project\r\nNone\r\n\r\n## Steps to reproduce\r\n\r\n1. Change to JKD14 as follow:\r\n\r\n```java\r\nsqlSessionFactory.getConfiguration().setAutoMappingUnknownColumnBehavior(AutoMappingUnknownColumnBehavior.WARNING);\r\nsqlSessionFactory.getConfiguration().setLogImpl(Jdk14LoggingImpl.class); // Change to JDK14\r\n```\r\n\r\n2. Run an application\r\n\r\n## Expected result\r\n\r\nOutput a log using the logger of JDK14(via specified log implementation).\r\n\r\n## Actual result\r\n\r\nBut output a log using the logger of SLF4J(In my application, SLF4J's provider is log4j). this changes cannot apply to some class.\r\n", "url": "https://github.com/mybatis/mybatis-3/issues/1272", "user": "kazuki43zoo", "labels": ["bug"], "created": "2018-05-04 12:38:33", "closed": "2018-12-09 17:38:33", "commits": {"48d7787debf698ab24a07416ce26eca134980417": {"commitGHEventType": "referenced", "commitUser": "kazuki43zoo"}}, "ttf": 219.00027777777777, "commitsDetails": [{"commitHash": "48d7787debf698ab24a07416ce26eca134980417", "commitGHEventType": "referenced", "commitUser": "kazuki43zoo", "commitParents": ["1a988cfec44b81fe5b519853e422c3cfd634aca2", "b2e809100a28b33479f23bf33cdde08bb85d3e87"], "nameRev": "48d7787debf698ab24a07416ce26eca134980417 tags/mybatis-3.5.0~47", "commitMessage": "Merge pull request #1395 from kazuki43zoo/gh-1272\n\nFix log initialization timing on some class", "commitDateTime": "2018-12-10 02:38:33", "authoredDateTime": "2018-12-10 02:38:33", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/builder/xml/XMLConfigBuilder.java", "insertions": 7, "deletions": 4, "lines": 11}, {"filePath": "src/main/java/org/apache/ibatis/executor/loader/cglib/CglibProxyFactory.java", "insertions": 8, "deletions": 4, "lines": 12}, {"filePath": "src/main/java/org/apache/ibatis/executor/loader/javassist/JavassistProxyFactory.java", "insertions": 8, "deletions": 4, "lines": 12}, {"filePath": "src/main/java/org/apache/ibatis/mapping/VendorDatabaseIdProvider.java", "insertions": 7, "deletions": 5, "lines": 12}, {"filePath": "src/main/java/org/apache/ibatis/session/AutoMappingUnknownColumnBehavior.java", "insertions": 6, "deletions": 7, "lines": 13}], "commitSpoonAstDiffStats": [{"spoonFilePath": "XMLConfigBuilder.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.builder.xml.XMLConfigBuilder.settingsElement(java.util.Properties)", "TOT": 3, "UPD": 0, "INS": 0, "MOV": 2, "DEL": 1}, {"spoonMethodName": "org.apache.ibatis.builder.xml.XMLConfigBuilder.loadCustomLogImpl(java.util.Properties)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.builder.xml.XMLConfigBuilder.parseConfiguration(org.apache.ibatis.parsing.XNode)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "CglibProxyFactory.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.executor.loader.cglib.CglibProxyFactory.LogHolder", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.executor.loader.cglib.CglibProxyFactory.crateProxy(java.lang.Class,net.sf.cglib.proxy.Callback,java.util.List,java.util.List)", "TOT": 2, "UPD": 0, "INS": 2, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.executor.loader.cglib.CglibProxyFactory", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 1, "DEL": 0}]}, {"spoonFilePath": "JavassistProxyFactory.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.executor.loader.javassist.JavassistProxyFactory.LogHolder", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.executor.loader.javassist.JavassistProxyFactory.crateProxy(java.lang.Class,javassist.util.proxy.MethodHandler,java.util.List,java.util.List)", "TOT": 2, "UPD": 0, "INS": 2, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.executor.loader.javassist.JavassistProxyFactory", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 1, "DEL": 0}]}, {"spoonFilePath": "VendorDatabaseIdProvider.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.mapping.VendorDatabaseIdProvider.LogHolder", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.mapping.VendorDatabaseIdProvider.getDatabaseId(javax.sql.DataSource)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.mapping.VendorDatabaseIdProvider", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 1, "DEL": 0}]}, {"spoonFilePath": "AutoMappingUnknownColumnBehavior.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.session.AutoMappingUnknownColumnBehavior.LogHolder", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.session.AutoMappingUnknownColumnBehavior.2.doAction(org.apache.ibatis.mapping.MappedStatement,java.lang.String,java.lang.String,java.lang.Class)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.session.AutoMappingUnknownColumnBehavior", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 1, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": [], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 1, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 0, "gitStatsSummary": {"insertions": 0, "deletions": 0, "lines": 0, "gitFilesChange": 0}, "spoonStatsSummary": {"TOT": 0, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 0, "spoonFilesChanged": 0, "spoonMethodsChanged": 0}, "statsSkippedReason": "", "changesInPackagesGIT": [], "changesInPackagesSPOON": []}, {"title": "Generic type parameter is not correctly resolved when the class hierarchy is deeper than 3 levels.", "body": "## MyBatis version\r\nProbably all (Tested on 3.4.6 and 3.5.0-SNAPSHOT)\r\n\r\n## Database vendor and version\r\nProbably all (Tested on ORACLE and HSQLDB)\r\n\r\n## Test case or example project\r\nPull request #1259\r\n\r\n## Steps to reproduce\r\nRun test case from pull request #1259\r\n\r\n## Expected result\r\nMyBatis should automap `NUMERIC` database type to corresponding Java type based on class inheritance.\r\n\r\nMyBatis can do that when generic filed is specified in parent class or parent of parent class. But when generically typed field is specified in higher level of inheritance, MyBatis does not recognize generic type correctly and automaps default type for `NUMERIC` database type, which is `BigDecimal`.\r\n\r\n## Actual result\r\n`NUMERIC` results in `BigDeciaml` instead of `Integer`.\r\n\r\n", "url": "https://github.com/mybatis/mybatis-3/issues/1260", "user": "pavelda2", "labels": ["bug"], "created": "2018-04-19 13:44:34", "closed": "2018-04-21 14:21:40", "commits": {"a60f3a98149ef5511f6fe1e91fea1b2f4914e993": {"commitGHEventType": "closed", "commitUser": "harawata"}, "140654e4dec2fb54541af2b54a98275ee98d2c27": {"commitGHEventType": "referenced", "commitUser": "h3adache"}}, "ttf": 2.000277777777778, "commitsDetails": [{"commitHash": "a60f3a98149ef5511f6fe1e91fea1b2f4914e993", "commitGHEventType": "closed", "commitUser": "harawata", "commitParents": ["c2048578eb7c132a93f0ae4b256101d13a11877d"], "nameRev": "a60f3a98149ef5511f6fe1e91fea1b2f4914e993 tags/mybatis-3.5.0~108", "commitMessage": "fixes #1260 When scanning super types, replace type variables with actual types.\n\nAs a side effect, it now returns more accurate result when involving type bounds. See the change in the existing test case.\n", "commitDateTime": "2018-04-21 23:16:49", "authoredDateTime": "2018-04-21 22:58:01", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/reflection/TypeParameterResolver.java", "insertions": 34, "deletions": 25, "lines": 59}, {"filePath": "src/test/java/org/apache/ibatis/reflection/TypeParameterResolverTest.java", "insertions": 24, "deletions": 2, "lines": 26}], "commitSpoonAstDiffStats": [{"spoonFilePath": "TypeParameterResolver.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.reflection.TypeParameterResolver.scanSuperTypes(java.lang.reflect.TypeVariable,java.lang.reflect.Type,java.lang.Class,java.lang.Class,java.lang.reflect.Type)", "TOT": 46, "UPD": 8, "INS": 1, "MOV": 31, "DEL": 6}, {"spoonMethodName": "org.apache.ibatis.reflection.TypeParameterResolver.translateParentTypeVars(java.lang.reflect.ParameterizedType,java.lang.Class,java.lang.reflect.ParameterizedType)", "TOT": 6, "UPD": 0, "INS": 6, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "TypeParameterResolverTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.reflection.TypeParameterResolverTest.testReturn_SimpleTypeVar()", "TOT": 8, "UPD": 2, "INS": 5, "MOV": 1, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.reflection.TypeParameterResolverTest.testDeepHierarchy()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "140654e4dec2fb54541af2b54a98275ee98d2c27", "commitGHEventType": "referenced", "commitUser": "h3adache", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}], "filteredCommits": ["a60f3a98149ef5511f6fe1e91fea1b2f4914e993"], "filteredCommitsReason": {"duplicated": 1, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 34.0, "deletions": 25.0, "lines": 59.0, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 52.0, "UPD": 8.0, "INS": 7.0, "MOV": 31.0, "DEL": 6.0, "spoonFilesChanged": 1, "spoonMethodsChanged": 2}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/reflection"], "changesInPackagesSPOON": ["org.apache.ibatis.reflection.TypeParameterResolver.scanSuperTypes(java.lang.reflect.TypeVariable,java.lang.reflect.Type,java.lang.Class,java.lang.Class,java.lang.reflect.Type)", "org.apache.ibatis.reflection.TypeParameterResolver.translateParentTypeVars(java.lang.reflect.ParameterizedType,java.lang.Class,java.lang.reflect.ParameterizedType)"]}, {"title": "Can't register TypeHandler after using TypeHandlerRegistry.hasTypeHandler", "body": "MyBatis version\r\n3.4.5\r\n\r\nFor example\uff1a\r\n```java\r\nTypeHandlerRegistry tr = ...\r\ntr.register(Address.class, TypeHandlers.jsonPOJO(Address.class));\r\ntr.hasTypeHandler(Address.class);  // which return true\r\n```\r\nbut\r\n```java\r\nTypeHandlerRegistry tr = ...\r\ntr.hasTypeHandler(Address.class);\r\ntr.register(Address.class, TypeHandlers.jsonPOJO(Address.class));\r\ntr.hasTypeHandler(Address.class); // which return false\r\n```\r\n\r\nWhere the question is coming.\r\nIn `org.apache.ibatis.type.TypeHandlerRegistry`, `NULL_TYPE_HANDLER_MAP` is used for representing no handler at all.\r\n```java\r\n  private Map<JdbcType, TypeHandler<?>> getJdbcHandlerMap(Type type) {\r\n    TYPE_HANDLER_MAP.put(type, jdbcHandlerMap == null ? \r\n                     NULL_TYPE_HANDLER_MAP : jdbcHandlerMap); \r\n    return jdbcHandlerMap;\r\n  }\r\n```\r\nAnd with the following code:\r\n```java\r\n  private void register(Type javaType, JdbcType jdbcType, TypeHandler<?> handler) {\r\n    if (javaType != null) {\r\n      Map<JdbcType, TypeHandler<?>> map = TYPE_HANDLER_MAP.get(javaType);\r\n\r\n      // here\r\n      if (map == null) { \r\n        map = new HashMap<JdbcType, TypeHandler<?>>();\r\n        TYPE_HANDLER_MAP.put(javaType, map);\r\n      }\r\n      map.put(jdbcType, handler);\r\n    }\r\n    ALL_TYPE_HANDLERS_MAP.put(handler.getClass(), handler);\r\n  }\r\n```\r\nThe code `if (map == null)` uses `null` represent an empty map instead of using `NULL_TYPE_HANDLER_MAP` along with, which will make all handlers cannot be registered.", "url": "https://github.com/mybatis/mybatis-3/issues/1177", "user": "waluo", "labels": ["bug"], "created": "2018-01-17 10:36:33", "closed": "2018-01-18 14:13:55", "commits": {"9ce526091cc1e9f23a29a3d868eed33f8c9f7c78": {"commitGHEventType": "closed", "commitUser": "harawata"}}, "ttf": 1.0002777777777778, "commitsDetails": [{"commitHash": "9ce526091cc1e9f23a29a3d868eed33f8c9f7c78", "commitGHEventType": "closed", "commitUser": "harawata", "commitParents": ["21377c9e6b375938ab5d282bba071ef32da8621f"], "nameRev": "9ce526091cc1e9f23a29a3d868eed33f8c9f7c78 tags/mybatis-3.4.6~9", "commitMessage": "fixes #1177 Calling TypeHandlerRegistry#hasTypeHandler() prevents subsequent regiser() from working properly.\n", "commitDateTime": "2018-01-18 23:10:04", "authoredDateTime": "2018-01-18 22:51:44", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/type/TypeHandlerRegistry.java", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "src/test/java/org/apache/ibatis/type/TypeHandlerRegistryTest.java", "insertions": 9, "deletions": 1, "lines": 10}], "commitSpoonAstDiffStats": [{"spoonFilePath": "TypeHandlerRegistry.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.type.TypeHandlerRegistry", "TOT": 2, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 1}, {"spoonMethodName": "org.apache.ibatis.type.TypeHandlerRegistry.register(java.lang.reflect.Type,org.apache.ibatis.type.JdbcType,org.apache.ibatis.type.TypeHandler)", "TOT": 2, "UPD": 0, "INS": 1, "MOV": 1, "DEL": 0}]}, {"spoonFilePath": "TypeHandlerRegistryTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.type.TypeHandlerRegistryTest.shouldRegisterReplaceNullMap()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["9ce526091cc1e9f23a29a3d868eed33f8c9f7c78"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 3, "deletions": 3, "lines": 6, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 4, "UPD": 0, "INS": 2, "MOV": 1, "DEL": 1, "spoonFilesChanged": 1, "spoonMethodsChanged": 2}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/type"], "changesInPackagesSPOON": ["org.apache.ibatis.type.TypeHandlerRegistry.register(java.lang.reflect.Type,org.apache.ibatis.type.JdbcType,org.apache.ibatis.type.TypeHandler)", "org.apache.ibatis.type.TypeHandlerRegistry"]}, {"title": "Deeply nested (3+ levels) result map could cause IllegalArgumentException", "body": "For some cases, when parse the mapper xml, it may be have **incompleteStatements**.\r\nThe **Configuration#buildAllStatements** will parse them latter.\r\n\r\n But it maybe do twice.\r\n\r\nThe method **org.apache.ibatis.binding.MapperMethod.SqlCommand#resolveMappedStatement**:\r\n\r\n```\r\nif (configuration.hasStatement(statementId)) {\r\n    return configuration.getMappedStatement(statementId);\r\n}\r\n```\r\n\r\ncall the **hasStatement** method, the **validateIncompleteStatements** is true, so it will call **buildAllStatements** method and add the statement to **mappedStatements** and return true.\r\n\r\nthen call **getMappedStatement**, the **validateIncompleteStatements** is also true, it will call **buildAllStatements** again.\r\n\r\n```\r\npublic MappedStatement getMappedStatement(String id) {\r\n    return this.getMappedStatement(id, true);\r\n}\r\n \r\npublic MappedStatement getMappedStatement(String id, boolean validateIncompleteStatements) {\r\n    if (validateIncompleteStatements) {\r\n        buildAllStatements();\r\n    }\r\n    return mappedStatements.get(id);\r\n}\r\n```\r\n\r\nit will throw 'java.lang.IllegalArgumentException' : Mapped Statements collection already contains...\r\n\r\nso I think the code must be: \r\n\r\n`configuration.getMappedStatement(statementId, **false**)`\r\n\r\nand I wonder, when the incompleteStatements is build success, why not clear them?\r\n\r\nThe **org.apache.ibatis.session.Configuration#buildAllStatements**\r\n\r\n```\r\n/*\r\n   * Parses all the unprocessed statement nodes in the cache. It is recommended\r\n   * to call this method once all the mappers are added as it provides fail-fast\r\n   * statement validation.\r\n   */\r\n```\r\n\r\nIt says that the method recommend to be called once, but in the code, there are many place call the **org.apache.ibatis.session.Configuration#getMappedStatement(java.lang.String)** method, it means if it parse the mapper xml and produce the **incompleteStatements**, when run the code it will throw already have mapped statement exception?\r\n\r\n\r\n\r\n", "url": "https://github.com/mybatis/mybatis-3/issues/1176", "user": "Rocky-Hu", "labels": ["bug"], "created": "2018-01-14 11:10:30", "closed": "2018-11-17 17:38:32", "commits": {"3cacf14d0ef9ca2ce62b83005dc021cfa18e4e02": {"commitGHEventType": "closed", "commitUser": "harawata"}}, "ttf": 307.0002777777778, "commitsDetails": [{"commitHash": "3cacf14d0ef9ca2ce62b83005dc021cfa18e4e02", "commitGHEventType": "closed", "commitUser": "harawata", "commitParents": ["6fe5d62c34a82a4994d940cfbf67359a7751b85e"], "nameRev": "3cacf14d0ef9ca2ce62b83005dc021cfa18e4e02 tags/mybatis-3.5.0~49^2~3", "commitMessage": "fixes #1176 Deeply nested result map could cause IllegalArgumentException.\n", "commitDateTime": "2018-11-18 01:11:52", "authoredDateTime": "2018-11-18 01:11:52", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/session/Configuration.java", "insertions": 30, "deletions": 6, "lines": 36}, {"filePath": "src/test/java/org/apache/ibatis/submitted/resolution/deepresultmap/DeepResultMapTest.java", "insertions": 57, "deletions": 0, "lines": 57}, {"filePath": "src/test/java/org/apache/ibatis/submitted/resolution/deepresultmap/MapperA.java", "insertions": 22, "deletions": 0, "lines": 22}, {"filePath": "src/test/java/org/apache/ibatis/submitted/resolution/deepresultmap/MapperA.xml", "insertions": 36, "deletions": 0, "lines": 36}, {"filePath": "src/test/java/org/apache/ibatis/submitted/resolution/deepresultmap/MapperB.xml", "insertions": 31, "deletions": 0, "lines": 31}, {"filePath": "src/test/java/org/apache/ibatis/submitted/resolution/deepresultmap/MapperC.xml", "insertions": 31, "deletions": 0, "lines": 31}, {"filePath": "src/test/java/org/apache/ibatis/submitted/resolution/deepresultmap/MapperD.xml", "insertions": 33, "deletions": 0, "lines": 33}, {"filePath": "src/test/java/org/apache/ibatis/submitted/resolution/deepresultmap/mybatis-config.xml", "insertions": 50, "deletions": 0, "lines": 50}], "commitSpoonAstDiffStats": [{"spoonFilePath": "Configuration.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.session.Configuration.buildAllStatements()", "TOT": 5, "UPD": 0, "INS": 1, "MOV": 3, "DEL": 1}, {"spoonMethodName": "org.apache.ibatis.session.Configuration.parsePendingResultMaps()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "DeepResultMapTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.resolution.deepresultmap.DeepResultMapTest", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "MapperA.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.resolution.deepresultmap", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["3cacf14d0ef9ca2ce62b83005dc021cfa18e4e02"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 30, "deletions": 6, "lines": 36, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 7, "UPD": 0, "INS": 3, "MOV": 3, "DEL": 1, "spoonFilesChanged": 2, "spoonMethodsChanged": 3}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/session"], "changesInPackagesSPOON": ["org.apache.ibatis.submitted.resolution.deepresultmap", "org.apache.ibatis.session.Configuration.parsePendingResultMaps()", "org.apache.ibatis.session.Configuration.buildAllStatements()"]}, {"title": "ExpressionEvaluator returns true for a double value 0.0d", "body": "ExpressionEvaluator.java\r\n if (value instanceof Number) {\r\n        //If this value is 0.0d then the result of this expression is true, but the expected result is false\r\n        return !new BigDecimal(String.valueOf(value)).equals(BigDecimal.ZERO);\r\n    }\r\n\r\n<!--\r\n\u274c \u4e0d\u8981\u5728\u8fd9\u91cc\u95ee\u95ee\u9898\u2757\ufe0f\r\n\u2b55\ufe0f \u8bf7\u5c06\u60a8\u7684\u95ee\u9898\u53d1\u9001\u5230\u90ae\u4ef6\u5217\u8868\r\n\u8acb\u7528\u82f1\u6587\u5beb\r\nhttps://groups.google.com/group/mybatis-user\r\n\r\nQuestion?\r\n======================\r\nPlease use the mailing list. http://groups.google.com/group/mybatis-user\r\nQuestions on this tracker will be closed without comment.\r\n\r\nBug report?\r\n======================\r\nPlease fill out the BUG REPORT FORM below.\r\n\r\nTo fix a bug, we need to reproduce it first.\r\nAnd we spend a lot of time just trying to reproduce the reported problem, so please consider creating a failing test case or an example project.\r\n\r\n- How to create a test case : https://github.com/mybatis/mybatis-3/wiki/Unit-Test\r\n- How to create a good example : http://sscce.org\r\n- How to upload your project to GitHub: https://help.github.com/articles/adding-an-existing-project-to-github-using-the-command-line/\r\n\r\nFeature request?\r\n=======================\r\n- Please delete the BUG REPORT FORM below and describe the feature.\r\n- It is a good idea to discuss your changes on the mailing list to get feedback from the community. http://groups.google.com/group/mybatis-user\r\n- If you have a patch with unit tests, send a pull request. Please see the wiki page : https://github.com/mybatis/mybatis-3/wiki/Contribute\r\n-->\r\n\r\n<!-- BUG REPORT FORM -->\r\n\r\n## MyBatis version\r\n3.3.1\r\n\r\n## Database vendor and version\r\n\r\n## Test case or example project\r\n\r\n## Steps to reproduce\r\n\r\n## Expected result\r\n\r\n## Actual result\r\n\r\n", "url": "https://github.com/mybatis/mybatis-3/issues/1146", "user": "zhangweidavid", "labels": ["bug"], "created": "2017-11-23 12:47:41", "closed": "2017-11-23 15:37:09", "commits": {"aec7fb515766d52ad055bdba5b1dc156977573ca": {"commitGHEventType": "closed", "commitUser": "harawata"}}, "ttf": 0.0002777777777777778, "commitsDetails": [{"commitHash": "aec7fb515766d52ad055bdba5b1dc156977573ca", "commitGHEventType": "closed", "commitUser": "harawata", "commitParents": ["dd7e1fccd050f25d3325453e049178279acc1b19"], "nameRev": "aec7fb515766d52ad055bdba5b1dc156977573ca tags/mybatis-3.4.6~23", "commitMessage": "fixes #1146 A double value 0.0d should be evaluated as false. BigDecimal#equals() is too strict.\n", "commitDateTime": "2017-11-24 00:33:44", "authoredDateTime": "2017-11-24 00:33:44", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/scripting/xmltags/ExpressionEvaluator.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/org/apache/ibatis/builder/xml/dynamic/ExpressionEvaluatorTest.java", "insertions": 11, "deletions": 3, "lines": 14}], "commitSpoonAstDiffStats": [{"spoonFilePath": "ExpressionEvaluator.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.scripting.xmltags.ExpressionEvaluator.evaluateBoolean(java.lang.String,java.lang.Object)", "TOT": 4, "UPD": 1, "INS": 1, "MOV": 1, "DEL": 1}]}, {"spoonFilePath": "ExpressionEvaluatorTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.builder.xml.dynamic.ExpressionEvaluatorTest.shouldReturnFalseIfZeroWithScale()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["aec7fb515766d52ad055bdba5b1dc156977573ca"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 1, "deletions": 1, "lines": 2, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 4, "UPD": 1, "INS": 1, "MOV": 1, "DEL": 1, "spoonFilesChanged": 1, "spoonMethodsChanged": 1}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/scripting/xmltags"], "changesInPackagesSPOON": ["org.apache.ibatis.scripting.xmltags.ExpressionEvaluator.evaluateBoolean(java.lang.String,java.lang.Object)"]}, {"title": "Some  params #{object.property} not accessible after 3.4.1", "body": "<!--\r\n\r\nhttps://groups.google.com/group/mybatis-user\r\n\r\nQuestion?\r\n======================\r\nPlease use the mailing list. http://groups.google.com/group/mybatis-user\r\nQuestions on this tracker will be closed without comment.\r\n\r\nBug report?\r\n======================\r\nPlease fill out the BUG REPORT FORM below.\r\n\r\nTo fix a bug, we need to reproduce it first.\r\nAnd we spend a lot of time just trying to reproduce the reported problem, so please consider creating a failing test case or an example project.\r\n\r\n- How to create a test case : https://github.com/mybatis/mybatis-3/wiki/Unit-Test\r\n- How to create a good example : http://sscce.org\r\n- How to upload your project to GitHub: https://help.github.com/articles/adding-an-existing-project-to-github-using-the-command-line/\r\n\r\nFeature request?\r\n=======================\r\n- Please delete the BUG REPORT FORM below and describe the feature.\r\n- It is a good idea to discuss your changes on the mailing list to get feedback from the community. http://groups.google.com/group/mybatis-user\r\n- If you have a patch with unit tests, send a pull request. Please see the wiki page : https://github.com/mybatis/mybatis-3/wiki/Contribute\r\n-->\r\n\r\n<!-- BUG REPORT FORM -->\r\n\r\nThis happens when I'm trying to use object property in select query where condition  like #{paramName.someProperty} \r\n\r\n\r\n## MyBatis version\r\nversion >= 3.4.2\r\n\r\n## Database vendor and version\r\nAny database\r\n\r\n## Steps to reproduce\r\nInterface\r\n```\r\npublic IpLicense getByIpProduct(@Param(\"ip\") String ip, @Param(\"product\") Product.Type product);\r\n```\r\nWhere Product.Type - is nested enum in class Product with method ```public int getId()```\r\n\r\nIn XML\r\n```\r\n<select id=\"getByIpProduct\" resultMap=\"license\">\r\n        SELECT * FROM license where ip = #{ip} AND product_id = #{product.id}\r\n</select>\r\n```\r\n## Expected result\r\nShould work as in 3.4.1\r\n\r\n## Actual result\r\nCause: org.apache.ibatis.type.TypeException: Error setting non null for parameter #1 with JdbcType null . Try setting a different JdbcType for this parameter or a different configuration property. Cause: org.apache.ibatis.type.TypeException: Error setting non null for parameter #1 with JdbcType null . Try setting a different JdbcType for this parameter or a different configuration property. Cause: java.lang.ClassCastException: my.domain.Product$Type cannot be cast to java.lang.String\r\n\tat org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:77)\r\n", "url": "https://github.com/mybatis/mybatis-3/issues/1089", "user": "rumatoest", "labels": ["bug"], "created": "2017-08-25 15:08:05", "closed": "2017-10-04 17:46:09", "commits": {"9233556404a3b6cc122d42c8ce0c97ba9e01b7ce": {"commitGHEventType": "closed", "commitUser": "harawata"}}, "ttf": 40.000277777777775, "commitsDetails": [{"commitHash": "9233556404a3b6cc122d42c8ce0c97ba9e01b7ce", "commitGHEventType": "closed", "commitUser": "harawata", "commitParents": ["e38255a028b6af7387bb5cee68d34e927fcfed66"], "nameRev": "9233556404a3b6cc122d42c8ce0c97ba9e01b7ce tags/mybatis-3.4.6~44", "commitMessage": "fixes #1089 Never apply type handler on ParamMap.\n", "commitDateTime": "2017-10-05 02:45:42", "authoredDateTime": "2017-10-05 02:44:41", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/type/TypeHandlerRegistry.java", "insertions": 4, "deletions": 0, "lines": 4}, {"filePath": "src/test/java/org/apache/ibatis/submitted/hashmaptypehandler/CreateDB.sql", "insertions": 24, "deletions": 0, "lines": 24}, {"filePath": "src/test/java/org/apache/ibatis/submitted/hashmaptypehandler/HashMapTypeHandler.java", "insertions": 53, "deletions": 0, "lines": 53}, {"filePath": "src/test/java/org/apache/ibatis/submitted/hashmaptypehandler/HashMapTypeHandlerTest.java", "insertions": 105, "deletions": 0, "lines": 105}, {"filePath": "src/test/java/org/apache/ibatis/submitted/hashmaptypehandler/Mapper.java", "insertions": 35, "deletions": 0, "lines": 35}, {"filePath": "src/test/java/org/apache/ibatis/submitted/hashmaptypehandler/Mapper.xml", "insertions": 33, "deletions": 0, "lines": 33}, {"filePath": "src/test/java/org/apache/ibatis/submitted/hashmaptypehandler/User.java", "insertions": 38, "deletions": 0, "lines": 38}, {"filePath": "src/test/java/org/apache/ibatis/submitted/hashmaptypehandler/mybatis-config.xml", "insertions": 46, "deletions": 0, "lines": 46}], "commitSpoonAstDiffStats": [{"spoonFilePath": "TypeHandlerRegistry.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.type.TypeHandlerRegistry.getTypeHandler(java.lang.reflect.Type,org.apache.ibatis.type.JdbcType)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "HashMapTypeHandler.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.hashmaptypehandler.HashMapTypeHandler", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "HashMapTypeHandlerTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.hashmaptypehandler.HashMapTypeHandlerTest", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "Mapper.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.hashmaptypehandler", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "User.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.hashmaptypehandler.User", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["9233556404a3b6cc122d42c8ce0c97ba9e01b7ce"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 4, "deletions": 0, "lines": 4, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 4, "UPD": 0, "INS": 4, "MOV": 0, "DEL": 0, "spoonFilesChanged": 4, "spoonMethodsChanged": 4}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/type"], "changesInPackagesSPOON": ["org.apache.ibatis.submitted.hashmaptypehandler", "org.apache.ibatis.submitted.hashmaptypehandler.HashMapTypeHandler", "org.apache.ibatis.submitted.hashmaptypehandler.User", "org.apache.ibatis.type.TypeHandlerRegistry.getTypeHandler(java.lang.reflect.Type,org.apache.ibatis.type.JdbcType)"]}, {"title": "OffsetDateTimeTypeHandler or ZonedDateTimeTypeHandler loses time zone information", "body": "Hello,\r\nI would assume that people using your implementation of a \"ZonedDateTimeTypeHandler\" expect it to convert dates with timezone information in their database to EQUIVALENT Java objects, which it does not (really).\r\n\r\nIt merely converts them to objects that, technically point to the same moment in time, however with the zone or offset information completely lost. All the `ZonedDateTime` or `OffsetDateTime` objects that the handlers create always refer to the system default time zone, never to the one of the actual entry!\r\n\r\nInstead of only using the `getTimestamp()` method of the `ResultSet` (which can only return a `java.sql.Timestamp` with the zone information already lost) it would be cool if you could at least offer an alternative implementation that tries to retain the offset/timezone information by using the `getString()` method instead.\r\n\r\nAn example for the OffsetDateTimeTypeHandler could be:\r\n```\r\n@Override\r\npublic OffsetDateTime getNullableResult(ResultSet rs, String columnName) throws SQLException {\r\n  String dateString = rs.getString(columnName)\r\n  if(dateString == null) {\r\n    return null;\r\n  }\r\n  OffsetDateTime offsetDateTime = OffsetDateTime.parse(dateString, DateTimeFormatter.ISO_OFFSET_DATE_TIME);\r\n  return offsetDateTime;\r\n}\r\n```\r\nI found the idea [here](http://stackoverflow.com/questions/17559658/oracle-jdbc-retrieving-timestamp-with-time-zone-value-in-iso-8601-format). Of course, this would assume that the String representation of the databases for those \"timestamp with time zone\" datatypes comply with the ISO format. Instead of guessing users could hand over the format-mask to a method that converts to the String representation of that column in the select statement. E.g. in Oracle that could be:\r\n`SELECT to_char(table0.MY_DATE_COLUMN, 'YYYY-MM-DD\"T\"HH24:MI:SSFFTZH:TZM') as MY_DATE_COLUMN)`. Such a remark could be added in the class documentation of the type handler, for example.\r\n\r\nEven if you do not want to add such handlers, you should at least mention in your documentation (class documentation and README.MD) that the handlers you provide do NOT retain the information of the original timezone or the original offset but do always convert them to the system's default.\r\n\r\nCheers!\r\n\r\n### Note\r\n\r\nThis issue moved from mybatis/typehandlers-jsr310#39.", "url": "https://github.com/mybatis/mybatis-3/issues/1081", "user": "kazuki43zoo", "labels": ["bug"], "created": "2017-08-20 15:34:56", "closed": "2019-01-13 17:45:25", "commits": {}, "ttf": 511.0002777777778, "commitsDetails": []}, {"title": "multipleResultsetSets lost resultset ", "body": "when ((stmt.getMoreResults() or stmt.getUpdateCount()!=-1)  and  stmt.getResultSet()==null),will stop check the succedent resultsets and the succedent  resultsets will be lost.\r\n<!--\r\n\u274c \u4e0d\u8981\u5728\u8fd9\u91cc\u95ee\u95ee\u9898\u2757\ufe0f\r\n\u2b55\ufe0f \u8bf7\u5c06\u60a8\u7684\u95ee\u9898\u53d1\u9001\u5230\u90ae\u4ef6\u5217\u8868\r\n\u8acb\u7528\u82f1\u6587\u5beb\r\nhttps://groups.google.com/group/mybatis-user\r\n\r\nQuestion?\r\n======================\r\nPlease use the mailing list. http://groups.google.com/group/mybatis-user\r\nQuestions on this tracker will be closed without comment.\r\n\r\nBug report?\r\n======================\r\nPlease fill out the BUG REPORT FORM below.\r\n\r\nTo fix a bug, we need to reproduce it first.\r\nAnd we spend a lot of time just trying to reproduce the reported problem, so please consider creating a failing test case or an example project.\r\n\r\n- How to create a test case : https://github.com/mybatis/mybatis-3/wiki/Unit-Test\r\n- How to create a good example : http://sscce.org\r\n- How to upload your project to GitHub: https://help.github.com/articles/adding-an-existing-project-to-github-using-the-command-line/\r\n\r\nFeature request?\r\n=======================\r\n- Please delete the BUG REPORT FORM below and describe the feature.\r\n- It is a good idea to discuss your changes on the mailing list to get feedback from the community. http://groups.google.com/group/mybatis-user\r\n- If you have a patch with unit tests, send a pull request. Please see the wiki page : https://github.com/mybatis/mybatis-3/wiki/Contribute\r\n-->\r\n\r\n<!-- BUG REPORT FORM -->\r\n\r\n## MyBatis version\r\n3.3.1\r\n\r\n## Database vendor and version\r\n\r\n## Test case or example project\r\n\r\n## Steps to reproduce\r\n\r\n## Expected result\r\n\r\n## Actual result\r\n\r\n", "url": "https://github.com/mybatis/mybatis-3/issues/1035", "user": "happysearch", "labels": ["bug"], "created": "2017-06-19 06:09:27", "closed": "2017-06-21 17:05:48", "commits": {"50e7697b743b336182eea6377a522c97562863a6": {"commitGHEventType": "closed", "commitUser": "harawata"}, "3fcfe2407f13f7426a9b9bcef05dac8d37db68bc": {"commitGHEventType": "referenced", "commitUser": "harawata"}}, "ttf": 2.000277777777778, "commitsDetails": [{"commitHash": "50e7697b743b336182eea6377a522c97562863a6", "commitGHEventType": "closed", "commitUser": "harawata", "commitParents": ["4f0eef26f47425459260e11c931badffb3fd596a", "1279dbff607fb82c4b80dc314ebde9e7d5837a96"], "nameRev": "50e7697b743b336182eea6377a522c97562863a6 tags/mybatis-3.4.5~28", "commitMessage": "Merge pull request #1036 from happysearch/master\n\nfixes #1035 If update is executed between two selects, the result set from the latter select is incorrectly ignored.", "commitDateTime": "2017-06-22 02:05:45", "authoredDateTime": "2017-06-22 02:05:45", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/executor/resultset/DefaultResultSetHandler.java", "insertions": 5, "deletions": 1, "lines": 6}], "commitSpoonAstDiffStats": [{"spoonFilePath": "DefaultResultSetHandler.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.getNextResultSet(java.sql.Statement)", "TOT": 5, "UPD": 0, "INS": 1, "MOV": 3, "DEL": 1}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "3fcfe2407f13f7426a9b9bcef05dac8d37db68bc", "commitGHEventType": "referenced", "commitUser": "harawata", "commitParents": ["5ced838e75eeeff6179ff306b73196deb63809ba"], "nameRev": "3fcfe2407f13f7426a9b9bcef05dac8d37db68bc tags/mybatis-3.4.5~22", "commitMessage": "Added a test case for #1035 .\n", "commitDateTime": "2017-06-27 04:49:53", "authoredDateTime": "2017-06-27 04:49:53", "commitGitStats": [{"filePath": "src/test/java/org/apache/ibatis/submitted/usesjava8/multiple_resultsets/Mapper.java", "insertions": 2, "deletions": 0, "lines": 2}, {"filePath": "src/test/java/org/apache/ibatis/submitted/usesjava8/multiple_resultsets/Mapper.xml", "insertions": 7, "deletions": 0, "lines": 7}, {"filePath": "src/test/java/org/apache/ibatis/submitted/usesjava8/multiple_resultsets/MultipleResultTest.java", "insertions": 11, "deletions": 0, "lines": 11}], "commitSpoonAstDiffStats": [{"spoonFilePath": "Mapper.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.usesjava8.multiple_resultsets.multiResultsWithUpdate()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "MultipleResultTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.usesjava8.multiple_resultsets.MultipleResultTest.shouldSkipNullResultSet()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["3fcfe2407f13f7426a9b9bcef05dac8d37db68bc"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 1, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 0, "gitStatsSummary": {"insertions": 0, "deletions": 0, "lines": 0, "gitFilesChange": 0}, "spoonStatsSummary": {"TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0, "spoonFilesChanged": 1, "spoonMethodsChanged": 1}, "statsSkippedReason": "", "changesInPackagesGIT": [], "changesInPackagesSPOON": ["org.apache.ibatis.submitted.usesjava8.multiple_resultsets.multiResultsWithUpdate()"]}, {"title": "When the parameter name is \"size\", it is always mapped with integer", "body": "<!--\r\n\u274c \u4e0d\u8981\u5728\u8fd9\u91cc\u95ee\u95ee\u9898\u2757\ufe0f\r\n\u2b55\ufe0f \u8bf7\u5c06\u60a8\u7684\u95ee\u9898\u53d1\u9001\u5230\u90ae\u4ef6\u5217\u8868\r\n\u8acb\u7528\u82f1\u6587\u5beb\r\nhttps://groups.google.com/group/mybatis-user\r\n\r\nQuestion?\r\n======================\r\nPlease use the mailing list. http://groups.google.com/group/mybatis-user\r\nQuestions on this tracker will be closed without comment.\r\n\r\nBug report?\r\n======================\r\nPlease fill out the BUG REPORT FORM below.\r\n\r\nTo fix a bug, we need to reproduce it first.\r\nAnd we spend a lot of time just trying to reproduce the reported problem, so please consider creating a failing test case or an example project.\r\n\r\n- How to create a test case : https://github.com/mybatis/mybatis-3/wiki/Unit-Test\r\n- How to create a good example : http://sscce.org\r\n- How to upload your project to GitHub: https://help.github.com/articles/adding-an-existing-project-to-github-using-the-command-line/\r\n\r\nFeature request?\r\n=======================\r\n- Please delete the BUG REPORT FORM below and describe the feature.\r\n- It is a good idea to discuss your changes on the mailing list to get feedback from the community. http://groups.google.com/group/mybatis-user\r\n- If you have a patch with unit tests, send a pull request. Please see the wiki page : https://github.com/mybatis/mybatis-3/wiki/Contribute\r\n-->\r\n\r\n<!-- BUG REPORT FORM -->\r\n\r\n## MyBatis version\r\n* MyBatis 3.4.4\r\n* MyBatis Spring Boot Starter 1.3.0\r\n\r\n## Database vendor and version\r\nH2 1.4.194\r\n\r\n## Test case or example project\r\nhttps://github.com/onozaty/sandbox-java/tree/master/mybatis-size-mapping-error\r\n\r\n## Steps to reproduce\r\n\r\nI will create the following repository, call `insert` method. The parameter `size` is of type long.\r\n\r\n```java\r\npackage com.example.demo;\r\n\r\nimport org.apache.ibatis.annotations.Insert;\r\nimport org.apache.ibatis.annotations.Mapper;\r\nimport org.apache.ibatis.annotations.Param;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository\r\n@Mapper\r\npublic interface TestRepository {\r\n\r\n    @Insert(\"INSERT INTO test(number, size) VALUES(#{number}, #{size})\")\r\n    public void insert(@Param(\"number\") long number, @Param(\"size\") long size);\r\n}\r\n```\r\n\r\n## Expected result\r\n\r\nThe call will succeed.\r\n\r\n## Actual result\r\n\r\nAn exception is raised.\r\n`size` parameter is mapped to `java.lang.Integer`.\r\n\r\n```\r\norg.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.type.TypeException: Could not set parameters for mapping: ParameterMapping{property='size', mode=IN, javaType=int, jdbcType=null, numericScale=null, resultMapId='null', jdbcTypeName='null', expression='null'}. Cause: org.apache.ibatis.type.TypeException: Error setting non null for parameter #2 with JdbcType null . Try setting a different JdbcType for this parameter or a different configuration property. Cause: java.lang.ClassCastException: java.lang.Long cannot be cast to java.lang.Integer\r\n\tat org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:77)\r\n\tat org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:446)\r\n\tat com.sun.proxy.$Proxy53.insert(Unknown Source)\r\n\tat org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:278)\r\n\tat org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:57)\r\n\tat org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:59)\r\n\tat com.sun.proxy.$Proxy59.insert(Unknown Source)\r\n        ...\r\n```\r\n\r\nChanging the parameter name to `size2` will succeed.\r\n\r\n\r\n", "url": "https://github.com/mybatis/mybatis-3/issues/1030", "user": "onozaty", "labels": ["bug"], "created": "2017-06-10 14:26:29", "closed": "2017-06-11 14:27:32", "commits": {"3aae5f312c23173e001eb725b1d525decd471353": {"commitGHEventType": "referenced", "commitUser": "kazuki43zoo"}}, "ttf": 1.0002777777777778, "commitsDetails": [{"commitHash": "3aae5f312c23173e001eb725b1d525decd471353", "commitGHEventType": "referenced", "commitUser": "kazuki43zoo", "commitParents": ["de59d274d443105f2ec0081403f941dcf7b7a6de", "db601b8ef70fe8d5be91edc855637e798a3f0da3"], "nameRev": "3aae5f312c23173e001eb725b1d525decd471353 tags/mybatis-3.4.5~30", "commitMessage": "Merge pull request #1031 from kazuki43zoo/gh-1030\n\nAllow long type on size parameter when use multiple '@Param'", "commitDateTime": "2017-06-11 23:27:32", "authoredDateTime": "2017-06-11 23:27:32", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/builder/SqlSourceBuilder.java", "insertions": 4, "deletions": 4, "lines": 8}, {"filePath": "src/test/java/org/apache/ibatis/binding/MapperMethodParamTest.java", "insertions": 90, "deletions": 0, "lines": 90}, {"filePath": "src/test/java/org/apache/ibatis/binding/paramtest-schema.sql", "insertions": 21, "deletions": 0, "lines": 21}], "commitSpoonAstDiffStats": [{"spoonFilePath": "SqlSourceBuilder.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.builder.SqlSourceBuilder.ParameterMappingTokenHandler.buildParameterMapping(java.lang.String)", "TOT": 7, "UPD": 0, "INS": 1, "MOV": 5, "DEL": 1}]}, {"spoonFilePath": "MapperMethodParamTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.binding.MapperMethodParamTest", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": [], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 1, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 0, "gitStatsSummary": {"insertions": 0, "deletions": 0, "lines": 0, "gitFilesChange": 0}, "spoonStatsSummary": {"TOT": 0, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 0, "spoonFilesChanged": 0, "spoonMethodsChanged": 0}, "statsSkippedReason": "", "changesInPackagesGIT": [], "changesInPackagesSPOON": []}, {"title": "Lazy loading should not overwrite a property value set by user", "body": "<!--\r\nThank you for your contribution!\r\n\u8bf7\u5c06\u60a8\u7684\u95ee\u9898\u53d1\u9001\u5230\u90ae\u4ef6\u5217\u8868 https://groups.google.com/group/mybatis-user\r\n\r\nQuestion?\r\n======================\r\nPlease use the mailing list. http://groups.google.com/group/mybatis-user\r\nQuestions on this tracker will be closed without comment.\r\n\r\nBug report?\r\n======================\r\nPlease fill out the BUG REPORT FORM below.\r\n\r\nTo fix a bug, we need to reproduce it first.\r\nAnd we spend a lot of time just trying to reproduce the reported problem, so please consider creating a failing test case or an example project.\r\n\r\n- How to create a test case : https://github.com/mybatis/mybatis-3/wiki/Unit-Test\r\n- How to create a good example : http://sscce.org\r\n- How to upload your project to GitHub: https://help.github.com/articles/adding-an-existing-project-to-github-using-the-command-line/\r\n\r\nFeature request?\r\n=======================\r\n- Please delete the BUG REPORT FORM below and describe the feature.\r\n- It is a good idea to discuss your changes on the mailing list to get feedback from the community. http://groups.google.com/group/mybatis-user\r\n- If you have a patch with unit tests, send a pull request. Please see the wiki page : https://github.com/mybatis/mybatis-3/wiki/Contribute\r\n-->\r\n\r\n<!-- BUG REPORT FORM -->\r\n\r\n## MyBatis version\r\n3.4.4\r\n\r\n## Database vendor and version\r\nOracle 12c\r\n## Test case or example project\r\n\r\nIf I call setter with my own value, and call getter later.\r\n\r\nI am expecting I get my own value back, i.e. lazy-loading shouldn't kick in at all.\r\n\r\nHowever, the change makes the lazy-loading kick-in when I call getter, and erase my own value.\r\n\r\n## Steps to reproduce\r\n\r\n- Load an entity with lazy load enabled\r\n- Call a setter from a lazy loadable property\r\n- Call get on that property\r\n\r\n## Expected result\r\nI should get the value that I set back\r\n## Actual result\r\nI'm getting the value from the lazy loading/overriding my value \r\n", "url": "https://github.com/mybatis/mybatis-3/issues/988", "user": "ataverasp", "labels": ["bug"], "created": "2017-04-21 16:06:08", "closed": "2017-04-22 14:09:22", "commits": {"de936f548c74314e142dbef03ff20b56303ca75f": {"commitGHEventType": "closed", "commitUser": "harawata"}}, "ttf": 0.0002777777777777778, "commitsDetails": [{"commitHash": "de936f548c74314e142dbef03ff20b56303ca75f", "commitGHEventType": "closed", "commitUser": "harawata", "commitParents": ["582ee9405ea72bd95ad144da56da7bab394eace7"], "nameRev": "de936f548c74314e142dbef03ff20b56303ca75f tags/mybatis-3.4.5~50", "commitMessage": "fixes #988 Invalidate lazy loading of a property if its setter is called.\n", "commitDateTime": "2017-04-22 23:08:55", "authoredDateTime": "2017-04-22 23:07:40", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/executor/loader/ResultLoaderMap.java", "insertions": 4, "deletions": 0, "lines": 4}, {"filePath": "src/main/java/org/apache/ibatis/executor/loader/cglib/CglibProxyFactory.java", "insertions": 4, "deletions": 1, "lines": 5}, {"filePath": "src/main/java/org/apache/ibatis/executor/loader/javassist/JavassistProxyFactory.java", "insertions": 4, "deletions": 1, "lines": 5}, {"filePath": "src/test/java/org/apache/ibatis/submitted/lazy_properties/LazyPropertiesTest.java", "insertions": 27, "deletions": 28, "lines": 55}, {"filePath": "src/test/java/org/apache/ibatis/submitted/lazy_properties/User.java", "insertions": 4, "deletions": 4, "lines": 8}], "commitSpoonAstDiffStats": [{"spoonFilePath": "ResultLoaderMap.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.executor.loader.ResultLoaderMap.remove(java.lang.String)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "CglibProxyFactory.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.executor.loader.cglib.CglibProxyFactory.EnhancedResultObjectProxyImpl.intercept(java.lang.Object,java.lang.reflect.Method,java.lang.Object[],net.sf.cglib.proxy.MethodProxy)", "TOT": 2, "UPD": 0, "INS": 1, "MOV": 1, "DEL": 0}]}, {"spoonFilePath": "JavassistProxyFactory.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.executor.loader.javassist.JavassistProxyFactory.EnhancedResultObjectProxyImpl.invoke(java.lang.Object,java.lang.reflect.Method,java.lang.reflect.Method,java.lang.Object[])", "TOT": 2, "UPD": 0, "INS": 1, "MOV": 1, "DEL": 0}]}, {"spoonFilePath": "LazyPropertiesTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.lazy_properties.LazyPropertiesTest.shouldInvokingSetterNotTriggerLazyLoading_Cglib()", "TOT": 13, "UPD": 6, "INS": 0, "MOV": 4, "DEL": 3}, {"spoonMethodName": "org.apache.ibatis.submitted.lazy_properties.LazyPropertiesTest.shouldInvokingSetterNotTriggerLazyLoading_Javassist()", "TOT": 12, "UPD": 1, "INS": 0, "MOV": 10, "DEL": 1}, {"spoonMethodName": "org.apache.ibatis.submitted.lazy_properties.LazyPropertiesTest.shouldLoadOnlyTheInvokedLazyProperty()", "TOT": 2, "UPD": 2, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.submitted.lazy_properties.LazyPropertiesTest.verifyAggressiveLazyLoadingBehavior()", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.submitted.lazy_properties.LazyPropertiesTest.shouldToStringTriggerLazyLoading()", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.submitted.lazy_properties.LazyPropertiesTest.shouldHashCodeTriggerLazyLoading()", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.submitted.lazy_properties.LazyPropertiesTest.shouldEqualsTriggerLazyLoading()", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.submitted.lazy_properties.LazyPropertiesTest.shouldCloneTriggerLazyLoading()", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.submitted.lazy_properties.LazyPropertiesTest.verifyEmptyLazyLoadTriggerMethods()", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.submitted.lazy_properties.LazyPropertiesTest.verifyCustomLazyLoadTriggerMethods()", "TOT": 2, "UPD": 2, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.submitted.lazy_properties.LazyPropertiesTest.shouldInvokingSetterInvalidateLazyLoading_Javassist()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.submitted.lazy_properties.LazyPropertiesTest.shouldInvokingSetterInvalidateLazyLoading_Cglib()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.submitted.lazy_properties.LazyPropertiesTest.shoulInvokingSetterInvalidateLazyLoading(org.apache.ibatis.executor.loader.ProxyFactory)", "TOT": 5, "UPD": 0, "INS": 5, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "User.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.lazy_properties.User", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.submitted.lazy_properties.User.setLazy1(org.apache.ibatis.submitted.lazy_properties.User)", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.submitted.lazy_properties.User.setLazy2(org.apache.ibatis.submitted.lazy_properties.User)", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.submitted.lazy_properties.User.setLazy3(java.util.List)", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["de936f548c74314e142dbef03ff20b56303ca75f"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 12, "deletions": 2, "lines": 14, "gitFilesChange": 3}, "spoonStatsSummary": {"TOT": 9, "UPD": 4, "INS": 3, "MOV": 2, "DEL": 0, "spoonFilesChanged": 4, "spoonMethodsChanged": 7}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/executor/loader", "src/main/java/org/apache/ibatis/executor/loader/javassist", "src/main/java/org/apache/ibatis/executor/loader/cglib"], "changesInPackagesSPOON": ["org.apache.ibatis.executor.loader.javassist.JavassistProxyFactory.EnhancedResultObjectProxyImpl.invoke(java.lang.Object,java.lang.reflect.Method,java.lang.reflect.Method,java.lang.Object[])", "org.apache.ibatis.submitted.lazy_properties.User.setLazy3(java.util.List)", "org.apache.ibatis.submitted.lazy_properties.User.setLazy2(org.apache.ibatis.submitted.lazy_properties.User)", "org.apache.ibatis.executor.loader.cglib.CglibProxyFactory.EnhancedResultObjectProxyImpl.intercept(java.lang.Object,java.lang.reflect.Method,java.lang.Object[],net.sf.cglib.proxy.MethodProxy)", "org.apache.ibatis.submitted.lazy_properties.User", "org.apache.ibatis.executor.loader.ResultLoaderMap.remove(java.lang.String)", "org.apache.ibatis.submitted.lazy_properties.User.setLazy1(org.apache.ibatis.submitted.lazy_properties.User)"]}, {"title": "3.4.3 does not work on Java 6 and 7", "body": "<!--\r\nThank you for your contribution!\r\n\u8bf7\u5c06\u60a8\u7684\u95ee\u9898\u53d1\u9001\u5230\u90ae\u4ef6\u5217\u8868 https://groups.google.com/group/mybatis-user\r\n\r\nQuestion?\r\n======================\r\nPlease use the mailing list. http://groups.google.com/group/mybatis-user\r\nQuestions on this tracker will be closed without comment.\r\n\r\nBug report?\r\n======================\r\nPlease fill out the BUG REPORT FORM below.\r\n\r\nTo fix a bug, we need to reproduce it first.\r\nAnd we spend a lot of time just trying to reproduce the reported problem, so please consider creating a failing test case or an example project.\r\n\r\n- How to create a test case : https://github.com/mybatis/mybatis-3/wiki/Unit-Test\r\n- How to create a good example : http://sscce.org\r\n- How to upload your project to GitHub: https://help.github.com/articles/adding-an-existing-project-to-github-using-the-command-line/\r\n\r\nFeature request?\r\n=======================\r\n- Please delete the BUG REPORT FORM below and describe the feature.\r\n- It is a good idea to discuss your changes on the mailing list to get feedback from the community. http://groups.google.com/group/mybatis-user\r\n- If you have a patch with unit tests, send a pull request. Please see the wiki page : https://github.com/mybatis/mybatis-3/wiki/Contribute\r\n-->\r\n\r\n<!-- BUG REPORT FORM -->\r\n\r\nA class version of partial class is 52.0(Java SE 8). Therefore it does not work on Java 6 and Java 7.\r\n\r\n* https://travis-ci.org/kazuki43zoo/mybatis-spring-boot/builds/219814065\r\n\r\n```\r\n$ javap -v org/apache/ibatis/builder/xml/XMLIncludeTransformer\r\nClassfile /Users/xxx/work/mybatis/org/apache/ibatis/builder/xml/XMLIncludeTransformer.class\r\n  Last modified 2017/04/08; size 5268 bytes\r\n  MD5 checksum 219853f114b96ebcca1029ab70988293\r\n  Compiled from \"XMLIncludeTransformer.java\"\r\npublic class org.apache.ibatis.builder.xml.XMLIncludeTransformer\r\n  minor version: 0\r\n  major version: 52\r\n  flags: ACC_PUBLIC, ACC_SUPER\r\nConstant pool:\r\n...\r\n``` \r\n\r\n## MyBatis version\r\n3.4.3\r\n\r\n## Database vendor and version\r\n\\-\r\n\r\n## Test case or example project\r\n\\-\r\n\r\n## Steps to reproduce\r\n\\-\r\n\r\n## Expected result\r\n\\-\r\n\r\n## Actual result\r\n\\-\r\n\r\n", "url": "https://github.com/mybatis/mybatis-3/issues/969", "user": "kazuki43zoo", "labels": ["bug"], "created": "2017-04-07 20:15:54", "closed": "2017-04-08 04:11:28", "commits": {}, "ttf": 0.0002777777777777778, "commitsDetails": []}, {"title": "A boolean property should be able to have two getters: isX() and getX()", "body": "Groovy object properties follow the javabean spec for boolean, which allows for both a get* and an is* method to appear on the same object. Mybatis complains this doesn't follow the javabean spec which isn't entirely true.  I know you can use Boolean to get around the get/is issue or define your own getter which stops groovy from building the pair, but the strange part is that this field is not even used by mybatis, its just a helper boolean internal to the object, but mybatis still validates the entire object whether the field is used or not in a resultmap.\r\n\r\ncould this rule be relaxed to allow the official javabean spec to not throw an error?\r\n\r\nfrom oracle:\r\n\r\n8.3.2 Boolean properties\r\nIn addition, for boolean properties, we allow a getter method to match the pattern:\r\npublic boolean is<PropertyName>();\r\nThis \u201cis<PropertyName>\u201d method may be provided instead of a \u201cget<PropertyName>\u201d method,\r\nor it may be provided in **addition** to a \u201cget<PropertyName>\u201d method.\r\nIn either case, if the \u201cis<PropertyName>\u201d method is present for a boolean property then we will\r\nuse the \u201cis<PropertyName>\u201d method to read the property value.\r\n\r\nheres the code in question that throws the error on a valid javabean.\r\n\r\n```\r\nprivate void resolveGetterConflicts(Map<String, List<Method>> conflictingGetters) {\r\n    for (String propName : conflictingGetters.keySet()) {\r\n      List<Method> getters = conflictingGetters.get(propName);\r\n      Iterator<Method> iterator = getters.iterator();\r\n      Method firstMethod = iterator.next();\r\n      if (getters.size() == 1) {\r\n        addGetMethod(propName, firstMethod);\r\n      } else {\r\n        Method getter = firstMethod;\r\n        Class<?> getterType = firstMethod.getReturnType();\r\n        while (iterator.hasNext()) {\r\n          Method method = iterator.next();\r\n          Class<?> methodType = method.getReturnType();\r\n          if (methodType.equals(getterType)) {\r\n            throw new ReflectionException(\"Illegal overloaded getter method with ambiguous type for property \"\r\n                + propName + \" in class \" + firstMethod.getDeclaringClass()\r\n                + \".  This breaks the JavaBeans \" + \"specification and can cause unpredictable results.\");\r\n          } else if (methodType.isAssignableFrom(getterType)) {\r\n            // OK getter type is descendant\r\n          } else if (getterType.isAssignableFrom(methodType)) {\r\n            getter = method;\r\n            getterType = methodType;\r\n          } else {\r\n            throw new ReflectionException(\"Illegal overloaded getter method with ambiguous type for property \"\r\n                + propName + \" in class \" + firstMethod.getDeclaringClass()\r\n                + \".  This breaks the JavaBeans \" + \"specification and can cause unpredictable results.\");\r\n          }\r\n        }\r\n        addGetMethod(propName, getter);\r\n      }\r\n    }\r\n  }\r\n```", "url": "https://github.com/mybatis/mybatis-3/issues/906", "user": "admxiii", "labels": ["bug"], "created": "2017-02-01 21:59:17", "closed": "2017-02-02 15:46:42", "commits": {"27d37ce047fa22837095d55e715769ffb42381ff": {"commitGHEventType": "closed", "commitUser": "harawata"}}, "ttf": 0.0002777777777777778, "commitsDetails": [{"commitHash": "27d37ce047fa22837095d55e715769ffb42381ff", "commitGHEventType": "closed", "commitUser": "harawata", "commitParents": ["b4644c74b9afb6195d4d4ee98af916ccac7e5020"], "nameRev": "27d37ce047fa22837095d55e715769ffb42381ff tags/mybatis-3.4.3~36", "commitMessage": "fixes #906 A boolean property should be able to have both isXxx() and getXxx() getter methods.\n", "commitDateTime": "2017-02-03 00:38:08", "authoredDateTime": "2017-02-03 00:38:08", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/reflection/Reflector.java", "insertions": 37, "deletions": 38, "lines": 75}, {"filePath": "src/test/java/org/apache/ibatis/reflection/ReflectorTest.java", "insertions": 15, "deletions": 1, "lines": 16}], "commitSpoonAstDiffStats": [{"spoonFilePath": "Reflector.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.reflection.Reflector.resolveGetterConflicts(java.util.Map)", "TOT": 54, "UPD": 26, "INS": 5, "MOV": 16, "DEL": 7}, {"spoonMethodName": "org.apache.ibatis.reflection.Reflector.addGetMethods(java.lang.Class)", "TOT": 8, "UPD": 2, "INS": 2, "MOV": 3, "DEL": 1}]}, {"spoonFilePath": "ReflectorTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.reflection.ReflectorTest.shouldAllowTwoBooleanGetters()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["27d37ce047fa22837095d55e715769ffb42381ff"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 37, "deletions": 38, "lines": 75, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 62, "UPD": 28, "INS": 7, "MOV": 19, "DEL": 8, "spoonFilesChanged": 1, "spoonMethodsChanged": 2}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/reflection"], "changesInPackagesSPOON": ["org.apache.ibatis.reflection.Reflector.resolveGetterConflicts(java.util.Map)", "org.apache.ibatis.reflection.Reflector.addGetMethods(java.lang.Class)"]}, {"title": "Default methods support on mappers, does not work for non-public mappers.", "body": "The new support for default methods is not working for mapper with package modifiers, \r\n\r\nI have a sample case in a fork here, \r\n\r\nhttps://github.com/mchiareli/mybatis-3\r\n\r\nI just changed the modifier of the mapper used to test the default methods, and the test breaks.\r\n\r\n", "url": "https://github.com/mybatis/mybatis-3/issues/905", "user": "mchiareli", "labels": ["bug"], "created": "2017-01-25 17:17:34", "closed": "2017-01-25 18:07:03", "commits": {"1fe27a1e15edb1fe8de6692c539b1469bc47ec8c": {"commitGHEventType": "closed", "commitUser": "harawata"}}, "ttf": 0.0002777777777777778, "commitsDetails": [{"commitHash": "1fe27a1e15edb1fe8de6692c539b1469bc47ec8c", "commitGHEventType": "closed", "commitUser": "harawata", "commitParents": ["f159236e43f726cfb6f94ba0991e8b2dd18118b1"], "nameRev": "1fe27a1e15edb1fe8de6692c539b1469bc47ec8c tags/mybatis-3.4.3~38", "commitMessage": "fixes #905 Invoking default method throws java.lang.IllegalAccessException if the mapper interface is not public.\n", "commitDateTime": "2017-01-26 03:06:28", "authoredDateTime": "2017-01-26 03:06:28", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/binding/MapperProxy.java", "insertions": 5, "deletions": 2, "lines": 7}, {"filePath": "src/test/java/org/apache/ibatis/submitted/usesjava8/default_method/DefaultMethodTest.java", "insertions": 13, "deletions": 1, "lines": 14}, {"filePath": "src/test/java/org/apache/ibatis/submitted/usesjava8/default_method/PackageMapper.java", "insertions": 27, "deletions": 0, "lines": 27}, {"filePath": "src/test/java/org/apache/ibatis/submitted/usesjava8/default_method/mybatis-config.xml", "insertions": 2, "deletions": 1, "lines": 3}], "commitSpoonAstDiffStats": [{"spoonFilePath": "MapperProxy.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.binding.MapperProxy.invokeDefaultMethod(java.lang.Object,java.lang.reflect.Method,java.lang.Object[])", "TOT": 2, "UPD": 0, "INS": 1, "MOV": 1, "DEL": 0}]}, {"spoonFilePath": "DefaultMethodTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.usesjava8.default_method.DefaultMethodTest.shouldInvokeDefaultMethodOfPackagePrivateMapper()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "PackageMapper.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.usesjava8.default_method", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["1fe27a1e15edb1fe8de6692c539b1469bc47ec8c"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 5, "deletions": 2, "lines": 7, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 3, "UPD": 0, "INS": 2, "MOV": 1, "DEL": 0, "spoonFilesChanged": 2, "spoonMethodsChanged": 2}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/binding"], "changesInPackagesSPOON": ["org.apache.ibatis.submitted.usesjava8.default_method", "org.apache.ibatis.binding.MapperProxy.invokeDefaultMethod(java.lang.Object,java.lang.reflect.Method,java.lang.Object[])"]}, {"title": "ExecutorException: No setter found for the keyProperty 'id'", "body": "<!-- BUG REPORT FORM -->\r\n\r\n## MyBatis version\r\n3.4.2\r\n\r\n## Database vendor and version\r\nPostgreSQL 9.6.1\r\n## Test case or example project\r\n\r\n```java\r\ninterface TicketMapper {\r\n    @Options(flushCache = Options.FlushCachePolicy.TRUE, useGeneratedKeys=true) // Set keyProperty as the Java variable name and keyColumn as the column name in the database.\r\n    @Insert(\"INSERT INTO tickets (apikey, ticket) VALUES (#{apikey},#{ticket})\")\r\n    public void insertTicket(final TicketTO ticket) throws RecordAlreadyExists;\r\n   }\r\n```\r\n\r\n```sql\r\n-- Tickets f\u00fcr die WebSocket-Anmeldung\r\nCREATE TABLE tickets (\r\n  ID SERIAL PRIMARY KEY,\r\n  crdate    TIMESTAMP DEFAULT LOCALTIMESTAMP,\r\n\r\n\t-- apikey - ist in diesem Fall ein WebToken\r\n\tapikey     VARCHAR(2048)\tnot null,\r\n\r\n  -- das eigentliche Ticket, eine UUID\r\n  ticket    VARCHAR(36)\tnot null\r\n);\r\n```\r\n\r\n```java\r\npublic class TicketTO {\r\n\r\n    /** Verweis auf den User */\r\n    private          String   apikey;\r\n    private          String   ticket;\r\n    private DateTime crdate;\r\n\r\n    public String getAppID() {  ...  }\r\n\r\n    public String getTicket() { ...}\r\n\r\n    public void setTicket(final String ticket) { ... }\r\n\r\n    public DateTime getCrdate() { ... }\r\n\r\n    public void setCrdate(final String crdate) { ... }\r\n}\r\n````\r\n\r\nThis line produces to above error:\r\n```java\r\ngetSession().getMapper(TicketMapper.class).insertTicket(ticket);\r\n```\r\n\r\nIt's true that TicketTO has no \"id\" but this should be valid!\r\nIt works with 3.4.1 but fails with 3.4.2\r\n", "url": "https://github.com/mybatis/mybatis-3/issues/902", "user": "MikeMitterer", "labels": ["bug"], "created": "2017-01-23 13:13:00", "closed": "2017-08-13 05:11:14", "commits": {"e5435a63fa69f77574c380d8fda452e77df6072f": {"commitGHEventType": "referenced", "commitUser": "harawata"}, "7b0d7cb9303bb57e91d096ff153ca4a3181a295f": {"commitGHEventType": "referenced", "commitUser": "harawata"}, "cd35fef85e3f3306e4a0305d29e94456eae37817": {"commitGHEventType": "referenced", "commitUser": "h3adache"}}, "ttf": 201.00027777777777, "commitsDetails": [{"commitHash": "e5435a63fa69f77574c380d8fda452e77df6072f", "commitGHEventType": "referenced", "commitUser": "harawata", "commitParents": ["c004b579ed69c3dcc11bb9f1288cddd33595a82b"], "nameRev": "e5435a63fa69f77574c380d8fda452e77df6072f tags/mybatis-3.4.5~11", "commitMessage": "Reverted #782 as a workaround for #902 .\n", "commitDateTime": "2017-08-13 13:43:08", "authoredDateTime": "2017-08-13 02:31:11", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/executor/keygen/Jdbc3KeyGenerator.java", "insertions": 8, "deletions": 5, "lines": 13}, {"filePath": "src/test/java/org/apache/ibatis/submitted/keygen/Jdbc3KeyGeneratorTest.java", "insertions": 2, "deletions": 0, "lines": 2}, {"filePath": "src/test/java/org/apache/ibatis/submitted/usesjava8/postgres_genkeys/CreateDB.sql", "insertions": 34, "deletions": 0, "lines": 34}, {"filePath": "src/test/java/org/apache/ibatis/submitted/usesjava8/postgres_genkeys/Mapper.java", "insertions": 31, "deletions": 0, "lines": 31}, {"filePath": "src/test/java/org/apache/ibatis/submitted/usesjava8/postgres_genkeys/PostgresGeneratedKeysTest.java", "insertions": 116, "deletions": 0, "lines": 116}, {"filePath": "src/test/java/org/apache/ibatis/submitted/usesjava8/postgres_genkeys/Section.java", "insertions": 39, "deletions": 0, "lines": 39}, {"filePath": "src/test/java/org/apache/ibatis/submitted/usesjava8/postgres_genkeys/User.java", "insertions": 38, "deletions": 0, "lines": 38}], "commitSpoonAstDiffStats": [{"spoonFilePath": "Jdbc3KeyGenerator.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.executor.keygen.Jdbc3KeyGenerator.populateKeys(java.sql.ResultSet,org.apache.ibatis.reflection.MetaObject,java.lang.String[],org.apache.ibatis.type.TypeHandler[])", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}, {"spoonMethodName": "org.apache.ibatis.executor.keygen.Jdbc3KeyGenerator.getTypeHandlers(org.apache.ibatis.type.TypeHandlerRegistry,org.apache.ibatis.reflection.MetaObject,java.lang.String[],java.sql.ResultSetMetaData)", "TOT": 3, "UPD": 0, "INS": 1, "MOV": 2, "DEL": 0}]}, {"spoonFilePath": "Jdbc3KeyGeneratorTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.keygen.Jdbc3KeyGeneratorTest.shouldErrorUndefineProperty()", "TOT": 2, "UPD": 0, "INS": 2, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "Mapper.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.usesjava8.postgres_genkeys", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "PostgresGeneratedKeysTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.usesjava8.postgres_genkeys.PostgresGeneratedKeysTest", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "Section.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.usesjava8.postgres_genkeys.Section", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "User.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.usesjava8.postgres_genkeys.User", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "7b0d7cb9303bb57e91d096ff153ca4a3181a295f", "commitGHEventType": "referenced", "commitUser": "harawata", "commitParents": ["115d565ca947bbfbc5c13c6193d11c9637f56c25", "19f106877bc45dc39ae28421acd85ef864b2f5e8"], "nameRev": "7b0d7cb9303bb57e91d096ff153ca4a3181a295f tags/mybatis-3.5.0~111", "commitMessage": "Merge pull request #1250 from harawata/resurrect-782\n\nThrow exception when keyProperty is not found.\r\nOriginally developed by @kazuki43zoo in #782 . But reverted in #1073 to workaround #902 .", "commitDateTime": "2018-04-11 00:55:49", "authoredDateTime": "2018-04-11 00:55:49", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/executor/keygen/Jdbc3KeyGenerator.java", "insertions": 6, "deletions": 9, "lines": 15}, {"filePath": "src/test/java/org/apache/ibatis/submitted/keygen/Jdbc3KeyGeneratorTest.java", "insertions": 2, "deletions": 4, "lines": 6}], "commitSpoonAstDiffStats": [{"spoonFilePath": "Jdbc3KeyGenerator.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.executor.keygen.Jdbc3KeyGenerator.getTypeHandlers(org.apache.ibatis.type.TypeHandlerRegistry,org.apache.ibatis.reflection.MetaObject,java.lang.String[],java.sql.ResultSetMetaData)", "TOT": 7, "UPD": 0, "INS": 1, "MOV": 2, "DEL": 4}]}, {"spoonFilePath": "Jdbc3KeyGeneratorTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.keygen.Jdbc3KeyGeneratorTest.shouldErrorUndefineProperty()", "TOT": 3, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 2}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "cd35fef85e3f3306e4a0305d29e94456eae37817", "commitGHEventType": "referenced", "commitUser": "h3adache", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}], "filteredCommits": [], "filteredCommitsReason": {"duplicated": 1, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 2, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 0, "gitStatsSummary": {"insertions": 0.0, "deletions": 0.0, "lines": 0.0, "gitFilesChange": 0}, "spoonStatsSummary": {"TOT": 0.0, "UPD": 0.0, "INS": 0.0, "MOV": 0.0, "DEL": 0.0, "spoonFilesChanged": 0, "spoonMethodsChanged": 0}, "statsSkippedReason": "", "changesInPackagesGIT": [], "changesInPackagesSPOON": []}, {"title": "The mybatis-3.4.2.jar (inside mybatis-3.4.2.zip provided at release page) is require Java 8 runtime", "body": "<!--\r\nThank you for your contribution!\r\n\u8bf7\u5c06\u60a8\u7684\u95ee\u9898\u53d1\u9001\u5230\u90ae\u4ef6\u5217\u8868 https://groups.google.com/group/mybatis-user\r\n\r\nQuestion?\r\n======================\r\nPlease use the mailing list. http://groups.google.com/group/mybatis-user\r\nQuestions on this tracker will be closed without comment.\r\n\r\nBug report?\r\n======================\r\nPlease fill out the BUG REPORT FORM below.\r\n\r\nTo fix a bug, we need to reproduce it first.\r\nAnd we spend a lot of time just trying to reproduce the reported problem, so please consider creating a failing test case or an example project.\r\n\r\n- How to create a test case : https://github.com/mybatis/mybatis-3/wiki/Unit-Test\r\n- How to create a good example : http://sscce.org\r\n- How to upload your project to GitHub: https://help.github.com/articles/adding-an-existing-project-to-github-using-the-command-line/\r\n\r\nFeature request?\r\n=======================\r\n- Please delete the BUG REPORT FORM below and describe the feature.\r\n- It is a good idea to discuss your changes on the mailing list to get feedback from the community. http://groups.google.com/group/mybatis-user\r\n- If you have a patch with unit tests, send a pull request. Please see the wiki page : https://github.com/mybatis/mybatis-3/wiki/Contribute\r\n-->\r\n\r\n<!-- BUG REPORT FORM -->\r\n\r\n## MyBatis version\r\n3.4.2\r\n\r\n## Database vendor and version\r\n\r\n## Test case or example project\r\n\r\n## Steps to reproduce\r\n\r\nThe mybatis-3.4.2 released at Jan 2017 was compiled by Java 8. I think it should be complied by Java 6 unless the java that mybatis supports is upgraded to java 8.\r\n\r\n1. Make a sample code for my batis\r\n2. Run it with mybatis-3.4.2.jar by java 6\r\n\r\n## Expected result\r\n\r\nThese must be no error used in java 6\r\n\r\n## Actual result\r\n\r\njava.lang.UnsupportedClassVersionError happens.\r\n\r\njava.lang.UnsupportedClassVersionError: org/apache/ibatis/io/Resources : Unsupported major.minor version 52.0 (unable to load class org.apache.ibatis.io.Resources)\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.findClassInternal(WebappClassLoaderBase.java:2271)\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.findClass(WebappClassLoaderBase.java:811)\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1254)\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1119)\r\n\r\n## Status\r\n\r\n**We has been replaced already the .zip archive with the valid one.**\r\n(https://github.com/mybatis/mybatis-3/releases/tag/mybatis-3.4.2)\r\n", "url": "https://github.com/mybatis/mybatis-3/issues/900", "user": "kangjongbaek", "labels": ["bug"], "created": "2017-01-18 21:20:09", "closed": "2017-01-19 01:17:30", "commits": {}, "ttf": 0.0002777777777777778, "commitsDetails": []}, {"title": "Two typos in documents", "body": "I find two typos in documents.\r\n\r\nFirst is in http://www.mybatis.org/mybatis-3/configuration.html#typeAliases, which should be \"That\", displayed as follow:\r\n![image](https://cloud.githubusercontent.com/assets/9656978/20785217/01a37886-b7da-11e6-8874-10594c607365.png)\r\n\r\nAnother is in http://www.mybatis.org/mybatis-3/sqlmap-xml.html#Result_Maps, maybe you should scroll down a few pages. I think it should be \"BLOB\". Its snapshot is as follow:\r\n![image](https://cloud.githubusercontent.com/assets/9656978/20785303/75d9b2e2-b7da-11e6-8c1c-e4b99e67ac79.png)\r\n", "url": "https://github.com/mybatis/mybatis-3/issues/857", "user": "ShawnyXiao", "labels": ["bug", "documentation"], "created": "2016-12-01 07:26:57", "closed": "2016-12-01 15:06:38", "commits": {}, "ttf": 0.0002777777777777778, "commitsDetails": []}, {"title": "Typo for SqlSessionFactoryBuilder in documents", "body": "In this website http://www.mybatis.org/mybatis-3/configuration.html#properties, I'm not sure whether it is a typo, diplayed as follow. I think it should be replaced by SqlSessionFactoryBuilder.\r\n\r\nSnapshot:\r\n![fnxw5l19 rablian 7 khi](https://cloud.githubusercontent.com/assets/9656978/20645314/8427deca-b495-11e6-87b8-b1f469f5759e.png)\r\n\r\n", "url": "https://github.com/mybatis/mybatis-3/issues/854", "user": "ShawnyXiao", "labels": ["bug", "documentation"], "created": "2016-11-27 03:40:38", "closed": "2016-11-27 05:10:43", "commits": {}, "ttf": 0.0002777777777777778, "commitsDetails": []}, {"title": "PropertyTokenizer causes Infinite Loop when used in enhanced for-loop", "body": "see titile ", "url": "https://github.com/mybatis/mybatis-3/issues/837", "user": "sdcuike", "labels": ["bug"], "created": "2016-11-18 06:35:35", "closed": "2016-11-23 17:33:21", "commits": {"824dde0aa5cb2901702a6b9c346981dcd6d505e3": {"commitGHEventType": "closed", "commitUser": "harawata"}}, "ttf": 5.000277777777778, "commitsDetails": [{"commitHash": "824dde0aa5cb2901702a6b9c346981dcd6d505e3", "commitGHEventType": "closed", "commitUser": "harawata", "commitParents": ["71ebfc5eda66d355c8618787c74fa5ca036988ac"], "nameRev": "824dde0aa5cb2901702a6b9c346981dcd6d505e3 tags/mybatis-3.4.2~26", "commitMessage": "fixes #837 PropertyTokenizer is not Iterable.\n", "commitDateTime": "2016-11-24 02:31:58", "authoredDateTime": "2016-11-24 02:31:48", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/reflection/property/PropertyTokenizer.java", "insertions": 2, "deletions": 7, "lines": 9}], "commitSpoonAstDiffStats": [{"spoonFilePath": "PropertyTokenizer.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.reflection.property.PropertyTokenizer.iterator()", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["824dde0aa5cb2901702a6b9c346981dcd6d505e3"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 2, "deletions": 7, "lines": 9, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1, "spoonFilesChanged": 1, "spoonMethodsChanged": 1}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/reflection/property"], "changesInPackagesSPOON": ["org.apache.ibatis.reflection.property.PropertyTokenizer.iterator()"]}, {"title": "Can't create a result object according constructor parameters", "body": "<!--\r\nThank you for your contribution!\r\n\r\nQuestion?\r\n======================\r\nPlease use the mailing list. http://groups.google.com/group/mybatis-user\r\nQuestions on this tracker will be closed without comment.\r\n\r\nBug report?\r\n======================\r\nPlease fill out the BUG REPORT FORM below.\r\n\r\nTo fix a bug, we need to reproduce it first.\r\nAnd we spend a lot of time just trying to reproduce the reported problem, so please consider creating a failing test case or an example project.\r\n\r\n- How to create a test case : https://github.com/mybatis/mybatis-3/wiki/Unit-Test\r\n- How to create a good example : http://sscce.org\r\n- How to upload your project to GitHub: https://help.github.com/articles/adding-an-existing-project-to-github-using-the-command-line/\r\n\r\nFeature request?\r\n=======================\r\n- Please delete the BUG REPORT FORM below and describe the feature.\r\n- It is a good idea to discuss your changes on the mailing list to get feedback from the community. http://groups.google.com/group/mybatis-user\r\n- If you have a patch with unit tests, send a pull request. Please see the wiki page : https://github.com/mybatis/mybatis-3/wiki/Contribute\r\n-->\r\n\r\n<!-- BUG REPORT FORM -->\r\n\r\n## MyBatis version\r\n3.4.1\r\n\r\n## Database vendor and version\r\npostgres 9.4.6.1\r\nmysql 5.6\r\n## Test case or example project\r\n```\r\npublic class Address {\r\n\r\n    private long addressId;\r\n    private String streetName;\r\n\r\n\r\n    public Address(Integer addressId, String streetName) {\r\n        this.addressId = addressId;\r\n        this.streetName = streetName;\r\n    }\r\n\r\n    public long getAddressId() {\r\n        return addressId;\r\n    }\r\n\r\n    public String getStreetName() {\r\n        return streetName;\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic interface AddressMapper\r\n@Select(\"SELECT address_id, street_name FROM address where address_Id=#{addressId}\")\r\n    Address findAddressByIdUsingConstructor(long addressId);\r\n\r\n```\r\n\r\n```\r\nCREATE TABLE address \r\n(\r\n      address_id SERIAL PRIMARY KEY,\r\n      street_name CHARACTER VARYING(255) NOT NULL\r\n);\r\n\r\ninsert into address(address_id, street_name) values (1, 'chengdu')\r\n```\r\n## Steps to reproduce\r\n\r\nSo this bug is happened only with high version of Mybatis, which means there should be a method\r\n\r\ncalled **createByConstructorSignature** in **DefaultResultSetHandler.java**,\r\n\r\nDuring Debugging, I notice this method do prefect job creating object using non-default constructor which is \r\n\r\n```\r\n    public Address(Integer addressId, String streetName) {\r\n        this.addressId = addressId;\r\n        this.streetName = streetName;\r\n    }\r\n```\r\nfor my Address, and at that time the flag variable -- *foundValues* is **true**.\r\n\r\nBut after this method is executed, program will continue the logic of **DefaultResultSetHandler.getRowValue** method,\r\n\r\nthis method will check again if mybatis really found some value, however at this time the *foundValues* is **false**, and resultObjects will be set to **null**, if *foundValues* is false.\r\n\r\n## possible solution\r\n\r\nFor me, the easy way to solve this issue is at the last of **createByConstructorSignature** method,\r\n\r\nwe can update **resultMap.constructorResultMappings** so at **DefaultResultSetHandler.getRowValue** we can got true at\r\n\r\n```\r\n      boolean foundValues = resultMap.getConstructorResultMappings().size() > 0;\r\n```\r\n\r\n## Expected result\r\n\r\naddress(1, \"street_1\")\r\n\r\n## Actual result\r\n\r\nnull\r\n\r\n## plus\r\n\r\n[here](https://github.com/uazw/mybatis) I create a demo for repeat this issue\r\n\r\nfeel free to ask me some questions.\r\n", "url": "https://github.com/mybatis/mybatis-3/issues/830", "user": "uazw", "labels": ["bug"], "created": "2016-11-11 18:45:28", "closed": "2016-11-23 17:31:24", "commits": {"71ebfc5eda66d355c8618787c74fa5ca036988ac": {"commitGHEventType": "closed", "commitUser": "harawata"}}, "ttf": 11.000277777777777, "commitsDetails": [{"commitHash": "71ebfc5eda66d355c8618787c74fa5ca036988ac", "commitGHEventType": "closed", "commitUser": "harawata", "commitParents": ["c24e07be08096ca5bd0080720f71420205725ecb"], "nameRev": "71ebfc5eda66d355c8618787c74fa5ca036988ac tags/mybatis-3.4.2~27", "commitMessage": "Fix to reduce memory usage\nfix gh-830\n", "commitDateTime": "2016-11-24 02:31:23", "authoredDateTime": "2016-11-24 02:14:20", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/executor/resultset/DefaultResultSetHandler.java", "insertions": 12, "deletions": 24, "lines": 36}], "commitSpoonAstDiffStats": [{"spoonFilePath": "DefaultResultSetHandler.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.getRowValue(org.apache.ibatis.executor.resultset.ResultSetWrapper,org.apache.ibatis.mapping.ResultMap)", "TOT": 5, "UPD": 2, "INS": 1, "MOV": 0, "DEL": 2}, {"spoonMethodName": "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.createResultObject(org.apache.ibatis.executor.resultset.ResultSetWrapper,org.apache.ibatis.mapping.ResultMap,org.apache.ibatis.executor.loader.ResultLoaderMap,java.lang.String)", "TOT": 7, "UPD": 1, "INS": 3, "MOV": 1, "DEL": 2}, {"spoonMethodName": "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.ResultObject", "TOT": 3, "UPD": 0, "INS": 0, "MOV": 1, "DEL": 2}, {"spoonMethodName": "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.getRowValue(org.apache.ibatis.executor.resultset.ResultSetWrapper,org.apache.ibatis.mapping.ResultMap,org.apache.ibatis.cache.CacheKey,java.lang.String,java.lang.Object)", "TOT": 5, "UPD": 0, "INS": 1, "MOV": 1, "DEL": 3}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["71ebfc5eda66d355c8618787c74fa5ca036988ac"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 12, "deletions": 24, "lines": 36, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 20, "UPD": 3, "INS": 5, "MOV": 3, "DEL": 9, "spoonFilesChanged": 1, "spoonMethodsChanged": 4}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/executor/resultset"], "changesInPackagesSPOON": ["org.apache.ibatis.executor.resultset.DefaultResultSetHandler.createResultObject(org.apache.ibatis.executor.resultset.ResultSetWrapper,org.apache.ibatis.mapping.ResultMap,org.apache.ibatis.executor.loader.ResultLoaderMap,java.lang.String)", "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.getRowValue(org.apache.ibatis.executor.resultset.ResultSetWrapper,org.apache.ibatis.mapping.ResultMap,org.apache.ibatis.cache.CacheKey,java.lang.String,java.lang.Object)", "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.ResultObject", "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.getRowValue(org.apache.ibatis.executor.resultset.ResultSetWrapper,org.apache.ibatis.mapping.ResultMap)"]}, {"title": "Wildcard type with upper bound is resolved as java.lang.Object.", "body": "<!--\nThank you for your contribution!\n\nQuestion?\n======================\nPlease use the mailing list. http://groups.google.com/group/mybatis-user\nQuestions on this tracker will be closed without comment.\n\nBug report?\n======================\nPlease fill out the BUG REPORT FORM below.\n\nTo fix a bug, we need to reproduce it first.\nAnd we spend a lot of time just trying to reproduce the reported problem, so please consider creating a failing test case or an example project.\n\n- How to create a test case : https://github.com/mybatis/mybatis-3/wiki/Unit-Test\n- How to create a good example : http://sscce.org\n- How to upload your project to GitHub: https://help.github.com/articles/adding-an-existing-project-to-github-using-the-command-line/\n\nFeature request?\n=======================\n- Please delete the BUG REPORT FORM below and describe the feature.\n- It is a good idea to discuss your changes on the mailing list to get feedback from the community. http://groups.google.com/group/mybatis-user\n- If you have a patch with unit tests, send a pull request. Please see the wiki page : https://github.com/mybatis/mybatis-3/wiki/Contribute\n-->\n\n<!-- BUG REPORT FORM -->\n## MyBatis version\n\n3.4.1\n## Database vendor and version\n\nSQL-2008\n## Test case or example project\n\nmybatis-3/src/test/java/org/apache/ibatis/submitted/generic_type_detection\n## Steps to reproduce\n\nrunning testcase\n## Expected result\n\n3.2.8 version passes testcase without errors \nversions higher than this version will throw an exception.\n\nFYI : caught exception in testcase to pass it\n## Actual result\n\nTestcase should pass without exception\n", "url": "https://github.com/mybatis/mybatis-3/issues/807", "user": "Nbhaz", "labels": ["bug"], "created": "2016-10-14 07:10:59", "closed": "2016-10-15 15:20:42", "commits": {"67d30da1bd40284ef1cd8e1af73a7478c19f75eb": {"commitGHEventType": "closed", "commitUser": "harawata"}, "a05f741e92efbcf2e89aff958c4d86e8fe1ffc80": {"commitGHEventType": "referenced", "commitUser": "harawata"}, "d8bc3443497ea043eafe5eff55ba97303ddb7435": {"commitGHEventType": "referenced", "commitUser": "kazuki43zoo"}}, "ttf": 1.0002777777777778, "commitsDetails": [{"commitHash": "67d30da1bd40284ef1cd8e1af73a7478c19f75eb", "commitGHEventType": "closed", "commitUser": "harawata", "commitParents": ["46eaad2f938f3620735793e828c381aa34241fd5"], "nameRev": "67d30da1bd40284ef1cd8e1af73a7478c19f75eb tags/mybatis-3.4.2~54", "commitMessage": "fixes #807 When resolving wildcard type, return the upper bound class if specified.\n", "commitDateTime": "2016-10-16 00:05:25", "authoredDateTime": "2016-10-15 18:11:09", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/reflection/TypeParameterResolver.java", "insertions": 4, "deletions": 0, "lines": 4}], "commitSpoonAstDiffStats": [{"spoonFilePath": "TypeParameterResolver.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.reflection.TypeParameterResolver.resolveTypeVar(java.lang.reflect.TypeVariable,java.lang.reflect.Type,java.lang.Class)", "TOT": 6, "UPD": 0, "INS": 2, "MOV": 3, "DEL": 1}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "a05f741e92efbcf2e89aff958c4d86e8fe1ffc80", "commitGHEventType": "referenced", "commitUser": "harawata", "commitParents": ["67d30da1bd40284ef1cd8e1af73a7478c19f75eb"], "nameRev": "a05f741e92efbcf2e89aff958c4d86e8fe1ffc80 tags/mybatis-3.4.2~53", "commitMessage": "Replaced the test case for #807 .\n", "commitDateTime": "2016-10-16 00:05:25", "authoredDateTime": "2016-10-15 22:04:10", "commitGitStats": [{"filePath": "src/test/java/org/apache/ibatis/reflection/TypeParameterResolverTest.java", "insertions": 31, "deletions": 0, "lines": 31}, {"filePath": "src/test/java/org/apache/ibatis/submitted/generic_type_detection/Child.java", "insertions": 0, "deletions": 30, "lines": 30}, {"filePath": "src/test/java/org/apache/ibatis/submitted/generic_type_detection/CreateDB.sql", "insertions": 0, "deletions": 25, "lines": 25}, {"filePath": "src/test/java/org/apache/ibatis/submitted/generic_type_detection/GenericTypeDetectionTest.java", "insertions": 0, "deletions": 73, "lines": 73}, {"filePath": "src/test/java/org/apache/ibatis/submitted/generic_type_detection/Key.java", "insertions": 0, "deletions": 33, "lines": 33}, {"filePath": "src/test/java/org/apache/ibatis/submitted/generic_type_detection/Mapper.xml", "insertions": 0, "deletions": 46, "lines": 46}, {"filePath": "src/test/java/org/apache/ibatis/submitted/generic_type_detection/Parent.java", "insertions": 0, "deletions": 43, "lines": 43}, {"filePath": "src/test/java/org/apache/ibatis/submitted/generic_type_detection/mybatis-config.xml", "insertions": 0, "deletions": 47, "lines": 47}], "commitSpoonAstDiffStats": [{"spoonFilePath": "TypeParameterResolverTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.reflection.TypeParameterResolverTest.testReturnParam_WildcardWithUpperBounds()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "Child.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.generic_type_detection.Child", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}]}, {"spoonFilePath": "GenericTypeDetectionTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.generic_type_detection.GenericTypeDetectionTest", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}]}, {"spoonFilePath": "Key.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.generic_type_detection.Key", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}]}, {"spoonFilePath": "Parent.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.generic_type_detection.Parent", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "d8bc3443497ea043eafe5eff55ba97303ddb7435", "commitGHEventType": "referenced", "commitUser": "kazuki43zoo", "commitParents": ["a05f741e92efbcf2e89aff958c4d86e8fe1ffc80", "8d0153ecfc08f3f25ea39c6c926eb63a1626e82d"], "nameRev": "d8bc3443497ea043eafe5eff55ba97303ddb7435 tags/mybatis-3.4.2~52", "commitMessage": "Merge pull request #811 from kazuki43zoo/polishing\n\nPolishing #807", "commitDateTime": "2016-10-20 02:57:41", "authoredDateTime": "2016-10-20 02:57:41", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/reflection/TypeParameterResolver.java", "insertions": 1, "deletions": 1, "lines": 2}], "commitSpoonAstDiffStats": [{"spoonFilePath": "TypeParameterResolver.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.reflection.TypeParameterResolver.resolveTypeVar(java.lang.reflect.TypeVariable,java.lang.reflect.Type,java.lang.Class)", "TOT": 2, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 1}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["67d30da1bd40284ef1cd8e1af73a7478c19f75eb", "a05f741e92efbcf2e89aff958c4d86e8fe1ffc80"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 1, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 4, "deletions": 0, "lines": 4, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 9, "UPD": 0, "INS": 2, "MOV": 3, "DEL": 4, "spoonFilesChanged": 4, "spoonMethodsChanged": 4}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/reflection"], "changesInPackagesSPOON": ["org.apache.ibatis.reflection.TypeParameterResolver.resolveTypeVar(java.lang.reflect.TypeVariable,java.lang.reflect.Type,java.lang.Class)", "org.apache.ibatis.submitted.generic_type_detection.Parent", "org.apache.ibatis.submitted.generic_type_detection.Child", "org.apache.ibatis.submitted.generic_type_detection.Key"]}, {"title": "Logger is wrong in VendorDatabaseIdProvider", "body": "<!--\nThank you for your contribution!\n\nQuestion?\n======================\nPlease use the mailing list. http://groups.google.com/group/mybatis-user\nQuestions on this tracker will be closed without comment.\n\nBug report?\n======================\nPlease fill out the BUG REPORT FORM below.\n\nTo fix a bug, we need to reproduce it first.\nAnd we spend a lot of time just trying to reproduce the reported problem, so please consider creating a failing test case or an example project.\n\n- How to create a test case : https://github.com/mybatis/mybatis-3/wiki/Unit-Test\n- How to create a good example : http://sscce.org\n- How to upload your project to GitHub: https://help.github.com/articles/adding-an-existing-project-to-github-using-the-command-line/\n\nFeature request?\n=======================\n- Please delete the BUG REPORT FORM below and describe the feature.\n- It is a good idea to discuss your changes on the mailing list to get feedback from the community. http://groups.google.com/group/mybatis-user\n- If you have a patch with unit tests, send a pull request. Please see the wiki page : https://github.com/mybatis/mybatis-3/wiki/Contribute\n-->\n\n<!-- BUG REPORT FORM -->\n## MyBatis version\n\n3.4.1\n## Database vendor and version\n\n-\n## Test case or example project\n\nNone\n## Steps to reproduce\n\nNone\n## Expected result\n\nShould be specified a self class as follow:\n\n``` java\nprivate static final Log log = LogFactory.getLog(VendorDatabaseIdProvider.class);\n```\n## Actual result\n\nBut specified an another class(`BaseExecutor`) as follow:\n\n``` java\nprivate static final Log log = LogFactory.getLog(BaseExecutor.class);\n```\n", "url": "https://github.com/mybatis/mybatis-3/issues/803", "user": "kazuki43zoo", "labels": ["bug"], "created": "2016-10-09 16:29:22", "closed": "2016-10-09 17:22:27", "commits": {}, "ttf": 0.0002777777777777778, "commitsDetails": []}, {"title": "Setter with generics and without a getter produces an exception", "body": "## MyBatis version\n\n3.2.4, master code seems to be the same\n## Database vendor and version\n\nOracle, but not DB specific\n## Test case & Steps to reproduce\n\n```\ninterface BeanInterface<T> {\n void setProperty(T value);\n}\nclass BeanClass implements BeanInterface<String> {\n void setProperty(String value);\n}\n```\n\nnow use bean of BeanClass in mapping\n## Expected result\n\nmapping works\n## Actual result\n\norg.apache.ibatis.reflection.ReflectionException: Illegal overloaded setter method with ambiguous type for property property in class interface package.BeanInterface.  This breaks the JavaBeans specification and can cause unpredicatble results.\n## Workaround\n\nIntroduce a getter\n\n```\nclass BeanClass implements BeanInterface<String> {\n void setProperty(String value);\n String getProperty();\n}\n```\n", "url": "https://github.com/mybatis/mybatis-3/issues/755", "user": "tivv", "labels": ["bug"], "created": "2016-07-26 18:46:37", "closed": "2016-08-04 16:48:27", "commits": {"30116c907e63c767aae1617a8ace45bf6f08384b": {"commitGHEventType": "closed", "commitUser": "harawata"}, "987f7cdcfe95984d032990e397b7900d044c6fd1": {"commitGHEventType": "referenced", "commitUser": "harawata"}}, "ttf": 8.000277777777777, "commitsDetails": [{"commitHash": "30116c907e63c767aae1617a8ace45bf6f08384b", "commitGHEventType": "closed", "commitUser": "harawata", "commitParents": ["e30e1e611891bb08df2335af83b62c0846b24064"], "nameRev": "30116c907e63c767aae1617a8ace45bf6f08384b tags/mybatis-3.4.2~81", "commitMessage": "fixes #755 Generic setter with no corresponding getter method causes ReflectionException.\n", "commitDateTime": "2016-08-05 01:48:13", "authoredDateTime": "2016-08-05 01:48:13", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/reflection/Reflector.java", "insertions": 26, "deletions": 26, "lines": 52}, {"filePath": "src/test/java/org/apache/ibatis/reflection/ReflectorTest.java", "insertions": 38, "deletions": 0, "lines": 38}], "commitSpoonAstDiffStats": [{"spoonFilePath": "Reflector.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.reflection.Reflector.resolveSetterConflicts(java.util.Map)", "TOT": 50, "UPD": 19, "INS": 1, "MOV": 25, "DEL": 5}, {"spoonMethodName": "org.apache.ibatis.reflection.Reflector.pickBetterSetter(java.lang.reflect.Method,java.lang.reflect.Method,java.lang.String)", "TOT": 4, "UPD": 0, "INS": 4, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "ReflectorTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.reflection.ReflectorTest", "TOT": 2, "UPD": 0, "INS": 2, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.reflection.ReflectorTest.shouldResoleveReadonlySetterWithOverload()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.reflection.ReflectorTest.shouldSettersWithUnrelatedArgTypesThrowException()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "987f7cdcfe95984d032990e397b7900d044c6fd1", "commitGHEventType": "referenced", "commitUser": "harawata", "commitParents": ["30116c907e63c767aae1617a8ace45bf6f08384b"], "nameRev": "987f7cdcfe95984d032990e397b7900d044c6fd1 tags/mybatis-3.4.2~80", "commitMessage": "#755 Take 2. Even when there are ambiguous setters, the setter with matching getter should be picked if it exists.\n", "commitDateTime": "2016-08-05 02:54:09", "authoredDateTime": "2016-08-05 02:49:15", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/reflection/Reflector.java", "insertions": 15, "deletions": 2, "lines": 17}], "commitSpoonAstDiffStats": [{"spoonFilePath": "Reflector.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.reflection.Reflector.resolveSetterConflicts(java.util.Map)", "TOT": 5, "UPD": 0, "INS": 3, "MOV": 2, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["30116c907e63c767aae1617a8ace45bf6f08384b", "987f7cdcfe95984d032990e397b7900d044c6fd1"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 2, "gitStatsSummary": {"insertions": 41, "deletions": 28, "lines": 69, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 59, "UPD": 19, "INS": 8, "MOV": 27, "DEL": 5, "spoonFilesChanged": 1, "spoonMethodsChanged": 2}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/reflection"], "changesInPackagesSPOON": ["org.apache.ibatis.reflection.Reflector.resolveSetterConflicts(java.util.Map)", "org.apache.ibatis.reflection.Reflector.pickBetterSetter(java.lang.reflect.Method,java.lang.reflect.Method,java.lang.String)"]}, {"title": "Lazy loading should not be triggered by setter methods", "body": "# Feature request\n\nPlease add setting that let lazyLoader not to be triggered by setter methods\n\n``` xml\n    <settings>\n        <setting name=\"cacheEnabled\" value=\"true\" />\n        <setting name=\"lazyLoadingEnabled\" value=\"true\" />\n        <setting name=\"aggressiveLazyLoading\" value=\"false\" />\n        <setting name=\"lazyLoadTriggerMethods\" value=\"\" />\n    </settings>\n```\n\n``` java\n// model\npublic class User {\n  long id;\n  List<Role> roles;\n  List<Role> getRoles() { return roles; }\n  void setRoles(List<Role> roles) { this.roles = roles; }\n}\n\n// call mapper\nu1 = userMapper.selectByPrimaryKey(1l);\nu1.getRoles(); // this trigger a lazy load query successful\n\nu1 = userMapper.selectByPrimaryKey(2l);\nu2.setRoles(new ArrayList<Role>()); // this also trigger a lazy load query which I donot want\n```\n\nI wanna a setting let the setRoles method not to trigger the lazy load query.\n", "url": "https://github.com/mybatis/mybatis-3/issues/749", "user": "viruscamp", "labels": ["bug"], "created": "2016-07-19 12:25:49", "closed": "2016-11-09 13:09:56", "commits": {"8428077689f249fb6e7679822e16f3d10661c4c4": {"commitGHEventType": "closed", "commitUser": "harawata"}}, "ttf": 113.00027777777778, "commitsDetails": [{"commitHash": "8428077689f249fb6e7679822e16f3d10661c4c4", "commitGHEventType": "closed", "commitUser": "harawata", "commitParents": ["a74e34b17a654dfbc9e24925abc3e1f171fd3bf6"], "nameRev": "8428077689f249fb6e7679822e16f3d10661c4c4 tags/mybatis-3.4.2~47", "commitMessage": "fixes #749 Invoking the setter of a property should not trigger its lazy loading.\n", "commitDateTime": "2016-11-09 02:56:06", "authoredDateTime": "2016-11-09 02:56:06", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/executor/loader/cglib/CglibProxyFactory.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/main/java/org/apache/ibatis/executor/loader/javassist/JavassistProxyFactory.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/org/apache/ibatis/submitted/lazy_properties/LazyPropertiesTest.java", "insertions": 39, "deletions": 2, "lines": 41}], "commitSpoonAstDiffStats": [{"spoonFilePath": "CglibProxyFactory.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.executor.loader.cglib.CglibProxyFactory.EnhancedResultObjectProxyImpl.intercept(java.lang.Object,java.lang.reflect.Method,java.lang.Object[],net.sf.cglib.proxy.MethodProxy)", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "JavassistProxyFactory.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.executor.loader.javassist.JavassistProxyFactory.EnhancedResultObjectProxyImpl.invoke(java.lang.Object,java.lang.reflect.Method,java.lang.reflect.Method,java.lang.Object[])", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "LazyPropertiesTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.lazy_properties.LazyPropertiesTest.shouldInvokingSetterNotTriggerLazyLoading_Javassist()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.submitted.lazy_properties.LazyPropertiesTest.shouldInvokingSetterNotTriggerLazyLoading_Cglib()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["8428077689f249fb6e7679822e16f3d10661c4c4"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 2, "deletions": 2, "lines": 4, "gitFilesChange": 2}, "spoonStatsSummary": {"TOT": 2, "UPD": 2, "INS": 0, "MOV": 0, "DEL": 0, "spoonFilesChanged": 2, "spoonMethodsChanged": 2}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/executor/loader/javassist", "src/main/java/org/apache/ibatis/executor/loader/cglib"], "changesInPackagesSPOON": ["org.apache.ibatis.executor.loader.cglib.CglibProxyFactory.EnhancedResultObjectProxyImpl.intercept(java.lang.Object,java.lang.reflect.Method,java.lang.Object[],net.sf.cglib.proxy.MethodProxy)", "org.apache.ibatis.executor.loader.javassist.JavassistProxyFactory.EnhancedResultObjectProxyImpl.invoke(java.lang.Object,java.lang.reflect.Method,java.lang.reflect.Method,java.lang.Object[])"]}, {"title": "poolMaximumCheckoutTime logic has problem when leaked a connection.", "body": "<!--\nThank you for your contribution!\n\nQuestion?\n======================\nPlease use the mailing list. http://groups.google.com/group/mybatis-user\nQuestions on this tracker will be closed without comment.\n\nBug report?\n======================\nPlease fill out the BUG REPORT FORM below.\n\nTo fix a bug, we need to reproduce it first.\nAnd we spend a lot of time just trying to reproduce the reported problem, so please consider creating a failing test case or an example project.\n\n- How to create a test case : https://github.com/mybatis/mybatis-3/wiki/Unit-Test\n- How to create a good example : http://sscce.org\n- How to upload your project to GitHub: https://help.github.com/articles/adding-an-existing-project-to-github-using-the-command-line/\n\nFeature request?\n=======================\n- Please delete the BUG REPORT FORM below and describe the feature.\n- It is a good idea to discuss your changes on the mailing list to get feedback from the community. http://groups.google.com/group/mybatis-user\n- If you have a patch with unit tests, send a pull request. Please see the wiki page : https://github.com/mybatis/mybatis-3/wiki/Contribute\n-->\n\n<!-- BUG REPORT FORM -->\n## MyBatis version\n\n3.4.1\n## Database vendor and version\n\nMySQL 5.6\n## Test case or example project\n\nConditional is ...\n- TransactionManager is JDBC\n- dataSource is POOLED\n- PoolPingEnabled is true\n- autoCommit is true (It was active connection.)\n- Active connection was disconnected from database (Not from client.)\n  - eg. Leaked connection...\n\nPlease try this testcase. (If using the MySQL to set wait_timeout is 10 (sec))\n\n``` java\n  @Test\n  public void test() throws SQLException, ClassNotFoundException, InterruptedException{\n    PooledDataSource ds = new PooledDataSource();\n    ds.setDriver(\"com.mysql.jdbc.Driver\");\n    ds.setUrl(\"jdbc:mysql://localhost:3306/testdb\");\n    ds.setUsername(\"test\");\n    ds.setPassword(\"test\");\n    ds.setPoolMaximumActiveConnections(1); // test\n    ds.setPoolMaximumIdleConnections(1);\n    ds.setDefaultTransactionIsolationLevel(2);\n\n    ds.setPoolMaximumCheckoutTime(10000);\n\n    ds.setPoolPingEnabled(true);\n    ds.setPoolPingQuery(\"select 1\");\n\n    ds.setPoolPingConnectionsNotUsedFor(10000);  //  MySQL wait_timeout * 1000 or less. (unit:ms)\n\n    JdbcTransaction t1 = new JdbcTransaction(ds, null, true); // autoCommit = true\n    Connection con1 = t1.getConnection();\n    exexuteTestQuery(con1);\n    // con1.close(); // Leaked connection.\n\n    Thread.sleep(TimeUnit.SECONDS.toMillis(10)); // wait for disconnected from mysql...\n\n    JdbcTransaction t2 = new JdbcTransaction(ds, null, true);\n    Connection con2 = t2.getConnection(); // fail. (if t2 autocommit is false.)\n    exexuteTestQuery(con2); // fail. (if t2 autocommit is true.)\n  }\n\n  private void exexuteTestQuery(Connection con) throws SQLException{\n    PreparedStatement st = con.prepareStatement(\"select 1\");\n    ResultSet rs = st.executeQuery();\n    while(rs.next()){\n      assertEquals(1, rs.getInt(1));\n    }\n    rs.close();\n    st.close();\n  }\n```\n## Expected result\n\nsuccessful completion\n## Actual result\n\nException and stacktrace.\n\n```\ncom.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\n\nThe last packet successfully received from the server was 10,010 milliseconds ago.  The last packet sent successfully to the server was 9 milliseconds ago.\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:408)\n    at com.mysql.jdbc.Util.handleNewInstance(Util.java:411)\n    at com.mysql.jdbc.SQLError.createCommunicationsException(SQLError.java:1116)\n    at com.mysql.jdbc.MysqlIO.reuseAndReadPacket(MysqlIO.java:3102)\n    at com.mysql.jdbc.MysqlIO.reuseAndReadPacket(MysqlIO.java:2991)\n    at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3532)\n    at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2002)\n    at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2163)\n    at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2624)\n    at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:2127)\n    at com.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatement.java:2293)\n    at org.apache.ibatis.jdbc.PooledDataSourceTest.query(PooledDataSourceTest.java:131)\n    at org.apache.ibatis.jdbc.PooledDataSourceTest.test(PooledDataSourceTest.java:126)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:483)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:309)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:459)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:675)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:382)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192)\nCaused by: java.io.EOFException: Can not read response from server. Expected to read 4 bytes, read 0 bytes before connection was unexpectedly lost.\n    at com.mysql.jdbc.MysqlIO.readFully(MysqlIO.java:2552)\n    at com.mysql.jdbc.MysqlIO.reuseAndReadPacket(MysqlIO.java:3002)\n    ... 32 more\n```\n## Appendix: I found the three solutions\n1. Always disabled autoCommit\n   - If auto-commit is disabled, connection will be validated by the rollback of the transaction before the reuse connection.\n2. Set PoolPingConnectionsNotUsedFor is 0 \n   - Always check connection. but require #713 fix.\n3. Apply this patch. (best?)\n\n``` diff\ndiff --git a/src/main/java/org/apache/ibatis/datasource/pooled/PooledDataSource.java b/src/main/java/org/apache/ibatis/datasource/pooled/PooledDataSource.java\nindex c87a23a..775004a 100644\n--- a/src/main/java/org/apache/ibatis/datasource/pooled/PooledDataSource.java\n+++ b/src/main/java/org/apache/ibatis/datasource/pooled/PooledDataSource.java\n@@ -401,9 +401,10 @@ public class PooledDataSource implements DataSource {\n                   oldestActiveConnection.getRealConnection().rollback();\n                 } catch (SQLException e) {\n                   log.debug(\"Bad connection. Could not roll back\");\n-                }  \n+                }\n               }\n               conn = new PooledConnection(oldestActiveConnection.getRealConnection(), this);\n+              conn.setLastUsedTimestamp(0); // Requiring connection validation if set poolPingConnectionsNotUsedFor.\n               oldestActiveConnection.invalidate();\n               if (log.isDebugEnabled()) {\n                 log.debug(\"Claimed overdue connection \" + conn.getRealHashCode() + \".\");\n```\n", "url": "https://github.com/mybatis/mybatis-3/issues/748", "user": "ryozi-tn", "labels": ["bug"], "created": "2016-07-17 20:56:12", "closed": "2016-07-21 18:29:46", "commits": {"e9eea9f7bd174c5e63fd40c257a3e7491fb3d241": {"commitGHEventType": "closed", "commitUser": "harawata"}}, "ttf": 3.000277777777778, "commitsDetails": [{"commitHash": "e9eea9f7bd174c5e63fd40c257a3e7491fb3d241", "commitGHEventType": "closed", "commitUser": "harawata", "commitParents": ["2d0b2be8bb0777ec9eba01ebd558819316eb7796"], "nameRev": "e9eea9f7bd174c5e63fd40c257a3e7491fb3d241 tags/mybatis-3.4.2~87", "commitMessage": "fixes #748 PooledDataSource should acquire a new connection when the server killed a leaked connection.\n", "commitDateTime": "2016-07-22 03:29:19", "authoredDateTime": "2016-07-22 03:29:19", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/datasource/pooled/PooledDataSource.java", "insertions": 3, "deletions": 1, "lines": 4}, {"filePath": "src/test/java/org/apache/ibatis/jdbc/PooledDataSourceTest.java", "insertions": 66, "deletions": 8, "lines": 74}], "commitSpoonAstDiffStats": [{"spoonFilePath": "PooledDataSource.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.datasource.pooled.PooledDataSource.popConnection(java.lang.String,java.lang.String)", "TOT": 2, "UPD": 0, "INS": 2, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "PooledDataSourceTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.jdbc.PooledDataSourceTest.shouldReconnectWhenServerKilledLeakedConnection()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.jdbc.PooledDataSourceTest.exexuteQuery(java.sql.Connection)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["e9eea9f7bd174c5e63fd40c257a3e7491fb3d241"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 3, "deletions": 1, "lines": 4, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 2, "UPD": 0, "INS": 2, "MOV": 0, "DEL": 0, "spoonFilesChanged": 1, "spoonMethodsChanged": 1}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/datasource/pooled"], "changesInPackagesSPOON": ["org.apache.ibatis.datasource.pooled.PooledDataSource.popConnection(java.lang.String,java.lang.String)"]}, {"title": "Accessing bound array parameter in a SQLMap fails", "body": "<!--\nThank you for your contribution!\n\nQuestion?\n======================\nPlease use the mailing list. http://groups.google.com/group/mybatis-user\nQuestions on this tracker will be closed without comment.\n\nBug report?\n======================\nPlease fill out the BUG REPORT FORM below.\n\nTo fix a bug, we need to reproduce it first.\nAnd we spend a lot of time just trying to reproduce the reported problem, so please consider creating a failing test case or an example project.\n\n- How to create a test case : https://github.com/mybatis/mybatis-3/wiki/Unit-Test\n- How to create a good example : http://sscce.org\n- How to upload your project to GitHub: https://help.github.com/articles/adding-an-existing-project-to-github-using-the-command-line/\n\nFeature request?\n=======================\n- Please delete the BUG REPORT FORM below and describe the feature.\n- It is a good idea to discuss your changes on the mailing list to get feedback from the community. http://groups.google.com/group/mybatis-user\n- If you have a patch with unit tests, send a pull request. Please see the wiki page : https://github.com/mybatis/mybatis-3/wiki/Contribute\n-->\n\n<!-- BUG REPORT FORM -->\n## MyBatis version\n\n3.4.1\n## Database vendor and version\n\nNot database specific, but for reproduction, HSQLDB 2.3.4\n## Test case or example project\n#746\n## Steps to reproduce\n\n1) Bind a String array in a SQL map\n2) Access an element in the array as a parameter\n## Expected result\n\nParameter's value is substituted\n## Actual result\n\nNull is substituted\n\nSeems to have been introduced by commit 263b47e. My assumption is this would be fixed by checking `additionalParameters` for the property's name, not the indexed names, but I don't know enough about MyBatis internals to feel safe making that change myself.\n", "url": "https://github.com/mybatis/mybatis-3/issues/747", "user": "JazzyJosh", "labels": ["bug"], "created": "2016-07-16 15:29:55", "closed": "2016-07-22 13:37:17", "commits": {"b1e43f31a4125726a5682b94bde60f9f891719ff": {"commitGHEventType": "referenced", "commitUser": "harawata"}, "2960c062e5ecc43b22a01bf9e3374d7a7bd6ee69": {"commitGHEventType": "closed", "commitUser": "harawata"}}, "ttf": 5.000277777777778, "commitsDetails": [{"commitHash": "b1e43f31a4125726a5682b94bde60f9f891719ff", "commitGHEventType": "referenced", "commitUser": "harawata", "commitParents": ["e9eea9f7bd174c5e63fd40c257a3e7491fb3d241", "a7fdfe67aa9d481f3d8641fac30a761d4d7f9091"], "nameRev": "b1e43f31a4125726a5682b94bde60f9f891719ff tags/mybatis-3.4.2~86", "commitMessage": "Merge pull request #746. A failing test case for #747.\n", "commitDateTime": "2016-07-22 12:10:38", "authoredDateTime": "2016-07-22 12:10:05", "commitGitStats": [{"filePath": "src/test/java/org/apache/ibatis/submitted/array_binding/ArrayBindingTest.java", "insertions": 64, "deletions": 0, "lines": 64}, {"filePath": "src/test/java/org/apache/ibatis/submitted/array_binding/CreateDB.sql", "insertions": 24, "deletions": 0, "lines": 24}, {"filePath": "src/test/java/org/apache/ibatis/submitted/array_binding/Mapper.java", "insertions": 22, "deletions": 0, "lines": 22}, {"filePath": "src/test/java/org/apache/ibatis/submitted/array_binding/Mapper.xml", "insertions": 30, "deletions": 0, "lines": 30}, {"filePath": "src/test/java/org/apache/ibatis/submitted/array_binding/User.java", "insertions": 38, "deletions": 0, "lines": 38}, {"filePath": "src/test/java/org/apache/ibatis/submitted/array_binding/mybatis-config.xml", "insertions": 42, "deletions": 0, "lines": 42}], "commitSpoonAstDiffStats": [{"spoonFilePath": "ArrayBindingTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.array_binding.ArrayBindingTest", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "Mapper.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.array_binding", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "User.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.array_binding.User", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "2960c062e5ecc43b22a01bf9e3374d7a7bd6ee69", "commitGHEventType": "closed", "commitUser": "harawata", "commitParents": ["b1e43f31a4125726a5682b94bde60f9f891719ff"], "nameRev": "2960c062e5ecc43b22a01bf9e3374d7a7bd6ee69 tags/mybatis-3.4.2~85", "commitMessage": "fixes #747 Existense of additional parameter should be checked with the name without index part. Also replaced the test case with a simpler/faster one.\n", "commitDateTime": "2016-07-22 22:33:48", "authoredDateTime": "2016-07-22 22:15:30", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/mapping/BoundSql.java", "insertions": 2, "deletions": 3, "lines": 5}, {"filePath": "src/test/java/org/apache/ibatis/mapping/BoundSqlTest.java", "insertions": 7, "deletions": 1, "lines": 8}, {"filePath": "src/test/java/org/apache/ibatis/submitted/array_binding/ArrayBindingTest.java", "insertions": 0, "deletions": 64, "lines": 64}, {"filePath": "src/test/java/org/apache/ibatis/submitted/array_binding/CreateDB.sql", "insertions": 0, "deletions": 24, "lines": 24}, {"filePath": "src/test/java/org/apache/ibatis/submitted/array_binding/Mapper.java", "insertions": 0, "deletions": 22, "lines": 22}, {"filePath": "src/test/java/org/apache/ibatis/submitted/array_binding/Mapper.xml", "insertions": 0, "deletions": 30, "lines": 30}, {"filePath": "src/test/java/org/apache/ibatis/submitted/array_binding/User.java", "insertions": 0, "deletions": 38, "lines": 38}, {"filePath": "src/test/java/org/apache/ibatis/submitted/array_binding/mybatis-config.xml", "insertions": 0, "deletions": 42, "lines": 42}], "commitSpoonAstDiffStats": [{"spoonFilePath": "BoundSql.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.mapping.BoundSql.hasAdditionalParameter(java.lang.String)", "TOT": 5, "UPD": 3, "INS": 0, "MOV": 1, "DEL": 1}]}, {"spoonFilePath": "BoundSqlTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.mapping.BoundSqlTest.testHasAdditionalParameter()", "TOT": 4, "UPD": 0, "INS": 4, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "ArrayBindingTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.array_binding.ArrayBindingTest", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}]}, {"spoonFilePath": "Mapper.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.array_binding", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}]}, {"spoonFilePath": "User.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.array_binding.User", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["2960c062e5ecc43b22a01bf9e3374d7a7bd6ee69"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 1, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 2, "deletions": 3, "lines": 5, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 7, "UPD": 3, "INS": 0, "MOV": 1, "DEL": 3, "spoonFilesChanged": 3, "spoonMethodsChanged": 3}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/mapping"], "changesInPackagesSPOON": ["org.apache.ibatis.submitted.array_binding", "org.apache.ibatis.mapping.BoundSql.hasAdditionalParameter(java.lang.String)", "org.apache.ibatis.submitted.array_binding.User"]}, {"title": "Cannot access properties in <setting /> since 3.3.1", "body": "We used `<properties resource=\"org/mybatis/example/config.properties\">`  in `mybatis-config.xml`  as shown at http://www.mybatis.org/mybatis-3/configuration.html.\n\nWe was able to access the property file until MyBatis 3.3.0 and MyBatis-Spring 1.2.3.\nBut since MyBatis 3.3.1 and MyBatis-Spring 1.2.5 we failed to access it. Is there any spec change in MyBatis 3.3.1? Or a bug, otherwise our mis-usage?\n## MyBatis version\n\nMyBatis 3.3.1 with MyBatis-Spring 1.2.5\n## Database vendor and version\n\nAnyone\n## Test case or example project\n\nTBD\n## Steps to reproduce\n- mybatis-config.xml\n\n``` xml\n<!DOCTYPE configuration PUBLIC \"-//mybatis.org/DTD Config 3.0//EN\" \"http://mybatis.org/dtd/mybatis-3-config.dtd\">\n<configuration>\n    <properties resource=\"META-INF/mybatis/mybatis-config.properties\" />\n\n    <settings>\n        <setting name=\"jdbcTypeForNull\" value=\"${jdbcTypeForNull}\" />\n        <setting name=\"jdbcTypeForNull\" value=\"NULL\" />\n        <setting name=\"mapUnderscoreToCamelCase\" value=\"true\" />\n        <setting name=\"defaultFetchSize\" value=\"100\" />\n    </settings>\n\n    <!-- omitted -->\n</configuration>\n```\n- mybatis-config.properties\n\n``` properties\njdbcTypeForNull=NULL\n```\n## Expected result\n\n`jdbcTypeForNull` is set as `NULL`\n## Actual result\n\nGot an following exception.\n\n```\nIllegalArgumentException: No enum constant org.apache.ibatis.type.JdbcType.${jdbcTypeForNull}\n```\n", "url": "https://github.com/mybatis/mybatis-3/issues/723", "user": "ikeyat", "labels": ["bug"], "created": "2016-07-01 11:39:49", "closed": "2016-07-04 17:20:54", "commits": {"ba0c9fbccb05b6aacf09f0b0dbfe3e1db671929a": {"commitGHEventType": "closed", "commitUser": "harawata"}, "8502d5dc0bc3d91a253631fc71fa8904f173b0e8": {"commitGHEventType": "referenced", "commitUser": "harawata"}}, "ttf": 3.000277777777778, "commitsDetails": [{"commitHash": "ba0c9fbccb05b6aacf09f0b0dbfe3e1db671929a", "commitGHEventType": "closed", "commitUser": "harawata", "commitParents": ["27fd8f2b6595e9cd777095615be20d7a990fcd28"], "nameRev": "ba0c9fbccb05b6aacf09f0b0dbfe3e1db671929a tags/mybatis-3.4.2~105", "commitMessage": "fixes #723 Read properties first!\n", "commitDateTime": "2016-07-05 02:04:03", "authoredDateTime": "2016-07-05 02:04:03", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/builder/xml/XMLConfigBuilder.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/test/java/org/apache/ibatis/builder/CustomizedSettingsMapperConfig.xml", "insertions": 2, "deletions": 1, "lines": 3}], "commitSpoonAstDiffStats": [{"spoonFilePath": "XMLConfigBuilder.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.builder.xml.XMLConfigBuilder.settingsAsPropertiess(org.apache.ibatis.parsing.XNode)", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.builder.xml.XMLConfigBuilder.parseConfiguration(org.apache.ibatis.parsing.XNode)", "TOT": 2, "UPD": 1, "INS": 0, "MOV": 1, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "8502d5dc0bc3d91a253631fc71fa8904f173b0e8", "commitGHEventType": "referenced", "commitUser": "harawata", "commitParents": ["0d4f1061fe1fdeec0330042257e7b560ef4c3368", "fb045bda3124fe9ef9885f27b23a7f40c1aada02"], "nameRev": "8502d5dc0bc3d91a253631fc71fa8904f173b0e8 remotes/origin/3.3.x", "commitMessage": "Merge pull request #731 from ikeyat/issue723_fix_bug_backport_3.3.x\n\n[backporting for 3.3.x] Read properties first! #723", "commitDateTime": "2016-07-05 14:17:29", "authoredDateTime": "2016-07-05 14:17:29", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/builder/xml/XMLConfigBuilder.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/test/java/org/apache/ibatis/builder/CustomizedSettingsMapperConfig.xml", "insertions": 5, "deletions": 1, "lines": 6}], "commitSpoonAstDiffStats": [{"spoonFilePath": "XMLConfigBuilder.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.builder.xml.XMLConfigBuilder.settingsAsPropertiess(org.apache.ibatis.parsing.XNode)", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.builder.xml.XMLConfigBuilder.parseConfiguration(org.apache.ibatis.parsing.XNode)", "TOT": 2, "UPD": 1, "INS": 0, "MOV": 1, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["ba0c9fbccb05b6aacf09f0b0dbfe3e1db671929a"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 1, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 2, "deletions": 2, "lines": 4, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 3, "UPD": 2, "INS": 0, "MOV": 1, "DEL": 0, "spoonFilesChanged": 1, "spoonMethodsChanged": 2}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/builder/xml"], "changesInPackagesSPOON": ["org.apache.ibatis.builder.xml.XMLConfigBuilder.settingsAsPropertiess(org.apache.ibatis.parsing.XNode)", "org.apache.ibatis.builder.xml.XMLConfigBuilder.parseConfiguration(org.apache.ibatis.parsing.XNode)"]}, {"title": "mybatis-3.4.0.jar on IBM's Websphere Application Server 8.5.5.9", "body": "## MyBatis version\n\n3.4.0\n\nMybatis 3.4.0 use shade to integrate javassist and ognl with relocation.\n\nBut when deploy war which has mybatis-3.4.0.jar to IBM's Websphere Application Server 8.5.5.9 (Java 7), the war cannot start because of the relocation of javassist.\n\nThen I create a mybatis-3.4.0.jar without javassist and a independent javassist jar put it to my war. And deploy it to IBM's Websphere Application Server, everything is right.\n", "url": "https://github.com/mybatis/mybatis-3/issues/706", "user": "moonfruit", "labels": ["bug"], "created": "2016-06-12 08:06:51", "closed": "2016-06-23 03:40:57", "commits": {}, "ttf": 10.000277777777777, "commitsDetails": []}, {"title": "NullPointException in ResultSetHandler when java type className is null.", "body": "<!--\nThank you for your contribution!\n\nQuestion?\n======================\nPlease use the mailing list. http://groups.google.com/group/mybatis-user\nQuestions on this tracker will be closed without comment.\n\nBug report?\n======================\nPlease fill out the BUG REPORT FORM below.\n\nTo fix a bug, we need to reproduce it first.\nAnd we spend a lot of time just trying to reproduce the reported problem, so please consider creating a failing test case or an example project.\n\n- How to create a test case : https://github.com/mybatis/mybatis-3/wiki/Unit-Test\n- How to create a good example : http://sscce.org\n- How to upload your project to GitHub: https://help.github.com/articles/adding-an-existing-project-to-github-using-the-command-line/\n\nFeature request?\n=======================\n- Please delete the BUG REPORT FORM below and describe the feature.\n- It is a good idea to discuss your changes on the mailing list to get feedback from the community. http://groups.google.com/group/mybatis-user\n- If you have a patch with unit tests, send a pull request. Please see the wiki page : https://github.com/mybatis/mybatis-3/wiki/Contribute\n-->\n\n<!-- BUG REPORT FORM -->\n## MyBatis version\n\n3.1.1\n## Database vendor and version\n\nKylin jdbc 1.5.1\n## Test case or example project\n\n``` java\n@SELECT(\"select a,b from table limit 1\")\nMap<String, Object> selectOne();\n```\n## Steps to reproduce\n## Expected result\n\nselectOne will return a map contain  result select\n## Actual result\n\nError:\nNullPointException when handling resultSet, root cause is Class.forName(null)\n\nin FastResultSetHandler.java (DefaultResultSetHandler named in later verison)\nthe getTypeHandler method will throw NPE when classNames.get() return null.However, mybatis will handler the situation when can not load class(from classNames.get()).So it is ok when classNames.get() return null or can not load the class, we can ignore null.And we I ignore null,mybatis work well and return the result what I expected.\n(I can not upload the image, so I paste the code)\nIn mybatis 3.1.1 which will throw NPE\n\n``` java\nfinal Class javaType = resolveClass((String)classNames.get(index)); //classNames.get() will return null in kylin-jdbc 1.5.1\n  if(javaType != null && jdbcType != null) {`\n       handler = typeHandlerRegistry.getTypeHandler(javaType, jdbcType);\n   } else if(javaType != null) {\n        handler = typeHandlerRegistry.getTypeHandler(javaType);\n   } else if(jdbcType != null) { //notice:mybatis will get type handler by jdbcType if javaType is null\n         handler = typeHandlerRegistry.getTypeHandler(jdbcType);\n  }\n```\n\nso  if catch the NPE,maybe it will ok,and result is what I expected, following is code\n\n``` java\nfinal Class javaType = classNames.get(index) == null ? null : resolveClass((String)classNames.get(index));\n```\n", "url": "https://github.com/mybatis/mybatis-3/issues/699", "user": "fendar", "labels": ["bug"], "created": "2016-06-03 06:23:23", "closed": "2016-06-03 14:37:21", "commits": {"b195e2efdcc4dc88a788b734c3dc7c78a1d25362": {"commitGHEventType": "closed", "commitUser": "harawata"}}, "ttf": 0.0002777777777777778, "commitsDetails": [{"commitHash": "b195e2efdcc4dc88a788b734c3dc7c78a1d25362", "commitGHEventType": "closed", "commitUser": "harawata", "commitParents": ["592f77c36bb5893409bc3249e437fd946ff9914c"], "nameRev": "b195e2efdcc4dc88a788b734c3dc7c78a1d25362 tags/mybatis-3.4.1~3", "commitMessage": "fixes #699 ResultSetMetaData#getColumnClassName() could return null.\n", "commitDateTime": "2016-06-03 23:36:29", "authoredDateTime": "2016-06-03 23:34:03", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/executor/resultset/ResultSetWrapper.java", "insertions": 6, "deletions": 2, "lines": 8}], "commitSpoonAstDiffStats": [{"spoonFilePath": "ResultSetWrapper.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.executor.resultset.ResultSetWrapper.resolveClass(java.lang.String)", "TOT": 3, "UPD": 0, "INS": 1, "MOV": 2, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["b195e2efdcc4dc88a788b734c3dc7c78a1d25362"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 6, "deletions": 2, "lines": 8, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 3, "UPD": 0, "INS": 1, "MOV": 2, "DEL": 0, "spoonFilesChanged": 1, "spoonMethodsChanged": 1}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/executor/resultset"], "changesInPackagesSPOON": ["org.apache.ibatis.executor.resultset.ResultSetWrapper.resolveClass(java.lang.String)"]}, {"title": "Can not support child properties in ObjectWrapperFactory", "body": "<!--\nThank you for your contribution!\n\nQuestion?\n======================\nPlease use the mailing list. http://groups.google.com/group/mybatis-user\nQuestions on this tracker will be closed without comment.\n\nBug report?\n======================\nPlease fill out the BUG REPORT FORM below.\n\nTo fix a bug, we need to reproduce it first.\nAnd we spend a lot of time just trying to reproduce the reported problem, so please consider creating a failing test case or an example project.\n\n- How to create a test case : https://github.com/mybatis/mybatis-3/wiki/Unit-Test\n- How to create a good example : http://sscce.org\n- How to upload your project to GitHub: https://help.github.com/articles/adding-an-existing-project-to-github-using-the-command-line/\n\nFeature request?\n=======================\n- Please delete the BUG REPORT FORM below and describe the feature.\n- It is a good idea to discuss your changes on the mailing list to get feedback from the community. http://groups.google.com/group/mybatis-user\n- If you have a patch with unit tests, send a pull request. Please see the wiki page : https://github.com/mybatis/mybatis-3/wiki/Contribute\n-->\n\n<!-- BUG REPORT FORM -->\n## MyBatis version\n\n3.0.1 +\n## Description\n\nDTD file support child properties.\nHowever, `XMLConfigBuilder` and `ObjectWrapperFactory` does not support child properties.\nWhich is correct ?\n", "url": "https://github.com/mybatis/mybatis-3/issues/676", "user": "kazuki43zoo", "labels": ["bug"], "created": "2016-04-27 17:21:33", "closed": "2016-11-09 17:54:34", "commits": {}, "ttf": 196.00027777777777, "commitsDetails": []}, {"title": "Does not work Cursor using annotation based Mapper", "body": "<!--\nThank you for your contribution!\n\nQuestion?\n======================\nPlease use the mailing list. http://groups.google.com/group/mybatis-user\nQuestions on this tracker will be closed without comment.\n\nBug report?\n======================\nPlease fill out the BUG REPORT FORM below.\n\nTo fix a bug, we need to reproduce it first.\nAnd we spend a lot of time just trying to reproduce the reported problem, so please consider creating a failing test case or an example project.\n\n- How to create a test case : https://github.com/mybatis/mybatis-3/wiki/Unit-Test\n- How to create a good example : http://sscce.org\n- How to upload your project to GitHub: https://help.github.com/articles/adding-an-existing-project-to-github-using-the-command-line/\n\nFeature request?\n=======================\n- Please delete the BUG REPORT FORM below and describe the feature.\n- It is a good idea to discuss your changes on the mailing list to get feedback from the community. http://groups.google.com/group/mybatis-user\n- If you have a patch with unit tests, send a pull request. Please see the wiki page : https://github.com/mybatis/mybatis-3/wiki/Contribute\n-->\n\n<!-- BUG REPORT FORM -->\n## MyBatis version\n\n3.4.0\n## Database vendor and version\n\nAny\n## Test case or example project\n\nN/A\n## Steps to reproduce\n\nAt first, i add method in `BoundBlogMapper` as follow:\n\n``` java\n  @Select({\n          \"SELECT *\",\n          \"FROM blog\",\n          \"ORDER BY id\"\n  })\n  Cursor<Blog> selectCursorBlogs();\n```\n\nAt second, i add test method in `BindingTest` as follow:\n\n``` java\n  @Test\n  public void shouldExecuteWithCursorAndRowBounds() {\n    SqlSession session = sqlSessionFactory.openSession();\n    try {\n      BoundBlogMapper mapper = session.getMapper(BoundBlogMapper.class);\n      Cursor<Blog> blogs = mapper.selectCursorBlogs();\n      for (Blog b :blogs) {\n        System.out.println(b);\n      }\n    } finally {\n      session.close();\n    }\n  }\n```\n## Expected result\n\n```\nBlog: 1 : Jim Business (null)\nBlog: 2 : Bally Slog (null)\n```\n## Actual result\n\n```\norg.apache.ibatis.reflection.ReflectionException: Error instantiating interface org.apache.ibatis.cursor.Cursor with invalid types () or values (). Cause: java.lang.NoSuchMethodException: org.apache.ibatis.cursor.Cursor.<init>()\n\n    at org.apache.ibatis.reflection.factory.DefaultObjectFactory.instantiateClass(DefaultObjectFactory.java:90)\n    at org.apache.ibatis.reflection.factory.DefaultObjectFactory.create(DefaultObjectFactory.java:50)\n    at org.apache.ibatis.reflection.factory.DefaultObjectFactory.create(DefaultObjectFactory.java:42)\n    at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.createResultObject(DefaultResultSetHandler.java:594)\n    at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.createResultObject(DefaultResultSetHandler.java:571)\n    at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.getRowValue(DefaultResultSetHandler.java:380)\n    at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleRowValuesForSimpleResultMap(DefaultResultSetHandler.java:339)\n    at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleRowValues(DefaultResultSetHandler.java:314)\n    at org.apache.ibatis.cursor.defaults.DefaultCursor.fetchNextObjectFromDatabase(DefaultCursor.java:142)\n    at org.apache.ibatis.cursor.defaults.DefaultCursor.fetchNextUsingRowBound(DefaultCursor.java:128)\n    at org.apache.ibatis.cursor.defaults.DefaultCursor$CursorIterator.hasNext(DefaultCursor.java:199)\n    at org.apache.ibatis.binding.BindingTest.shouldExecuteWithCursorAndRowBounds(BindingTest.java:774)\n...\nCaused by: java.lang.NoSuchMethodException: org.apache.ibatis.cursor.Cursor.<init>()\n    at java.lang.Class.getConstructor0(Class.java:3082)\n    at java.lang.Class.getDeclaredConstructor(Class.java:2178)\n    at org.apache.ibatis.reflection.factory.DefaultObjectFactory.instantiateClass(DefaultObjectFactory.java:62)\n```\n", "url": "https://github.com/mybatis/mybatis-3/issues/661", "user": "kazuki43zoo", "labels": ["bug"], "created": "2016-04-23 15:47:12", "closed": "2016-04-23 17:30:14", "commits": {"bce2c49e48ef4cb16eac689ad02ce6e0f9e9e1fe": {"commitGHEventType": "referenced", "commitUser": "emacarron"}}, "ttf": 0.0002777777777777778, "commitsDetails": [{"commitHash": "bce2c49e48ef4cb16eac689ad02ce6e0f9e9e1fe", "commitGHEventType": "referenced", "commitUser": "emacarron", "commitParents": ["4a790059b20ba336559c3e8a04df8634c9b87f30", "47777bb4e0dc880421d863c69c5b2667e36111f8"], "nameRev": "bce2c49e48ef4cb16eac689ad02ce6e0f9e9e1fe tags/mybatis-3.4.1~42", "commitMessage": "Merge pull request #662 from kazuki43zoo/issues/661_cursor-on-annotaion-based-mapper\n\nSupport Cursor on annotation based Mapper interface #661", "commitDateTime": "2016-04-23 19:30:14", "authoredDateTime": "2016-04-23 19:30:14", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/builder/annotation/MapperAnnotationBuilder.java", "insertions": 2, "deletions": 1, "lines": 3}, {"filePath": "src/test/java/org/apache/ibatis/submitted/cursor_simple/AnnotationMapper.java", "insertions": 26, "deletions": 0, "lines": 26}, {"filePath": "src/test/java/org/apache/ibatis/submitted/cursor_simple/CursorSimpleTest.java", "insertions": 40, "deletions": 1, "lines": 41}], "commitSpoonAstDiffStats": [{"spoonFilePath": "MapperAnnotationBuilder.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.builder.annotation.MapperAnnotationBuilder.getReturnType(java.lang.reflect.Method)", "TOT": 2, "UPD": 0, "INS": 1, "MOV": 1, "DEL": 0}]}, {"spoonFilePath": "AnnotationMapper.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.cursor_simple", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "CursorSimpleTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.cursor_simple.CursorSimpleTest.shouldGetAllUserUsingAnnotationBasedMapper()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": [], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 1, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 0, "gitStatsSummary": {"insertions": 0, "deletions": 0, "lines": 0, "gitFilesChange": 0}, "spoonStatsSummary": {"TOT": 0, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 0, "spoonFilesChanged": 0, "spoonMethodsChanged": 0}, "statsSkippedReason": "", "changesInPackagesGIT": [], "changesInPackagesSPOON": []}, {"title": "Association to mapped select that uses @Param arguments fails", "body": "<!--\nThank you for your contribution!\n\nQuestion?\n======================\nPlease use the mailing list. http://groups.google.com/group/mybatis-user\nQuestions on this tracker will be closed without comment.\n\nBug report?\n======================\nPlease fill out the BUG REPORT FORM below.\n\nTo fix a bug, we need to reproduce it first.\nAnd we spend a lot of time just trying to reproduce the reported problem, so please consider creating a failing test case or an example project.\n\n- How to create a test case : https://github.com/mybatis/mybatis-3/wiki/Unit-Test\n- How to create a good example : http://sscce.org\n- How to upload your project to GitHub: https://help.github.com/articles/adding-an-existing-project-to-github-using-the-command-line/\n\nFeature request?\n=======================\n- Please delete the BUG REPORT FORM below and describe the feature.\n- It is a good idea to discuss your changes on the mailing list to get feedback from the community. http://groups.google.com/group/mybatis-user\n- If you have a patch with unit tests, send a pull request. Please see the wiki page : https://github.com/mybatis/mybatis-3/wiki/Contribute\n-->\n\nI was attempting to upgrade a project from an old version of mybatis (3.2.2) and ran into an issue where associations that select on multiple columns fail when the nested query uses @Param annotations.    The same queries work fine in 3.2.2.  I have confirmed the problem exists in 3.2.8, 3.3.1 and 3.4.0.  \n\n<!-- BUG REPORT FORM -->\n## MyBatis version\n\n3.2.3 +\n## Database vendor and version\n\nAny\n## Test case or example project\n\nPull request with failing test  https://github.com/mybatis/mybatis-3/pull/648\n## Steps to reproduce\n\nI have modified the existing complex column test suite to add a failing test case that uses an association to a mapped statement that uses @Param annotations.  Other than the query being defined in the java interface and using @Param instead of being in the XML the test is the same as the existing scenarios.\n## Expected result\n\nTest should pass and result should be identical to the query that uses XML.\n## Actual result\n\nTest throws the following exception\n\n```\norg.apache.ibatis.exceptions.PersistenceException: \n### Error querying database.  Cause: org.apache.ibatis.binding.BindingException: Parameter 'firstName' not found. Available parameters are []\n### The error may exist in org/apache/ibatis/submitted/complex_column/PersonMapper.java (best guess)\n### The error may involve org.apache.ibatis.submitted.complex_column.PersonMapper.getComplexWithParamAttributes\n### The error occurred while handling results\n### SQL: SELECT id, firstName, lastName, parent_id, parent_firstName, parent_lastName FROM Person WHERE id = ?\n### Cause: org.apache.ibatis.binding.BindingException: Parameter 'firstName' not found. Available parameters are []\n```\n", "url": "https://github.com/mybatis/mybatis-3/issues/649", "user": "lkb2k", "labels": ["bug"], "created": "2016-04-21 01:33:02", "closed": "2016-04-25 19:15:19", "commits": {"050bdeacef3be920ebcd00ac408feb2de21cda40": {"commitGHEventType": "closed", "commitUser": "emacarron"}}, "ttf": 4.000277777777778, "commitsDetails": [{"commitHash": "050bdeacef3be920ebcd00ac408feb2de21cda40", "commitGHEventType": "closed", "commitUser": "emacarron", "commitParents": ["dda57c1472f566721121300938471733092bf46d"], "nameRev": "050bdeacef3be920ebcd00ac408feb2de21cda40 tags/mybatis-3.4.1~35^2", "commitMessage": "Fixes #649. ", "commitDateTime": "2016-04-25 21:10:41", "authoredDateTime": "2016-04-25 21:10:41", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/executor/resultset/DefaultResultSetHandler.java", "insertions": 3, "deletions": 0, "lines": 3}], "commitSpoonAstDiffStats": [{"spoonFilePath": "DefaultResultSetHandler.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.instantiateParameterObject(java.lang.Class)", "TOT": 5, "UPD": 0, "INS": 1, "MOV": 3, "DEL": 1}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["050bdeacef3be920ebcd00ac408feb2de21cda40"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 3, "deletions": 0, "lines": 3, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 5, "UPD": 0, "INS": 1, "MOV": 3, "DEL": 1, "spoonFilesChanged": 1, "spoonMethodsChanged": 1}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/executor/resultset"], "changesInPackagesSPOON": ["org.apache.ibatis.executor.resultset.DefaultResultSetHandler.instantiateParameterObject(java.lang.Class)"]}, {"title": "This may a spelling error but not a bug on ResulSet", "body": "<!--\nThank you for your contribution!\n\nQuestion?\n======================\nPlease use the mailing list. http://groups.google.com/group/mybatis-user\nQuestions on this tracker will be closed without comment.\n\nBug report?\n======================\nPlease fill out the BUG REPORT FORM below.\n\nTo fix a bug, we need to reproduce it first.\nAnd we spend a lot of time just trying to reproduce the reported problem, so please consider creating a failing test case or an example project.\n\n- How to create a test case : https://github.com/mybatis/mybatis-3/wiki/Unit-Test\n- How to create a good example : http://sscce.org\n- How to upload your project to GitHub: https://help.github.com/articles/adding-an-existing-project-to-github-using-the-command-line/\n\nFeature request?\n=======================\n- Please delete the BUG REPORT FORM below and describe the feature.\n- It is a good idea to discuss your changes on the mailing list to get feedback from the community. http://groups.google.com/group/mybatis-user\n- If you have a patch with unit tests, send a pull request. Please see the wiki page : https://github.com/mybatis/mybatis-3/wiki/Contribute\n-->\n\n<!-- BUG REPORT FORM -->\n\nAt source code src/main/java/org/apache/ibatis/mapping/MappedStatement.java\nline-274:getResulSets\nline-171:getResulSets\nIn the process of reading the source code, i found the ResulSet, it may a spell error or not, but it makes a obsession uncomfortable(\uffe2_\uffe2).\n## MyBatis version\n\n3.3.1\n## Database vendor and version\n\nn/a\n## Test case or example project\n\nn/a\n## Steps to reproduce\n\nn/a\n## Expected result\n\ngetResultSets\n## Actual result\n\ngetResulSets\n", "url": "https://github.com/mybatis/mybatis-3/issues/594", "user": "HikariShine", "labels": ["bug"], "created": "2016-03-02 05:38:28", "closed": "2016-03-02 06:58:15", "commits": {"fa0e39b302129ac0f7212ae6fe25d194d782a53e": {"commitGHEventType": "referenced", "commitUser": "shroman"}}, "ttf": 0.0002777777777777778, "commitsDetails": [{"commitHash": "fa0e39b302129ac0f7212ae6fe25d194d782a53e", "commitGHEventType": "referenced", "commitUser": "shroman", "commitParents": ["37163bc03fff8583eace066d7d03b3141c2ca13e"], "nameRev": "fa0e39b302129ac0f7212ae6fe25d194d782a53e tags/mybatis-3.4.0~63", "commitMessage": "#594 fix. Misspelled methods.\n", "commitDateTime": "2016-03-02 15:47:47", "authoredDateTime": "2016-03-02 15:47:47", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/builder/MapperBuilderAssistant.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/main/java/org/apache/ibatis/builder/xml/XMLMapperBuilder.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/main/java/org/apache/ibatis/executor/resultset/DefaultResultSetHandler.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/main/java/org/apache/ibatis/mapping/MappedStatement.java", "insertions": 13, "deletions": 0, "lines": 13}], "commitSpoonAstDiffStats": [{"spoonFilePath": "MapperBuilderAssistant.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.builder.MapperBuilderAssistant.addMappedStatement(java.lang.String,org.apache.ibatis.mapping.SqlSource,org.apache.ibatis.mapping.StatementType,org.apache.ibatis.mapping.SqlCommandType,java.lang.Integer,java.lang.Integer,java.lang.String,java.lang.Class,java.lang.String,java.lang.Class,org.apache.ibatis.mapping.ResultSetType,boolean,boolean,boolean,org.apache.ibatis.executor.keygen.KeyGenerator,java.lang.String,java.lang.String,java.lang.String,org.apache.ibatis.scripting.LanguageDriver,java.lang.String)", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLMapperBuilder.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.builder.xml.XMLMapperBuilder.buildResultMappingFromContext(org.apache.ibatis.parsing.XNode,java.lang.Class,java.util.List)", "TOT": 2, "UPD": 2, "INS": 0, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "DefaultResultSetHandler.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleResultSets(java.sql.Statement)", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "MappedStatement.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.mapping.MappedStatement.getResulSets()", "TOT": 2, "UPD": 1, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.mapping.MappedStatement.Builder.resulSets(java.lang.String)", "TOT": 2, "UPD": 1, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["fa0e39b302129ac0f7212ae6fe25d194d782a53e"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 17, "deletions": 4, "lines": 21, "gitFilesChange": 4}, "spoonStatsSummary": {"TOT": 8, "UPD": 6, "INS": 2, "MOV": 0, "DEL": 0, "spoonFilesChanged": 4, "spoonMethodsChanged": 5}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/mapping", "src/main/java/org/apache/ibatis/executor/resultset", "src/main/java/org/apache/ibatis/builder", "src/main/java/org/apache/ibatis/builder/xml"], "changesInPackagesSPOON": ["org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleResultSets(java.sql.Statement)", "org.apache.ibatis.mapping.MappedStatement.Builder.resulSets(java.lang.String)", "org.apache.ibatis.builder.xml.XMLMapperBuilder.buildResultMappingFromContext(org.apache.ibatis.parsing.XNode,java.lang.Class,java.util.List)", "org.apache.ibatis.mapping.MappedStatement.getResulSets()", "org.apache.ibatis.builder.MapperBuilderAssistant.addMappedStatement(java.lang.String,org.apache.ibatis.mapping.SqlSource,org.apache.ibatis.mapping.StatementType,org.apache.ibatis.mapping.SqlCommandType,java.lang.Integer,java.lang.Integer,java.lang.String,java.lang.Class,java.lang.String,java.lang.Class,org.apache.ibatis.mapping.ResultSetType,boolean,boolean,boolean,org.apache.ibatis.executor.keygen.KeyGenerator,java.lang.String,java.lang.String,java.lang.String,org.apache.ibatis.scripting.LanguageDriver,java.lang.String)"]}, {"title": "foreignColumns with multiple columns validation error", "body": "When I try and use foreignColumns with multiple comma separated keys I get the following error.\n'There should be the same number of columns and foreignColumns in property customFields'\n\nI've spent hours trying to get this to work and then found this in the source which may be related.\n\nCould be related to this statement in MapperBuilderAssistant.buildResultMapping\n\n```\nList<ResultMapping> composites = parseCompositeColumnName(column);\nif (composites.size() > 0) {\n  column = null;\n}\n```\n", "url": "https://github.com/mybatis/mybatis-3/issues/526", "user": "soaringhill", "labels": ["bug"], "created": "2015-11-14 21:15:51", "closed": "2017-02-04 16:51:36", "commits": {"9d2913543adf5ac3c09c7ebe42ac86d2fbd92dda": {"commitGHEventType": "closed", "commitUser": "harawata"}}, "ttf": 447.0002777777778, "commitsDetails": [{"commitHash": "9d2913543adf5ac3c09c7ebe42ac86d2fbd92dda", "commitGHEventType": "closed", "commitUser": "harawata", "commitParents": ["27d37ce047fa22837095d55e715769ffb42381ff"], "nameRev": "9d2913543adf5ac3c09c7ebe42ac86d2fbd92dda tags/mybatis-3.4.3~35", "commitMessage": "fixes #526 `column` attribute expects comma separated column names when used with `foreignColumn` rather than the composite format (i.e. `{key1=val1,key2=val2,...}`).\nThe if statement removed by this commit was added in cd60f405ea49b8de61c3fa1220b25e9403494a1d , but there was no test case and I am not sure what it was for.\n", "commitDateTime": "2017-02-05 01:51:08", "authoredDateTime": "2017-02-05 01:51:08", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/builder/MapperBuilderAssistant.java", "insertions": 1, "deletions": 4, "lines": 5}, {"filePath": "src/test/java/org/apache/ibatis/submitted/sptests/Book.java", "insertions": 47, "deletions": 0, "lines": 47}, {"filePath": "src/test/java/org/apache/ibatis/submitted/sptests/CreateDB.sql", "insertions": 40, "deletions": 1, "lines": 41}, {"filePath": "src/test/java/org/apache/ibatis/submitted/sptests/Genre.java", "insertions": 29, "deletions": 0, "lines": 29}, {"filePath": "src/test/java/org/apache/ibatis/submitted/sptests/SPMapper.java", "insertions": 4, "deletions": 3, "lines": 7}, {"filePath": "src/test/java/org/apache/ibatis/submitted/sptests/SPMapper.xml", "insertions": 18, "deletions": 2, "lines": 20}, {"filePath": "src/test/java/org/apache/ibatis/submitted/sptests/SPTest.java", "insertions": 17, "deletions": 1, "lines": 18}], "commitSpoonAstDiffStats": [{"spoonFilePath": "MapperBuilderAssistant.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.builder.MapperBuilderAssistant.buildResultMapping(java.lang.Class,java.lang.String,java.lang.String,java.lang.Class,org.apache.ibatis.type.JdbcType,java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.Class,java.util.List,java.lang.String,java.lang.String,boolean)", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}]}, {"spoonFilePath": "Book.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.sptests.Book", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "Genre.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.sptests.Genre", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "SPMapper.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.sptests.getBookAndGenre()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "SPTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.sptests.SPTest.testMultipleForeignKeys()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["9d2913543adf5ac3c09c7ebe42ac86d2fbd92dda"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 1, "deletions": 4, "lines": 5, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 4, "UPD": 0, "INS": 3, "MOV": 0, "DEL": 1, "spoonFilesChanged": 4, "spoonMethodsChanged": 4}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/builder"], "changesInPackagesSPOON": ["org.apache.ibatis.submitted.sptests.Book", "org.apache.ibatis.submitted.sptests.Genre", "org.apache.ibatis.submitted.sptests.getBookAndGenre()", "org.apache.ibatis.builder.MapperBuilderAssistant.buildResultMapping(java.lang.Class,java.lang.String,java.lang.String,java.lang.Class,org.apache.ibatis.type.JdbcType,java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.Class,java.util.List,java.lang.String,java.lang.String,boolean)"]}, {"title": "aggressiveLazyLoading doesn't work as document says", "body": "document says about `aggressiveLazyLoading`:\n\n> When enabled, an object with lazy loaded properties will be loaded entirely upon a call to any of the lazy properties. Otherwise, each property is loaded on demand.\n\nBut the actual result is when I call method on an non-lazy propertiy, the lazy load is also triggered.\n\nSee also this stackoverflow question: http://stackoverflow.com/questions/24013855/lazy-loading-using-mybatis-3-with-java\n", "url": "https://github.com/mybatis/mybatis-3/issues/515", "user": "chanjarster", "labels": ["bug", "documentation"], "created": "2015-11-05 13:14:40", "closed": "2016-11-08 14:38:10", "commits": {"a74e34b17a654dfbc9e24925abc3e1f171fd3bf6": {"commitGHEventType": "closed", "commitUser": "harawata"}, "3e893f73d829ffa4b995c2f724432e05070e9e67": {"commitGHEventType": "referenced", "commitUser": "harawata"}}, "ttf": 369.0002777777778, "commitsDetails": [{"commitHash": "a74e34b17a654dfbc9e24925abc3e1f171fd3bf6", "commitGHEventType": "closed", "commitUser": "harawata", "commitParents": ["cd8688ee0006f810b643a3608158507e3da8ba64"], "nameRev": "a74e34b17a654dfbc9e24925abc3e1f171fd3bf6 tags/mybatis-3.4.2~48", "commitMessage": "fixes #515 Added a test case ensuring aggressiveLazyLoading behavior.\n", "commitDateTime": "2016-11-08 23:37:45", "authoredDateTime": "2016-11-08 23:36:06", "commitGitStats": [{"filePath": "src/test/java/org/apache/ibatis/submitted/lazy_properties/CreateDB.sql", "insertions": 24, "deletions": 0, "lines": 24}, {"filePath": "src/test/java/org/apache/ibatis/submitted/lazy_properties/LazyPropertiesTest.java", "insertions": 82, "deletions": 0, "lines": 82}, {"filePath": "src/test/java/org/apache/ibatis/submitted/lazy_properties/Mapper.java", "insertions": 37, "deletions": 0, "lines": 37}, {"filePath": "src/test/java/org/apache/ibatis/submitted/lazy_properties/Mapper.xml", "insertions": 46, "deletions": 0, "lines": 46}, {"filePath": "src/test/java/org/apache/ibatis/submitted/lazy_properties/User.java", "insertions": 70, "deletions": 0, "lines": 70}, {"filePath": "src/test/java/org/apache/ibatis/submitted/lazy_properties/mybatis-config.xml", "insertions": 46, "deletions": 0, "lines": 46}], "commitSpoonAstDiffStats": [{"spoonFilePath": "LazyPropertiesTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.lazy_properties.LazyPropertiesTest", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "Mapper.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.lazy_properties", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "User.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.lazy_properties.User", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "3e893f73d829ffa4b995c2f724432e05070e9e67", "commitGHEventType": "referenced", "commitUser": "harawata", "commitParents": ["8428077689f249fb6e7679822e16f3d10661c4c4"], "nameRev": "3e893f73d829ffa4b995c2f724432e05070e9e67 tags/mybatis-3.4.2~46", "commitMessage": "Change the default value of aggressiveLazyLoading to false. See the comments on #515 .\n", "commitDateTime": "2016-11-09 22:49:11", "authoredDateTime": "2016-11-09 04:41:01", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/builder/xml/XMLConfigBuilder.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/main/java/org/apache/ibatis/session/Configuration.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/site/es/xdoc/configuration.xml", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/site/ja/xdoc/configuration.xml", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/site/ko/xdoc/configuration.xml", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/site/xdoc/configuration.xml", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/site/zh/xdoc/configuration.xml", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/org/apache/ibatis/builder/CustomizedSettingsMapperConfig.xml", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/org/apache/ibatis/builder/XmlConfigBuilderTest.java", "insertions": 2, "deletions": 2, "lines": 4}], "commitSpoonAstDiffStats": [{"spoonFilePath": "XMLConfigBuilder.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.builder.xml.XMLConfigBuilder.settingsElement(java.util.Properties)", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "Configuration.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.session.Configuration", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XmlConfigBuilderTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.builder.XmlConfigBuilderTest.shouldSuccessfullyLoadXMLConfigFile()", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 1, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.builder.XmlConfigBuilderTest.shouldSuccessfullyLoadMinimalXMLConfigFile()", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 1, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["a74e34b17a654dfbc9e24925abc3e1f171fd3bf6", "3e893f73d829ffa4b995c2f724432e05070e9e67"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 2, "deletions": 2, "lines": 4, "gitFilesChange": 2}, "spoonStatsSummary": {"TOT": 4, "UPD": 2, "INS": 2, "MOV": 0, "DEL": 0, "spoonFilesChanged": 4, "spoonMethodsChanged": 4}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/session", "src/main/java/org/apache/ibatis/builder/xml"], "changesInPackagesSPOON": ["org.apache.ibatis.submitted.lazy_properties", "org.apache.ibatis.submitted.lazy_properties.User", "org.apache.ibatis.session.Configuration", "org.apache.ibatis.builder.xml.XMLConfigBuilder.settingsElement(java.util.Properties)"]}, {"title": "NPE when ResultSet is null", "body": "In the DefaultResultSetHandler, where rs is null (Oracle returns null RS in certain cases), a nasty NP exception is thrown (in the ResultSetWrapper) below:\n\nprivate void handleRefCursorOutputParameter(ResultSet rs, ParameterMapping parameterMapping, MetaObject metaParam) throws SQLException {\n    try {\n      final String resultMapId = parameterMapping.getResultMapId();\n      final ResultMap resultMap = configuration.getResultMap(resultMapId);\n      final DefaultResultHandler resultHandler = new DefaultResultHandler(objectFactory);\n      final ResultSetWrapper rsw = new ResultSetWrapper(rs, configuration);\n      handleRowValues(rsw, resultMap, resultHandler, new RowBounds(), null);\n      metaParam.setValue(parameterMapping.getProperty(), resultHandler.getResultList());\n    } finally {\n      // issue #228 (close resultsets)\n      closeResultSet(rs);\n    }\n  }\n\nIt would be nice to have a check, something like:\n if (rs != null) {\n                final ResultSetWrapper rsw = new ResultSetWrapper(rs, configuration);\n                handleRowValues(rsw, resultMap, rh, new RowBounds(), null);\n            }\n\nPlease fix or suggest a workaround - this really makes it impossible for us to use mybatis.\n", "url": "https://github.com/mybatis/mybatis-3/issues/492", "user": "vladchuk", "labels": ["bug"], "created": "2015-10-16 23:00:18", "closed": "2015-11-12 18:50:51", "commits": {"2d6aed5d3d0cb0dd1290cf520dfdc52d89e63b3f": {"commitGHEventType": "closed", "commitUser": "harawata"}, "610e55290768d80ee6cb5401db2fe7ae81987709": {"commitGHEventType": "referenced", "commitUser": "harawata"}, "1edff06bb46c518c88d4a8979caa0064ee39ce3d": {"commitGHEventType": "referenced", "commitUser": "harawata"}}, "ttf": 26.00027777777778, "commitsDetails": [{"commitHash": "2d6aed5d3d0cb0dd1290cf520dfdc52d89e63b3f", "commitGHEventType": "closed", "commitUser": "harawata", "commitParents": ["acf6b368b11c5184c6c6ad893845157dc2e8ea4a"], "nameRev": "2d6aed5d3d0cb0dd1290cf520dfdc52d89e63b3f tags/mybatis-3.4.0~115", "commitMessage": "fixes #492 Avoid NPE when CallableStatement#getObject(int parameterIndex) returned null.\n", "commitDateTime": "2015-11-13 03:49:19", "authoredDateTime": "2015-11-13 03:49:19", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/executor/resultset/DefaultResultSetHandler.java", "insertions": 3, "deletions": 0, "lines": 3}], "commitSpoonAstDiffStats": [{"spoonFilePath": "DefaultResultSetHandler.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleRefCursorOutputParameter(java.sql.ResultSet,org.apache.ibatis.mapping.ParameterMapping,org.apache.ibatis.reflection.MetaObject)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "610e55290768d80ee6cb5401db2fe7ae81987709", "commitGHEventType": "referenced", "commitUser": "harawata", "commitParents": ["42209f2347f9ab441122dfb5a0084b1ff9835b35"], "nameRev": "610e55290768d80ee6cb5401db2fe7ae81987709 tags/mybatis-3.3.1~14", "commitMessage": "fixes #492 Avoid NPE when CallableStatement#getObject(int parameterIndex) returned null.\n", "commitDateTime": "2016-02-03 21:20:50", "authoredDateTime": "2015-11-13 03:49:19", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/executor/resultset/DefaultResultSetHandler.java", "insertions": 3, "deletions": 0, "lines": 3}], "commitSpoonAstDiffStats": [{"spoonFilePath": "DefaultResultSetHandler.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleRefCursorOutputParameter(java.sql.ResultSet,org.apache.ibatis.mapping.ParameterMapping,org.apache.ibatis.reflection.MetaObject)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "1edff06bb46c518c88d4a8979caa0064ee39ce3d", "commitGHEventType": "referenced", "commitUser": "harawata", "commitParents": ["cfa087452229f66bcdaeecb67b6dc2490742ee33"], "nameRev": "1edff06bb46c518c88d4a8979caa0064ee39ce3d tags/mybatis-3.4.6~29", "commitMessage": "refs #492 Added a test case. Thanks to Erwan Letessier.\nhttps://groups.google.com/d/msg/mybatis-user/dqHzZjyZ4zo/E50uPsCgAQAJ\n", "commitDateTime": "2017-11-15 03:37:13", "authoredDateTime": "2017-11-15 03:35:50", "commitGitStats": [{"filePath": "src/test/java/org/apache/ibatis/submitted/usesjava8/refcursor/CreateDB.sql", "insertions": 6, "deletions": 1, "lines": 7}, {"filePath": "src/test/java/org/apache/ibatis/submitted/usesjava8/refcursor/RefCursorTest.java", "insertions": 16, "deletions": 0, "lines": 16}], "commitSpoonAstDiffStats": [{"spoonFilePath": "RefCursorTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.usesjava8.refcursor.RefCursorTest.shouldNullResultSetNotCauseNpe()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["2d6aed5d3d0cb0dd1290cf520dfdc52d89e63b3f", "1edff06bb46c518c88d4a8979caa0064ee39ce3d"], "filteredCommitsReason": {"duplicated": 1, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 3, "deletions": 0, "lines": 3, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0, "spoonFilesChanged": 1, "spoonMethodsChanged": 1}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/executor/resultset"], "changesInPackagesSPOON": ["org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleRefCursorOutputParameter(java.sql.ResultSet,org.apache.ibatis.mapping.ParameterMapping,org.apache.ibatis.reflection.MetaObject)"]}, {"title": "Objects instantiated when all fields in a ResultMap are null", "body": "Empty objects are instantiated when all fields in a ResultMap are null and an ID tag is present, regardless of whether that defined ID is mapped to a property.\n\nConsider the following ResultMap definition:\n\n```\n<resultMap id=\"employeesInEstablishment\" type=\"Person\">\n    <id column=\"establishment_id\"/>\n    <result property=\"firstName\"  column=\"owner_first_name\" />\n    <result property=\"lastName\"  column=\"owner_last_name\" />\n</resultMap>\n```\n\nThis result map has a 1-many relationship with an Establishment, which has an establishment ID. The select statement and result maps are much more complex than this, but I am trying to simplify the issue down to what I believe to be the root cause.\n\nWhen retrieving establishment results, regardless of dealing with an association or collection, I end up with empty objects within my Establishment, even if, in the example above, first and last name columns are null. \n\nWhen the ID tag is removed, this behavior does not occur, but after profiling the application, the number of invocations on resultSet.getString literally doubles, from ~11k to ~26k. \n\nIt would make sense for MyBatis to ignore IDs that are not mapped to a property within the associated resultMap type's object, when deciding to instantiate the object or not. This would allow for mapping to be optimized while avoiding instantiation of empty objects, which later causes serialization issues to json.\n", "url": "https://github.com/mybatis/mybatis-3/issues/421", "user": "jpeffer", "labels": ["bug"], "created": "2015-06-10 01:43:21", "closed": "2016-01-16 17:45:39", "commits": {"8b713041908ab9af083336a96bb44c9f09db4972": {"commitGHEventType": "referenced", "commitUser": "emacarron"}, "45d35e5367103b441efd94192258176d6279b3db": {"commitGHEventType": "closed", "commitUser": "emacarron"}, "ff8db5c314a598564cb5bafb62db6dbbcd5699bb": {"commitGHEventType": "referenced", "commitUser": "emacarron"}}, "ttf": 220.00027777777777, "commitsDetails": [{"commitHash": "8b713041908ab9af083336a96bb44c9f09db4972", "commitGHEventType": "referenced", "commitUser": "emacarron", "commitParents": ["2d6aed5d3d0cb0dd1290cf520dfdc52d89e63b3f"], "nameRev": "8b713041908ab9af083336a96bb44c9f09db4972 tags/mybatis-3.4.0~114", "commitMessage": "Test case for #421", "commitDateTime": "2015-12-05 08:07:02", "authoredDateTime": "2015-12-05 08:07:02", "commitGitStats": [{"filePath": "src/test/java/org/apache/ibatis/submitted/emptycollection/Dao.java", "insertions": 9, "deletions": 0, "lines": 9}, {"filePath": "src/test/java/org/apache/ibatis/submitted/emptycollection/Dao.xml", "insertions": 39, "deletions": 0, "lines": 39}, {"filePath": "src/test/java/org/apache/ibatis/submitted/emptycollection/DaoTest.java", "insertions": 84, "deletions": 0, "lines": 84}, {"filePath": "src/test/java/org/apache/ibatis/submitted/emptycollection/TodoItem.java", "insertions": 29, "deletions": 0, "lines": 29}, {"filePath": "src/test/java/org/apache/ibatis/submitted/emptycollection/TodoLists.java", "insertions": 32, "deletions": 0, "lines": 32}, {"filePath": "src/test/java/org/apache/ibatis/submitted/emptycollection/mybatis-config.xml", "insertions": 21, "deletions": 0, "lines": 21}], "commitSpoonAstDiffStats": [{"spoonFilePath": "Dao.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.emptycollection", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "DaoTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.emptycollection.DaoTest", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "TodoItem.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.emptycollection.TodoItem", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "TodoLists.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.emptycollection.TodoLists", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "45d35e5367103b441efd94192258176d6279b3db", "commitGHEventType": "closed", "commitUser": "emacarron", "commitParents": ["249246753d98493162cdc41620a44a356305a4d5"], "nameRev": "45d35e5367103b441efd94192258176d6279b3db tags/mybatis-3.4.0~94", "commitMessage": "Fixes #421. Empty collection was being created when no property is set", "commitDateTime": "2016-01-16 18:45:29", "authoredDateTime": "2016-01-16 18:45:29", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/executor/resultset/DefaultResultSetHandler.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/org/apache/ibatis/submitted/emptycollection/DaoTest.java", "insertions": 2, "deletions": 2, "lines": 4}], "commitSpoonAstDiffStats": [{"spoonFilePath": "DefaultResultSetHandler.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.applyPropertyMappings(org.apache.ibatis.executor.resultset.ResultSetWrapper,org.apache.ibatis.mapping.ResultMap,org.apache.ibatis.reflection.MetaObject,org.apache.ibatis.executor.loader.ResultLoaderMap,java.lang.String)", "TOT": 2, "UPD": 0, "INS": 1, "MOV": 1, "DEL": 0}]}, {"spoonFilePath": "DaoTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.emptycollection.DaoTest.testWithEmptyList()", "TOT": 2, "UPD": 0, "INS": 2, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "ff8db5c314a598564cb5bafb62db6dbbcd5699bb", "commitGHEventType": "referenced", "commitUser": "emacarron", "commitParents": ["95895546e6ac57d466c4915c233f36c980075f35"], "nameRev": "ff8db5c314a598564cb5bafb62db6dbbcd5699bb tags/mybatis-3.3.1~5", "commitMessage": "#421 Merged into 3.3.x branch", "commitDateTime": "2016-02-10 22:05:30", "authoredDateTime": "2016-02-10 22:05:30", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/executor/resultset/DefaultResultSetHandler.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/org/apache/ibatis/submitted/emptycollection/Dao.java", "insertions": 24, "deletions": 0, "lines": 24}, {"filePath": "src/test/java/org/apache/ibatis/submitted/emptycollection/Dao.xml", "insertions": 39, "deletions": 0, "lines": 39}, {"filePath": "src/test/java/org/apache/ibatis/submitted/emptycollection/DaoTest.java", "insertions": 93, "deletions": 0, "lines": 93}, {"filePath": "src/test/java/org/apache/ibatis/submitted/emptycollection/TodoItem.java", "insertions": 44, "deletions": 0, "lines": 44}, {"filePath": "src/test/java/org/apache/ibatis/submitted/emptycollection/TodoLists.java", "insertions": 47, "deletions": 0, "lines": 47}, {"filePath": "src/test/java/org/apache/ibatis/submitted/emptycollection/mybatis-config.xml", "insertions": 21, "deletions": 0, "lines": 21}], "commitSpoonAstDiffStats": [{"spoonFilePath": "DefaultResultSetHandler.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.applyPropertyMappings(org.apache.ibatis.executor.resultset.ResultSetWrapper,org.apache.ibatis.mapping.ResultMap,org.apache.ibatis.reflection.MetaObject,org.apache.ibatis.executor.loader.ResultLoaderMap,java.lang.String)", "TOT": 2, "UPD": 0, "INS": 1, "MOV": 1, "DEL": 0}]}, {"spoonFilePath": "Dao.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.emptycollection", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "DaoTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.emptycollection.DaoTest", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "TodoItem.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.emptycollection.TodoItem", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "TodoLists.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.emptycollection.TodoLists", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["8b713041908ab9af083336a96bb44c9f09db4972", "45d35e5367103b441efd94192258176d6279b3db", "ff8db5c314a598564cb5bafb62db6dbbcd5699bb"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 2, "gitStatsSummary": {"insertions": 2, "deletions": 2, "lines": 4, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 10, "UPD": 0, "INS": 8, "MOV": 2, "DEL": 0, "spoonFilesChanged": 4, "spoonMethodsChanged": 4}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/executor/resultset"], "changesInPackagesSPOON": ["org.apache.ibatis.submitted.emptycollection.TodoLists", "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.applyPropertyMappings(org.apache.ibatis.executor.resultset.ResultSetWrapper,org.apache.ibatis.mapping.ResultMap,org.apache.ibatis.reflection.MetaObject,org.apache.ibatis.executor.loader.ResultLoaderMap,java.lang.String)", "org.apache.ibatis.submitted.emptycollection", "org.apache.ibatis.submitted.emptycollection.TodoItem"]}, {"title": "callSettersOnNulls=true doesn't work in version 3.3.0 anymore", "body": "Since Version 3.3.0 mybatis doen't set Null-Value in an association-structure. \n\nPlease see here https://github.com/rsiggi/callSettersOnNulls-test \n\nmvn test \nVersion 3.2.8 Test is ok \nVersion 3.3.0 Test failed.\n", "url": "https://github.com/mybatis/mybatis-3/issues/420", "user": "rsiggi", "labels": ["bug", "wontfix"], "created": "2015-06-09 14:05:56", "closed": "2016-01-17 17:31:46", "commits": {"3e56f5d7a06f40ad08a1ce3d02e5923123e39403": {"commitGHEventType": "referenced", "commitUser": "emacarron"}}, "ttf": 222.00027777777777, "commitsDetails": [{"commitHash": "3e56f5d7a06f40ad08a1ce3d02e5923123e39403", "commitGHEventType": "referenced", "commitUser": "emacarron", "commitParents": ["ab65255f287163abc8c22023cf45f0e22518bdc5"], "nameRev": "3e56f5d7a06f40ad08a1ce3d02e5923123e39403 tags/mybatis-3.4.0~92", "commitMessage": "Test for discussion about issue #420. ", "commitDateTime": "2016-01-17 18:22:57", "authoredDateTime": "2016-01-17 18:22:57", "commitGitStats": [{"filePath": "src/test/java/org/apache/ibatis/submitted/call_setters_on_nulls_again/ChildBean.java", "insertions": 56, "deletions": 0, "lines": 56}, {"filePath": "src/test/java/org/apache/ibatis/submitted/call_setters_on_nulls_again/MyBatisTest.java", "insertions": 53, "deletions": 0, "lines": 53}, {"filePath": "src/test/java/org/apache/ibatis/submitted/call_setters_on_nulls_again/ParentBean.java", "insertions": 45, "deletions": 0, "lines": 45}, {"filePath": "src/test/java/org/apache/ibatis/submitted/call_setters_on_nulls_again/mapper.xml", "insertions": 19, "deletions": 0, "lines": 19}, {"filePath": "src/test/java/org/apache/ibatis/submitted/call_setters_on_nulls_again/mybatis-config.xml", "insertions": 44, "deletions": 0, "lines": 44}], "commitSpoonAstDiffStats": [{"spoonFilePath": "ChildBean.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.call_setters_on_nulls_again.ChildBean", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "MyBatisTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.call_setters_on_nulls_again.MyBatisTest", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "ParentBean.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.call_setters_on_nulls_again.ParentBean", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["3e56f5d7a06f40ad08a1ce3d02e5923123e39403"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 0, "gitStatsSummary": {"insertions": 0, "deletions": 0, "lines": 0, "gitFilesChange": 0}, "spoonStatsSummary": {"TOT": 2, "UPD": 0, "INS": 2, "MOV": 0, "DEL": 0, "spoonFilesChanged": 2, "spoonMethodsChanged": 2}, "statsSkippedReason": "", "changesInPackagesGIT": [], "changesInPackagesSPOON": ["org.apache.ibatis.submitted.call_setters_on_nulls_again.ParentBean", "org.apache.ibatis.submitted.call_setters_on_nulls_again.ChildBean"]}, {"title": "Need explicitly configure flushCache manully once using the Options annotation", "body": "The default behavior of Insert annotation will flush 2nd cache.\n\n``` java\n@Insert(\"insert into person (id, firstname, lastname) values (#{id}, #{firstname}, #{lastname})\")\npublic void create(Person person);\n```\n\nBut after add something like, it didn't work\n\n``` java\n// file org.apache.ibatis.submitted.cache.PersonMapper\n@Insert(\"insert into person (id, firstname, lastname) values (#{id}, #{firstname}, #{lastname})\")\n@Options(useGeneratedKeys = true, keyProperty=\"id\")\npublic void create(Person person);\n```\n\ntest case is below\n\n``` java\n  /*\n   * Test Plan with Autocommit on:\n   *  1) SqlSession 1 executes \"select * from A\".\n   *  2) SqlSession 1 closes.\n   *  3) SqlSession 2 executes \"insert into person (id, firstname, lastname) values (3, hello, world)\"\n   *  4) SqlSession 2 closes.\n   *  5) SqlSession 3 executes \"select * from A\".\n   *  6) SqlSession 3 closes.\n   *\n   * Assert:\n   *   Step 6 returns 3 row.\n   *   But actual is 2, case fail, cache didn't flush!\n   *   If didn't use Options it works though\n   */\n  @Test\n  public void testplan4WithOptions() {\n    try( SqlSession sqlSession1 = sqlSessionFactory.openSession(true)) {\n      PersonMapper pm = sqlSession1.getMapper(PersonMapper.class);\n      Assert.assertEquals(2, pm.findAll().size());\n    }\n\n    try ( SqlSession sqlSession2 = sqlSessionFactory.openSession(true)) {\n      PersonMapper pm = sqlSession2.getMapper(PersonMapper.class);\n      Person p = new Person(3, \"hello\", \"world\");\n      pm.create(p);\n    }\n\n    try ( SqlSession sqlSession3 = sqlSessionFactory.openSession(true)) {\n      PersonMapper pm = sqlSession3.getMapper(PersonMapper.class);\n      Assert.assertEquals(3, pm.findAll().size());\n    }\n  }\n```\n\nI think it's because the default value of flushCache in Options is false which causing this problem, \n\n``` java\npublic @interface Options {\n    boolean flushCache() default false;\n    // omit other....\n}\n```\n\nWouldn't it be better if flushCache is separate in Select, Insert, Update, Delete, like this, similar to the\nxml config\n\n``` java\npublic @interface Select {\n    boolean useCache() default true;\n\n    boolean flushCache() default false;\n}\n\npublic @interface Insert {\n    boolean flushCache() default true;\n}\n\npublic @interface Update {\n    boolean flushCache() default true;\n}\n\npublic @interface Delete {\n    boolean flushCache() default true;\n}\n```\n", "url": "https://github.com/mybatis/mybatis-3/issues/405", "user": "Alwayswithme", "labels": ["bug"], "created": "2015-05-09 17:09:53", "closed": "2016-01-27 16:41:51", "commits": {"283d91e195d6d7286ce03765c4ace82639101f78": {"commitGHEventType": "closed", "commitUser": "harawata"}}, "ttf": 262.0002777777778, "commitsDetails": [{"commitHash": "283d91e195d6d7286ce03765c4ace82639101f78", "commitGHEventType": "closed", "commitUser": "harawata", "commitParents": ["4f7af7742e1b1a8db87a1497e3d0d71934af578f"], "nameRev": "283d91e195d6d7286ce03765c4ace82639101f78 tags/mybatis-3.4.0~86", "commitMessage": "fixes #405 Changed the type of flushCache in @Options from boolean to enum FlushCachePolicy.\n", "commitDateTime": "2016-01-28 01:41:24", "authoredDateTime": "2016-01-28 01:36:30", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/annotations/Options.java", "insertions": 14, "deletions": 1, "lines": 15}, {"filePath": "src/main/java/org/apache/ibatis/builder/annotation/MapperAnnotationBuilder.java", "insertions": 6, "deletions": 1, "lines": 7}, {"filePath": "src/site/es/xdoc/java-api.xml", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/site/ja/xdoc/java-api.xml", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/site/ko/xdoc/java-api.xml", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/site/xdoc/java-api.xml", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/site/zh/xdoc/java-api.xml", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/org/apache/ibatis/submitted/cache/CacheTest.java", "insertions": 92, "deletions": 0, "lines": 92}, {"filePath": "src/test/java/org/apache/ibatis/submitted/cache/PersonMapper.java", "insertions": 14, "deletions": 0, "lines": 14}], "commitSpoonAstDiffStats": [{"spoonFilePath": "Options.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.annotations.flushCache()", "TOT": 3, "UPD": 1, "INS": 1, "MOV": 0, "DEL": 1}, {"spoonMethodName": "org.apache.ibatis.annotations.FlushCachePolicy", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "MapperAnnotationBuilder.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.builder.annotation.MapperAnnotationBuilder.parseStatement(java.lang.reflect.Method)", "TOT": 4, "UPD": 0, "INS": 2, "MOV": 2, "DEL": 0}]}, {"spoonFilePath": "CacheTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.cache.CacheTest.shouldInsertWithOptionsFlushesCache()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.submitted.cache.CacheTest.shouldApplyFlushCacheOptions()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "PersonMapper.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.cache.createWithOptions(org.apache.ibatis.submitted.cache.Person)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.submitted.cache.createWithoutFlushCache(org.apache.ibatis.submitted.cache.Person)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.submitted.cache.findWithFlushCache()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["283d91e195d6d7286ce03765c4ace82639101f78"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 20, "deletions": 2, "lines": 22, "gitFilesChange": 2}, "spoonStatsSummary": {"TOT": 11, "UPD": 1, "INS": 7, "MOV": 2, "DEL": 1, "spoonFilesChanged": 3, "spoonMethodsChanged": 6}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/annotations", "src/main/java/org/apache/ibatis/builder/annotation"], "changesInPackagesSPOON": ["org.apache.ibatis.builder.annotation.MapperAnnotationBuilder.parseStatement(java.lang.reflect.Method)", "org.apache.ibatis.submitted.cache.createWithOptions(org.apache.ibatis.submitted.cache.Person)", "org.apache.ibatis.submitted.cache.createWithoutFlushCache(org.apache.ibatis.submitted.cache.Person)", "org.apache.ibatis.annotations.FlushCachePolicy", "org.apache.ibatis.annotations.flushCache()", "org.apache.ibatis.submitted.cache.findWithFlushCache()"]}, {"title": "IllegalArgumentException in resultMap that contains a collection with javaType List", "body": "I ran into this exception when upgrading from MyBatis 3.1.1 to 3.2.8, and verified that it was introduced in 3.2.0 (in the sense that our code worked in 3.1.1 but not in 3.2.0 or any subsequent version).  The exception occurs as a result of a resultMap that has a collection of javaType List.  In our codebase, we have a parent-child relationship in which the parent has a List of the children, and each child has a reference back to its parent.\n\nI've managed to reproduce this for a very small case, here are my source files:\n\n```\npackage bringrags;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class SimpleObject {\n\n    public SimpleObject(String id) {\n        this.id = id;\n        this.simpleChildObjects = new ArrayList<SimpleChildObject>();\n    }\n\n    public String getId() {\n        return id;\n    }\n\n    public List<SimpleChildObject> getSimpleChildObjects() {\n        return simpleChildObjects;\n    }\n\n    private String id;\n    private List<SimpleChildObject> simpleChildObjects;\n}\n```\n\n```\npackage bringrags;\n\npublic class SimpleChildObject {\n\n    public SimpleChildObject(String id) {\n        this.id = id;\n    }\n\n    public String getId() {\n        return id;\n    }\n\n    public SimpleObject getSimpleObject() {\n        return parentSimpleObject;\n    }\n\n    private String id;\n    private SimpleObject parentSimpleObject;\n}\n\n```\n\n```\npackage bringrags;\n\npublic interface SimpleChildObjectMapper {\n    SimpleChildObject getSimpleChildObjectById(String id);\n}\n```\n\nAnd the mapper config files (and POM file):\n\n```\n<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n<!DOCTYPE configuration\n        PUBLIC \"-//mybatis.org//DTD Config 3.0//EN\"\n        \"http://mybatis.org/dtd/mybatis-3-config.dtd\">\n<configuration>\n    <environments default=\"DEV\">\n        <environment id=\"DEV\">\n            <transactionManager type=\"JDBC\">\n                <property name=\"\" value=\"\" />\n            </transactionManager>\n            <dataSource type=\"UNPOOLED\">\n                <property name=\"driver\" value=\"org.hsqldb.jdbcDriver\" />\n                <property name=\"url\" value=\"jdbc:hsqldb:mem:foreach\" />\n                <property name=\"username\" value=\"bringrags\" />\n            </dataSource>\n        </environment>\n    </environments>\n    <mappers>\n        <mapper resource=\"bringrags/SimpleChildObjectMapper.xml\" />\n        <mapper resource=\"bringrags/SharedResultMaps.xml\" />\n    </mappers>\n</configuration>\n```\n\n```\n<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n<!DOCTYPE mapper\n    PUBLIC \"-//mybatis.org//DTD Mapper 3.0//EN\"\n    \"http://mybatis.org/dtd/mybatis-3-mapper.dtd\">\n\n<mapper namespace=\"bringrags.SharedResultMaps\">\n\n    <resultMap id=\"SimpleChildObjectMap\" type=\"bringrags.SimpleChildObject\">\n        <constructor>\n            <idArg column=\"sco_id\" javaType=\"String\" />\n        </constructor>\n        <association property=\"parentSimpleObject\" resultMap=\"SimpleObjectMap\" />\n    </resultMap>\n\n    <resultMap id=\"SimpleObjectMap\" type=\"bringrags.SimpleObject\">\n        <constructor>\n            <idArg column=\"so_id\" javaType=\"String\" />\n        </constructor>\n        <collection property=\"simpleChildObjects\" javaType=\"List\"\n            ofType=\"bringrags.SimpleChildObject\" resultMap=\"SimpleChildObjectMap\" />\n    </resultMap>\n\n</mapper>\n```\n\n```\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<!DOCTYPE mapper PUBLIC \"-//mybatis.org//DTD Mapper 3.0//EN\" \"http://mybatis.org/dtd/mybatis-3-mapper.dtd\">\n\n<mapper namespace=\"bringrags.SimpleChildObjectMapper\">\n\n    <select id=\"getSimpleChildObjectById\" resultMap=\"bringrags.SharedResultMaps.SimpleChildObjectMap\">\n        SELECT SimpleChildObject.id as sco_id, SimpleObject.id as so_id FROM SimpleChildObject\n        LEFT JOIN SimpleObject ON SimpleChildObject.simple_object_id=SimpleObject.id\n        WHERE SimpleChildObject.id=#{id}\n    </select>\n\n</mapper>\n```\n\n```\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n    <modelVersion>4.0.0</modelVersion>\n\n    <groupId>mybatis-test</groupId>\n    <artifactId>mybatis-test</artifactId>\n    <version>1.0-SNAPSHOT</version>\n\n    <build>\n        <plugins>\n            <plugin>\n                <groupId>org.apache.maven.plugins</groupId>\n                <artifactId>maven-compiler-plugin</artifactId>\n                <version>3.2</version>\n                <configuration>\n                    <source>1.6</source>\n                    <target>1.6</target>\n                </configuration>\n            </plugin>\n        </plugins>\n    </build>\n\n    <dependencies>\n        <dependency>\n            <groupId>org.mybatis</groupId>\n            <artifactId>mybatis</artifactId>\n            <version>3.2.8</version>\n        </dependency>\n        <dependency>\n            <groupId>org.hsqldb</groupId>\n            <artifactId>hsqldb</artifactId>\n            <version>2.3.2</version>\n            <scope>test</scope>\n        </dependency>\n        <dependency>\n            <groupId>org.testng</groupId>\n            <artifactId>testng</artifactId>\n            <version>6.4</version>\n            <scope>test</scope>\n        </dependency>\n    </dependencies>\n</project>\n```\n\nHere is the test case that fails:\n\n```\npackage bringrags;\n\nimport static org.testng.Assert.assertNotNull;\n\nimport java.io.Reader;\nimport java.io.StringReader;\nimport java.sql.Connection;\n\nimport org.apache.ibatis.io.Resources;\nimport org.apache.ibatis.jdbc.ScriptRunner;\nimport org.apache.ibatis.session.SqlSession;\nimport org.apache.ibatis.session.SqlSessionFactory;\nimport org.apache.ibatis.session.SqlSessionFactoryBuilder;\nimport org.testng.annotations.AfterMethod;\nimport org.testng.annotations.BeforeMethod;\nimport org.testng.annotations.Test;\n\nimport bringrags.SimpleChildObject;\nimport bringrags.SimpleChildObjectMapper;\n\npublic class SimpleObjectTest {\n    private SimpleChildObjectMapper simpleChildObjectMapper;\n    private SqlSession sqlSession;\n\n    @BeforeMethod\n    public void setUp() throws Exception {\n        Reader reader = Resources.getResourceAsReader(\"bringrags/mybatis-config.xml\");\n        SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(reader);\n        reader.close();\n\n        sqlSession = sqlSessionFactory.openSession();\n        Connection conn = sqlSession.getConnection();\n        ScriptRunner runner = new ScriptRunner(conn);\n        runner.setLogWriter(null);\n        runner.runScript(new StringReader(\"DROP TABLE IF EXISTS SimpleObject;\"));\n        runner.runScript(new StringReader(\"DROP TABLE IF EXISTS SimpleChildObject;\"));\n        runner.runScript(new StringReader(\"CREATE TABLE SimpleObject (id VARCHAR(5) NOT NULL);\"));\n        runner.runScript(new StringReader(\n                \"CREATE TABLE SimpleChildObject (id VARCHAR(5) NOT NULL, simple_object_id VARCHAR(5) NOT NULL);\"));\n        runner.runScript(new StringReader(\"INSERT INTO SimpleObject (id) values ('10000');\"));\n        runner.runScript(new StringReader(\n                \"INSERT INTO SimpleChildObject (id, simple_object_id) values ('20000', '10000');\"));\n        reader.close();\n        simpleChildObjectMapper = (SimpleChildObjectMapper) sqlSession.getMapper(SimpleChildObjectMapper.class);\n    }\n\n    @AfterMethod\n    public void tearDown() throws Exception {\n        sqlSession.close();\n    }\n\n    @Test\n    public void testGetById() throws Exception {\n        SimpleChildObject sc = simpleChildObjectMapper.getSimpleChildObjectById(\"20000\");\n        assertNotNull(sc);\n        assertNotNull(sc.getSimpleObject());\n    }\n}\n```\n\nAnd here's the exception that I get:\n\n```\nFAILED: testGetById\norg.apache.ibatis.exceptions.PersistenceException: \n### Error querying database.  Cause: org.apache.ibatis.reflection.ReflectionException: Could not set property 'simpleChildObjects' of 'class bringrags.SimpleObject' with value 'bringrags.SimpleChildObject@65dcc2a3' Cause: java.lang.IllegalArgumentException: Can not set java.util.List field bringrags.SimpleObject.simpleChildObjects to bringrags.SimpleChildObject\n### The error may exist in bringrags/SimpleChildObjectMapper.xml\n### The error may involve bringrags.SimpleChildObjectMapper.getSimpleChildObjectById\n### The error occurred while handling results\n### SQL: SELECT SimpleChildObject.id as sco_id, SimpleObject.id as so_id FROM SimpleChildObject   LEFT JOIN SimpleObject ON SimpleChildObject.simple_object_id=SimpleObject.id   WHERE SimpleChildObject.id=?\n### Cause: org.apache.ibatis.reflection.ReflectionException: Could not set property 'simpleChildObjects' of 'class bringrags.SimpleObject' with value 'bringrags.SimpleChildObject@65dcc2a3' Cause: java.lang.IllegalArgumentException: Can not set java.util.List field bringrags.SimpleObject.simpleChildObjects to bringrags.SimpleChildObject\n    at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:26)\n    at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:111)\n    at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:102)\n    at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:66)\n    at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:68)\n    at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:52)\n    at com.sun.proxy.$Proxy7.getSimpleChildObjectById(Unknown Source)\n    at bringrags.SimpleObjectTest.testGetById(SimpleObjectTest.java:54)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:84)\n    at org.testng.internal.Invoker.invokeMethod(Invoker.java:714)\n    at org.testng.internal.Invoker.invokeTestMethod(Invoker.java:901)\n    at org.testng.internal.Invoker.invokeTestMethods(Invoker.java:1231)\n    at org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:127)\n    at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:111)\n    at org.testng.TestRunner.privateRun(TestRunner.java:767)\n    at org.testng.TestRunner.run(TestRunner.java:617)\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:334)\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:329)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:291)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:240)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1224)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1149)\n    at org.testng.TestNG.run(TestNG.java:1057)\n    at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:111)\n    at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:204)\n    at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:175)\nCaused by: org.apache.ibatis.reflection.ReflectionException: Could not set property 'simpleChildObjects' of 'class bringrags.SimpleObject' with value 'bringrags.SimpleChildObject@65dcc2a3' Cause: java.lang.IllegalArgumentException: Can not set java.util.List field bringrags.SimpleObject.simpleChildObjects to bringrags.SimpleChildObject\n    at org.apache.ibatis.reflection.wrapper.BeanWrapper.setBeanProperty(BeanWrapper.java:175)\n    at org.apache.ibatis.reflection.wrapper.BeanWrapper.set(BeanWrapper.java:57)\n    at org.apache.ibatis.reflection.MetaObject.setValue(MetaObject.java:133)\n    at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.applyNestedResultMappings(DefaultResultSetHandler.java:794)\n    at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.getRowValue(DefaultResultSetHandler.java:758)\n    at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.applyNestedResultMappings(DefaultResultSetHandler.java:802)\n    at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.getRowValue(DefaultResultSetHandler.java:758)\n    at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleRowValuesForNestedResultMap(DefaultResultSetHandler.java:724)\n    at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleRowValues(DefaultResultSetHandler.java:267)\n    at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleResultSet(DefaultResultSetHandler.java:239)\n    at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleResultSets(DefaultResultSetHandler.java:153)\n    at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:60)\n    at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:73)\n    at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:60)\n    at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:267)\n    at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:137)\n    at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:96)\n    at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:77)\n    at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:108)\n    ... 30 more\nCaused by: java.lang.IllegalArgumentException: Can not set java.util.List field bringrags.SimpleObject.simpleChildObjects to bringrags.SimpleChildObject\n    at sun.reflect.UnsafeFieldAccessorImpl.throwSetIllegalArgumentException(UnsafeFieldAccessorImpl.java:146)\n    at sun.reflect.UnsafeFieldAccessorImpl.throwSetIllegalArgumentException(UnsafeFieldAccessorImpl.java:150)\n    at sun.reflect.UnsafeObjectFieldAccessorImpl.set(UnsafeObjectFieldAccessorImpl.java:63)\n    at java.lang.reflect.Field.set(Field.java:657)\n    at org.apache.ibatis.reflection.invoker.SetFieldInvoker.invoke(SetFieldInvoker.java:32)\n    at org.apache.ibatis.reflection.wrapper.BeanWrapper.setBeanProperty(BeanWrapper.java:170)\n    ... 48 more\n```\n", "url": "https://github.com/mybatis/mybatis-3/issues/385", "user": "bringrags", "labels": ["bug"], "created": "2015-04-13 21:11:31", "closed": "2015-04-25 05:48:44", "commits": {"1d44216d87a0f6a123c3e11bea1e5c0e1a0a2d0d": {"commitGHEventType": "referenced", "commitUser": "emacarron"}}, "ttf": 11.000277777777777, "commitsDetails": [{"commitHash": "1d44216d87a0f6a123c3e11bea1e5c0e1a0a2d0d", "commitGHEventType": "referenced", "commitUser": "emacarron", "commitParents": ["9c1bfa6725b3d80d6cf99be925775b6dd84213b8"], "nameRev": "1d44216d87a0f6a123c3e11bea1e5c0e1a0a2d0d tags/mybatis-3.3.0~14", "commitMessage": "Fix for issue #385. ", "commitDateTime": "2015-04-25 07:38:34", "authoredDateTime": "2015-04-25 07:38:34", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/executor/resultset/DefaultResultSetHandler.java", "insertions": 38, "deletions": 41, "lines": 79}, {"filePath": "src/test/java/org/apache/ibatis/submitted/bringrags/SimpleChildObject.java", "insertions": 20, "deletions": 0, "lines": 20}, {"filePath": "src/test/java/org/apache/ibatis/submitted/bringrags/SimpleChildObjectMapper.java", "insertions": 5, "deletions": 0, "lines": 5}, {"filePath": "src/test/java/org/apache/ibatis/submitted/bringrags/SimpleChildObjectMapper.xml", "insertions": 43, "deletions": 0, "lines": 43}, {"filePath": "src/test/java/org/apache/ibatis/submitted/bringrags/SimpleObject.java", "insertions": 24, "deletions": 0, "lines": 24}, {"filePath": "src/test/java/org/apache/ibatis/submitted/bringrags/SimpleObjectTest.java", "insertions": 53, "deletions": 0, "lines": 53}, {"filePath": "src/test/java/org/apache/ibatis/submitted/bringrags/mybatis-config.xml", "insertions": 40, "deletions": 0, "lines": 40}], "commitSpoonAstDiffStats": [{"spoonFilePath": "DefaultResultSetHandler.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.linkToParents(java.sql.ResultSet,org.apache.ibatis.mapping.ResultMapping,java.lang.Object)", "TOT": 12, "UPD": 2, "INS": 2, "MOV": 5, "DEL": 3}, {"spoonMethodName": "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.applyNestedResultMappings(org.apache.ibatis.executor.resultset.ResultSetWrapper,org.apache.ibatis.mapping.ResultMap,org.apache.ibatis.reflection.MetaObject,java.lang.String,org.apache.ibatis.cache.CacheKey,boolean)", "TOT": 6, "UPD": 1, "INS": 2, "MOV": 3, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.linkObjects(org.apache.ibatis.reflection.MetaObject,org.apache.ibatis.mapping.ResultMapping,java.lang.Object)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.instantiateCollectionPropertyIfAppropriate(org.apache.ibatis.mapping.ResultMapping,org.apache.ibatis.reflection.MetaObject)", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 1, "DEL": 0}]}, {"spoonFilePath": "SimpleChildObject.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.bringrags.SimpleChildObject", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "SimpleChildObjectMapper.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.bringrags", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "SimpleObject.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.bringrags.SimpleObject", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "SimpleObjectTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.bringrags.SimpleObjectTest", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["1d44216d87a0f6a123c3e11bea1e5c0e1a0a2d0d"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 38, "deletions": 41, "lines": 79, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 23, "UPD": 3, "INS": 8, "MOV": 9, "DEL": 3, "spoonFilesChanged": 4, "spoonMethodsChanged": 7}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/executor/resultset"], "changesInPackagesSPOON": ["org.apache.ibatis.executor.resultset.DefaultResultSetHandler.instantiateCollectionPropertyIfAppropriate(org.apache.ibatis.mapping.ResultMapping,org.apache.ibatis.reflection.MetaObject)", "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.linkToParents(java.sql.ResultSet,org.apache.ibatis.mapping.ResultMapping,java.lang.Object)", "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.applyNestedResultMappings(org.apache.ibatis.executor.resultset.ResultSetWrapper,org.apache.ibatis.mapping.ResultMap,org.apache.ibatis.reflection.MetaObject,java.lang.String,org.apache.ibatis.cache.CacheKey,boolean)", "org.apache.ibatis.submitted.bringrags", "org.apache.ibatis.submitted.bringrags.SimpleChildObject", "org.apache.ibatis.submitted.bringrags.SimpleObject", "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.linkObjects(org.apache.ibatis.reflection.MetaObject,org.apache.ibatis.mapping.ResultMapping,java.lang.Object)"]}, {"title": "Accessing dynamic variable could cause BindingException when null is bound", "body": "### Case 1 : `<bind />`\n\nReported in [a forum post](https://groups.google.com/d/msg/mybatis-user/EAl4IvOLLDc/7woI0xFGA3cJ).\nWhen executing the following mapper method with `null` as its parameter...\n\n``` java\npublic interface Mapper {\n  String selectDescription(@Param(\"p\") String p);\n}\n```\n\n``` xml\n  <select id=\"selectDescription\" resultType=\"string\">\n    <bind name=\"condition\" value=\"p\" />\n    SELECT description\n    FROM ibtest.names\n    <if test=\"condition == null\">\n      WHERE id = 3\n    </if>\n  </select>\n```\n\n...an exception is thrown.\n\n```\norg.apache.ibatis.exceptions.PersistenceException: \n### Error querying database.  Cause: org.apache.ibatis.binding.BindingException: Parameter 'condition' not found. Available parameters are [param1, p]\n### Cause: org.apache.ibatis.binding.BindingException: Parameter 'condition' not found. Available parameters are [param1, p]\n    at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)\n    at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:122)\n    at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:113)\n    at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:73)\n    at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:68)\n    at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)\n    at com.sun.proxy.$Proxy6.selectDescription(Unknown Source)\n    at org.apache.ibatis.submitted.dynsql.DynSqlTest.testBindNull(DynSqlTest.java:167)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:459)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:675)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:382)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192)\nCaused by: org.apache.ibatis.binding.BindingException: Parameter 'condition' not found. Available parameters are [param1, p]\n    at org.apache.ibatis.binding.MapperMethod$ParamMap.get(MapperMethod.java:165)\n    at org.apache.ibatis.scripting.xmltags.DynamicContext$ContextAccessor.getProperty(DynamicContext.java:115)\n    at ognl.OgnlRuntime.getProperty(OgnlRuntime.java:2334)\n    at ognl.ASTProperty.getValueBody(ASTProperty.java:114)\n    at ognl.SimpleNode.evaluateGetValueBody(SimpleNode.java:212)\n    at ognl.SimpleNode.getValue(SimpleNode.java:258)\n    at ognl.ASTEq.getValueBody(ASTEq.java:50)\n    at ognl.SimpleNode.evaluateGetValueBody(SimpleNode.java:212)\n    at ognl.SimpleNode.getValue(SimpleNode.java:258)\n    at ognl.Ognl.getValue(Ognl.java:494)\n    at ognl.Ognl.getValue(Ognl.java:458)\n    at org.apache.ibatis.scripting.xmltags.OgnlCache.getValue(OgnlCache.java:45)\n    at org.apache.ibatis.scripting.xmltags.ExpressionEvaluator.evaluateBoolean(ExpressionEvaluator.java:32)\n    at org.apache.ibatis.scripting.xmltags.IfSqlNode.apply(IfSqlNode.java:34)\n    at org.apache.ibatis.scripting.xmltags.MixedSqlNode.apply(MixedSqlNode.java:33)\n    at org.apache.ibatis.scripting.xmltags.DynamicSqlSource.getBoundSql(DynamicSqlSource.java:41)\n    at org.apache.ibatis.mapping.MappedStatement.getBoundSql(MappedStatement.java:280)\n    at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:80)\n    at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:120)\n    ... 30 more\n```\n### Case 2 : `<foreach />`\n\nReported in [a comment on another issue](https://github.com/mybatis/mybatis-3/issues/67#issuecomment-68728738).\nThe following foreach loop throws a similar exception when the list contains `null` item.\n\n``` xml\n...\n<foreach item=\"item\" collection=\"list\">\n  <if test=\"item != null\">\n    #{item}\n  </if>\n</foreach>\n...\n```\n", "url": "https://github.com/mybatis/mybatis-3/issues/343", "user": "harawata", "labels": ["bug"], "created": "2015-02-02 17:00:14", "closed": "2015-02-03 04:15:22", "commits": {"fb89c55d7817b052fa6f99d80d0dd6da8d59c8ca": {"commitGHEventType": "closed", "commitUser": "harawata"}, "10383a2b23a5c36f52b26ca4de495fc8beb494f0": {"commitGHEventType": "referenced", "commitUser": "harawata"}}, "ttf": 0.0002777777777777778, "commitsDetails": [{"commitHash": "fb89c55d7817b052fa6f99d80d0dd6da8d59c8ca", "commitGHEventType": "closed", "commitUser": "harawata", "commitParents": ["bdb33da807e8d524ad10df4bdd4c3a43e50d8ed6"], "nameRev": "fb89c55d7817b052fa6f99d80d0dd6da8d59c8ca tags/mybatis-3.3.0~44", "commitMessage": "Fixes #343 Accessing dynamic variable could cause BindingException when null is bound.\n", "commitDateTime": "2015-02-03 12:55:16", "authoredDateTime": "2015-02-03 12:55:16", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/scripting/xmltags/DynamicContext.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/org/apache/ibatis/submitted/dynsql/DynSqlMapper.java", "insertions": 23, "deletions": 0, "lines": 23}, {"filePath": "src/test/java/org/apache/ibatis/submitted/dynsql/DynSqlMapper.xml", "insertions": 33, "deletions": 0, "lines": 33}, {"filePath": "src/test/java/org/apache/ibatis/submitted/dynsql/DynSqlTest.java", "insertions": 12, "deletions": 0, "lines": 12}, {"filePath": "src/test/java/org/apache/ibatis/submitted/dynsql/MapperConfig.xml", "insertions": 1, "deletions": 0, "lines": 1}, {"filePath": "src/test/java/org/apache/ibatis/submitted/foreach/ForEachTest.java", "insertions": 17, "deletions": 0, "lines": 17}, {"filePath": "src/test/java/org/apache/ibatis/submitted/foreach/Mapper.java", "insertions": 2, "deletions": 0, "lines": 2}, {"filePath": "src/test/java/org/apache/ibatis/submitted/foreach/Mapper.xml", "insertions": 12, "deletions": 0, "lines": 12}], "commitSpoonAstDiffStats": [{"spoonFilePath": "DynamicContext.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.scripting.xmltags.DynamicContext.ContextAccessor.getProperty(java.util.Map,java.lang.Object,java.lang.Object)", "TOT": 2, "UPD": 0, "INS": 1, "MOV": 1, "DEL": 0}]}, {"spoonFilePath": "DynSqlMapper.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.dynsql", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "DynSqlTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.dynsql.DynSqlTest.testBindNull()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "ForEachTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.foreach.ForEachTest.nullItemInContext()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "Mapper.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.foreach.selectWithNullItemCheck(java.util.List)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "10383a2b23a5c36f52b26ca4de495fc8beb494f0", "commitGHEventType": "referenced", "commitUser": "harawata", "commitParents": ["6eda238b40f6e6bfebb79ebc6e9c0bc958095acd"], "nameRev": "10383a2b23a5c36f52b26ca4de495fc8beb494f0 remotes/origin/3.2.x~5", "commitMessage": "Fixes #343 Accessing dynamic variable could cause BindingException when null is bound.\n", "commitDateTime": "2015-02-03 12:56:44", "authoredDateTime": "2015-02-03 12:55:16", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/scripting/xmltags/DynamicContext.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/org/apache/ibatis/submitted/dynsql/DynSqlMapper.java", "insertions": 23, "deletions": 0, "lines": 23}, {"filePath": "src/test/java/org/apache/ibatis/submitted/dynsql/DynSqlMapper.xml", "insertions": 33, "deletions": 0, "lines": 33}, {"filePath": "src/test/java/org/apache/ibatis/submitted/dynsql/DynSqlTest.java", "insertions": 12, "deletions": 0, "lines": 12}, {"filePath": "src/test/java/org/apache/ibatis/submitted/dynsql/MapperConfig.xml", "insertions": 1, "deletions": 0, "lines": 1}, {"filePath": "src/test/java/org/apache/ibatis/submitted/foreach/ForEachTest.java", "insertions": 17, "deletions": 0, "lines": 17}, {"filePath": "src/test/java/org/apache/ibatis/submitted/foreach/Mapper.java", "insertions": 2, "deletions": 0, "lines": 2}, {"filePath": "src/test/java/org/apache/ibatis/submitted/foreach/Mapper.xml", "insertions": 12, "deletions": 0, "lines": 12}], "commitSpoonAstDiffStats": [{"spoonFilePath": "DynamicContext.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.scripting.xmltags.DynamicContext.ContextAccessor.getProperty(java.util.Map,java.lang.Object,java.lang.Object)", "TOT": 2, "UPD": 0, "INS": 1, "MOV": 1, "DEL": 0}]}, {"spoonFilePath": "DynSqlMapper.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.dynsql", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "DynSqlTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.dynsql.DynSqlTest.testBindNull()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "ForEachTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.foreach.ForEachTest.nullItemInContext()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "Mapper.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.foreach.selectWithNullItemCheck(java.util.List)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["fb89c55d7817b052fa6f99d80d0dd6da8d59c8ca"], "filteredCommitsReason": {"duplicated": 1, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 1, "deletions": 1, "lines": 2, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 4, "UPD": 0, "INS": 3, "MOV": 1, "DEL": 0, "spoonFilesChanged": 3, "spoonMethodsChanged": 3}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/scripting/xmltags"], "changesInPackagesSPOON": ["org.apache.ibatis.submitted.dynsql", "org.apache.ibatis.submitted.foreach.selectWithNullItemCheck(java.util.List)", "org.apache.ibatis.scripting.xmltags.DynamicContext.ContextAccessor.getProperty(java.util.Map,java.lang.Object,java.lang.Object)"]}, {"title": "Mybatis doesn't get correct return type when the mapper interface extends another one.", "body": "Code:\n\n```\npublic interface Mapper<T> {\n        public List<T> select(T example);\n}\n\npublic interface SomeMapper extends Mapper<Some> {\n}\n```\n\nin this situation, mybatis cant get the actual class type(return type) of method `get`, It's described and resolved pretty clear in this sc topic : [question in stackoverflow](http://stackoverflow.com/questions/17297308/how-do-i-resolve-the-actual-type-for-a-generic-return-type-using-reflection)\n\nBug code location [here](https://github.com/mybatis/mybatis-3/blob/master/src/main/java/org/apache/ibatis/builder/annotation/MapperAnnotationBuilder.java#L366)\n", "url": "https://github.com/mybatis/mybatis-3/issues/321", "user": "IamFive", "labels": ["bug"], "created": "2014-12-31 02:48:39", "closed": "2016-02-10 11:25:01", "commits": {"3e8ca88cc0a2ad1bacc30e7d76e06a2265abb3c2": {"commitGHEventType": "closed", "commitUser": "harawata"}, "a28461c1fede6ed85782a21ce39120ac3756e0cf": {"commitGHEventType": "referenced", "commitUser": "harawata"}, "3d8dbe1bfce659d210baebb74e8882deaab80848": {"commitGHEventType": "referenced", "commitUser": "harawata"}, "fdb8d83f54469f75e41e2abc7b7e9e0dd3db3610": {"commitGHEventType": "referenced", "commitUser": "harawata"}}, "ttf": 406.0002777777778, "commitsDetails": [{"commitHash": "3e8ca88cc0a2ad1bacc30e7d76e06a2265abb3c2", "commitGHEventType": "closed", "commitUser": "harawata", "commitParents": ["74c817ebbd6d892f4165a24d2b5a158355d80ecb"], "nameRev": "3e8ca88cc0a2ad1bacc30e7d76e06a2265abb3c2 tags/mybatis-3.4.0~81^2~1", "commitMessage": "Implemented resolveParamTypes() (but it was not necessary to fix #321) and added more test cases.\n", "commitDateTime": "2016-02-10 12:36:56", "authoredDateTime": "2016-02-10 12:33:56", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/reflection/ParameterizedTypeImpl.java", "insertions": 0, "deletions": 52, "lines": 52}, {"filePath": "src/main/java/org/apache/ibatis/reflection/TypeParameterResolver.java", "insertions": 132, "deletions": 36, "lines": 168}, {"filePath": "src/test/java/org/apache/ibatis/reflection/TypeParameterResolverTest.java", "insertions": 128, "deletions": 9, "lines": 137}, {"filePath": "src/test/java/org/apache/ibatis/reflection/typeparam/Level0Mapper.java", "insertions": 14, "deletions": 5, "lines": 19}, {"filePath": "src/test/java/org/apache/ibatis/reflection/typeparam/Level2Mapper.java", "insertions": 2, "deletions": 1, "lines": 3}, {"filePath": "src/test/java/org/apache/ibatis/submitted/mapper_type_parameter/BaseMapper.java", "insertions": 55, "deletions": 11, "lines": 66}, {"filePath": "src/test/java/org/apache/ibatis/submitted/mapper_type_parameter/Country.java", "insertions": 53, "deletions": 0, "lines": 53}, {"filePath": "src/test/java/org/apache/ibatis/submitted/mapper_type_parameter/CountryMapper.java", "insertions": 19, "deletions": 0, "lines": 19}, {"filePath": "src/test/java/org/apache/ibatis/submitted/mapper_type_parameter/CreateDB.sql", "insertions": 9, "deletions": 2, "lines": 11}, {"filePath": "src/test/java/org/apache/ibatis/submitted/mapper_type_parameter/MapperTypeParameterTest.java", "insertions": 36, "deletions": 10, "lines": 46}, {"filePath": "src/test/java/org/apache/ibatis/submitted/mapper_type_parameter/Person.java", "insertions": 23, "deletions": 3, "lines": 26}, {"filePath": "src/test/java/org/apache/ibatis/submitted/mapper_type_parameter/PersonListMapper.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/org/apache/ibatis/submitted/mapper_type_parameter/PersonMapper.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/org/apache/ibatis/submitted/mapper_type_parameter/mybatis-config.xml", "insertions": 1, "deletions": 0, "lines": 1}], "commitSpoonAstDiffStats": [{"spoonFilePath": "ParameterizedTypeImpl.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.reflection.ParameterizedTypeImpl", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}]}, {"spoonFilePath": "TypeParameterResolver.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.reflection.TypeParameterResolver.scanParameterizedType(java.lang.reflect.ParameterizedType,java.lang.reflect.Type,java.lang.Class)", "TOT": 12, "UPD": 4, "INS": 0, "MOV": 7, "DEL": 1}, {"spoonMethodName": "org.apache.ibatis.reflection.TypeParameterResolver.resolveReturnType(java.lang.reflect.Method,java.lang.reflect.Type)", "TOT": 11, "UPD": 2, "INS": 1, "MOV": 7, "DEL": 1}, {"spoonMethodName": "org.apache.ibatis.reflection.TypeParameterResolver.resolveTypeVar(java.lang.reflect.TypeVariable,java.lang.reflect.Type,java.lang.Class)", "TOT": 36, "UPD": 14, "INS": 7, "MOV": 12, "DEL": 3}, {"spoonMethodName": "org.apache.ibatis.reflection.TypeParameterResolver.getReturnType(java.lang.reflect.Type,java.lang.reflect.Type,java.lang.Class)", "TOT": 20, "UPD": 2, "INS": 0, "MOV": 13, "DEL": 5}, {"spoonMethodName": "org.apache.ibatis.reflection.TypeParameterResolver.resolveParamTypes(java.lang.reflect.Method,java.lang.reflect.Type)", "TOT": 8, "UPD": 0, "INS": 8, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.reflection.TypeParameterResolver.resolveWildcardType(java.lang.reflect.WildcardType,java.lang.reflect.Type,java.lang.Class)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.reflection.TypeParameterResolver.resolveWildcardTypeBounds(java.lang.reflect.Type[],java.lang.reflect.Type,java.lang.Class)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.reflection.TypeParameterResolver.ParameterizedTypeImpl", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.reflection.TypeParameterResolver.WildcardTypeImpl", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.reflection.TypeParameterResolver.resolveParameterizedType(java.lang.reflect.ParameterizedType,java.lang.reflect.Type,java.lang.Class)", "TOT": 3, "UPD": 0, "INS": 3, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "TypeParameterResolverTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.reflection.TypeParameterResolverTest.testReturn_Lv0SimpleClass()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.reflection.TypeParameterResolverTest.testReturn_SimpleWildcard()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.reflection.TypeParameterResolverTest.testReturn_SimpleArray()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.reflection.TypeParameterResolverTest.testReturn_SimpleTypeVar()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.reflection.TypeParameterResolverTest.testReturn_Lv2WildcardList()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.reflection.TypeParameterResolverTest.testParam_Primitive()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.reflection.TypeParameterResolverTest.testParam_Simple()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.reflection.TypeParameterResolverTest.testParam_Lv1Single()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.reflection.TypeParameterResolverTest.testParam_Lv2Single()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.reflection.TypeParameterResolverTest.testParam_Lv2Multiple()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.reflection.TypeParameterResolverTest.testParam_Lv2CustomClass()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.reflection.TypeParameterResolverTest.testReturn_Lv1Class()", "TOT": 6, "UPD": 0, "INS": 2, "MOV": 4, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.reflection.TypeParameterResolverTest.testReturn_Lv2CustomClass()", "TOT": 12, "UPD": 0, "INS": 6, "MOV": 6, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.reflection.TypeParameterResolverTest.testReturn_Lv2Class()", "TOT": 7, "UPD": 0, "INS": 3, "MOV": 4, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.reflection.TypeParameterResolverTest.testReturn_SimpleVoid()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.reflection.TypeParameterResolverTest.testReturn_SimplePrimitive()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.reflection.TypeParameterResolverTest.testReturn_Lv0InnerClass()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.reflection.TypeParameterResolverTest.testReturn_Lv1List()", "TOT": 2, "UPD": 0, "INS": 2, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "Level0Mapper.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.reflection.typeparam.selectList()", "TOT": 2, "UPD": 2, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.reflection.typeparam.selectCalculator()", "TOT": 2, "UPD": 2, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.reflection.typeparam.simpleSelectTypeVar()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.reflection.typeparam.selectList(java.lang.Object,java.lang.Object)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.reflection.typeparam.selectWildcardList()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.reflection.typeparam.selectCalculator(org.apache.ibatis.reflection.typeparam.Calculator)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.reflection.typeparam.simpleSelectVoid(java.lang.Integer)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.reflection.typeparam.simpleSelectPrimitive(int)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.reflection.typeparam.select(java.lang.Object)", "TOT": 2, "UPD": 0, "INS": 2, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.reflection.typeparam.select()", "TOT": 2, "UPD": 0, "INS": 0, "MOV": 2, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.reflection.typeparam.selectMap()", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 1, "DEL": 0}]}, {"spoonFilePath": "Level2Mapper.java", "spoonMethods": []}, {"spoonFilePath": "BaseMapper.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.mapper_type_parameter", "TOT": 2, "UPD": 1, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.submitted.mapper_type_parameter.select(java.lang.Integer)", "TOT": 3, "UPD": 3, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.submitted.mapper_type_parameter.selectList(java.lang.Integer)", "TOT": 2, "UPD": 2, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.submitted.mapper_type_parameter.selectMap(java.lang.Integer)", "TOT": 2, "UPD": 2, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.submitted.mapper_type_parameter.StatementProvider.provideSelect(java.lang.Integer)", "TOT": 12, "UPD": 8, "INS": 0, "MOV": 3, "DEL": 1}, {"spoonMethodName": "org.apache.ibatis.submitted.mapper_type_parameter.insert(java.util.List)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.submitted.mapper_type_parameter.update(java.lang.Object)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.submitted.mapper_type_parameter.StatementProvider.provideInsert(java.util.Map)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.submitted.mapper_type_parameter.StatementProvider.provideUpdate(java.lang.Object)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.submitted.mapper_type_parameter.StatementProvider.provideSelect(java.lang.Object)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "Country.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.mapper_type_parameter.Country", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "CountryMapper.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.mapper_type_parameter", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "MapperTypeParameterTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.mapper_type_parameter.MapperTypeParameterTest.shouldResolveSelect()", "TOT": 2, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 1}, {"spoonMethodName": "org.apache.ibatis.submitted.mapper_type_parameter.MapperTypeParameterTest.shouldResolveSelectList()", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.submitted.mapper_type_parameter.MapperTypeParameterTest.shouldResolveMapKeyTypeParameter()", "TOT": 10, "UPD": 7, "INS": 0, "MOV": 2, "DEL": 1}, {"spoonMethodName": "org.apache.ibatis.submitted.mapper_type_parameter.MapperTypeParameterTest.shouldResolveListTypeParameter()", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.submitted.mapper_type_parameter.MapperTypeParameterTest.shouldResolveParam()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.submitted.mapper_type_parameter.MapperTypeParameterTest.shouldResolveListParam()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.submitted.mapper_type_parameter.MapperTypeParameterTest.shouldResolveMultipleTypeParam()", "TOT": 3, "UPD": 0, "INS": 3, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.submitted.mapper_type_parameter.MapperTypeParameterTest.shouldResolveParameterizedReturnType()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.submitted.mapper_type_parameter.MapperTypeParameterTest.shouldResolveSelectReturnTypeAndParam()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "Person.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.mapper_type_parameter.Person", "TOT": 5, "UPD": 1, "INS": 4, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.submitted.mapper_type_parameter.Person.getId()", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.submitted.mapper_type_parameter.Person.setId(int)", "TOT": 2, "UPD": 1, "INS": 0, "MOV": 1, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.submitted.mapper_type_parameter.Person.setId(java.lang.Integer)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "PersonListMapper.java", "spoonMethods": []}, {"spoonFilePath": "PersonMapper.java", "spoonMethods": []}], "spoonStatsSkippedReason": ""}, {"commitHash": "a28461c1fede6ed85782a21ce39120ac3756e0cf", "commitGHEventType": "referenced", "commitUser": "harawata", "commitParents": ["3e8ca88cc0a2ad1bacc30e7d76e06a2265abb3c2"], "nameRev": "a28461c1fede6ed85782a21ce39120ac3756e0cf tags/mybatis-3.4.0~81^2", "commitMessage": "Removed resolveParamTypes() as it was not necessary to fix #321.\n", "commitDateTime": "2016-02-10 12:39:02", "authoredDateTime": "2016-02-10 12:39:02", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/reflection/TypeParameterResolver.java", "insertions": 0, "deletions": 18, "lines": 18}, {"filePath": "src/test/java/org/apache/ibatis/reflection/TypeParameterResolverTest.java", "insertions": 0, "deletions": 59, "lines": 59}], "commitSpoonAstDiffStats": [{"spoonFilePath": "TypeParameterResolver.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.reflection.TypeParameterResolver.resolveParamTypes(java.lang.reflect.Method,java.lang.reflect.Type)", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}]}, {"spoonFilePath": "TypeParameterResolverTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.reflection.TypeParameterResolverTest.testParam_Primitive()", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}, {"spoonMethodName": "org.apache.ibatis.reflection.TypeParameterResolverTest.testParam_Simple()", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}, {"spoonMethodName": "org.apache.ibatis.reflection.TypeParameterResolverTest.testParam_Lv1Single()", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}, {"spoonMethodName": "org.apache.ibatis.reflection.TypeParameterResolverTest.testParam_Lv2Single()", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}, {"spoonMethodName": "org.apache.ibatis.reflection.TypeParameterResolverTest.testParam_Lv2Multiple()", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}, {"spoonMethodName": "org.apache.ibatis.reflection.TypeParameterResolverTest.testParam_Lv2CustomClass()", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "3d8dbe1bfce659d210baebb74e8882deaab80848", "commitGHEventType": "referenced", "commitUser": "harawata", "commitParents": ["361381f02b699422d3ec181e5dc790ba03087677", "a28461c1fede6ed85782a21ce39120ac3756e0cf"], "nameRev": "3d8dbe1bfce659d210baebb74e8882deaab80848 tags/mybatis-3.4.0~81", "commitMessage": "fixes #321 The return type of a mapper method is not correctly resolved when it contains type parameters.\n", "commitDateTime": "2016-02-10 20:22:59", "authoredDateTime": "2016-02-10 14:28:23", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/binding/MapperMethod.java", "insertions": 13, "deletions": 3, "lines": 16}, {"filePath": "src/main/java/org/apache/ibatis/builder/annotation/MapperAnnotationBuilder.java", "insertions": 29, "deletions": 26, "lines": 55}, {"filePath": "src/main/java/org/apache/ibatis/reflection/TypeParameterResolver.java", "insertions": 196, "deletions": 0, "lines": 196}, {"filePath": "src/test/java/org/apache/ibatis/reflection/TypeParameterResolverTest.java", "insertions": 219, "deletions": 0, "lines": 219}, {"filePath": "src/test/java/org/apache/ibatis/reflection/typeparam/Calculator.java", "insertions": 20, "deletions": 0, "lines": 20}, {"filePath": "src/test/java/org/apache/ibatis/reflection/typeparam/Level0Mapper.java", "insertions": 54, "deletions": 0, "lines": 54}, {"filePath": "src/test/java/org/apache/ibatis/reflection/typeparam/Level1Mapper.java", "insertions": 19, "deletions": 0, "lines": 19}, {"filePath": "src/test/java/org/apache/ibatis/reflection/typeparam/Level2Mapper.java", "insertions": 23, "deletions": 0, "lines": 23}, {"filePath": "src/test/java/org/apache/ibatis/submitted/mapper_type_parameter/BaseMapper.java", "insertions": 91, "deletions": 0, "lines": 91}, {"filePath": "src/test/java/org/apache/ibatis/submitted/mapper_type_parameter/Country.java", "insertions": 53, "deletions": 0, "lines": 53}, {"filePath": "src/test/java/org/apache/ibatis/submitted/mapper_type_parameter/CountryMapper.java", "insertions": 19, "deletions": 0, "lines": 19}, {"filePath": "src/test/java/org/apache/ibatis/submitted/mapper_type_parameter/CreateDB.sql", "insertions": 31, "deletions": 0, "lines": 31}, {"filePath": "src/test/java/org/apache/ibatis/submitted/mapper_type_parameter/MapperTypeParameterTest.java", "insertions": 132, "deletions": 0, "lines": 132}, {"filePath": "src/test/java/org/apache/ibatis/submitted/mapper_type_parameter/Person.java", "insertions": 58, "deletions": 0, "lines": 58}, {"filePath": "src/test/java/org/apache/ibatis/submitted/mapper_type_parameter/PersonListMapper.java", "insertions": 21, "deletions": 0, "lines": 21}, {"filePath": "src/test/java/org/apache/ibatis/submitted/mapper_type_parameter/PersonMapper.java", "insertions": 19, "deletions": 0, "lines": 19}, {"filePath": "src/test/java/org/apache/ibatis/submitted/mapper_type_parameter/mybatis-config.xml", "insertions": 42, "deletions": 0, "lines": 42}], "commitSpoonAstDiffStats": [{"spoonFilePath": "MapperMethod.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.binding.MapperMethod", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.binding.MapperMethod.MethodSignature", "TOT": 4, "UPD": 0, "INS": 3, "MOV": 1, "DEL": 0}]}, {"spoonFilePath": "MapperAnnotationBuilder.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.builder.annotation.MapperAnnotationBuilder.getReturnType(java.lang.reflect.Method)", "TOT": 21, "UPD": 4, "INS": 6, "MOV": 6, "DEL": 5}]}, {"spoonFilePath": "TypeParameterResolver.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.reflection.TypeParameterResolver", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "TypeParameterResolverTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.reflection.TypeParameterResolverTest", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "Calculator.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.reflection.typeparam.Calculator", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "Level0Mapper.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.reflection.typeparam", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "Level1Mapper.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.reflection.typeparam", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "Level2Mapper.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.reflection.typeparam", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "BaseMapper.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.mapper_type_parameter", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "Country.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.mapper_type_parameter.Country", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "CountryMapper.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.mapper_type_parameter", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "MapperTypeParameterTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.mapper_type_parameter.MapperTypeParameterTest", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "Person.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.mapper_type_parameter.Person", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "PersonListMapper.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.mapper_type_parameter", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "PersonMapper.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.mapper_type_parameter", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "fdb8d83f54469f75e41e2abc7b7e9e0dd3db3610", "commitGHEventType": "referenced", "commitUser": "harawata", "commitParents": ["e88c98c62d305bb6548a7f6416c35cc672b5a436"], "nameRev": "fdb8d83f54469f75e41e2abc7b7e9e0dd3db3610 tags/mybatis-3.4.0~79", "commitMessage": "#321 follow-up. Added GenericArrayType support.\n", "commitDateTime": "2016-02-12 23:05:58", "authoredDateTime": "2016-02-12 23:03:27", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/reflection/TypeParameterResolver.java", "insertions": 35, "deletions": 0, "lines": 35}, {"filePath": "src/test/java/org/apache/ibatis/reflection/TypeParameterResolverTest.java", "insertions": 50, "deletions": 0, "lines": 50}, {"filePath": "src/test/java/org/apache/ibatis/reflection/typeparam/Level0Mapper.java", "insertions": 8, "deletions": 0, "lines": 8}], "commitSpoonAstDiffStats": [{"spoonFilePath": "TypeParameterResolver.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.reflection.TypeParameterResolver.resolveGenericArrayType(java.lang.reflect.GenericArrayType,java.lang.reflect.Type,java.lang.Class)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.reflection.TypeParameterResolver.GenericArrayTypeImpl", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.reflection.TypeParameterResolver.resolveReturnType(java.lang.reflect.Method,java.lang.reflect.Type)", "TOT": 6, "UPD": 0, "INS": 3, "MOV": 3, "DEL": 0}]}, {"spoonFilePath": "TypeParameterResolverTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.reflection.TypeParameterResolverTest.testReturn_SimpleArrayOfArray()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.reflection.TypeParameterResolverTest.testReturn_Lv1Array()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.reflection.TypeParameterResolverTest.testReturn_Lv2ArrayOfArray()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.reflection.TypeParameterResolverTest.testReturn_Lv2ArrayOfList()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "Level0Mapper.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.reflection.typeparam.simpleSelectArrayOfArray()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.reflection.typeparam.selectArray()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.reflection.typeparam.selectArrayOfArray()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.reflection.typeparam.selectArrayOfList()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["3e8ca88cc0a2ad1bacc30e7d76e06a2265abb3c2", "a28461c1fede6ed85782a21ce39120ac3756e0cf", "fdb8d83f54469f75e41e2abc7b7e9e0dd3db3610"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 1, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 3, "gitStatsSummary": {"insertions": 167, "deletions": 106, "lines": 273, "gitFilesChange": 2}, "spoonStatsSummary": {"TOT": 160, "UPD": 45, "INS": 53, "MOV": 49, "DEL": 13, "spoonFilesChanged": 7, "spoonMethodsChanged": 43}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/reflection"], "changesInPackagesSPOON": ["org.apache.ibatis.reflection.TypeParameterResolver.resolveReturnType(java.lang.reflect.Method,java.lang.reflect.Type)", "org.apache.ibatis.submitted.mapper_type_parameter", "org.apache.ibatis.reflection.TypeParameterResolver.resolveParamTypes(java.lang.reflect.Method,java.lang.reflect.Type)", "org.apache.ibatis.submitted.mapper_type_parameter.Person.setId(java.lang.Integer)", "org.apache.ibatis.reflection.typeparam.selectList()", "org.apache.ibatis.reflection.typeparam.simpleSelectArrayOfArray()", "org.apache.ibatis.submitted.mapper_type_parameter.Person.getId()", "org.apache.ibatis.submitted.mapper_type_parameter.update(java.lang.Object)", "org.apache.ibatis.reflection.typeparam.selectCalculator(org.apache.ibatis.reflection.typeparam.Calculator)", "org.apache.ibatis.reflection.TypeParameterResolver.GenericArrayTypeImpl", "org.apache.ibatis.reflection.TypeParameterResolver.getReturnType(java.lang.reflect.Type,java.lang.reflect.Type,java.lang.Class)", "org.apache.ibatis.reflection.TypeParameterResolver.ParameterizedTypeImpl", "org.apache.ibatis.submitted.mapper_type_parameter.select(java.lang.Integer)", "org.apache.ibatis.reflection.ParameterizedTypeImpl", "org.apache.ibatis.reflection.typeparam.selectArray()", "org.apache.ibatis.submitted.mapper_type_parameter.StatementProvider.provideUpdate(java.lang.Object)", "org.apache.ibatis.reflection.typeparam.selectList(java.lang.Object,java.lang.Object)", "org.apache.ibatis.submitted.mapper_type_parameter.StatementProvider.provideSelect(java.lang.Object)", "org.apache.ibatis.reflection.TypeParameterResolver.resolveTypeVar(java.lang.reflect.TypeVariable,java.lang.reflect.Type,java.lang.Class)", "org.apache.ibatis.reflection.TypeParameterResolver.resolveGenericArrayType(java.lang.reflect.GenericArrayType,java.lang.reflect.Type,java.lang.Class)", "org.apache.ibatis.reflection.TypeParameterResolver.resolveParameterizedType(java.lang.reflect.ParameterizedType,java.lang.reflect.Type,java.lang.Class)", "org.apache.ibatis.submitted.mapper_type_parameter.Person", "org.apache.ibatis.reflection.typeparam.selectWildcardList()", "org.apache.ibatis.reflection.typeparam.select(java.lang.Object)", "org.apache.ibatis.submitted.mapper_type_parameter.StatementProvider.provideInsert(java.util.Map)", "org.apache.ibatis.submitted.mapper_type_parameter.selectList(java.lang.Integer)", "org.apache.ibatis.reflection.typeparam.select()", "org.apache.ibatis.submitted.mapper_type_parameter.StatementProvider.provideSelect(java.lang.Integer)", "org.apache.ibatis.reflection.TypeParameterResolver.resolveWildcardTypeBounds(java.lang.reflect.Type[],java.lang.reflect.Type,java.lang.Class)", "org.apache.ibatis.reflection.typeparam.selectMap()", "org.apache.ibatis.reflection.TypeParameterResolver.resolveWildcardType(java.lang.reflect.WildcardType,java.lang.reflect.Type,java.lang.Class)", "org.apache.ibatis.reflection.typeparam.simpleSelectVoid(java.lang.Integer)", "org.apache.ibatis.submitted.mapper_type_parameter.Person.setId(int)", "org.apache.ibatis.reflection.typeparam.selectArrayOfList()", "org.apache.ibatis.submitted.mapper_type_parameter.Country", "org.apache.ibatis.reflection.typeparam.selectCalculator()", "org.apache.ibatis.reflection.typeparam.simpleSelectTypeVar()", "org.apache.ibatis.submitted.mapper_type_parameter.selectMap(java.lang.Integer)", "org.apache.ibatis.reflection.TypeParameterResolver.WildcardTypeImpl", "org.apache.ibatis.reflection.TypeParameterResolver.scanParameterizedType(java.lang.reflect.ParameterizedType,java.lang.reflect.Type,java.lang.Class)", "org.apache.ibatis.reflection.typeparam.selectArrayOfArray()", "org.apache.ibatis.submitted.mapper_type_parameter.insert(java.util.List)", "org.apache.ibatis.reflection.typeparam.simpleSelectPrimitive(int)"]}, {"title": "ScriptRunner log writter doesn't work when the full script is sent", "body": "When you execute a script using ScriptRunner, the log writter won't work (nothing will get logged) if you send the full script. See example below:\n\nReader scriptReader = new BufferedReader( new FileReader( scriptFile ) );\nScriptRunner scriptRunner = new ScriptRunner( connection );\nscriptRunner.setSendFullScript( true );\nscriptRunner.setLogWriter( new PrintWriter( System.out ) );\nscriptRunner.runScript( scriptReader );\n\nIn this example nothing gets logged to the console. If you run scriptRunner.setSendFullScript( false ), then the output is written to the console. This should work in both cases.\n", "url": "https://github.com/mybatis/mybatis-3/issues/319", "user": "adeleonpsl", "labels": ["bug"], "created": "2014-12-29 14:48:55", "closed": "2015-04-05 12:07:34", "commits": {"c20c0f5d6d72172997ccddf8575e85362918023a": {"commitGHEventType": "closed", "commitUser": "harawata"}}, "ttf": 96.00027777777778, "commitsDetails": [{"commitHash": "c20c0f5d6d72172997ccddf8575e85362918023a", "commitGHEventType": "closed", "commitUser": "harawata", "commitParents": ["3acb2de17bd7f1c28728bb93eec3953030363e6c"], "nameRev": "c20c0f5d6d72172997ccddf8575e85362918023a tags/mybatis-3.3.0~22", "commitMessage": "Fixes #319 ScriptRunner log writter doesn't work when the full script is sent.\n", "commitDateTime": "2015-04-05 20:58:37", "authoredDateTime": "2015-04-05 20:58:37", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/jdbc/ScriptRunner.java", "insertions": 3, "deletions": 1, "lines": 4}, {"filePath": "src/test/java/org/apache/ibatis/jdbc/ScriptRunnerTest.java", "insertions": 42, "deletions": 1, "lines": 43}], "commitSpoonAstDiffStats": [{"spoonFilePath": "ScriptRunner.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.jdbc.ScriptRunner.executeFullScript(java.io.Reader)", "TOT": 4, "UPD": 0, "INS": 3, "MOV": 1, "DEL": 0}]}, {"spoonFilePath": "ScriptRunnerTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.jdbc.ScriptRunnerTest.testLogging()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.jdbc.ScriptRunnerTest.testLoggingFullScipt()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["c20c0f5d6d72172997ccddf8575e85362918023a"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 3, "deletions": 1, "lines": 4, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 4, "UPD": 0, "INS": 3, "MOV": 1, "DEL": 0, "spoonFilesChanged": 1, "spoonMethodsChanged": 1}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/jdbc"], "changesInPackagesSPOON": ["org.apache.ibatis.jdbc.ScriptRunner.executeFullScript(java.io.Reader)"]}, {"title": "null value returned by DefaultResultSetHandler", "body": "Hello, it seems that in some case the DefaultResultSetHandler.getRowValue can return a null value.\n\n```\nprivate Object getRowValue(ResultSetWrapper rsw, ResultMap resultMap) throws SQLException {\n  [...]\n  foundValues = applyPropertyMappings(rsw, resultMap, metaObject, lazyLoader, null) || foundValues;\n  foundValues = lazyLoader.size() > 0 || foundValues;\n  resultObject = foundValues ? resultObject : null;\n  return resultObject;\n}\n```\n\nHere, applyPropertyMappings is filing my resultObject with the good values but foundValues is false so resultObject is set to null;\n\nIn fact the resultObject is the result of a nested query which if oftenly querying on the same ids. So in DefaultResultSetHandler.getNestedQueryMappingValue it ends to hit the statment cache and call :\n    executor.deferLoad(nestedQuery, metaResultObject, property, key, targetType);\n\nThis call fill the resultObject as it should. But the method return NO_VALUE so applyPropertyMappings return false and getRowValue return null...\n\nWill try to send you a example as soon as possible.\n", "url": "https://github.com/mybatis/mybatis-3/issues/307", "user": "Twister42", "labels": ["bug"], "created": "2014-12-03 10:44:25", "closed": "2014-12-22 19:05:10", "commits": {"b7896469fa5d96a2d7ae901f59ecde0d5de61bdb": {"commitGHEventType": "closed", "commitUser": "emacarron"}, "66efde54cb8c68088c2b3bd24024559fcdf67697": {"commitGHEventType": "referenced", "commitUser": "emacarron"}, "6eda238b40f6e6bfebb79ebc6e9c0bc958095acd": {"commitGHEventType": "referenced", "commitUser": "emacarron"}, "b5cf7875f7c2cb2c9d4ee98acad0de525e59ecc9": {"commitGHEventType": "referenced", "commitUser": "harawata"}}, "ttf": 19.00027777777778, "commitsDetails": [{"commitHash": "b7896469fa5d96a2d7ae901f59ecde0d5de61bdb", "commitGHEventType": "closed", "commitUser": "emacarron", "commitParents": ["f61151b4081870bc77d4683ce8a5f4fce8960363"], "nameRev": "b7896469fa5d96a2d7ae901f59ecde0d5de61bdb tags/mybatis-3.3.0~51", "commitMessage": "Fixes #307. Create an instance when all the values for an object are\nnull but there is at least one defered value.", "commitDateTime": "2014-12-22 20:05:07", "authoredDateTime": "2014-12-22 20:05:07", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/executor/resultset/DefaultResultSetHandler.java", "insertions": 17, "deletions": 12, "lines": 29}, {"filePath": "src/test/java/org/apache/ibatis/submitted/call_setters_on_nulls/CallSettersOnNullsTest.java", "insertions": 6, "deletions": 1, "lines": 7}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler_multiple_association/Binome.java", "insertions": 49, "deletions": 0, "lines": 49}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler_multiple_association/ChildBean.java", "insertions": 27, "deletions": 0, "lines": 27}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler_multiple_association/CreateDB.sql", "insertions": 45, "deletions": 0, "lines": 45}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler_multiple_association/NestedResultHandlerMultipleAssociationTest.java", "insertions": 89, "deletions": 0, "lines": 89}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler_multiple_association/ParentBean.java", "insertions": 42, "deletions": 0, "lines": 42}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler_multiple_association/mapper.xml", "insertions": 52, "deletions": 0, "lines": 52}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler_multiple_association/mybatis-config.xml", "insertions": 40, "deletions": 0, "lines": 40}], "commitSpoonAstDiffStats": [{"spoonFilePath": "DefaultResultSetHandler.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.executor.resultset.DefaultResultSetHandler", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.getPropertyMappingValue(java.sql.ResultSet,org.apache.ibatis.reflection.MetaObject,org.apache.ibatis.mapping.ResultMapping,org.apache.ibatis.executor.loader.ResultLoaderMap,java.lang.String)", "TOT": 6, "UPD": 1, "INS": 0, "MOV": 3, "DEL": 2}, {"spoonMethodName": "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.applyPropertyMappings(org.apache.ibatis.executor.resultset.ResultSetWrapper,org.apache.ibatis.mapping.ResultMap,org.apache.ibatis.reflection.MetaObject,org.apache.ibatis.executor.loader.ResultLoaderMap,java.lang.String)", "TOT": 16, "UPD": 1, "INS": 5, "MOV": 7, "DEL": 3}, {"spoonMethodName": "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.getNestedQueryMappingValue(java.sql.ResultSet,org.apache.ibatis.reflection.MetaObject,org.apache.ibatis.mapping.ResultMapping,org.apache.ibatis.executor.loader.ResultLoaderMap,java.lang.String)", "TOT": 4, "UPD": 0, "INS": 3, "MOV": 0, "DEL": 1}]}, {"spoonFilePath": "CallSettersOnNullsTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.call_setters_on_nulls.CallSettersOnNullsTest.shouldCallNullOnMapForSingleColumnWithResultMap()", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "Binome.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.nestedresulthandler_multiple_association.Binome", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "ChildBean.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.nestedresulthandler_multiple_association.ChildBean", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "NestedResultHandlerMultipleAssociationTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.nestedresulthandler_multiple_association.NestedResultHandlerMultipleAssociationTest", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "ParentBean.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.nestedresulthandler_multiple_association.ParentBean", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "66efde54cb8c68088c2b3bd24024559fcdf67697", "commitGHEventType": "referenced", "commitUser": "emacarron", "commitParents": ["b7896469fa5d96a2d7ae901f59ecde0d5de61bdb"], "nameRev": "66efde54cb8c68088c2b3bd24024559fcdf67697 tags/mybatis-3.3.0~50", "commitMessage": "ASL headers and formatting [ci skip]. Related to #307.", "commitDateTime": "2014-12-22 20:09:31", "authoredDateTime": "2014-12-22 20:09:31", "commitGitStats": [{"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler_multiple_association/Binome.java", "insertions": 62, "deletions": 45, "lines": 107}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler_multiple_association/ChildBean.java", "insertions": 33, "deletions": 18, "lines": 51}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler_multiple_association/NestedResultHandlerMultipleAssociationTest.java", "insertions": 50, "deletions": 47, "lines": 97}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler_multiple_association/ParentBean.java", "insertions": 37, "deletions": 36, "lines": 73}], "commitSpoonAstDiffStats": [{"spoonFilePath": "Binome.java", "spoonMethods": []}, {"spoonFilePath": "ChildBean.java", "spoonMethods": []}, {"spoonFilePath": "NestedResultHandlerMultipleAssociationTest.java", "spoonMethods": []}, {"spoonFilePath": "ParentBean.java", "spoonMethods": []}], "spoonStatsSkippedReason": ""}, {"commitHash": "6eda238b40f6e6bfebb79ebc6e9c0bc958095acd", "commitGHEventType": "referenced", "commitUser": "emacarron", "commitParents": ["d6cda5c62935557d63813d205068a061c6ffc9a3"], "nameRev": "6eda238b40f6e6bfebb79ebc6e9c0bc958095acd remotes/origin/3.2.x~6", "commitMessage": "Fix for #307. Merged from master.", "commitDateTime": "2014-12-26 10:52:15", "authoredDateTime": "2014-12-26 10:52:15", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/executor/resultset/DefaultResultSetHandler.java", "insertions": 20, "deletions": 13, "lines": 33}, {"filePath": "src/test/java/org/apache/ibatis/submitted/call_setters_on_nulls/CallSettersOnNullsTest.java", "insertions": 6, "deletions": 1, "lines": 7}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler_multiple_association/Binome.java", "insertions": 66, "deletions": 0, "lines": 66}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler_multiple_association/ChildBean.java", "insertions": 42, "deletions": 0, "lines": 42}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler_multiple_association/CreateDB.sql", "insertions": 45, "deletions": 0, "lines": 45}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler_multiple_association/NestedResultHandlerMultipleAssociationTest.java", "insertions": 92, "deletions": 0, "lines": 92}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler_multiple_association/ParentBean.java", "insertions": 43, "deletions": 0, "lines": 43}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler_multiple_association/mapper.xml", "insertions": 52, "deletions": 0, "lines": 52}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler_multiple_association/mybatis-config.xml", "insertions": 40, "deletions": 0, "lines": 40}], "commitSpoonAstDiffStats": [{"spoonFilePath": "DefaultResultSetHandler.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.executor.resultset.DefaultResultSetHandler", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.getPropertyMappingValue(java.sql.ResultSet,org.apache.ibatis.reflection.MetaObject,org.apache.ibatis.mapping.ResultMapping,org.apache.ibatis.executor.loader.ResultLoaderMap,java.lang.String)", "TOT": 6, "UPD": 1, "INS": 0, "MOV": 3, "DEL": 2}, {"spoonMethodName": "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.applyPropertyMappings(org.apache.ibatis.executor.resultset.ResultSetWrapper,org.apache.ibatis.mapping.ResultMap,org.apache.ibatis.reflection.MetaObject,org.apache.ibatis.executor.loader.ResultLoaderMap,java.lang.String)", "TOT": 16, "UPD": 1, "INS": 5, "MOV": 7, "DEL": 3}, {"spoonMethodName": "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.getNestedQueryMappingValue(java.sql.ResultSet,org.apache.ibatis.reflection.MetaObject,org.apache.ibatis.mapping.ResultMapping,org.apache.ibatis.executor.loader.ResultLoaderMap,java.lang.String)", "TOT": 4, "UPD": 0, "INS": 3, "MOV": 0, "DEL": 1}]}, {"spoonFilePath": "CallSettersOnNullsTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.call_setters_on_nulls.CallSettersOnNullsTest.shouldCallNullOnMapForSingleColumnWithResultMap()", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "Binome.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.nestedresulthandler_multiple_association.Binome", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "ChildBean.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.nestedresulthandler_multiple_association.ChildBean", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "NestedResultHandlerMultipleAssociationTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.nestedresulthandler_multiple_association.NestedResultHandlerMultipleAssociationTest", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "ParentBean.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.nestedresulthandler_multiple_association.ParentBean", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "b5cf7875f7c2cb2c9d4ee98acad0de525e59ecc9", "commitGHEventType": "referenced", "commitUser": "harawata", "commitParents": ["59172851aa640571a24b568a50a8cefe3a0d70bc"], "nameRev": "b5cf7875f7c2cb2c9d4ee98acad0de525e59ecc9 tags/mybatis-3.4.1~24", "commitMessage": "Corrected inconsistency between autoMapping=true and false when callSetterOnNull is true. Related to #307 and #62 .\n", "commitDateTime": "2016-04-30 01:55:07", "authoredDateTime": "2016-04-30 01:12:19", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/executor/resultset/DefaultResultSetHandler.java", "insertions": 2, "deletions": 3, "lines": 5}, {"filePath": "src/test/java/org/apache/ibatis/submitted/call_setters_on_nulls/CallSettersOnNullsTest.java", "insertions": 5, "deletions": 2, "lines": 7}], "commitSpoonAstDiffStats": [{"spoonFilePath": "DefaultResultSetHandler.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.applyAutomaticMappings(org.apache.ibatis.executor.resultset.ResultSetWrapper,org.apache.ibatis.mapping.ResultMap,org.apache.ibatis.reflection.MetaObject,java.lang.String)", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}]}, {"spoonFilePath": "CallSettersOnNullsTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.call_setters_on_nulls.CallSettersOnNullsTest.shouldCallNullOnMapForSingleColumn()", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["b7896469fa5d96a2d7ae901f59ecde0d5de61bdb", "66efde54cb8c68088c2b3bd24024559fcdf67697", "6eda238b40f6e6bfebb79ebc6e9c0bc958095acd"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 1, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 2, "gitStatsSummary": {"insertions": 37, "deletions": 25, "lines": 62, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 60.0, "UPD": 6.0, "INS": 22.0, "MOV": 20.0, "DEL": 12.0, "spoonFilesChanged": 4, "spoonMethodsChanged": 7}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/executor/resultset"], "changesInPackagesSPOON": ["org.apache.ibatis.executor.resultset.DefaultResultSetHandler.applyPropertyMappings(org.apache.ibatis.executor.resultset.ResultSetWrapper,org.apache.ibatis.mapping.ResultMap,org.apache.ibatis.reflection.MetaObject,org.apache.ibatis.executor.loader.ResultLoaderMap,java.lang.String)", "org.apache.ibatis.executor.resultset.DefaultResultSetHandler", "org.apache.ibatis.submitted.nestedresulthandler_multiple_association.Binome", "org.apache.ibatis.submitted.nestedresulthandler_multiple_association.ParentBean", "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.getPropertyMappingValue(java.sql.ResultSet,org.apache.ibatis.reflection.MetaObject,org.apache.ibatis.mapping.ResultMapping,org.apache.ibatis.executor.loader.ResultLoaderMap,java.lang.String)", "org.apache.ibatis.submitted.nestedresulthandler_multiple_association.ChildBean", "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.getNestedQueryMappingValue(java.sql.ResultSet,org.apache.ibatis.reflection.MetaObject,org.apache.ibatis.mapping.ResultMapping,org.apache.ibatis.executor.loader.ResultLoaderMap,java.lang.String)"]}, {"title": "Enums with implementations incorrectly use String even if you specify ordinal TypeHandler", "body": "If you have an enum that has values that are sub-classes of the enum class, MyBatis uses Strings instead of ordinals. Here's an example of an enum constant values with implementations:\n\n``` java\npublic enum TimeUnit {\n  mins {\n    @Override\n    public long toMinutes(long duration) {\n      return duration;\n    }\n  },\n\n  hours {\n    @Override\n    public long toMinutes(long duration) {\n      return 60 * duration;\n    }\n  },\n\n  days {\n    @Override\n    public long toMinutes(long duration) {\n      return 24 * 60 * duration;\n    }\n  },\n\n  months {\n    @Override\n    public long toMinutes(long duration) {\n      return 30 * 24 * 60 * duration;\n    }\n  },\n\n  years {\n    @Override\n    public long toMinutes(long duration) {\n      return 365 * 24 * 60 * duration;\n    }\n  };\n\n  public long toMinutes(long duration) {\n    throw new AbstractMethodError();\n  }\n}\n```\n", "url": "https://github.com/mybatis/mybatis-3/issues/294", "user": "voidmain", "labels": ["bug"], "created": "2014-11-14 22:02:02", "closed": "2017-02-25 02:32:31", "commits": {}, "ttf": 833.0002777777778, "commitsDetails": []}, {"title": "Does not work correctly the RowBonds mechanism when use the ResultHandler to nested result map", "body": "It has been obtain unnecessarily one row.\n\nFor example...\nWhen specified `new RowBounds(1,2)`,\nExpected result is collect the 2 & 3 rows(total 2 rows). But actual result is collect 2 & 3 & 4 rows(total 3 rows).\n\nThis behavior is bug ? restriction(wrong use) ? \n\n**Schema & Data**\n\n``` sql\nDROP TABLE t_account_address;\nDROP TABLE t_account;\nCREATE TABLE t_account(\n  account_uuid CHAR(36)\n  ,account_name NVARCHAR2(256)\n  ,birth_date TIMESTAMP\n  ,CONSTRAINT t_account_pk PRIMARY KEY (account_uuid)\n);\nCREATE TABLE t_account_address(\n   account_uuid CHAR(36)\n  ,zip_code CHAR(7)\n  ,address  NVARCHAR2(256)\n  ,CONSTRAINT t_account_address_pk PRIMARY KEY (account_uuid)\n);\nCOMMIT;\n```\n\n``` sql\nINSERT INTO t_account (account_uuid,account_name,birth_date) VALUES ('4d3c8bdd-5379-4aeb-bc56-fcb01eb7cc01', 'Bob1', '2014-01-01 00:00:00.000');\nINSERT INTO t_account (account_uuid,account_name,birth_date) VALUES ('4d3c8bdd-5379-4aeb-bc56-fcb01eb7cc02', 'Bob2', '2014-01-02 00:00:00.000');\nINSERT INTO t_account (account_uuid,account_name,birth_date) VALUES ('4d3c8bdd-5379-4aeb-bc56-fcb01eb7cc03', 'Bob3', '2014-01-03 00:00:00.000');\nINSERT INTO t_account (account_uuid,account_name,birth_date) VALUES ('4d3c8bdd-5379-4aeb-bc56-fcb01eb7cc04', 'Bob4', '2014-01-04 00:00:00.000');\nINSERT INTO t_account (account_uuid,account_name,birth_date) VALUES ('4d3c8bdd-5379-4aeb-bc56-fcb01eb7cc05', 'Bob5', '2014-01-05 00:00:00.000');\nINSERT INTO t_account (account_uuid,account_name,birth_date) VALUES ('4d3c8bdd-5379-4aeb-bc56-fcb01eb7cc11', 'Mark1', '2014-02-01 00:00:00.000');\n\nINSERT INTO t_account_address (account_uuid,zip_code,address) VALUES ('4d3c8bdd-5379-4aeb-bc56-fcb01eb7cc02', '1710051', 'Tokyo Toshimaku Nagasaki');\n\nCOMMIT;\n```\n\n**Java Bean**\n\n``` java\npublic class Account implements Serializable {\n\n    private String accountUuid;\n    private String accountName;\n    private DateTime birthDate;\n    private AccountAddress address;\n    // ...\n}\n```\n\n``` java\npublic class AccountAddress implements Serializable {\n\n    private String accountUuid;\n    private String zipCode;\n    private String address;\n    // ...\n}\n```\n\n**Mapper XML**\n\n``` xml\n<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n<!DOCTYPE mapper PUBLIC \"-//mybatis.org//DTD Mapper 3.0//EN\" \"http://mybatis.org/dtd/mybatis-3-mapper.dtd\" >\n<mapper namespace=\"com.example.domain.repository.account.AccountRepository\">\n    <resultMap id=\"resultMapAccount\" type=\"Account\">\n        <id property=\"accountUuid\" column=\"account_uuid\" />\n        <result property=\"accountName\" column=\"account_name\" />\n        <result property=\"birthDate\" column=\"birth_date\" />\n        <association property=\"address\" javaType=\"AccountAddress\">\n            <id property=\"accountUuid\" column=\"account_uuid\" />\n            <result property=\"zipCode\" column=\"zip_code\" />\n            <result property=\"address\" column=\"address\" />\n        </association>\n    </resultMap>\n    <select id=\"collectPageByBirthMonth\" resultMap=\"resultMapAccount\" resultOrdered=\"true\">\n        <![CDATA[\n        SELECT\n          a.account_uuid\n          ,a.account_name\n          ,a.birth_date\n          ,aa.zip_code\n          ,aa.address\n        FROM\n          t_account a\n        LEFT OUTER JOIN\n          t_account_address aa\n            ON aa.account_uuid = a.account_uuid\n        WHERE\n          a.birth_date >= #{birthMonth} AND a.birth_date < ADD_MONTHS(#{birthMonth}, 1)\n        ORDER BY\n          a.account_uuid\n        ]]>\n    </select>\n</mapper>\n```\n\n**Mapper Interface**\n\n``` java\npublic interface AccountRepository {\n    void collectPageByBirthMonth(DateTime birthMonth, RowBounds rowBounds, ResultHandler handler);\n}\n```\n\n**Client Class**\n\n``` java\n@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(locations = {\"classpath:com/example/test/resulthandler/ResultHandlerTest.xml\"})\npublic class ResultHandlerTest {\n\n    @Inject\n    AccountRepository accountRepository;\n\n    @Transactional\n    @Test\n    public void rowhandlerWithRowBounds() throws IOException {\n\n        try (BufferedWriter out = new BufferedWriter(new FileWriter(new File(\"./log\", \"loadedAccount\" + System.currentTimeMillis() + \".csv\")))) {\n            DateTime targetMonth = DateTime.parse(\"2014-01-01\", DateTimeFormat.forPattern(\"yyyy-MM-dd\"));\n            accountRepository.collectPageByBirthMonth(targetMonth, new RowBounds(1, 2), new ResultHandler() {\n                @Override\n                public void handleResult(ResultContext context) {\n                    Account account = (Account) context.getResultObject();\n                    try {\n                        out.append(String.valueOf(context.getResultCount()));\n                        out.append(',');\n                        out.append(account.getAccountUuid());\n                        out.append(',');\n                        out.append(account.getAccountName());\n                        out.append(',');\n                        out.append(account.getBirthDate().toString(\"yyyy-MM-dd\"));\n                        if(account.getAddress() != null){\n                            out.append(',');\n                            out.append(account.getAddress().getAccountUuid());\n                            out.append(',');\n                            out.append(account.getAddress().getZipCode());\n                            out.append(',');\n                            out.append(account.getAddress().getAddress());\n                        }\n                        out.newLine();\n                    } catch (IOException e) {\n                        throw new SystemException(\"e.xx.fw.9001\", e);\n                    }\n                }\n            });\n        }\n    }\n}\n```\n", "url": "https://github.com/mybatis/mybatis-3/issues/273", "user": "kazuki43zoo", "labels": ["bug"], "created": "2014-09-28 15:53:15", "closed": "2014-09-29 17:39:15", "commits": {"fc8c6d25c1e8266221bf0a9054f2233672cddd99": {"commitGHEventType": "closed", "commitUser": "harawata"}, "82c85dc2913f0538b818f5177dba8e6f6db35a8e": {"commitGHEventType": "referenced", "commitUser": "harawata"}}, "ttf": 1.0002777777777778, "commitsDetails": [{"commitHash": "fc8c6d25c1e8266221bf0a9054f2233672cddd99", "commitGHEventType": "closed", "commitUser": "harawata", "commitParents": ["8638f0e06de38b60f5d34b5df7f7d2a886cc52c5"], "nameRev": "fc8c6d25c1e8266221bf0a9054f2233672cddd99 tags/mybatis-3.3.0~61^2~1", "commitMessage": "Fixes #273 An extra call to ResultHandler#handleResult is made for a nested result map.\n", "commitDateTime": "2014-09-30 02:36:26", "authoredDateTime": "2014-09-29 15:12:34", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/executor/resultset/DefaultResultSetHandler.java", "insertions": 5, "deletions": 5, "lines": 10}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler_association/Account.java", "insertions": 61, "deletions": 0, "lines": 61}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler_association/AccountAddress.java", "insertions": 49, "deletions": 0, "lines": 49}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler_association/AccountRepository.xml", "insertions": 48, "deletions": 0, "lines": 48}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler_association/CreateDB.sql", "insertions": 37, "deletions": 0, "lines": 37}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler_association/NestedResultHandlerAssociationTest.java", "insertions": 106, "deletions": 0, "lines": 106}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler_association/mybatis-config.xml", "insertions": 40, "deletions": 0, "lines": 40}], "commitSpoonAstDiffStats": [{"spoonFilePath": "DefaultResultSetHandler.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleRowValuesForSimpleResultMap(org.apache.ibatis.executor.resultset.ResultSetWrapper,org.apache.ibatis.mapping.ResultMap,org.apache.ibatis.session.ResultHandler,org.apache.ibatis.session.RowBounds,org.apache.ibatis.mapping.ResultMapping)", "TOT": 6, "UPD": 0, "INS": 1, "MOV": 4, "DEL": 1}, {"spoonMethodName": "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.shouldProcessMoreRows(java.sql.ResultSet,org.apache.ibatis.session.ResultContext,org.apache.ibatis.session.RowBounds)", "TOT": 3, "UPD": 0, "INS": 0, "MOV": 1, "DEL": 2}, {"spoonMethodName": "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleRowValuesForNestedResultMap(org.apache.ibatis.executor.resultset.ResultSetWrapper,org.apache.ibatis.mapping.ResultMap,org.apache.ibatis.session.ResultHandler,org.apache.ibatis.session.RowBounds,org.apache.ibatis.mapping.ResultMapping)", "TOT": 8, "UPD": 0, "INS": 2, "MOV": 5, "DEL": 1}]}, {"spoonFilePath": "Account.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.nestedresulthandler_association.Account", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "AccountAddress.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.nestedresulthandler_association.AccountAddress", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "NestedResultHandlerAssociationTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.nestedresulthandler_association.NestedResultHandlerAssociationTest", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "82c85dc2913f0538b818f5177dba8e6f6db35a8e", "commitGHEventType": "referenced", "commitUser": "harawata", "commitParents": ["cbacd883a93fcd06419ec93652b59fcbae9f7eba"], "nameRev": "82c85dc2913f0538b818f5177dba8e6f6db35a8e tags/mybatis-3.2.8~9", "commitMessage": "Fixes #273 An extra call to ResultHandler#handleResult is made for a nested result map.\n", "commitDateTime": "2014-10-09 10:02:23", "authoredDateTime": "2014-09-29 15:12:34", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/executor/resultset/DefaultResultSetHandler.java", "insertions": 5, "deletions": 5, "lines": 10}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler_association/Account.java", "insertions": 61, "deletions": 0, "lines": 61}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler_association/AccountAddress.java", "insertions": 49, "deletions": 0, "lines": 49}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler_association/AccountRepository.xml", "insertions": 48, "deletions": 0, "lines": 48}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler_association/CreateDB.sql", "insertions": 37, "deletions": 0, "lines": 37}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler_association/NestedResultHandlerAssociationTest.java", "insertions": 106, "deletions": 0, "lines": 106}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler_association/mybatis-config.xml", "insertions": 40, "deletions": 0, "lines": 40}], "commitSpoonAstDiffStats": [{"spoonFilePath": "DefaultResultSetHandler.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleRowValuesForSimpleResultMap(org.apache.ibatis.executor.resultset.ResultSetWrapper,org.apache.ibatis.mapping.ResultMap,org.apache.ibatis.session.ResultHandler,org.apache.ibatis.session.RowBounds,org.apache.ibatis.mapping.ResultMapping)", "TOT": 6, "UPD": 0, "INS": 1, "MOV": 4, "DEL": 1}, {"spoonMethodName": "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.shouldProcessMoreRows(java.sql.ResultSet,org.apache.ibatis.session.ResultContext,org.apache.ibatis.session.RowBounds)", "TOT": 3, "UPD": 0, "INS": 0, "MOV": 1, "DEL": 2}, {"spoonMethodName": "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleRowValuesForNestedResultMap(org.apache.ibatis.executor.resultset.ResultSetWrapper,org.apache.ibatis.mapping.ResultMap,org.apache.ibatis.session.ResultHandler,org.apache.ibatis.session.RowBounds,org.apache.ibatis.mapping.ResultMapping)", "TOT": 8, "UPD": 0, "INS": 2, "MOV": 5, "DEL": 1}]}, {"spoonFilePath": "Account.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.nestedresulthandler_association.Account", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "AccountAddress.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.nestedresulthandler_association.AccountAddress", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "NestedResultHandlerAssociationTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.nestedresulthandler_association.NestedResultHandlerAssociationTest", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["fc8c6d25c1e8266221bf0a9054f2233672cddd99"], "filteredCommitsReason": {"duplicated": 1, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 5, "deletions": 5, "lines": 10, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 19, "UPD": 0, "INS": 5, "MOV": 10, "DEL": 4, "spoonFilesChanged": 3, "spoonMethodsChanged": 5}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/executor/resultset"], "changesInPackagesSPOON": ["org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleRowValuesForSimpleResultMap(org.apache.ibatis.executor.resultset.ResultSetWrapper,org.apache.ibatis.mapping.ResultMap,org.apache.ibatis.session.ResultHandler,org.apache.ibatis.session.RowBounds,org.apache.ibatis.mapping.ResultMapping)", "org.apache.ibatis.submitted.nestedresulthandler_association.AccountAddress", "org.apache.ibatis.submitted.nestedresulthandler_association.Account", "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.shouldProcessMoreRows(java.sql.ResultSet,org.apache.ibatis.session.ResultContext,org.apache.ibatis.session.RowBounds)", "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleRowValuesForNestedResultMap(org.apache.ibatis.executor.resultset.ResultSetWrapper,org.apache.ibatis.mapping.ResultMap,org.apache.ibatis.session.ResultHandler,org.apache.ibatis.session.RowBounds,org.apache.ibatis.mapping.ResultMapping)"]}, {"title": "@CacheNamespace default values are inconsistent", "body": "The defaults are:\nLRU\n1024\nreadWrite\nNo flush interval\n\nThis is consistent between the user guide and the XMLMapperBuilder. I could not find that 6000 ms you found in the code.\n\nBut @CacheNamespace is clearly wrong:\n\nsize = 1000 -> should be 1024\nflushInterval = 3600000  -> should be 0\nreadWrite = true\n", "url": "https://github.com/mybatis/mybatis-3/issues/272", "user": "emacarron", "labels": ["bug"], "created": "2014-09-24 04:49:54", "closed": "2014-09-24 14:14:38", "commits": {"326fb1af041fa1d21330d46206201a9aa9195e52": {"commitGHEventType": "closed", "commitUser": "emacarron"}, "ea41358b6868d60f17444b42903755e3ba440029": {"commitGHEventType": "referenced", "commitUser": "emacarron"}}, "ttf": 0.0002777777777777778, "commitsDetails": [{"commitHash": "326fb1af041fa1d21330d46206201a9aa9195e52", "commitGHEventType": "closed", "commitUser": "emacarron", "commitParents": ["c96745233054d2cc201309c219c03cf25a413f81"], "nameRev": "326fb1af041fa1d21330d46206201a9aa9195e52 tags/mybatis-3.3.0~65", "commitMessage": "Fixes #272. Defaults for @CacheNamespace do not match those of <cache> ", "commitDateTime": "2014-09-24 16:14:27", "authoredDateTime": "2014-09-24 16:14:27", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/annotations/CacheNamespace.java", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "src/main/java/org/apache/ibatis/builder/annotation/MapperAnnotationBuilder.java", "insertions": 3, "deletions": 1, "lines": 4}], "commitSpoonAstDiffStats": [{"spoonFilePath": "CacheNamespace.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.annotations.flushInterval()", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.annotations.size()", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.annotations.readWrite()", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "MapperAnnotationBuilder.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.builder.annotation.MapperAnnotationBuilder.parseCache()", "TOT": 6, "UPD": 0, "INS": 4, "MOV": 2, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "ea41358b6868d60f17444b42903755e3ba440029", "commitGHEventType": "referenced", "commitUser": "emacarron", "commitParents": ["326fb1af041fa1d21330d46206201a9aa9195e52"], "nameRev": "ea41358b6868d60f17444b42903755e3ba440029 tags/mybatis-3.3.0~64", "commitMessage": "Wrong change for #272. Default value for readWrite is true.", "commitDateTime": "2014-09-28 09:28:50", "authoredDateTime": "2014-09-28 09:28:50", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/annotations/CacheNamespace.java", "insertions": 2, "deletions": 1, "lines": 3}], "commitSpoonAstDiffStats": [{"spoonFilePath": "CacheNamespace.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.annotations.readWrite()", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["326fb1af041fa1d21330d46206201a9aa9195e52", "ea41358b6868d60f17444b42903755e3ba440029"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 2, "gitStatsSummary": {"insertions": 8, "deletions": 5, "lines": 13, "gitFilesChange": 2}, "spoonStatsSummary": {"TOT": 10, "UPD": 4, "INS": 4, "MOV": 2, "DEL": 0, "spoonFilesChanged": 2, "spoonMethodsChanged": 4}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/annotations", "src/main/java/org/apache/ibatis/builder/annotation"], "changesInPackagesSPOON": ["org.apache.ibatis.annotations.readWrite()", "org.apache.ibatis.annotations.size()", "org.apache.ibatis.annotations.flushInterval()", "org.apache.ibatis.builder.annotation.MapperAnnotationBuilder.parseCache()"]}, {"title": "ava.lang.IllegalArgumentException: No enum constant org.apache.ibatis.type.JdbcType.Long", "body": "when i upgrade 3.2.3 to 3.2.6(3.2.7), appear the follow error:\n\nnested exception is org.apache.ibatis.builder.BuilderException: Error parsing Mapper XML. Cause: org.apache.ibatis.builder.BuilderException: Error resolving JdbcType. Cause: java.lang.IllegalArgumentException: No enum constant org.apache.ibatis.type.JdbcType.Long\n", "url": "https://github.com/mybatis/mybatis-3/issues/264", "user": "hongfuli", "labels": ["bug"], "created": "2014-09-01 12:42:15", "closed": "2014-12-22 16:08:16", "commits": {}, "ttf": 112.00027777777778, "commitsDetails": []}, {"title": "associations broken for primitive types", "body": "Associations don't work when a resultMap has an <association .../> element and the property associated with the assocation is a primitive array (e.g. int[]) and the sub-select's resultType is of type int.\n\nMyBatis has the result correctly returned in a int[], but the code fails because it tries to cast that result into an Object [].\n\nThe only way I could get this to work was to change the setter of my property to take an Integer[] instead of an int[].\n\nThis used to work in MyBatis 2.\n", "url": "https://github.com/mybatis/mybatis-3/issues/259", "user": "javastu", "labels": ["bug"], "created": "2014-08-18 21:55:12", "closed": "2014-09-04 05:52:16", "commits": {"21699ece1a69ea506372450de3515d2340dff953": {"commitGHEventType": "closed", "commitUser": "harawata"}, "cbacd883a93fcd06419ec93652b59fcbae9f7eba": {"commitGHEventType": "referenced", "commitUser": "harawata"}}, "ttf": 16.00027777777778, "commitsDetails": [{"commitHash": "21699ece1a69ea506372450de3515d2340dff953", "commitGHEventType": "closed", "commitUser": "harawata", "commitParents": ["a4aaa1b49398bd854b428a7316a1fb702b45af9f"], "nameRev": "21699ece1a69ea506372450de3515d2340dff953 tags/mybatis-3.3.0~77^2", "commitMessage": "Fixes #259 association element fails to map results of the nested select to a primitive array property.\n", "commitDateTime": "2014-09-04 14:51:36", "authoredDateTime": "2014-09-04 14:51:36", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/executor/ResultExtractor.java", "insertions": 10, "deletions": 2, "lines": 12}, {"filePath": "src/test/java/org/apache/ibatis/submitted/primitive_array/CreateDB.sql", "insertions": 30, "deletions": 0, "lines": 30}, {"filePath": "src/test/java/org/apache/ibatis/submitted/primitive_array/Mapper.java", "insertions": 22, "deletions": 0, "lines": 22}, {"filePath": "src/test/java/org/apache/ibatis/submitted/primitive_array/Mapper.xml", "insertions": 40, "deletions": 0, "lines": 40}, {"filePath": "src/test/java/org/apache/ibatis/submitted/primitive_array/PrimitiveArrayTest.java", "insertions": 66, "deletions": 0, "lines": 66}, {"filePath": "src/test/java/org/apache/ibatis/submitted/primitive_array/User.java", "insertions": 47, "deletions": 0, "lines": 47}, {"filePath": "src/test/java/org/apache/ibatis/submitted/primitive_array/mybatis-config.xml", "insertions": 40, "deletions": 0, "lines": 40}], "commitSpoonAstDiffStats": [{"spoonFilePath": "ResultExtractor.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.executor.ResultExtractor.extractObjectFromList(java.util.List,java.lang.Class)", "TOT": 6, "UPD": 1, "INS": 3, "MOV": 2, "DEL": 0}]}, {"spoonFilePath": "Mapper.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.primitive_array", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "PrimitiveArrayTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.primitive_array.PrimitiveArrayTest", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "User.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.primitive_array.User", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "cbacd883a93fcd06419ec93652b59fcbae9f7eba", "commitGHEventType": "referenced", "commitUser": "harawata", "commitParents": ["62fe78a2256c3f16a3a4df0b53da06a72ea0bd2a"], "nameRev": "cbacd883a93fcd06419ec93652b59fcbae9f7eba tags/mybatis-3.2.8~10", "commitMessage": "Fixes #259 association element fails to map results of the nested select to a primitive array property.\n", "commitDateTime": "2014-10-09 10:02:23", "authoredDateTime": "2014-09-04 14:51:36", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/executor/ResultExtractor.java", "insertions": 10, "deletions": 2, "lines": 12}, {"filePath": "src/test/java/org/apache/ibatis/submitted/primitive_array/CreateDB.sql", "insertions": 30, "deletions": 0, "lines": 30}, {"filePath": "src/test/java/org/apache/ibatis/submitted/primitive_array/Mapper.java", "insertions": 22, "deletions": 0, "lines": 22}, {"filePath": "src/test/java/org/apache/ibatis/submitted/primitive_array/Mapper.xml", "insertions": 40, "deletions": 0, "lines": 40}, {"filePath": "src/test/java/org/apache/ibatis/submitted/primitive_array/PrimitiveArrayTest.java", "insertions": 66, "deletions": 0, "lines": 66}, {"filePath": "src/test/java/org/apache/ibatis/submitted/primitive_array/User.java", "insertions": 47, "deletions": 0, "lines": 47}, {"filePath": "src/test/java/org/apache/ibatis/submitted/primitive_array/mybatis-config.xml", "insertions": 40, "deletions": 0, "lines": 40}], "commitSpoonAstDiffStats": [{"spoonFilePath": "ResultExtractor.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.executor.ResultExtractor.extractObjectFromList(java.util.List,java.lang.Class)", "TOT": 6, "UPD": 1, "INS": 3, "MOV": 2, "DEL": 0}]}, {"spoonFilePath": "Mapper.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.primitive_array", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "PrimitiveArrayTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.primitive_array.PrimitiveArrayTest", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "User.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.primitive_array.User", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["21699ece1a69ea506372450de3515d2340dff953"], "filteredCommitsReason": {"duplicated": 1, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 10, "deletions": 2, "lines": 12, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 8, "UPD": 1, "INS": 5, "MOV": 2, "DEL": 0, "spoonFilesChanged": 3, "spoonMethodsChanged": 3}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/executor"], "changesInPackagesSPOON": ["org.apache.ibatis.submitted.primitive_array.User", "org.apache.ibatis.submitted.primitive_array", "org.apache.ibatis.executor.ResultExtractor.extractObjectFromList(java.util.List,java.lang.Class)"]}, {"title": "MapperAnnotationBuilder doesn't handle Java 8 compiler change for generic interfaces", "body": "The change in the Java 8 compiler described [here](https://bugs.openjdk.java.net/browse/JDK-6695379) causes MyBatis to fail when parsing annotated mapper interfaces which use generics.  In short, the new Java 8 compiler, when compiling an interface that extends a generic interface, creates shadow synthetic bridge methods in the generated class file **with the same name and annotations** as the methods declared in the generic interface.  The generated class file contains two methods with the same name and annotation.  This causes MyBatis to throw the following exception when parsing the mapper class file:\n\n> Error while adding the mapper 'interface MyMapper' to configuration.\n> java.lang.IllegalArgumentException: Mapped Statements collection already contains value for MyMapper.insert!selectKey\n\nNote that the current Eclipse Java 8 compiler does not exhibit this behavior.  It works the same way as the Java 7 compiler.\n\nThe following code demonstrates the problem:\n\n``` java\npublic class GenericTest \n{\n    @Target(METHOD)\n    @Retention(RetentionPolicy.RUNTIME)\n    public @interface BogusMyBatisSqlAnnotation {\n    }\n\n    public class MyModel {\n    }\n\n    public interface BaseMapper<M> {\n        public void insert(M model);\n    }\n\n    public interface MyModelMapper extends BaseMapper<MyModel> {\n        @BogusMyBatisSqlAnnotation\n        @Override\n        public void insert(MyModel model);\n    }\n\n    public static void main( String[] args )\n    {\n        printMethodList(MyModelMapper.class);\n    }\n\n    public static void printMethodList(Class<?> clazz) {\n        System.out.println();\n        System.out.println(clazz.getSimpleName());\n        Method[] interfaceMethods = clazz.getMethods();\n        for (Method method : interfaceMethods) {\n            System.out.println(\"  \" + method);\n            System.out.println(\"    isSynthetic = \" + method.isSynthetic() + \", isBridge = \" + method.isBridge());\n            if (method.getAnnotations().length > 0) {\n                for (Annotation annotation : method.getAnnotations()) {\n                    System.out.println(\"    Annotation = \" + annotation);\n                }\n            } else {\n                System.out.println(\"    NO ANNOTATIONS!\");\n            }\n        }\n    }\n}\n```\n\nWhen compiled in Java 7 source mode the output is:\n\n```\nMyModelMapper\n  public abstract void GenericTest$MyModelMapper.insert(GenericTest$MyModel)\n    isSynthetic = false, isBridge = false\n    Annotation = @GenericTest$BogusMyBatisSqlAnnotation()\n  public abstract void GenericTest$BaseMapper.insert(java.lang.Object)\n    isSynthetic = false, isBridge = false\n    NO ANNOTATIONS!\n```\n\nNote that the bridge method exists but it is in the base interface class file and it is not annotated.  MyBatis 3.2.7 will successfully parse this mapper class file.\n\nWhen compiled in Java 8 source mode the output is:\n\n```\nMyModelMapper\n  public abstract void GenericTest$MyModelMapper.insert(GenericTest$MyModel)\n    isSynthetic = false, isBridge = false\n    Annotation = @GenericTest$BogusMyBatisSqlAnnotation()\n  public default void GenericTest$MyModelMapper.insert(java.lang.Object)\n    isSynthetic = true, isBridge = true\n    Annotation = @GenericTest$BogusMyBatisSqlAnnotation()\n```\n\nNote that the synthetic bridge method is now a default method, is in the sub interface class file and  has the same name and annotation as the declared interface method.  This causes MyBatis 3.2.7 to throw the exception listed above.\n", "url": "https://github.com/mybatis/mybatis-3/issues/237", "user": "John32812", "labels": ["bug"], "created": "2014-07-15 15:54:59", "closed": "2014-07-15 16:32:37", "commits": {"154f48b31ef0d311fdc29f0d8a9bf2544ccb40b1": {"commitGHEventType": "closed", "commitUser": "emacarron"}, "7e68df0437109ceacacbc5a58e717ff12bf1bd5b": {"commitGHEventType": "referenced", "commitUser": "emacarron"}, "c7659efcbee77345cc8d337eb7177335ebd5ed7f": {"commitGHEventType": "referenced", "commitUser": "emacarron"}}, "ttf": 0.0002777777777777778, "commitsDetails": [{"commitHash": "154f48b31ef0d311fdc29f0d8a9bf2544ccb40b1", "commitGHEventType": "closed", "commitUser": "emacarron", "commitParents": ["06646f36c31918baacb87daaf3231d2946dca013"], "nameRev": "154f48b31ef0d311fdc29f0d8a9bf2544ccb40b1 tags/mybatis-3.3.0~95", "commitMessage": "Fixes #237. Java8 introspection changes for generics.", "commitDateTime": "2014-07-15 18:32:39", "authoredDateTime": "2014-07-15 18:32:39", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/builder/annotation/MapperAnnotationBuilder.java", "insertions": 3, "deletions": 1, "lines": 4}], "commitSpoonAstDiffStats": [{"spoonFilePath": "MapperAnnotationBuilder.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.builder.annotation.MapperAnnotationBuilder.parse()", "TOT": 2, "UPD": 0, "INS": 1, "MOV": 1, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "7e68df0437109ceacacbc5a58e717ff12bf1bd5b", "commitGHEventType": "referenced", "commitUser": "emacarron", "commitParents": ["0ae18b88fb9bf85dda0cfe605224677beafe4bf4"], "nameRev": "7e68df0437109ceacacbc5a58e717ff12bf1bd5b tags/mybatis-3.2.8~5", "commitMessage": "Merge fix for #237 into branch 3.2.x (no tests)", "commitDateTime": "2014-10-09 21:13:11", "authoredDateTime": "2014-10-09 21:13:11", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/builder/annotation/MapperAnnotationBuilder.java", "insertions": 3, "deletions": 0, "lines": 3}], "commitSpoonAstDiffStats": [{"spoonFilePath": "MapperAnnotationBuilder.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.builder.annotation.MapperAnnotationBuilder.parse()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "c7659efcbee77345cc8d337eb7177335ebd5ed7f", "commitGHEventType": "referenced", "commitUser": "emacarron", "commitParents": ["a5bf37c5cffef9f67257621a793acd9b31525ed2"], "nameRev": "c7659efcbee77345cc8d337eb7177335ebd5ed7f tags/mybatis-3.2.8~3", "commitMessage": "Fixing wrong merge for #237", "commitDateTime": "2014-10-09 21:30:24", "authoredDateTime": "2014-10-09 21:30:24", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/builder/annotation/MapperAnnotationBuilder.java", "insertions": 0, "deletions": 1, "lines": 1}], "commitSpoonAstDiffStats": [{"spoonFilePath": "MapperAnnotationBuilder.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.builder.annotation.MapperAnnotationBuilder.parse()", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["154f48b31ef0d311fdc29f0d8a9bf2544ccb40b1", "7e68df0437109ceacacbc5a58e717ff12bf1bd5b", "c7659efcbee77345cc8d337eb7177335ebd5ed7f"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 3, "gitStatsSummary": {"insertions": 6, "deletions": 2, "lines": 8, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 4, "UPD": 0, "INS": 2, "MOV": 1, "DEL": 1, "spoonFilesChanged": 1, "spoonMethodsChanged": 1}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/builder/annotation"], "changesInPackagesSPOON": ["org.apache.ibatis.builder.annotation.MapperAnnotationBuilder.parse()"]}, {"title": "Log4j2 integration broken with rc2 release", "body": "Seems that AbstractLoggerWrapper that was the class we were using for integrating with log4j 2.x has gone in rc2.\n\nAfter some searching I found that it should be replaced with ExtendedLoggerWrapper.\n", "url": "https://github.com/mybatis/mybatis-3/issues/234", "user": "emacarron", "labels": ["bug"], "created": "2014-07-05 17:06:53", "closed": "2014-07-05 17:11:02", "commits": {"28c6f04f63e7fdb6eb7a0ffaf789dc4c157e10c0": {"commitGHEventType": "closed", "commitUser": "emacarron"}, "a5bf37c5cffef9f67257621a793acd9b31525ed2": {"commitGHEventType": "referenced", "commitUser": "emacarron"}}, "ttf": 0.0002777777777777778, "commitsDetails": [{"commitHash": "28c6f04f63e7fdb6eb7a0ffaf789dc4c157e10c0", "commitGHEventType": "closed", "commitUser": "emacarron", "commitParents": ["6f03a3c3249a51b555b2be2931401dc6682f6eb3"], "nameRev": "28c6f04f63e7fdb6eb7a0ffaf789dc4c157e10c0 tags/mybatis-3.3.0~98", "commitMessage": "Fixes #234. Broken log4j 2.x integration with rc2.", "commitDateTime": "2014-07-05 19:10:56", "authoredDateTime": "2014-07-05 19:10:56", "commitGitStats": [{"filePath": "pom.xml", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/main/java/org/apache/ibatis/logging/log4j2/Log4j2AbstractLoggerImpl.java", "insertions": 11, "deletions": 11, "lines": 22}], "commitSpoonAstDiffStats": [{"spoonFilePath": "Log4j2AbstractLoggerImpl.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.logging.log4j2.Log4j2AbstractLoggerImpl", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.logging.log4j2.Log4j2AbstractLoggerImpl.error(java.lang.String,java.lang.Throwable)", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.logging.log4j2.Log4j2AbstractLoggerImpl.error(java.lang.String)", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.logging.log4j2.Log4j2AbstractLoggerImpl.debug(java.lang.String)", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.logging.log4j2.Log4j2AbstractLoggerImpl.trace(java.lang.String)", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.logging.log4j2.Log4j2AbstractLoggerImpl.warn(java.lang.String)", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "a5bf37c5cffef9f67257621a793acd9b31525ed2", "commitGHEventType": "referenced", "commitUser": "emacarron", "commitParents": ["7e68df0437109ceacacbc5a58e717ff12bf1bd5b"], "nameRev": "a5bf37c5cffef9f67257621a793acd9b31525ed2 tags/mybatis-3.2.8~4", "commitMessage": "Merge fix for #234 into 3.2.x branch", "commitDateTime": "2014-10-09 21:20:14", "authoredDateTime": "2014-10-09 21:20:14", "commitGitStats": [{"filePath": "pom.xml", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/main/java/org/apache/ibatis/logging/log4j2/Log4j2AbstractLoggerImpl.java", "insertions": 18, "deletions": 11, "lines": 29}], "commitSpoonAstDiffStats": [{"spoonFilePath": "Log4j2AbstractLoggerImpl.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.logging.log4j2.Log4j2AbstractLoggerImpl", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.logging.log4j2.Log4j2AbstractLoggerImpl.error(java.lang.String,java.lang.Throwable)", "TOT": 2, "UPD": 1, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.logging.log4j2.Log4j2AbstractLoggerImpl.error(java.lang.String)", "TOT": 2, "UPD": 1, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.logging.log4j2.Log4j2AbstractLoggerImpl.debug(java.lang.String)", "TOT": 2, "UPD": 1, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.logging.log4j2.Log4j2AbstractLoggerImpl.trace(java.lang.String)", "TOT": 2, "UPD": 1, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.logging.log4j2.Log4j2AbstractLoggerImpl.warn(java.lang.String)", "TOT": 2, "UPD": 1, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.logging.log4j2.Log4j2AbstractLoggerImpl.isDebugEnabled()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.logging.log4j2.Log4j2AbstractLoggerImpl.isTraceEnabled()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["28c6f04f63e7fdb6eb7a0ffaf789dc4c157e10c0", "a5bf37c5cffef9f67257621a793acd9b31525ed2"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 2, "gitStatsSummary": {"insertions": 29, "deletions": 22, "lines": 51, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 19, "UPD": 12, "INS": 7, "MOV": 0, "DEL": 0, "spoonFilesChanged": 1, "spoonMethodsChanged": 8}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/logging/log4j2"], "changesInPackagesSPOON": ["org.apache.ibatis.logging.log4j2.Log4j2AbstractLoggerImpl.error(java.lang.String)", "org.apache.ibatis.logging.log4j2.Log4j2AbstractLoggerImpl.debug(java.lang.String)", "org.apache.ibatis.logging.log4j2.Log4j2AbstractLoggerImpl", "org.apache.ibatis.logging.log4j2.Log4j2AbstractLoggerImpl.warn(java.lang.String)", "org.apache.ibatis.logging.log4j2.Log4j2AbstractLoggerImpl.error(java.lang.String,java.lang.Throwable)", "org.apache.ibatis.logging.log4j2.Log4j2AbstractLoggerImpl.trace(java.lang.String)", "org.apache.ibatis.logging.log4j2.Log4j2AbstractLoggerImpl.isTraceEnabled()", "org.apache.ibatis.logging.log4j2.Log4j2AbstractLoggerImpl.isDebugEnabled()"]}, {"title": "OGNL 2.6.9 bug is affecting mybatis when there is a heavy load on startup.", "body": "There is an [OGNL 2.6.9 bug](https://issues.apache.org/jira/browse/OGNL-121) that can cause a NullPointerException when MyBatis is initialized under heavy load. \n\nPlease update OGNL\n\n(see also pull request https://github.com/mybatis/mybatis-3/pull/226)\n", "url": "https://github.com/mybatis/mybatis-3/issues/224", "user": "qlp", "labels": ["bug"], "created": "2014-06-17 12:49:23", "closed": "2014-07-05 17:28:04", "commits": {"0b1a6a9f7f837b7aacf764455b6461e85dee313e": {"commitGHEventType": "closed", "commitUser": "emacarron"}, "116e4946fcd6c7eeb3f12bff04b4a5dcb8d9c9a0": {"commitGHEventType": "referenced", "commitUser": "emacarron"}, "d00c864cb33d81c34245c97904323760ac2a26d8": {"commitGHEventType": "referenced", "commitUser": "emacarron"}, "0fe11e5a24f3700e79f5cc9f0bb25d65ed826d3c": {"commitGHEventType": "referenced", "commitUser": "emacarron"}, "a026480608418e4aba10d2ca7faa5968e72522b9": {"commitGHEventType": "referenced", "commitUser": "emacarron"}}, "ttf": 18.00027777777778, "commitsDetails": [{"commitHash": "0b1a6a9f7f837b7aacf764455b6461e85dee313e", "commitGHEventType": "closed", "commitUser": "emacarron", "commitParents": ["52d4c9bcc00c2ae200bb0dc66b18c762e0e49089"], "nameRev": "0b1a6a9f7f837b7aacf764455b6461e85dee313e tags/mybatis-3.3.0~105", "commitMessage": "Fixes #224. OGNL upgraded to 3.0.8 (without Javassist)", "commitDateTime": "2014-06-21 17:21:57", "authoredDateTime": "2014-06-21 17:21:57", "commitGitStats": [{"filePath": "pom.xml", "insertions": 21, "deletions": 1, "lines": 22}, {"filePath": "src/main/java/org/apache/ibatis/scripting/xmltags/DynamicContext.java", "insertions": 11, "deletions": 0, "lines": 11}, {"filePath": "src/test/java/org/apache/ibatis/submitted/heavy_initial_load/Code.java", "insertions": 15, "deletions": 0, "lines": 15}], "commitSpoonAstDiffStats": [{"spoonFilePath": "DynamicContext.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.scripting.xmltags.DynamicContext.ContextAccessor.getSourceAccessor(ognl.OgnlContext,java.lang.Object,java.lang.Object)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.scripting.xmltags.DynamicContext.ContextAccessor.getSourceSetter(ognl.OgnlContext,java.lang.Object,java.lang.Object)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "Code.java", "spoonMethods": []}], "spoonStatsSkippedReason": ""}, {"commitHash": "116e4946fcd6c7eeb3f12bff04b4a5dcb8d9c9a0", "commitGHEventType": "referenced", "commitUser": "emacarron", "commitParents": ["0b1a6a9f7f837b7aacf764455b6461e85dee313e"], "nameRev": "116e4946fcd6c7eeb3f12bff04b4a5dcb8d9c9a0 tags/mybatis-3.3.0~104", "commitMessage": "Related to #224. Jarjar javassist and make it the default Proxy runtime.", "commitDateTime": "2014-06-24 18:29:33", "authoredDateTime": "2014-06-24 18:29:33", "commitGitStats": [{"filePath": "pom.xml", "insertions": 13, "deletions": 21, "lines": 34}, {"filePath": "src/main/java/org/apache/ibatis/session/Configuration.java", "insertions": 1, "deletions": 5, "lines": 6}, {"filePath": "src/test/java/org/apache/ibatis/binding/BindingTest.java", "insertions": 4, "deletions": 2, "lines": 6}, {"filePath": "src/test/java/org/apache/ibatis/executor/BaseExecutorTest.java", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "src/test/java/org/apache/ibatis/session/SqlSessionTest.java", "insertions": 2, "deletions": 2, "lines": 4}], "commitSpoonAstDiffStats": [{"spoonFilePath": "Configuration.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.session.Configuration.getProxyFactory()", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}, {"spoonMethodName": "org.apache.ibatis.session.Configuration", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "BindingTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.binding.BindingTest.shouldGetBlogsWithAuthorsAndPosts()", "TOT": 2, "UPD": 2, "INS": 0, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "BaseExecutorTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.executor.BaseExecutorTest.shouldFetchPostsForBlog()", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "SqlSessionTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.session.SqlSessionTest.shouldSelectBlogWithPostsAndAuthorUsingSubSelectsLazily()", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "d00c864cb33d81c34245c97904323760ac2a26d8", "commitGHEventType": "referenced", "commitUser": "emacarron", "commitParents": ["116e4946fcd6c7eeb3f12bff04b4a5dcb8d9c9a0"], "nameRev": "d00c864cb33d81c34245c97904323760ac2a26d8 tags/mybatis-3.3.0~103", "commitMessage": "Related to #224. Fix failing tests.", "commitDateTime": "2014-06-24 19:01:44", "authoredDateTime": "2014-06-24 19:01:44", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/session/Configuration.java", "insertions": 3, "deletions": 0, "lines": 3}], "commitSpoonAstDiffStats": [{"spoonFilePath": "Configuration.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.session.Configuration.setProxyFactory(org.apache.ibatis.executor.loader.ProxyFactory)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "0fe11e5a24f3700e79f5cc9f0bb25d65ed826d3c", "commitGHEventType": "referenced", "commitUser": "emacarron", "commitParents": ["d00c864cb33d81c34245c97904323760ac2a26d8"], "nameRev": "0fe11e5a24f3700e79f5cc9f0bb25d65ed826d3c tags/mybatis-3.3.0~102", "commitMessage": "Related to #224. Adding test classes to jarjar.", "commitDateTime": "2014-06-24 21:43:52", "authoredDateTime": "2014-06-24 21:43:52", "commitGitStats": [{"filePath": "pom.xml", "insertions": 1, "deletions": 0, "lines": 1}], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "a026480608418e4aba10d2ca7faa5968e72522b9", "commitGHEventType": "referenced", "commitUser": "emacarron", "commitParents": ["0fe11e5a24f3700e79f5cc9f0bb25d65ed826d3c"], "nameRev": "a026480608418e4aba10d2ca7faa5968e72522b9 tags/mybatis-3.3.0~101", "commitMessage": "Related to #224. Jarjar fails sometimes, using process-test-classes", "commitDateTime": "2014-06-24 22:37:48", "authoredDateTime": "2014-06-24 22:37:48", "commitGitStats": [{"filePath": "pom.xml", "insertions": 34, "deletions": 21, "lines": 55}], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}], "filteredCommits": ["0b1a6a9f7f837b7aacf764455b6461e85dee313e", "116e4946fcd6c7eeb3f12bff04b4a5dcb8d9c9a0", "d00c864cb33d81c34245c97904323760ac2a26d8", "0fe11e5a24f3700e79f5cc9f0bb25d65ed826d3c", "a026480608418e4aba10d2ca7faa5968e72522b9"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 3, "gitStatsSummary": {"insertions": 15, "deletions": 5, "lines": 20, "gitFilesChange": 2}, "spoonStatsSummary": {"TOT": 5.0, "UPD": 0.0, "INS": 4.0, "MOV": 0.0, "DEL": 1.0, "spoonFilesChanged": 2, "spoonMethodsChanged": 5}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/session", "src/main/java/org/apache/ibatis/scripting/xmltags"], "changesInPackagesSPOON": ["org.apache.ibatis.session.Configuration.getProxyFactory()", "org.apache.ibatis.scripting.xmltags.DynamicContext.ContextAccessor.getSourceSetter(ognl.OgnlContext,java.lang.Object,java.lang.Object)", "org.apache.ibatis.session.Configuration.setProxyFactory(org.apache.ibatis.executor.loader.ProxyFactory)", "org.apache.ibatis.session.Configuration", "org.apache.ibatis.scripting.xmltags.DynamicContext.ContextAccessor.getSourceAccessor(ognl.OgnlContext,java.lang.Object,java.lang.Object)"]}, {"title": "Circularly referenced resultMap is filled with ancestor object even when columnPrefix is specified.", "body": "mapper : \n\n``` xml\n<resultMap id=\"user\" type=\"User\">\n  <id property=\"id\" column=\"id\"/>\n  <result property=\"name\" column=\"name\"/>\n  <association property=\"superior\" resultMap=\"user\" columnPrefix=\"superior_\" />\n</resultMap>\n\n<select id=\"find\" parameterType=\"long\" resultMap=\"user\">\n  select 1 as id, 'a' as name, 2 as superior_id , 'b' as superior_name from dual\n</select>\n```\n\njava :\n\n``` java\nUser user = dao.find(1L);\nSystem.out.println(\"user.id : \" + user.getId());\nSystem.out.println(\"user.name : \" + user.getName());\nSystem.out.println(\"user.superior.id : \" + user.getSuperior().getId());\nSystem.out.println(\"user.superior.name : \" + user.getSuperior().getName());\n```\n\nresult :\n\n```\n[DEBUG] ==>  Preparing: select 1 as id, 'a' as name, 2 as superior_id , 'b' as superior_name from dual  [org.ufox.demo.dao.UserDao.find] \n[DEBUG] ==> Parameters:  [org.ufox.demo.dao.UserDao.find] \n[DEBUG] <==      Total: 1 [org.ufox.demo.dao.UserDao.find] \nuser.id : 1\nuser.name : a\nuser.superior.id : 1\nuser.superior.name : a\n```\n", "url": "https://github.com/mybatis/mybatis-3/issues/215", "user": "ooknight", "labels": ["bug"], "created": "2014-06-06 10:03:11", "closed": "2016-05-17 18:30:14", "commits": {"93757d2afc55ca92b9ad7d871f7974d591436365": {"commitGHEventType": "referenced", "commitUser": "harawata"}, "eb0edc4e328f54d118e97c59b56abb53cefb9340": {"commitGHEventType": "closed", "commitUser": "harawata"}, "f8d01ee4bdc61c8cb100fb091f3895265ff6800d": {"commitGHEventType": "referenced", "commitUser": "harawata"}, "2721aadb359218fb01d365198a9f6fb83aa1ce33": {"commitGHEventType": "referenced", "commitUser": "emacarron"}}, "ttf": 711.0002777777778, "commitsDetails": [{"commitHash": "93757d2afc55ca92b9ad7d871f7974d591436365", "commitGHEventType": "referenced", "commitUser": "harawata", "commitParents": ["0261d325222790bcf0057b612b65331d1027d666"], "nameRev": "93757d2afc55ca92b9ad7d871f7974d591436365 tags/mybatis-3.4.1~17", "commitMessage": "Failing test cases for #215 (ignored for now). It might be related to #39 as well.\n", "commitDateTime": "2016-05-13 02:40:40", "authoredDateTime": "2016-05-13 01:15:20", "commitGitStats": [{"filePath": "src/test/java/org/apache/ibatis/submitted/ancestor_ref/AncestorRefTest.java", "insertions": 79, "deletions": 0, "lines": 79}, {"filePath": "src/test/java/org/apache/ibatis/submitted/ancestor_ref/CreateDB.sql", "insertions": 34, "deletions": 0, "lines": 34}, {"filePath": "src/test/java/org/apache/ibatis/submitted/ancestor_ref/Mapper.java", "insertions": 23, "deletions": 0, "lines": 23}, {"filePath": "src/test/java/org/apache/ibatis/submitted/ancestor_ref/Mapper.xml", "insertions": 58, "deletions": 0, "lines": 58}, {"filePath": "src/test/java/org/apache/ibatis/submitted/ancestor_ref/User.java", "insertions": 57, "deletions": 0, "lines": 57}, {"filePath": "src/test/java/org/apache/ibatis/submitted/ancestor_ref/mybatis-config.xml", "insertions": 42, "deletions": 0, "lines": 42}], "commitSpoonAstDiffStats": [{"spoonFilePath": "AncestorRefTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.ancestor_ref.AncestorRefTest", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "Mapper.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.ancestor_ref", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "User.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.ancestor_ref.User", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "eb0edc4e328f54d118e97c59b56abb53cefb9340", "commitGHEventType": "closed", "commitUser": "harawata", "commitParents": ["3f19d04b6ef2a09c452c104d8eb680b37b246b0a"], "nameRev": "eb0edc4e328f54d118e97c59b56abb53cefb9340 tags/mybatis-3.4.1~14", "commitMessage": "fixes #215 There are two separate changes here. 1) A circulary referenced resultMap will be filled with ancestor only when the columnPrefix attribute is not specified for the nested result mapping. 2) When columnPrefix is specified for a nested result mapping and there is no column with that prefix in the result set, skip filling the nested result mapping to prevent stack overflow.\n", "commitDateTime": "2016-05-18 03:25:59", "authoredDateTime": "2016-05-18 03:25:59", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/executor/resultset/DefaultResultSetHandler.java", "insertions": 32, "deletions": 22, "lines": 54}, {"filePath": "src/test/java/org/apache/ibatis/submitted/ancestor_ref/AncestorRefTest.java", "insertions": 0, "deletions": 2, "lines": 2}], "commitSpoonAstDiffStats": [{"spoonFilePath": "DefaultResultSetHandler.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.anyNotNullColumnHasValue(org.apache.ibatis.mapping.ResultMapping,java.lang.String,java.sql.ResultSet)", "TOT": 16, "UPD": 3, "INS": 0, "MOV": 6, "DEL": 7}, {"spoonMethodName": "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.applyNestedResultMappings(org.apache.ibatis.executor.resultset.ResultSetWrapper,org.apache.ibatis.mapping.ResultMap,org.apache.ibatis.reflection.MetaObject,java.lang.String,org.apache.ibatis.cache.CacheKey,boolean)", "TOT": 14, "UPD": 0, "INS": 3, "MOV": 10, "DEL": 1}, {"spoonMethodName": "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.anyNotNullColumnHasValue(org.apache.ibatis.mapping.ResultMapping,java.lang.String,org.apache.ibatis.executor.resultset.ResultSetWrapper)", "TOT": 7, "UPD": 0, "INS": 7, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "AncestorRefTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.ancestor_ref.AncestorRefTest.testCircularAssociation()", "TOT": 2, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 2}, {"spoonMethodName": "org.apache.ibatis.submitted.ancestor_ref.AncestorRefTest.testCircularCollection()", "TOT": 2, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 2}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "f8d01ee4bdc61c8cb100fb091f3895265ff6800d", "commitGHEventType": "referenced", "commitUser": "harawata", "commitParents": ["9873e39cd7e6b46db6e8526d8cbfa151d7088035"], "nameRev": "f8d01ee4bdc61c8cb100fb091f3895265ff6800d tags/mybatis-3.4.1~10", "commitMessage": "Added another test case for #215. The association element in the authorResult does not have columnPrefix attribute, so MyBatis tries to lookup ancestor stored under the same resultMapID.\n", "commitDateTime": "2016-05-23 23:18:13", "authoredDateTime": "2016-05-23 23:18:02", "commitGitStats": [{"filePath": "src/test/java/org/apache/ibatis/submitted/ancestor_ref/AncestorRefTest.java", "insertions": 16, "deletions": 0, "lines": 16}, {"filePath": "src/test/java/org/apache/ibatis/submitted/ancestor_ref/Author.java", "insertions": 47, "deletions": 0, "lines": 47}, {"filePath": "src/test/java/org/apache/ibatis/submitted/ancestor_ref/Blog.java", "insertions": 56, "deletions": 0, "lines": 56}, {"filePath": "src/test/java/org/apache/ibatis/submitted/ancestor_ref/CreateDB.sql", "insertions": 21, "deletions": 0, "lines": 21}, {"filePath": "src/test/java/org/apache/ibatis/submitted/ancestor_ref/Mapper.java", "insertions": 1, "deletions": 0, "lines": 1}, {"filePath": "src/test/java/org/apache/ibatis/submitted/ancestor_ref/Mapper.xml", "insertions": 26, "deletions": 0, "lines": 26}], "commitSpoonAstDiffStats": [{"spoonFilePath": "AncestorRefTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.ancestor_ref.AncestorRefTest.testAncestorRef()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "Author.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.ancestor_ref.Author", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "Blog.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.ancestor_ref.Blog", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "Mapper.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.ancestor_ref.selectBlog(java.lang.Integer)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "2721aadb359218fb01d365198a9f6fb83aa1ce33", "commitGHEventType": "referenced", "commitUser": "emacarron", "commitParents": ["7773e0509879aa8606de436aa5f2db7a634b0b44"], "nameRev": "2721aadb359218fb01d365198a9f6fb83aa1ce33 tags/mybatis-3.4.1~8", "commitMessage": "More complex test for #215", "commitDateTime": "2016-05-26 21:11:17", "authoredDateTime": "2016-05-26 21:10:18", "commitGitStats": [{"filePath": ".gitignore", "insertions": 1, "deletions": 0, "lines": 1}, {"filePath": "src/test/java/org/apache/ibatis/submitted/ancestor_ref/AncestorRefTest.java", "insertions": 3, "deletions": 0, "lines": 3}, {"filePath": "src/test/java/org/apache/ibatis/submitted/ancestor_ref/Author.java", "insertions": 9, "deletions": 0, "lines": 9}, {"filePath": "src/test/java/org/apache/ibatis/submitted/ancestor_ref/CreateDB.sql", "insertions": 4, "deletions": 3, "lines": 7}, {"filePath": "src/test/java/org/apache/ibatis/submitted/ancestor_ref/Mapper.xml", "insertions": 9, "deletions": 2, "lines": 11}, {"filePath": "src/test/java/org/apache/ibatis/submitted/ancestor_ref/Reputation.java", "insertions": 25, "deletions": 0, "lines": 25}], "commitSpoonAstDiffStats": [{"spoonFilePath": "AncestorRefTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.ancestor_ref.AncestorRefTest.testAncestorRef()", "TOT": 2, "UPD": 0, "INS": 2, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "Author.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.ancestor_ref.Author", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.submitted.ancestor_ref.Author.getReputation()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.submitted.ancestor_ref.Author.setReputation(org.apache.ibatis.submitted.ancestor_ref.Reputation)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "Reputation.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.ancestor_ref.Reputation", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["eb0edc4e328f54d118e97c59b56abb53cefb9340", "f8d01ee4bdc61c8cb100fb091f3895265ff6800d", "2721aadb359218fb01d365198a9f6fb83aa1ce33"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 1, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 2, "gitStatsSummary": {"insertions": 33, "deletions": 22, "lines": 55, "gitFilesChange": 2}, "spoonStatsSummary": {"TOT": 44, "UPD": 3, "INS": 17, "MOV": 16, "DEL": 8, "spoonFilesChanged": 5, "spoonMethodsChanged": 9}, "statsSkippedReason": "", "changesInPackagesGIT": [".gitignore", "src/main/java/org/apache/ibatis/executor/resultset"], "changesInPackagesSPOON": ["org.apache.ibatis.submitted.ancestor_ref.Author", "org.apache.ibatis.submitted.ancestor_ref.Author.getReputation()", "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.applyNestedResultMappings(org.apache.ibatis.executor.resultset.ResultSetWrapper,org.apache.ibatis.mapping.ResultMap,org.apache.ibatis.reflection.MetaObject,java.lang.String,org.apache.ibatis.cache.CacheKey,boolean)", "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.anyNotNullColumnHasValue(org.apache.ibatis.mapping.ResultMapping,java.lang.String,org.apache.ibatis.executor.resultset.ResultSetWrapper)", "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.anyNotNullColumnHasValue(org.apache.ibatis.mapping.ResultMapping,java.lang.String,java.sql.ResultSet)", "org.apache.ibatis.submitted.ancestor_ref.Blog", "org.apache.ibatis.submitted.ancestor_ref.selectBlog(java.lang.Integer)", "org.apache.ibatis.submitted.ancestor_ref.Author.setReputation(org.apache.ibatis.submitted.ancestor_ref.Reputation)", "org.apache.ibatis.submitted.ancestor_ref.Reputation"]}, {"title": "Empty foreach regression in MyBatis 3.2.x, compared to iBATIS 2.3.x", "body": "This is coming from a concern raised in the mybatis user group https://groups.google.com/forum/#!topic/mybatis-user/mcMNSjQknAE \n\nThe iterate tag in iBATIS on encountering an empty collection, used to not fire the prepend and close directives. However, the foreach tag in MyBatis fires the open and close directives even if the collection is empty.\n\nLogging the issue as suggested by Iwao.\n", "url": "https://github.com/mybatis/mybatis-3/issues/195", "user": "kilokahn", "labels": ["bug"], "created": "2014-05-10 09:17:43", "closed": "2014-05-10 16:03:35", "commits": {"713d563316c0d7980cf6679bc42c94144abb17c0": {"commitGHEventType": "closed", "commitUser": "harawata"}, "62fe78a2256c3f16a3a4df0b53da06a72ea0bd2a": {"commitGHEventType": "referenced", "commitUser": "harawata"}}, "ttf": 0.0002777777777777778, "commitsDetails": [{"commitHash": "713d563316c0d7980cf6679bc42c94144abb17c0", "commitGHEventType": "closed", "commitUser": "harawata", "commitParents": ["9476328e518daca9e61c25d5d92f8f76813dc4bd"], "nameRev": "713d563316c0d7980cf6679bc42c94144abb17c0 tags/mybatis-3.3.0~112", "commitMessage": "fixes #195 foreach element outputs open and close values even when the passed collection is empty.\n", "commitDateTime": "2014-05-11 00:55:47", "authoredDateTime": "2014-05-11 00:55:47", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/scripting/xmltags/ForEachSqlNode.java", "insertions": 3, "deletions": 0, "lines": 3}, {"filePath": "src/test/java/org/apache/ibatis/builder/xml/dynamic/DynamicSqlSourceTest.java", "insertions": 14, "deletions": 0, "lines": 14}], "commitSpoonAstDiffStats": [{"spoonFilePath": "ForEachSqlNode.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.scripting.xmltags.ForEachSqlNode.apply(org.apache.ibatis.scripting.xmltags.DynamicContext)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "DynamicSqlSourceTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.builder.xml.dynamic.DynamicSqlSourceTest.shouldSkipForEachWhenCollectionIsEmpty()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "62fe78a2256c3f16a3a4df0b53da06a72ea0bd2a", "commitGHEventType": "referenced", "commitUser": "harawata", "commitParents": ["81fc43264a611e13e5cf7d96e068c00b7c4ea9eb"], "nameRev": "62fe78a2256c3f16a3a4df0b53da06a72ea0bd2a tags/mybatis-3.2.8~11", "commitMessage": "fixes #195 foreach element outputs open and close values even when the passed collection is empty.\n", "commitDateTime": "2014-10-09 10:02:23", "authoredDateTime": "2014-05-11 00:55:47", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/scripting/xmltags/ForEachSqlNode.java", "insertions": 3, "deletions": 0, "lines": 3}, {"filePath": "src/test/java/org/apache/ibatis/builder/xml/dynamic/DynamicSqlSourceTest.java", "insertions": 14, "deletions": 0, "lines": 14}], "commitSpoonAstDiffStats": [{"spoonFilePath": "ForEachSqlNode.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.scripting.xmltags.ForEachSqlNode.apply(org.apache.ibatis.scripting.xmltags.DynamicContext)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "DynamicSqlSourceTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.builder.xml.dynamic.DynamicSqlSourceTest.shouldSkipForEachWhenCollectionIsEmpty()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["713d563316c0d7980cf6679bc42c94144abb17c0"], "filteredCommitsReason": {"duplicated": 1, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 3, "deletions": 0, "lines": 3, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0, "spoonFilesChanged": 1, "spoonMethodsChanged": 1}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/scripting/xmltags"], "changesInPackagesSPOON": ["org.apache.ibatis.scripting.xmltags.ForEachSqlNode.apply(org.apache.ibatis.scripting.xmltags.DynamicContext)"]}, {"title": "GenericTokenParser Skipped Vaiables bug", "body": "the shallNotInterpolateSkippedVaiables  method of GenericTokenParserTest class is not supported follow test cases:\n assertEquals(\"null ${skipped} variable\", parser.parse(\"${skipped} \\${skipped} variable\"));\n    assertEquals(\"This is a null ${skipped} variable\", parser.parse(\"This is a ${skipped} \\${skipped} variable\"));\n\nI have resolved this problem:\nthe parse method of GenericTokenParser class code:\npublic String parse(String text) {\n    StringBuilder builder = new StringBuilder();\n    if (text != null && text.length() > 0) {\n      char[] src = text.toCharArray();\n      int offset = 0;\n      int start = text.indexOf(openToken, offset);\n      while (start > -1) {\n          int end = text.indexOf(closeToken, start);\n          if (end == -1) {\n            builder.append(src, offset, src.length - offset);\n            offset = src.length;\n          } else {\n            builder.append(src, offset, start - offset);\n            offset = start + openToken.length();\n            String content = new String(src, offset, end - offset);\n            if (start > 0 && src[start - 1] == '\\') {\n                // the variable is escaped. remove the backslash.\n                builder.deleteCharAt(builder.length()-1);\n                builder.append(openToken).append(content).append(closeToken);\n              }else{\n                  builder.append(handler.handleToken(content));\n              }\n            offset = end + closeToken.length();\n          }\n        start = text.indexOf(openToken, offset);\n      }\n      if (offset < src.length) {\n        builder.append(src, offset, src.length - offset);\n      }\n    }\n    return builder.toString();\n  }\n", "url": "https://github.com/mybatis/mybatis-3/issues/194", "user": "boringkiller", "labels": ["bug"], "created": "2014-05-09 07:02:17", "closed": "2014-05-09 12:19:55", "commits": {"9476328e518daca9e61c25d5d92f8f76813dc4bd": {"commitGHEventType": "closed", "commitUser": "harawata"}, "81fc43264a611e13e5cf7d96e068c00b7c4ea9eb": {"commitGHEventType": "referenced", "commitUser": "harawata"}}, "ttf": 0.0002777777777777778, "commitsDetails": [{"commitHash": "9476328e518daca9e61c25d5d92f8f76813dc4bd", "commitGHEventType": "closed", "commitUser": "harawata", "commitParents": ["1d3303504c3666f15b74c529f4b2419977cb8c43"], "nameRev": "9476328e518daca9e61c25d5d92f8f76813dc4bd tags/mybatis-3.3.0~113", "commitMessage": "fixes #194 Incorrect\u00a0parse result when a variable precedes a skipped variable.\n", "commitDateTime": "2014-05-09 21:14:19", "authoredDateTime": "2014-05-09 21:05:01", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/parsing/GenericTokenParser.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/org/apache/ibatis/parsing/GenericTokenParserTest.java", "insertions": 2, "deletions": 0, "lines": 2}], "commitSpoonAstDiffStats": [{"spoonFilePath": "GenericTokenParser.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.parsing.GenericTokenParser.parse(java.lang.String)", "TOT": 2, "UPD": 0, "INS": 1, "MOV": 1, "DEL": 0}]}, {"spoonFilePath": "GenericTokenParserTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.parsing.GenericTokenParserTest.shallNotInterpolateSkippedVaiables()", "TOT": 2, "UPD": 0, "INS": 2, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "81fc43264a611e13e5cf7d96e068c00b7c4ea9eb", "commitGHEventType": "referenced", "commitUser": "harawata", "commitParents": ["27c77d91783b9f605a762b51ad5e950babb160da"], "nameRev": "81fc43264a611e13e5cf7d96e068c00b7c4ea9eb tags/mybatis-3.2.8~12", "commitMessage": "fixes #194 Incorrect\u00a0parse result when a variable precedes a skipped variable.\n", "commitDateTime": "2014-10-09 10:02:22", "authoredDateTime": "2014-05-09 21:05:01", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/parsing/GenericTokenParser.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/org/apache/ibatis/parsing/GenericTokenParserTest.java", "insertions": 2, "deletions": 0, "lines": 2}], "commitSpoonAstDiffStats": [{"spoonFilePath": "GenericTokenParser.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.parsing.GenericTokenParser.parse(java.lang.String)", "TOT": 2, "UPD": 0, "INS": 1, "MOV": 1, "DEL": 0}]}, {"spoonFilePath": "GenericTokenParserTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.parsing.GenericTokenParserTest.shallNotInterpolateSkippedVaiables()", "TOT": 2, "UPD": 0, "INS": 2, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["9476328e518daca9e61c25d5d92f8f76813dc4bd"], "filteredCommitsReason": {"duplicated": 1, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 1, "deletions": 1, "lines": 2, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 2, "UPD": 0, "INS": 1, "MOV": 1, "DEL": 0, "spoonFilesChanged": 1, "spoonMethodsChanged": 1}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/parsing"], "changesInPackagesSPOON": ["org.apache.ibatis.parsing.GenericTokenParser.parse(java.lang.String)"]}, {"title": "Cache crosses datastore boundry", "body": "I've run into a problem where I'm using the same mapper classes for different datastores (We have difference database instances with the same schema for different customers). But, the 2nd level Ehcache is caching across the database datastores because it does not include the datastore as part of the cache key.  I would like to see an option to enable a datastore level of isolation to the cache if possible.\n", "url": "https://github.com/mybatis/mybatis-3/issues/176", "user": "j-vanetten", "labels": ["bug"], "created": "2014-04-08 14:14:45", "closed": "2014-04-09 15:21:17", "commits": {"49dcb017d0bc3dea56633911d73671ca5f46e9b8": {"commitGHEventType": "closed", "commitUser": "emacarron"}}, "ttf": 1.0002777777777778, "commitsDetails": [{"commitHash": "49dcb017d0bc3dea56633911d73671ca5f46e9b8", "commitGHEventType": "closed", "commitUser": "emacarron", "commitParents": ["4cafdf04c7c088737658ad20d86d1140beacf5a5"], "nameRev": "49dcb017d0bc3dea56633911d73671ca5f46e9b8 tags/mybatis-3.3.0~127", "commitMessage": "Fixes #176. Multiple mybatis instances in the same jvm can produce\nehcache collisions.", "commitDateTime": "2014-04-09 17:20:54", "authoredDateTime": "2014-04-09 17:19:52", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/executor/BaseExecutor.java", "insertions": 1, "deletions": 0, "lines": 1}], "commitSpoonAstDiffStats": [{"spoonFilePath": "BaseExecutor.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.executor.BaseExecutor.createCacheKey(org.apache.ibatis.mapping.MappedStatement,java.lang.Object,org.apache.ibatis.session.RowBounds,org.apache.ibatis.mapping.BoundSql)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["49dcb017d0bc3dea56633911d73671ca5f46e9b8"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 1, "deletions": 0, "lines": 1, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0, "spoonFilesChanged": 1, "spoonMethodsChanged": 1}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/executor"], "changesInPackagesSPOON": ["org.apache.ibatis.executor.BaseExecutor.createCacheKey(org.apache.ibatis.mapping.MappedStatement,java.lang.Object,org.apache.ibatis.session.RowBounds,org.apache.ibatis.mapping.BoundSql)"]}, {"title": "Wrong name for fetchType property in @One and @Many", "body": "For consistency with XML the property should be called fetchType() and not lazy().\n", "url": "https://github.com/mybatis/mybatis-3/issues/168", "user": "emacarron", "labels": ["bug"], "created": "2014-03-30 07:09:24", "closed": "2014-03-30 07:10:13", "commits": {"772d20062767e615b36ee82853b986b9f5881b49": {"commitGHEventType": "closed", "commitUser": "emacarron"}}, "ttf": 0.0002777777777777778, "commitsDetails": [{"commitHash": "772d20062767e615b36ee82853b986b9f5881b49", "commitGHEventType": "closed", "commitUser": "emacarron", "commitParents": ["6b60097cb785faf37700e00c1ba5e040994aa0a3"], "nameRev": "772d20062767e615b36ee82853b986b9f5881b49 tags/mybatis-3.2.7~5", "commitMessage": "Fixes #168. For consistency with XML the property should be called\nfetchType() and not lazy().", "commitDateTime": "2014-03-30 09:10:11", "authoredDateTime": "2014-03-30 09:10:11", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/annotations/Many.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/main/java/org/apache/ibatis/annotations/One.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/main/java/org/apache/ibatis/builder/annotation/MapperAnnotationBuilder.java", "insertions": 4, "deletions": 4, "lines": 8}, {"filePath": "src/test/java/org/apache/ibatis/binding/BindingTest.java", "insertions": 42, "deletions": 14, "lines": 56}, {"filePath": "src/test/java/org/apache/ibatis/binding/BoundBlogMapper.java", "insertions": 25, "deletions": 3, "lines": 28}], "commitSpoonAstDiffStats": [{"spoonFilePath": "Many.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.annotations.lazy()", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "One.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.annotations.lazy()", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "MapperAnnotationBuilder.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.builder.annotation.MapperAnnotationBuilder.isLazy(org.apache.ibatis.annotations.Result)", "TOT": 4, "UPD": 4, "INS": 0, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "BindingTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.binding.BindingTest.shouldGetBlogsWithAuthors()", "TOT": 3, "UPD": 2, "INS": 0, "MOV": 1, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.binding.BindingTest.shouldGetBlogsWithAuthorsAndPostsEagerly()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.binding.BindingTest.shouldGetBlogsWithAuthorsAndPosts()", "TOT": 6, "UPD": 0, "INS": 6, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "BoundBlogMapper.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.binding.selectBlogsWithAutors()", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.binding.selectPostsById(int)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.binding.selectBlogsWithAutorAndPostsEagerly()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.binding.selectBlogsWithAutorAndPosts()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["772d20062767e615b36ee82853b986b9f5881b49"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 6, "deletions": 6, "lines": 12, "gitFilesChange": 3}, "spoonStatsSummary": {"TOT": 10, "UPD": 7, "INS": 3, "MOV": 0, "DEL": 0, "spoonFilesChanged": 4, "spoonMethodsChanged": 6}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/annotations", "src/main/java/org/apache/ibatis/builder/annotation"], "changesInPackagesSPOON": ["org.apache.ibatis.annotations.lazy()", "org.apache.ibatis.binding.selectBlogsWithAutorAndPostsEagerly()", "org.apache.ibatis.builder.annotation.MapperAnnotationBuilder.isLazy(org.apache.ibatis.annotations.Result)", "org.apache.ibatis.binding.selectPostsById(int)", "org.apache.ibatis.binding.selectBlogsWithAutors()", "org.apache.ibatis.binding.selectBlogsWithAutorAndPosts()"]}, {"title": "MyBatis 3.2.6 not work annotation @One", "body": "MyBatis 3.2.6. Always generates an error\n\n``` java\n@Result(property=\"org\", column=\"ORG_ID\", javaType=OrgEntity.class,\n   one=@One(select=\"myapp.mapper.OrgMapper.selectOrg\")),\n```\n\norg.apache.ibatis.builder.BuilderException: Cannot use both @One and @Many annotations in the same @Result\n        at org.apache.ibatis.builder.annotation.MapperAnnotationBuilder.hasNestedSelect(MapperAnnotationBuilder.java:522)\n\nin code\n\n``` java\nprivate boolean hasNestedSelect(Result result) {\n  boolean hasNestedSelect = result.one().select().length() > 0;\n  if (hasNestedSelect) {\n    throw new BuilderException(\"Cannot use both @One and @Many annotations in the same @Result\");\n```\n\nIt would be very useful to extend the functional annotation @One and @Many\n\ncange from \n\n``` java\n@One(select=\"myapp.mapper.OrgMapper.selectOrg\")\n```\n\nto\n\n``` java\n@One(select=\"selectOrg\", mapper=OrgMapper.class)\n```\n", "url": "https://github.com/mybatis/mybatis-3/issues/167", "user": "alexey-su", "labels": ["bug"], "created": "2014-03-29 16:45:38", "closed": "2014-03-29 22:12:54", "commits": {"5c239b53d8edfd68bae7ab55c82cf63a5d043a27": {"commitGHEventType": "closed", "commitUser": "emacarron"}, "a498f45b76666092b671758033759c1cb69fb1d9": {"commitGHEventType": "referenced", "commitUser": "emacarron"}}, "ttf": 0.0002777777777777778, "commitsDetails": [{"commitHash": "5c239b53d8edfd68bae7ab55c82cf63a5d043a27", "commitGHEventType": "closed", "commitUser": "emacarron", "commitParents": ["d39481b3c1195dd55d75a7a8a8147d8dfcc9db43"], "nameRev": "5c239b53d8edfd68bae7ab55c82cf63a5d043a27 tags/mybatis-3.2.7~7", "commitMessage": "Fixes #167. @One is broken in 3.2.6", "commitDateTime": "2014-03-29 23:11:11", "authoredDateTime": "2014-03-29 23:11:11", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/builder/annotation/MapperAnnotationBuilder.java", "insertions": 2, "deletions": 5, "lines": 7}, {"filePath": "src/test/java/org/apache/ibatis/binding/BindingTest.java", "insertions": 14, "deletions": 0, "lines": 14}, {"filePath": "src/test/java/org/apache/ibatis/binding/BoundBlogMapper.java", "insertions": 7, "deletions": 0, "lines": 7}], "commitSpoonAstDiffStats": [{"spoonFilePath": "MapperAnnotationBuilder.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.builder.annotation.MapperAnnotationBuilder.hasNestedSelect(org.apache.ibatis.annotations.Result)", "TOT": 8, "UPD": 0, "INS": 2, "MOV": 2, "DEL": 4}]}, {"spoonFilePath": "BindingTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.binding.BindingTest.shouldGetBlogsWithAuthors()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "BoundBlogMapper.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.binding.selectBlogsWithAutors()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "a498f45b76666092b671758033759c1cb69fb1d9", "commitGHEventType": "referenced", "commitUser": "emacarron", "commitParents": ["288734921bdea5c615e3602c454be67689116d5f"], "nameRev": "a498f45b76666092b671758033759c1cb69fb1d9 tags/mybatis-3.2.7~3", "commitMessage": "Additional tests for #167.", "commitDateTime": "2014-04-02 07:21:42", "authoredDateTime": "2014-04-02 07:21:42", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/builder/annotation/MapperAnnotationBuilder.java", "insertions": 4, "deletions": 12, "lines": 16}, {"filePath": "src/test/java/org/apache/ibatis/binding/MapperWithOneAndMany.java", "insertions": 42, "deletions": 0, "lines": 42}, {"filePath": "src/test/java/org/apache/ibatis/binding/WrongMapperTest.java", "insertions": 29, "deletions": 0, "lines": 29}], "commitSpoonAstDiffStats": [{"spoonFilePath": "MapperAnnotationBuilder.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.builder.annotation.MapperAnnotationBuilder.isLazy(org.apache.ibatis.annotations.Result)", "TOT": 15, "UPD": 1, "INS": 2, "MOV": 7, "DEL": 5}]}, {"spoonFilePath": "MapperWithOneAndMany.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.binding", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "WrongMapperTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.binding.WrongMapperTest", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["5c239b53d8edfd68bae7ab55c82cf63a5d043a27", "a498f45b76666092b671758033759c1cb69fb1d9"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 2, "gitStatsSummary": {"insertions": 6, "deletions": 17, "lines": 23, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 25, "UPD": 1, "INS": 6, "MOV": 9, "DEL": 9, "spoonFilesChanged": 3, "spoonMethodsChanged": 4}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/builder/annotation"], "changesInPackagesSPOON": ["org.apache.ibatis.builder.annotation.MapperAnnotationBuilder.isLazy(org.apache.ibatis.annotations.Result)", "org.apache.ibatis.binding.selectBlogsWithAutors()", "org.apache.ibatis.builder.annotation.MapperAnnotationBuilder.hasNestedSelect(org.apache.ibatis.annotations.Result)", "org.apache.ibatis.binding"]}, {"title": "Wrapper TypeHandler overrides Primitive companion ", "body": "When trying to register custom `TypeHandler`s for both primitive and wrapper types(e.g. `int` and `Integer`) with `TypeHandlerRegistry`, in case of primitive-then-wrapper order latter overrides former one.\nTest to reproduce:\n\n``` java\npackage org.apache.ibatis.type;\n\nimport org.junit.Test;\n\nimport java.sql.CallableStatement;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\n\nimport static org.junit.Assert.assertSame;\n\npublic class PairedTypeHandlersTest {\n\n  private TypeHandlerRegistry typeHandlerRegistry = new TypeHandlerRegistry();\n\n  @Test\n  public void registerWrapperHandlerBeforePrimitive() {\n    TypeHandler<Integer> wrapperHandler = new IntegerTypeHandler();\n    TypeHandler<Integer> primitiveHandler = new IntTypeHandler();\n\n    typeHandlerRegistry.register(wrapperHandler);\n    typeHandlerRegistry.register(primitiveHandler);\n\n    assertSame(wrapperHandler, typeHandlerRegistry.getTypeHandler(Integer.class));\n    assertSame(primitiveHandler, typeHandlerRegistry.getTypeHandler(int.class));\n  }\n\n  @Test\n  public void registerPrimitiveHandlerBeforeWrapper() {\n    TypeHandler<Integer> wrapperHandler = new IntegerTypeHandler();\n    TypeHandler<Integer> primitiveHandler = new IntTypeHandler();\n\n    typeHandlerRegistry.register(primitiveHandler);\n    typeHandlerRegistry.register(wrapperHandler);\n\n    assertSame(wrapperHandler, typeHandlerRegistry.getTypeHandler(Integer.class));\n    assertSame(primitiveHandler, typeHandlerRegistry.getTypeHandler(int.class));\n  }\n\n  @MappedTypes(int.class)\n  static class IntTypeHandler implements TypeHandler<Integer> {\n    // skipped as not important\n  }\n\n  @MappedTypes(Integer.class)\n  static class IntegerTypeHandler implements TypeHandler<Integer> {\n    // skipped as not important\n  }\n}\n```\n\nTest `registerPrimitiveHandlerBeforeWrapper` fails, however `registerWrapperHandlerBeforePrimitive` doesn't.\n", "url": "https://github.com/mybatis/mybatis-3/issues/165", "user": "sigito", "labels": ["bug"], "created": "2014-03-27 21:59:00", "closed": "2014-04-07 14:23:08", "commits": {"3d874352453a9f2adba76d9825883344db1dcdab": {"commitGHEventType": "referenced", "commitUser": "emacarron"}, "7c901ff73d53905b299d60b2f8e4a52b35341e36": {"commitGHEventType": "closed", "commitUser": "emacarron"}}, "ttf": 10.000277777777777, "commitsDetails": [{"commitHash": "3d874352453a9f2adba76d9825883344db1dcdab", "commitGHEventType": "referenced", "commitUser": "emacarron", "commitParents": ["a498f45b76666092b671758033759c1cb69fb1d9"], "nameRev": "3d874352453a9f2adba76d9825883344db1dcdab tags/mybatis-3.2.7~2", "commitMessage": "Failing test for #165", "commitDateTime": "2014-04-05 09:09:17", "authoredDateTime": "2014-04-05 09:09:17", "commitGitStats": [{"filePath": "src/test/java/org/apache/ibatis/type/TypeHandlerRegistryTest.java", "insertions": 19, "deletions": 2, "lines": 21}], "commitSpoonAstDiffStats": [{"spoonFilePath": "TypeHandlerRegistryTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.type.TypeHandlerRegistryTest.registerWrapperHandlerBeforePrimitive()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "7c901ff73d53905b299d60b2f8e4a52b35341e36", "commitGHEventType": "closed", "commitUser": "emacarron", "commitParents": ["ed0c439d79653433fe821329aad4de7eac9d0912"], "nameRev": "7c901ff73d53905b299d60b2f8e4a52b35341e36 tags/mybatis-3.3.0~129", "commitMessage": "Fixes #165. Do not change the handler for a primitive when changing the\nhandler for a wrapper.", "commitDateTime": "2014-04-07 16:23:00", "authoredDateTime": "2014-04-07 16:23:00", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/type/TypeHandlerRegistry.java", "insertions": 0, "deletions": 17, "lines": 17}, {"filePath": "src/test/java/org/apache/ibatis/type/TypeHandlerRegistryTest.java", "insertions": 0, "deletions": 1, "lines": 1}], "commitSpoonAstDiffStats": [{"spoonFilePath": "TypeHandlerRegistry.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.type.TypeHandlerRegistry", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}, {"spoonMethodName": "org.apache.ibatis.type.TypeHandlerRegistry.register(java.lang.reflect.Type,org.apache.ibatis.type.JdbcType,org.apache.ibatis.type.TypeHandler)", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}]}, {"spoonFilePath": "TypeHandlerRegistryTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.type.TypeHandlerRegistryTest.shouldBindHandlersToWrapersAndPrimitivesIndividually()", "TOT": 2, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 2}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["3d874352453a9f2adba76d9825883344db1dcdab", "7c901ff73d53905b299d60b2f8e4a52b35341e36"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 0, "deletions": 17, "lines": 17, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 2, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 2, "spoonFilesChanged": 1, "spoonMethodsChanged": 2}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/type"], "changesInPackagesSPOON": ["org.apache.ibatis.type.TypeHandlerRegistry.register(java.lang.reflect.Type,org.apache.ibatis.type.JdbcType,org.apache.ibatis.type.TypeHandler)", "org.apache.ibatis.type.TypeHandlerRegistry"]}, {"title": "selectKey not executed", "body": "I found a situation that causes selectKey not to be called at all and no exception is logged either.\n\nI use **immutable** db objects like BookType example below (created from the **generator** but I added the **final** in class and fields)\n\n```\npublic final class BookType {\n    private final Integer bookTypeId;\n    private final String bookTypeDesc;\n\n    public BookType(Integer bookTypeId, String bookTypeDesc)\n    {\n        this.bookTypeId = bookTypeId;\n        this.bookTypeDesc = bookTypeDesc;\n    }\n    public Integer getBookTypeId()\n    {\n        return(this.bookTypeId);\n    }\n    public String getBookTypeDesc()\n    {\n        return(this.bookTypeDesc);\n    }\n}\n```\n\n**insert()** works like a charm with **selectKey** and a **sequence** in my PostgreSQL.\n\nSince I hate \"**this**\" I replaced the class above like below (notice the **underscore** \"_\" char):\n\n```\npublic final class BookType {\n    private final Integer _bookTypeId;\n    private final String _bookTypeDesc;\n\n    public BookType(Integer bookTypeId, String bookTypeDesc)\n    {\n        _bookTypeId = bookTypeId;\n        _bookTypeDesc = bookTypeDesc;\n    }\n    public Integer getBookTypeId()\n    {\n        return(_bookTypeId);\n    }\n    public String getBookTypeDesc()\n    {\n        return(_bookTypeDesc);\n    }\n}\n```\n\n**This caused selectKey NOT to be executed at all**, so insert was failing because the pk was null. Selects worked fine though! It took me almost two good days to figure this out!\nCan you please see if this behavior can be fixed or at least an exception is thrown?\nI use mybatis-3.2.4\n", "url": "https://github.com/mybatis/mybatis-3/issues/143", "user": "gregkotsaftis", "labels": ["bug"], "created": "2014-02-19 17:43:17", "closed": "2014-02-25 02:40:23", "commits": {"0da9358a0783b37b003664daddf653fad3dd80ce": {"commitGHEventType": "referenced", "commitUser": "harawata"}, "4a679fbb357252630b2f3edc37c506b8f46f1c86": {"commitGHEventType": "referenced", "commitUser": "emacarron"}}, "ttf": 5.000277777777778, "commitsDetails": [{"commitHash": "0da9358a0783b37b003664daddf653fad3dd80ce", "commitGHEventType": "referenced", "commitUser": "harawata", "commitParents": ["3e3dc5e8408bf7a2f576739174b13f4cfcd9e85b"], "nameRev": "0da9358a0783b37b003664daddf653fad3dd80ce tags/mybatis-3.2.6~56", "commitMessage": "#143 Throws an exception when there is no setter for the keyProperty of selectKey.\n", "commitDateTime": "2014-02-24 22:59:57", "authoredDateTime": "2014-02-24 22:56:51", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/executor/keygen/SelectKeyGenerator.java", "insertions": 2, "deletions": 0, "lines": 2}, {"filePath": "src/test/java/org/apache/ibatis/submitted/selectkey/SelectKeyTest.java", "insertions": 12, "deletions": 0, "lines": 12}, {"filePath": "src/test/java/org/apache/ibatis/submitted/selectkey/Table2.xml", "insertions": 7, "deletions": 0, "lines": 7}], "commitSpoonAstDiffStats": [{"spoonFilePath": "SelectKeyGenerator.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.executor.keygen.SelectKeyGenerator.processGeneratedKeys(org.apache.ibatis.executor.Executor,org.apache.ibatis.mapping.MappedStatement,java.lang.Object)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "SelectKeyTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.selectkey.SelectKeyTest.testSeleckKeyWithWrongKeyProperty()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "4a679fbb357252630b2f3edc37c506b8f46f1c86", "commitGHEventType": "referenced", "commitUser": "emacarron", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}], "filteredCommits": ["0da9358a0783b37b003664daddf653fad3dd80ce"], "filteredCommitsReason": {"duplicated": 1, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 2.0, "deletions": 0.0, "lines": 2.0, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 1.0, "UPD": 0.0, "INS": 1.0, "MOV": 0.0, "DEL": 0.0, "spoonFilesChanged": 1, "spoonMethodsChanged": 1}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/executor/keygen"], "changesInPackagesSPOON": ["org.apache.ibatis.executor.keygen.SelectKeyGenerator.processGeneratedKeys(org.apache.ibatis.executor.Executor,org.apache.ibatis.mapping.MappedStatement,java.lang.Object)"]}, {"title": "NullPointer in FIFOCache.java in the clear() method", "body": "Today we got a 500 and in looking at the stack trace we saw this to be the issue.\n\n68636256-Caused by: java.lang.NullPointerException\n68636298-       at java.util.LinkedList.clear(LinkedList.java:294)\n68636350-       at org.apache.ibatis.cache.decorators.FifoCache.clear(FifoCache.java:65)\n68636424-       at org.apache.ibatis.cache.decorators.ScheduledCache.clear(ScheduledCache.java:67)\n68636508-       at org.apache.ibatis.cache.decorators.ScheduledCache.clearWhenStale(ScheduledCache.java:84)\n68636601-       at org.apache.ibatis.cache.decorators.ScheduledCache.getObject(ScheduledCache.java:53)\n68636689-       at org.apache.ibatis.cache.decorators.LoggingCache.getObject(LoggingCache.java:50)\n68636773-       at org.apache.ibatis.cache.decorators.SynchronizedCache.getObject(SynchronizedCache.java:55)\n68636867-       at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:94)\n\nwhen using grepcode.com I can see that in the clear() method \n\n63  public void More ...clear() {\n64    delegate.clear();\n65    keyList.clear();\n66  }\n\nthat the keyList is null so the nullpointer is being thrown there.  We arent so sure why it is null there but wanted to see if maybe someone had some input.   We are also curious on what could make this error occur as 500s are not something that we expect to be happening out of the cache of mybatis. That cache is not supposed to be empty and this only happened once and never again.  We are currently using 3.2.2 so we are also wondering if upgrading could maybe fix this issue or if something else maybe would.  \n\nThank you in advance!\n", "url": "https://github.com/mybatis/mybatis-3/issues/138", "user": "cwilbur12", "labels": ["bug"], "created": "2014-01-30 21:12:39", "closed": "2014-01-31 15:54:58", "commits": {"cb488601eb5c45dcd1774022fdc8748e9a3668aa": {"commitGHEventType": "closed", "commitUser": "emacarron"}}, "ttf": 0.0002777777777777778, "commitsDetails": [{"commitHash": "cb488601eb5c45dcd1774022fdc8748e9a3668aa", "commitGHEventType": "closed", "commitUser": "emacarron", "commitParents": ["b9ac317b88d37abef1732dcd1063738d1cdeea1a"], "nameRev": "cb488601eb5c45dcd1774022fdc8748e9a3668aa tags/mybatis-3.2.5~6", "commitMessage": "Fixes #138. Yet another concurrency issue when reading from caches", "commitDateTime": "2014-01-31 16:54:55", "authoredDateTime": "2014-01-31 16:54:55", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/cache/decorators/FifoCache.java", "insertions": 2, "deletions": 2, "lines": 4}], "commitSpoonAstDiffStats": [{"spoonFilePath": "FifoCache.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.cache.decorators.FifoCache", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}, {"spoonMethodName": "org.apache.ibatis.cache.decorators.FifoCache.clear()", "TOT": 2, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 1}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["cb488601eb5c45dcd1774022fdc8748e9a3668aa"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 2, "deletions": 2, "lines": 4, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 3, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 2, "spoonFilesChanged": 1, "spoonMethodsChanged": 2}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/cache/decorators"], "changesInPackagesSPOON": ["org.apache.ibatis.cache.decorators.FifoCache.clear()", "org.apache.ibatis.cache.decorators.FifoCache"]}, {"title": "Incomplete methods are not processed in Configuration.buildAllStatements", "body": "This code should be added to Configuration.buildAllStatements to improve error message.\n\n```\nif (!incompleteMethods.isEmpty()) {\n  synchronized (incompleteMethods) {\n    // This always throws a BuilderException.\n    incompleteMethods.iterator().next().resolve();\n  }\n}\n```\n\nSee mailing list message https://groups.google.com/forum/#!topic/mybatis-user/b-gRXcSeX-0\n", "url": "https://github.com/mybatis/mybatis-3/issues/137", "user": "christianpoitras", "labels": ["bug"], "created": "2014-01-27 20:26:45", "closed": "2014-01-27 21:13:20", "commits": {"b9ac317b88d37abef1732dcd1063738d1cdeea1a": {"commitGHEventType": "closed", "commitUser": "emacarron"}, "84ae80f0a632c56965205949104b2202373b3887": {"commitGHEventType": "referenced", "commitUser": "emacarron"}}, "ttf": 0.0002777777777777778, "commitsDetails": [{"commitHash": "b9ac317b88d37abef1732dcd1063738d1cdeea1a", "commitGHEventType": "closed", "commitUser": "emacarron", "commitParents": ["7881bac5efd43f4b7dee68b13f44b6e12af32c65"], "nameRev": "b9ac317b88d37abef1732dcd1063738d1cdeea1a tags/mybatis-3.2.5~7", "commitMessage": "Fixes #137. Check there are not any pending incomplete methods. Thank\nyou Christian!", "commitDateTime": "2014-01-27 22:13:16", "authoredDateTime": "2014-01-27 22:13:16", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/session/Configuration.java", "insertions": 6, "deletions": 0, "lines": 6}], "commitSpoonAstDiffStats": [{"spoonFilePath": "Configuration.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.session.Configuration.buildAllStatements()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "84ae80f0a632c56965205949104b2202373b3887", "commitGHEventType": "referenced", "commitUser": "emacarron", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}], "filteredCommits": ["b9ac317b88d37abef1732dcd1063738d1cdeea1a"], "filteredCommitsReason": {"duplicated": 1, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 6.0, "deletions": 0.0, "lines": 6.0, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 1.0, "UPD": 0.0, "INS": 1.0, "MOV": 0.0, "DEL": 0.0, "spoonFilesChanged": 1, "spoonMethodsChanged": 1}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/session"], "changesInPackagesSPOON": ["org.apache.ibatis.session.Configuration.buildAllStatements()"]}, {"title": "TypeHandler to Map inappropriately invoked when method has multiple parameters", "body": "If a TypeHandler for the Map class is registered, it gets invoked inappropriately when a mapper method uses multiple parameters. \n\nFor example, a TypeHandler:\n\n``` Java\n@MappedTypes(Map.class)\npublic class LabelsTypeHandler implements TypeHandler<Map<String, Object>> { ... }\n```\n\nThen these methods in the mapper interface:\n\n``` Java\n@Select(\"SELECT #{myId};\")\nint echoSingle(@Param(\"myId\") long myId);\n@Select(\"SELECT #{myId};\")\nint echoMulti(@Param(\"myId\") long myId, @Param(\"yourId\") int yourId);\n```\n\nThe first method, with just one parameter, succeeds, while the second method fails with a stack trace that ends with:\n\n``` Java\n### Error querying database.  Cause: java.lang.ClassCastException: java.lang.Long cannot be cast to java.util.Map\n### The error may exist in org/example/persistence/SomeMapper.java (best guess)\n### The error may involve org.example.persistence.SomeMapper.echoMulti-Inline\n### The error occurred while setting parameters\n### SQL: SELECT ?;\n### Cause: java.lang.ClassCastException: java.lang.Long cannot be cast to java.util.Map\n    at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:23)\n    at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:107)\n    at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:98)\n    at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:62)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n    at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:358)\n    ... 35 more\nCaused by: java.lang.ClassCastException: java.lang.Long cannot be cast to java.util.Map\n    at org.example.typehandler.LabelsTypeHandler.setParameter(LabelsTypeHandler.java:1)\n    at org.apache.ibatis.scripting.defaults.DefaultParameterHandler.setParameters(DefaultParameterHandler.java:77)\n    at org.apache.ibatis.executor.statement.PreparedStatementHandler.parameterize(PreparedStatementHandler.java:77)\n    at org.apache.ibatis.executor.statement.RoutingStatementHandler.parameterize(RoutingStatementHandler.java:58)\n    at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:71)\n    at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:56)\n    at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:259)\n    at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:132)\n    at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:115)\n    at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:104)\n    ... 42 more\n\n```\n", "url": "https://github.com/mybatis/mybatis-3/issues/135", "user": "usethe4ce", "labels": ["bug"], "created": "2014-01-24 22:29:41", "closed": "2014-01-25 08:09:58", "commits": {"e269526de6cbba9eb0252d280d66ff2c5439c86f": {"commitGHEventType": "referenced", "commitUser": "emacarron"}, "4045a0a3e5429ebd5fa19f3e4c8c4f240ee37c6d": {"commitGHEventType": "closed", "commitUser": "emacarron"}, "bda6654b10eb2eb3ce1a15146a352a955412d0de": {"commitGHEventType": "referenced", "commitUser": "emacarron"}}, "ttf": 0.0002777777777777778, "commitsDetails": [{"commitHash": "e269526de6cbba9eb0252d280d66ff2c5439c86f", "commitGHEventType": "referenced", "commitUser": "emacarron", "commitParents": ["cdf740072a387fcef93a13b6ff84d085183b46a6"], "nameRev": "e269526de6cbba9eb0252d280d66ff2c5439c86f tags/mybatis-3.2.5~11", "commitMessage": "Test for #135. Wast able to reproduce.", "commitDateTime": "2014-01-25 06:58:47", "authoredDateTime": "2014-01-25 06:58:47", "commitGitStats": [{"filePath": "src/test/java/org/apache/ibatis/submitted/maptypehandler/CreateDB.sql", "insertions": 24, "deletions": 0, "lines": 24}, {"filePath": "src/test/java/org/apache/ibatis/submitted/maptypehandler/LabelsTypeHandler.java", "insertions": 40, "deletions": 0, "lines": 40}, {"filePath": "src/test/java/org/apache/ibatis/submitted/maptypehandler/MapTypeHandlerTest.java", "insertions": 64, "deletions": 0, "lines": 64}, {"filePath": "src/test/java/org/apache/ibatis/submitted/maptypehandler/Mapper.java", "insertions": 24, "deletions": 0, "lines": 24}, {"filePath": "src/test/java/org/apache/ibatis/submitted/maptypehandler/Mapper.xml", "insertions": 27, "deletions": 0, "lines": 27}, {"filePath": "src/test/java/org/apache/ibatis/submitted/maptypehandler/User.java", "insertions": 38, "deletions": 0, "lines": 38}, {"filePath": "src/test/java/org/apache/ibatis/submitted/maptypehandler/mybatis-config.xml", "insertions": 44, "deletions": 0, "lines": 44}], "commitSpoonAstDiffStats": [{"spoonFilePath": "LabelsTypeHandler.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.maptypehandler.LabelsTypeHandler", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "MapTypeHandlerTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.maptypehandler.MapTypeHandlerTest", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "Mapper.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.maptypehandler", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "User.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.maptypehandler.User", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "4045a0a3e5429ebd5fa19f3e4c8c4f240ee37c6d", "commitGHEventType": "closed", "commitUser": "emacarron", "commitParents": ["e269526de6cbba9eb0252d280d66ff2c5439c86f"], "nameRev": "4045a0a3e5429ebd5fa19f3e4c8c4f240ee37c6d tags/mybatis-3.2.5~10", "commitMessage": "Fixes #135. Fix ClassClastException when there is a handler for\nMap.class.", "commitDateTime": "2014-01-25 09:09:55", "authoredDateTime": "2014-01-25 09:09:55", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/builder/annotation/MapperAnnotationBuilder.java", "insertions": 2, "deletions": 1, "lines": 3}, {"filePath": "src/test/java/org/apache/ibatis/submitted/maptypehandler/MapTypeHandlerTest.java", "insertions": 18, "deletions": 1, "lines": 19}, {"filePath": "src/test/java/org/apache/ibatis/submitted/maptypehandler/Mapper.java", "insertions": 9, "deletions": 0, "lines": 9}, {"filePath": "src/test/java/org/apache/ibatis/submitted/maptypehandler/Mapper.xml", "insertions": 1, "deletions": 1, "lines": 2}], "commitSpoonAstDiffStats": [{"spoonFilePath": "MapperAnnotationBuilder.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.builder.annotation.MapperAnnotationBuilder.getParameterType(java.lang.reflect.Method)", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "MapTypeHandlerTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.maptypehandler.MapTypeHandlerTest.shouldGetAUser()", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.submitted.maptypehandler.MapTypeHandlerTest.shouldGetAUserFromXML()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "Mapper.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.maptypehandler.getUserFromAMap(java.util.Map)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.submitted.maptypehandler.getUserXML(java.util.Map)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.submitted.maptypehandler.getUser(java.lang.Integer,java.lang.String)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "bda6654b10eb2eb3ce1a15146a352a955412d0de", "commitGHEventType": "referenced", "commitUser": "emacarron", "commitParents": ["4045a0a3e5429ebd5fa19f3e4c8c4f240ee37c6d"], "nameRev": "bda6654b10eb2eb3ce1a15146a352a955412d0de tags/mybatis-3.2.5~9", "commitMessage": "Related to #135. Failing is OK in that case.", "commitDateTime": "2014-01-25 09:42:31", "authoredDateTime": "2014-01-25 09:42:31", "commitGitStats": [{"filePath": "src/test/java/org/apache/ibatis/submitted/maptypehandler/MapTypeHandlerTest.java", "insertions": 6, "deletions": 1, "lines": 7}], "commitSpoonAstDiffStats": [{"spoonFilePath": "MapTypeHandlerTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.maptypehandler.MapTypeHandlerTest.shouldGetAUserFromXML()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["e269526de6cbba9eb0252d280d66ff2c5439c86f", "4045a0a3e5429ebd5fa19f3e4c8c4f240ee37c6d", "bda6654b10eb2eb3ce1a15146a352a955412d0de"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 2, "deletions": 1, "lines": 3, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 7, "UPD": 1, "INS": 6, "MOV": 0, "DEL": 0, "spoonFilesChanged": 4, "spoonMethodsChanged": 7}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/builder/annotation"], "changesInPackagesSPOON": ["org.apache.ibatis.submitted.maptypehandler.User", "org.apache.ibatis.submitted.maptypehandler.LabelsTypeHandler", "org.apache.ibatis.submitted.maptypehandler", "org.apache.ibatis.submitted.maptypehandler.getUser(java.lang.Integer,java.lang.String)", "org.apache.ibatis.submitted.maptypehandler.getUserFromAMap(java.util.Map)", "org.apache.ibatis.submitted.maptypehandler.getUserXML(java.util.Map)", "org.apache.ibatis.builder.annotation.MapperAnnotationBuilder.getParameterType(java.lang.reflect.Method)"]}, {"title": "Null Pointer Exception with multiple result sets", "body": "When running a stored procedure that returns more than one result set, we get the following Null Pointer Exception on mybatis 3.2.4\n\n```\nCaused by: java.lang.NullPointerException\n    at org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleResultSets(DefaultResultSetHandler.java:159)\n    at org.apache.ibatis.executor.statement.CallableStatementHandler.query(CallableStatementHandler.java:64)\n    at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:70)\n    at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:57)\n    at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:259)\n    at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:132)\n    at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:105)\n    at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:81)\n    at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:104)\n    ... 41 more\n\n```\n\nwhen running the same stored procedure in mybatis 3.2.2, we do not get this exception.  The exception occurs whether or not there is a empty result set present.\n\nthe null item appears to be the resultSets string array on the mappedStatement object, which you can see [here](https://github.com/mybatis/mybatis-3/blob/mybatis-3.2.4/src/main/java/org/apache/ibatis/executor/resultset/DefaultResultSetHandler.java#L159)\n\nour database is Sybase, and we're using jtds-1.2.4\n", "url": "https://github.com/mybatis/mybatis-3/issues/132", "user": "official-sounding", "labels": ["bug"], "created": "2014-01-22 16:56:14", "closed": "2014-01-22 18:45:27", "commits": {"97a4fbee4512924a7cad266bc98f49b6814587e7": {"commitGHEventType": "closed", "commitUser": "emacarron"}}, "ttf": 0.0002777777777777778, "commitsDetails": [{"commitHash": "97a4fbee4512924a7cad266bc98f49b6814587e7", "commitGHEventType": "closed", "commitUser": "emacarron", "commitParents": ["f367494196b4cd5a5ba78b01c39be1477685a953"], "nameRev": "97a4fbee4512924a7cad266bc98f49b6814587e7 tags/mybatis-3.2.5~13", "commitMessage": "Fixes #132. NPE.", "commitDateTime": "2014-01-22 19:45:23", "authoredDateTime": "2014-01-22 19:45:23", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/executor/resultset/DefaultResultSetHandler.java", "insertions": 12, "deletions": 9, "lines": 21}], "commitSpoonAstDiffStats": [{"spoonFilePath": "DefaultResultSetHandler.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleResultSets(java.sql.Statement)", "TOT": 13, "UPD": 0, "INS": 4, "MOV": 7, "DEL": 2}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["97a4fbee4512924a7cad266bc98f49b6814587e7"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 12, "deletions": 9, "lines": 21, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 13, "UPD": 0, "INS": 4, "MOV": 7, "DEL": 2, "spoonFilesChanged": 1, "spoonMethodsChanged": 1}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/executor/resultset"], "changesInPackagesSPOON": ["org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleResultSets(java.sql.Statement)"]}, {"title": "Regression: extra \\n and spaces when using 3.2.4", "body": "As an effect of issue #98. MyBatis 3.2.4 includes extra leading and trailing spaces and returns on SQLs.\n\nThis is not shown in the log because this characters are removed before printing.\n\nProbably this will have no negative effect for users but it is desirable that the behaviour is kept exactly equal to previous versions.\n", "url": "https://github.com/mybatis/mybatis-3/issues/129", "user": "emacarron", "labels": ["bug"], "created": "2014-01-18 08:08:43", "closed": "2014-01-18 08:14:05", "commits": {"5396486b78778e8ad62f1ee294f24266976dbbe0": {"commitGHEventType": "closed", "commitUser": "emacarron"}, "351e029dc37a2759c258bb6fd684145b6f2a4faf": {"commitGHEventType": "referenced", "commitUser": "emacarron"}}, "ttf": 0.0002777777777777778, "commitsDetails": [{"commitHash": "5396486b78778e8ad62f1ee294f24266976dbbe0", "commitGHEventType": "closed", "commitUser": "emacarron", "commitParents": ["bf3fd5fe7865b5f4fd7c08aff1f4c9abbcf9a0e6"], "nameRev": "5396486b78778e8ad62f1ee294f24266976dbbe0 tags/mybatis-3.2.5~17", "commitMessage": "Fixes #129. Make sure that RawSqlSource makes exactly the same SQL than\nDynamicSqlSource.", "commitDateTime": "2014-01-18 09:14:02", "authoredDateTime": "2014-01-18 09:14:02", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/scripting/defaults/RawSqlSource.java", "insertions": 14, "deletions": 2, "lines": 16}, {"filePath": "src/main/java/org/apache/ibatis/scripting/xmltags/XMLScriptBuilder.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/org/apache/ibatis/submitted/raw_sql_source/RawSqlSourceTest.java", "insertions": 2, "deletions": 0, "lines": 2}], "commitSpoonAstDiffStats": [{"spoonFilePath": "RawSqlSource.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.scripting.defaults.RawSqlSource.getString(org.apache.ibatis.parsing.XNode)", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.scripting.defaults.RawSqlSource", "TOT": 8, "UPD": 1, "INS": 4, "MOV": 3, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.scripting.defaults.RawSqlSource.getSql(org.apache.ibatis.session.Configuration,org.apache.ibatis.scripting.xmltags.SqlNode)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XMLScriptBuilder.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.scripting.xmltags.XMLScriptBuilder.parseScriptNode()", "TOT": 2, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 1}]}, {"spoonFilePath": "RawSqlSourceTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.raw_sql_source.RawSqlSourceTest.test(java.lang.String,java.lang.Class)", "TOT": 2, "UPD": 0, "INS": 2, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "351e029dc37a2759c258bb6fd684145b6f2a4faf", "commitGHEventType": "referenced", "commitUser": "emacarron", "commitParents": ["5396486b78778e8ad62f1ee294f24266976dbbe0"], "nameRev": "351e029dc37a2759c258bb6fd684145b6f2a4faf tags/mybatis-3.2.5~16", "commitMessage": "Related to #129.\nMake sure that RAW language generates the same SQL than the XML\nlanguage.", "commitDateTime": "2014-01-18 11:19:13", "authoredDateTime": "2014-01-18 11:19:13", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/builder/xml/XMLStatementBuilder.java", "insertions": 21, "deletions": 12, "lines": 33}, {"filePath": "src/main/java/org/apache/ibatis/scripting/defaults/RawLanguageDriver.java", "insertions": 34, "deletions": 2, "lines": 36}, {"filePath": "src/main/java/org/apache/ibatis/scripting/defaults/RawSqlSource.java", "insertions": 10, "deletions": 24, "lines": 34}, {"filePath": "src/main/java/org/apache/ibatis/scripting/xmltags/XMLScriptBuilder.java", "insertions": 3, "deletions": 4, "lines": 7}], "commitSpoonAstDiffStats": [{"spoonFilePath": "XMLStatementBuilder.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.builder.xml.XMLStatementBuilder.parseSelectKeyNodes(java.lang.String,java.util.List,java.lang.Class,org.apache.ibatis.scripting.LanguageDriver,java.lang.String)", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.builder.xml.XMLStatementBuilder.parseSelectKeyNode(java.lang.String,org.apache.ibatis.parsing.XNode,java.lang.Class,org.apache.ibatis.scripting.LanguageDriver,java.lang.String)", "TOT": 2, "UPD": 1, "INS": 0, "MOV": 1, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.builder.xml.XMLStatementBuilder.processSelectKeyNodes(java.lang.String,java.lang.Class,org.apache.ibatis.scripting.LanguageDriver)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.builder.xml.XMLStatementBuilder.removeSelectKeyNodes(java.util.List)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.builder.xml.XMLStatementBuilder.parseStatementNode()", "TOT": 4, "UPD": 0, "INS": 1, "MOV": 3, "DEL": 0}]}, {"spoonFilePath": "RawLanguageDriver.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.scripting.defaults.RawLanguageDriver.createSqlSource(org.apache.ibatis.session.Configuration,org.apache.ibatis.parsing.XNode,java.lang.Class)", "TOT": 2, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 1}, {"spoonMethodName": "org.apache.ibatis.scripting.defaults.RawLanguageDriver.parseXML(org.apache.ibatis.parsing.XNode)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "RawSqlSource.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.scripting.defaults.RawSqlSource", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}, {"spoonMethodName": "org.apache.ibatis.scripting.defaults.RawSqlSource.getStringFromXNode(org.apache.ibatis.parsing.XNode)", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}]}, {"spoonFilePath": "XMLScriptBuilder.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.scripting.xmltags.XMLScriptBuilder.parseDynamicTags(org.apache.ibatis.parsing.XNode)", "TOT": 2, "UPD": 0, "INS": 0, "MOV": 1, "DEL": 1}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["5396486b78778e8ad62f1ee294f24266976dbbe0", "351e029dc37a2759c258bb6fd684145b6f2a4faf"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 2, "gitStatsSummary": {"insertions": 83, "deletions": 45, "lines": 128, "gitFilesChange": 4}, "spoonStatsSummary": {"TOT": 28, "UPD": 4, "INS": 11, "MOV": 8, "DEL": 5, "spoonFilesChanged": 4, "spoonMethodsChanged": 13}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/scripting/xmltags", "src/main/java/org/apache/ibatis/scripting/defaults", "src/main/java/org/apache/ibatis/builder/xml"], "changesInPackagesSPOON": ["org.apache.ibatis.scripting.defaults.RawSqlSource", "org.apache.ibatis.builder.xml.XMLStatementBuilder.parseStatementNode()", "org.apache.ibatis.builder.xml.XMLStatementBuilder.parseSelectKeyNode(java.lang.String,org.apache.ibatis.parsing.XNode,java.lang.Class,org.apache.ibatis.scripting.LanguageDriver,java.lang.String)", "org.apache.ibatis.builder.xml.XMLStatementBuilder.processSelectKeyNodes(java.lang.String,java.lang.Class,org.apache.ibatis.scripting.LanguageDriver)", "org.apache.ibatis.scripting.defaults.RawSqlSource.getStringFromXNode(org.apache.ibatis.parsing.XNode)", "org.apache.ibatis.scripting.defaults.RawSqlSource.getString(org.apache.ibatis.parsing.XNode)", "org.apache.ibatis.scripting.defaults.RawLanguageDriver.parseXML(org.apache.ibatis.parsing.XNode)", "org.apache.ibatis.scripting.xmltags.XMLScriptBuilder.parseScriptNode()", "org.apache.ibatis.scripting.defaults.RawLanguageDriver.createSqlSource(org.apache.ibatis.session.Configuration,org.apache.ibatis.parsing.XNode,java.lang.Class)", "org.apache.ibatis.builder.xml.XMLStatementBuilder.removeSelectKeyNodes(java.util.List)", "org.apache.ibatis.scripting.xmltags.XMLScriptBuilder.parseDynamicTags(org.apache.ibatis.parsing.XNode)", "org.apache.ibatis.scripting.defaults.RawSqlSource.getSql(org.apache.ibatis.session.Configuration,org.apache.ibatis.scripting.xmltags.SqlNode)", "org.apache.ibatis.builder.xml.XMLStatementBuilder.parseSelectKeyNodes(java.lang.String,java.util.List,java.lang.Class,org.apache.ibatis.scripting.LanguageDriver,java.lang.String)"]}, {"title": "Regression: missing space separator when using <include> in one line in 3.2.4", "body": "In MyBatis 3.2.4 if an statement is not dynamic (has not any dynamic tag or any $ parameter) and has an include in the same line with no space separator, like this:\n\n```\n    <select id=\"findTest\" resultType=\"int\">\n        SELECT<include refid=\"includedSql\"/>\n    </select>\n\n    <sql id=\"includedSql\">1</sql>\n```\n\nIt will generate \"SELECT1\" but previous versions of MyBatis generated \"SELECT 1\"\n", "url": "https://github.com/mybatis/mybatis-3/issues/128", "user": "emacarron", "labels": ["bug"], "created": "2014-01-18 07:12:56", "closed": "2014-01-18 07:14:26", "commits": {"bf3fd5fe7865b5f4fd7c08aff1f4c9abbcf9a0e6": {"commitGHEventType": "closed", "commitUser": "emacarron"}}, "ttf": 0.0002777777777777778, "commitsDetails": [{"commitHash": "bf3fd5fe7865b5f4fd7c08aff1f4c9abbcf9a0e6", "commitGHEventType": "closed", "commitUser": "emacarron", "commitParents": ["f0172d06d5dfaff6af6e6dcaa89a837f726469f1"], "nameRev": "bf3fd5fe7865b5f4fd7c08aff1f4c9abbcf9a0e6 tags/mybatis-3.2.5~18", "commitMessage": "Fixes #128. Add an space when <include> is on the same line.", "commitDateTime": "2014-01-18 08:14:21", "authoredDateTime": "2014-01-18 08:14:21", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/scripting/defaults/RawSqlSource.java", "insertions": 1, "deletions": 0, "lines": 1}, {"filePath": "src/test/java/org/apache/ibatis/submitted/includes/Mapper.xml", "insertions": 1, "deletions": 2, "lines": 3}], "commitSpoonAstDiffStats": [{"spoonFilePath": "RawSqlSource.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.scripting.defaults.RawSqlSource.getString(org.apache.ibatis.parsing.XNode)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["bf3fd5fe7865b5f4fd7c08aff1f4c9abbcf9a0e6"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 1, "deletions": 0, "lines": 1, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0, "spoonFilesChanged": 1, "spoonMethodsChanged": 1}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/scripting/defaults"], "changesInPackagesSPOON": ["org.apache.ibatis.scripting.defaults.RawSqlSource.getString(org.apache.ibatis.parsing.XNode)"]}, {"title": "SQL defined in annotation cannot use the global variable defined in the MyBatis configuration file/object", "body": "MyBatis suppoerts to define properties in the configuration file(XML) and I found that we can use the defined property in the mapper.xml.\ne.g: \nIn the mybatis-config.xml\n\n```\n<properties>\n        <property name=\"my-param\" value=\"hello\"/>\n</properties>\n```\n\nIn the mapper.xml, I can use the place holder ${my-param} in the statement, and MyBatis would parse the ${my-param} to \"hello: for me.\n\nHowever, I found that MyBatis would NOT do it on the statement defined in annotation such as @UPDATE, etc.\n\nI am wondering if it is a bug. Please try to pull my test case from https://github.com/hei1233212000/mybatis-annotation-global-properties-issue\n\nThank you.\n", "url": "https://github.com/mybatis/mybatis-3/issues/127", "user": "hei1233212000", "labels": ["bug"], "created": "2014-01-16 03:34:37", "closed": "2014-01-20 16:04:54", "commits": {"f367494196b4cd5a5ba78b01c39be1477685a953": {"commitGHEventType": "closed", "commitUser": "emacarron"}}, "ttf": 4.000277777777778, "commitsDetails": [{"commitHash": "f367494196b4cd5a5ba78b01c39be1477685a953", "commitGHEventType": "closed", "commitUser": "emacarron", "commitParents": ["c5ac686d06bf5d6d94c07a95c9bb08ac28070dd1"], "nameRev": "f367494196b4cd5a5ba78b01c39be1477685a953 tags/mybatis-3.2.5~14", "commitMessage": "Fixes #127. Global variables are applied also to annotations.", "commitDateTime": "2014-01-19 17:05:10", "authoredDateTime": "2014-01-19 17:05:10", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/scripting/xmltags/XMLLanguageDriver.java", "insertions": 3, "deletions": 1, "lines": 4}, {"filePath": "src/test/java/org/apache/ibatis/submitted/global_variables/BaseTest.java", "insertions": 76, "deletions": 0, "lines": 76}, {"filePath": "src/test/java/org/apache/ibatis/submitted/global_variables/CreateDB.sql", "insertions": 24, "deletions": 0, "lines": 24}, {"filePath": "src/test/java/org/apache/ibatis/submitted/global_variables/Mapper.java", "insertions": 27, "deletions": 0, "lines": 27}, {"filePath": "src/test/java/org/apache/ibatis/submitted/global_variables/Mapper.xml", "insertions": 27, "deletions": 0, "lines": 27}, {"filePath": "src/test/java/org/apache/ibatis/submitted/global_variables/User.java", "insertions": 38, "deletions": 0, "lines": 38}, {"filePath": "src/test/java/org/apache/ibatis/submitted/global_variables/mybatis-config.xml", "insertions": 44, "deletions": 0, "lines": 44}], "commitSpoonAstDiffStats": [{"spoonFilePath": "XMLLanguageDriver.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.scripting.xmltags.XMLLanguageDriver.createSqlSource(org.apache.ibatis.session.Configuration,java.lang.String,java.lang.Class)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "BaseTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.global_variables.BaseTest", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "Mapper.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.global_variables", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "User.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.global_variables.User", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["f367494196b4cd5a5ba78b01c39be1477685a953"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 3, "deletions": 1, "lines": 4, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 3, "UPD": 0, "INS": 3, "MOV": 0, "DEL": 0, "spoonFilesChanged": 3, "spoonMethodsChanged": 3}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/scripting/xmltags"], "changesInPackagesSPOON": ["org.apache.ibatis.scripting.xmltags.XMLLanguageDriver.createSqlSource(org.apache.ibatis.session.Configuration,java.lang.String,java.lang.Class)", "org.apache.ibatis.submitted.global_variables", "org.apache.ibatis.submitted.global_variables.User"]}, {"title": "Problem with <collection> mapping when parent's id is VARBINARY", "body": "Hi guys,\n\nOur team is trying to use MyBatis instead of Hibernate on one of our projects and we picked up an intereseting bug.\n\nWe are using legacy DB (no way we can change it's structure) and almost all primary keys are VARBINARY.\n\nThe problem that we faced is \"Nested Results for Collection\" will not work properly when primary key is mapped to array field (VARBINARY gets mapped to byte[] in value object)\n\nWe've created a small project with unit tests that explain problem properly. Please find it here: \nhttps://github.com/ekravchenko/testingzone/tree/master/mybatis.collection.mapping.bug\n\nPlease consider the following example. Let's say we have PersonVO:\n![image](https://f.cloud.github.com/assets/3638230/1914772/299c41de-7d5d-11e3-8622-a024b8be810f.png)\n\nChildVO is very simple:\n![image](https://f.cloud.github.com/assets/3638230/1914784/3e2e51d2-7d5d-11e3-915a-3389ac2c22ee.png)\n\nWhen the following result map is applied - collection mapping works as expected. \n![image](https://f.cloud.github.com/assets/3638230/1914788/5568c652-7d5d-11e3-836f-c11386bf2e6d.png)\n\nWe will get 3 person items with collections of child items properly populated\n\nHowever when we try same query with different result map where <b>id</b> is mapped to byte[]:\n![image](https://f.cloud.github.com/assets/3638230/1914795/8a5b730a-7d5d-11e3-847f-3ede006762b1.png)\n\nThe test will not pass and we will get duplicates (7 person items instead of 3)\n\nBug can be reproduced using version 3.2.3 and the latest SNAPSHOT as well.\n\nThanks,\nYevgen Kravchenko\n", "url": "https://github.com/mybatis/mybatis-3/issues/125", "user": "ekravchenko", "labels": ["bug"], "created": "2014-01-14 20:54:20", "closed": "2014-01-15 11:10:02", "commits": {"9b61bfbe4353ec75ccdf39199be2abde39c752f8": {"commitGHEventType": "referenced", "commitUser": "emacarron"}}, "ttf": 0.0002777777777777778, "commitsDetails": [{"commitHash": "9b61bfbe4353ec75ccdf39199be2abde39c752f8", "commitGHEventType": "referenced", "commitUser": "emacarron", "commitParents": ["7552bb7aa10d96c388fed654dd118317a7bb8948"], "nameRev": "9b61bfbe4353ec75ccdf39199be2abde39c752f8 tags/mybatis-3.2.4~2", "commitMessage": "Tentative fix for #124 (and #125?)", "commitDateTime": "2014-01-15 07:47:41", "authoredDateTime": "2014-01-15 07:47:41", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/cache/CacheKey.java", "insertions": 28, "deletions": 8, "lines": 36}, {"filePath": "src/test/java/org/apache/ibatis/cache/CacheKeyTest.java", "insertions": 15, "deletions": 6, "lines": 21}], "commitSpoonAstDiffStats": [{"spoonFilePath": "CacheKey.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.cache.CacheKey.update(java.lang.Object)", "TOT": 3, "UPD": 1, "INS": 1, "MOV": 1, "DEL": 0}]}, {"spoonFilePath": "CacheKeyTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.cache.CacheKeyTest.shouldTestCacheKeysWithBinaryArrays()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": [], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 1, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 0, "gitStatsSummary": {"insertions": 0, "deletions": 0, "lines": 0, "gitFilesChange": 0}, "spoonStatsSummary": {"TOT": 0, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 0, "spoonFilesChanged": 0, "spoonMethodsChanged": 0}, "statsSkippedReason": "", "changesInPackagesGIT": [], "changesInPackagesSPOON": []}, {"title": "MapperAnnotationBuilder getLanguageDriver return null", "body": "When a User's LanguageDriver write by Annotation on Mapper method,it's going to wrong,because in MapperAnnotationBuilder,Method getLanguageDriver get LanguageDriver from languageRegistry.When a User's LanguageDriver doen't apper in Mapper's xml,it doesn't register automatic,so when use Method getLanguageDriver ,it return null.\n\nwe can change the Method getLanguageDriver as XMLStatementBuilder Method getLanguageDriver,\n\ncode:\n\n```\nprivate LanguageDriver getLanguageDriver(Method method) {\nLang lang = method.getAnnotation(Lang.class);\nLanguageDriver languageDriver = null;\nif (lang != null) {\n  Class<?> languageDriverClass = lang.value();\n  languageDriver = configuration.getLanguageRegistry().getDriver(languageDriverClass);\n  if(languageDriver==null){\n    configuration.getLanguageRegistry().register(languageDriverClass);\n    languageDriver = configuration.getLanguageRegistry().getDriver(languageDriverClass);\n  }\n  if(languageDriver!=null){\n    return languageDriver;\n  }\n}\nreturn configuration.getLanguageRegistry().getDefaultDriver();\n  }\n```\n\nfirst,get LanugageDriver from languageRegistry,if null,we register this languageDriverClass,and then do getLanugageDriver again,if not null,return it,if null,return the DefaultDriver.\n", "url": "https://github.com/mybatis/mybatis-3/issues/121", "user": "abel533", "labels": ["bug"], "created": "2014-01-03 01:50:29", "closed": "2014-01-03 08:11:09", "commits": {"7549f02cfd3f170ece07ac992df6adfe411c297f": {"commitGHEventType": "closed", "commitUser": "emacarron"}}, "ttf": 0.0002777777777777778, "commitsDetails": [{"commitHash": "7549f02cfd3f170ece07ac992df6adfe411c297f", "commitGHEventType": "closed", "commitUser": "emacarron", "commitParents": ["f4ef461cd64ce0745812eda59d41ff78d8e8416c"], "nameRev": "7549f02cfd3f170ece07ac992df6adfe411c297f tags/mybatis-3.2.4~4", "commitMessage": "Fixes #121. @Lang class is never registered.", "commitDateTime": "2014-01-03 09:11:01", "authoredDateTime": "2014-01-03 09:11:01", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/builder/MapperBuilderAssistant.java", "insertions": 37, "deletions": 28, "lines": 65}, {"filePath": "src/main/java/org/apache/ibatis/builder/annotation/MapperAnnotationBuilder.java", "insertions": 4, "deletions": 4, "lines": 8}, {"filePath": "src/main/java/org/apache/ibatis/builder/xml/XMLStatementBuilder.java", "insertions": 4, "deletions": 10, "lines": 14}], "commitSpoonAstDiffStats": [{"spoonFilePath": "MapperBuilderAssistant.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.builder.MapperBuilderAssistant.getLanguageDriver(java.lang.Class)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "MapperAnnotationBuilder.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.builder.annotation.MapperAnnotationBuilder.getLanguageDriver(java.lang.reflect.Method)", "TOT": 12, "UPD": 3, "INS": 3, "MOV": 4, "DEL": 2}]}, {"spoonFilePath": "XMLStatementBuilder.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.builder.xml.XMLStatementBuilder.getLanguageDriver(java.lang.String)", "TOT": 9, "UPD": 3, "INS": 1, "MOV": 2, "DEL": 3}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["7549f02cfd3f170ece07ac992df6adfe411c297f"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 45, "deletions": 42, "lines": 87, "gitFilesChange": 3}, "spoonStatsSummary": {"TOT": 22, "UPD": 6, "INS": 5, "MOV": 6, "DEL": 5, "spoonFilesChanged": 3, "spoonMethodsChanged": 3}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/builder/xml", "src/main/java/org/apache/ibatis/builder", "src/main/java/org/apache/ibatis/builder/annotation"], "changesInPackagesSPOON": ["org.apache.ibatis.builder.annotation.MapperAnnotationBuilder.getLanguageDriver(java.lang.reflect.Method)", "org.apache.ibatis.builder.xml.XMLStatementBuilder.getLanguageDriver(java.lang.String)", "org.apache.ibatis.builder.MapperBuilderAssistant.getLanguageDriver(java.lang.Class)"]}, {"title": "Collections with parent reference don't work with columnPrefix", "body": "I cannot get collections with a parent reference [1] to work in conjunction with a columnPrefix. Example:\n\n```\n<resultMap id=\"offerResultMap\" type=\"model.Offer\">\n        <id property=\"id\" column=\"id\"/>\n        <collection property=\"bookings\" columnPrefix=\"booking_\" ofType=\"model.Booking\">\n            <id property=\"id\" column=\"id\"/>\n            <result property=\"seats\" column=\"seats\"/>\n            <result property=\"created\" column=\"created\"/>\n            <association property=\"offer\" resultMap=\"offerResultMap\"/>\n        </collection>\n</resultMap>\n```\n\nThe exception is as follows:\n`org.apache.ibatis.reflection.ReflectionException: Could not set property 'bookings' of 'class model.Offer' with value 'model.Booking@0' Cause: java.lang.IllegalArgumentException: argument type mismatch`\n\nIf I leave out either the columnPrefix or the association within the collection, it works as expected.\n\n[1] The parent reference feature is not described within the documentation, but within this issue: http://code.google.com/p/mybatis/issues/detail?id=509\n", "url": "https://github.com/mybatis/mybatis-3/issues/118", "user": "BenRomberg", "labels": ["bug"], "created": "2013-12-14 13:17:31", "closed": "2013-12-16 12:00:20", "commits": {"7de9420e37299c069fc0656e28977e7bd780a4b3": {"commitGHEventType": "referenced", "commitUser": "harawata"}, "f4ef461cd64ce0745812eda59d41ff78d8e8416c": {"commitGHEventType": "closed", "commitUser": "harawata"}}, "ttf": 1.0002777777777778, "commitsDetails": [{"commitHash": "7de9420e37299c069fc0656e28977e7bd780a4b3", "commitGHEventType": "referenced", "commitUser": "harawata", "commitParents": ["bebc102ea1880ed9b0ec3b49909dd1c3fc6743ba"], "nameRev": "7de9420e37299c069fc0656e28977e7bd780a4b3 tags/mybatis-3.2.4~6", "commitMessage": "Added failing test cases for #118. Still trying to find a solution. [ci skip]\n", "commitDateTime": "2013-12-15 15:55:05", "authoredDateTime": "2013-12-15 15:55:05", "commitGitStats": [{"filePath": "src/test/java/org/apache/ibatis/submitted/parent_reference_3level/BlogTest.java", "insertions": 41, "deletions": 4, "lines": 45}, {"filePath": "src/test/java/org/apache/ibatis/submitted/parent_reference_3level/Mapper.java", "insertions": 2, "deletions": 0, "lines": 2}, {"filePath": "src/test/java/org/apache/ibatis/submitted/parent_reference_3level/Mapper.xml", "insertions": 31, "deletions": 1, "lines": 32}], "commitSpoonAstDiffStats": [{"spoonFilePath": "BlogTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.parent_reference_3level.BlogTest.testSelectBlogWithPosts()", "TOT": 5, "UPD": 3, "INS": 2, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.submitted.parent_reference_3level.BlogTest.testSelectBlogWithoutPosts()", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.submitted.parent_reference_3level.BlogTest.testSelectBlogWithPostsColumnPrefix()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.submitted.parent_reference_3level.BlogTest.testSelectBlogWithoutPostsColumnPrefix()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "Mapper.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.parent_reference_3level.selectBlogByPrimaryKeyColumnPrefix(int)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "f4ef461cd64ce0745812eda59d41ff78d8e8416c", "commitGHEventType": "closed", "commitUser": "harawata", "commitParents": ["7de9420e37299c069fc0656e28977e7bd780a4b3"], "nameRev": "f4ef461cd64ce0745812eda59d41ff78d8e8416c tags/mybatis-3.2.4~5", "commitMessage": "fixes #118 Referencing parent instance does not work when columnPrefix is specified.\n", "commitDateTime": "2013-12-16 20:59:41", "authoredDateTime": "2013-12-16 20:59:41", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/executor/resultset/DefaultResultSetHandler.java", "insertions": 19, "deletions": 4, "lines": 23}, {"filePath": "src/test/java/org/apache/ibatis/submitted/parent_reference_3level/BlogTest.java", "insertions": 0, "deletions": 3, "lines": 3}], "commitSpoonAstDiffStats": [{"spoonFilePath": "DefaultResultSetHandler.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.getRowValue(org.apache.ibatis.executor.resultset.ResultSetWrapper,org.apache.ibatis.mapping.ResultMap,org.apache.ibatis.cache.CacheKey,org.apache.ibatis.cache.CacheKey,java.lang.String,java.lang.Object)", "TOT": 4, "UPD": 2, "INS": 1, "MOV": 1, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.applyNestedResultMappings(org.apache.ibatis.executor.resultset.ResultSetWrapper,org.apache.ibatis.mapping.ResultMap,org.apache.ibatis.reflection.MetaObject,java.lang.String,org.apache.ibatis.cache.CacheKey,boolean)", "TOT": 8, "UPD": 0, "INS": 4, "MOV": 3, "DEL": 1}, {"spoonMethodName": "org.apache.ibatis.executor.resultset.DefaultResultSetHandler", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.putAncestor(org.apache.ibatis.cache.CacheKey,java.lang.Object,java.lang.String,java.lang.String)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.cleanUpAfterHandlingResultSet()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "BlogTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.parent_reference_3level.BlogTest.testSelectBlogWithPostsColumnPrefix()", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}, {"spoonMethodName": "org.apache.ibatis.submitted.parent_reference_3level.BlogTest.testSelectBlogWithoutPostsColumnPrefix()", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["7de9420e37299c069fc0656e28977e7bd780a4b3", "f4ef461cd64ce0745812eda59d41ff78d8e8416c"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 19, "deletions": 4, "lines": 23, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 16, "UPD": 2, "INS": 9, "MOV": 4, "DEL": 1, "spoonFilesChanged": 2, "spoonMethodsChanged": 6}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/executor/resultset"], "changesInPackagesSPOON": ["org.apache.ibatis.executor.resultset.DefaultResultSetHandler.cleanUpAfterHandlingResultSet()", "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.getRowValue(org.apache.ibatis.executor.resultset.ResultSetWrapper,org.apache.ibatis.mapping.ResultMap,org.apache.ibatis.cache.CacheKey,org.apache.ibatis.cache.CacheKey,java.lang.String,java.lang.Object)", "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.applyNestedResultMappings(org.apache.ibatis.executor.resultset.ResultSetWrapper,org.apache.ibatis.mapping.ResultMap,org.apache.ibatis.reflection.MetaObject,java.lang.String,org.apache.ibatis.cache.CacheKey,boolean)", "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.putAncestor(org.apache.ibatis.cache.CacheKey,java.lang.Object,java.lang.String,java.lang.String)", "org.apache.ibatis.executor.resultset.DefaultResultSetHandler", "org.apache.ibatis.submitted.parent_reference_3level.selectBlogByPrimaryKeyColumnPrefix(int)"]}, {"title": "columnPrefix is not treated as case insesitive", "body": "Problem:\nColumn names can be of any case, but in applyAutomaticMappings, column prefix is not treated as case insensitive, even though the column prefix is automatically converted to uppercase.\n\nWorkaround, when adding a prefix, always add it in uppercase in your select statement.\n\nExample:\n\n```\n<select id=\"selectA\" parameterType=\"int\" resultMap=\"aMap\">\n    select\n            a.id,\n        a.name,\n        b.id as OTHER_id,\n        b.name as  OTHER_name,\n    from table_a a, table_b b\n    where a.id = #{b.a_id}      \n</select>\n\n<resultMap id=\"aMap\" type=\"org.some.thing.A\">\n    <id property=\"id\" column=\"id\"/>\n    <collection property=\"bList\" javaType=\"ArrayList\" ofType=\"org.some.thing.B\" resultMap=\"bMap\" columnPrefix=\"other_\"/>\n</resultMap>\n\n<resultMap id=\"bMap\" type=\"org.some.thing.B\">\n    <id property=\"id\" column=\"id\"/>\n</resultMap>\n```\n\nFix:\n\nmodify applyAutomaticaMappings as follows:\nfile:DefaultResultSetHandler.java\n405: -         if (columnName.startsWith(columnPrefix)) {\n405:+         if (columnName.toUpperCase().startsWith(columnPrefix)) {\n", "url": "https://github.com/mybatis/mybatis-3/issues/107", "user": "jonl-percsolutions-com", "labels": ["bug"], "created": "2013-12-02 20:15:55", "closed": "2013-12-03 02:12:08", "commits": {"93197bd0f56d05f200be1744567ec7af03dc59e9": {"commitGHEventType": "closed", "commitUser": "harawata"}}, "ttf": 0.0002777777777777778, "commitsDetails": [{"commitHash": "93197bd0f56d05f200be1744567ec7af03dc59e9", "commitGHEventType": "closed", "commitUser": "harawata", "commitParents": ["8bfd5a27a6eab8c1200ab93769e7479972947dcc"], "nameRev": "93197bd0f56d05f200be1744567ec7af03dc59e9 tags/mybatis-3.2.4~18", "commitMessage": "fixes #107 Auto-mapping + columnPrefix fails under case-sensitive database engines. Normalize unmapped column names to uppercase before searching columnPrefix.\n", "commitDateTime": "2013-12-03 11:10:32", "authoredDateTime": "2013-12-03 11:10:32", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/executor/resultset/DefaultResultSetHandler.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/test/java/org/apache/ibatis/submitted/column_prefix/Brand.java", "insertions": 51, "deletions": 0, "lines": 51}, {"filePath": "src/test/java/org/apache/ibatis/submitted/column_prefix/ColumnPrefixAutoMappingTest.java", "insertions": 17, "deletions": 0, "lines": 17}, {"filePath": "src/test/java/org/apache/ibatis/submitted/column_prefix/CreateDB.sql", "insertions": 19, "deletions": 0, "lines": 19}, {"filePath": "src/test/java/org/apache/ibatis/submitted/column_prefix/MapperAutoMapping.xml", "insertions": 19, "deletions": 0, "lines": 19}, {"filePath": "src/test/java/org/apache/ibatis/submitted/column_prefix/Product.java", "insertions": 39, "deletions": 0, "lines": 39}], "commitSpoonAstDiffStats": [{"spoonFilePath": "DefaultResultSetHandler.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.applyAutomaticMappings(org.apache.ibatis.executor.resultset.ResultSetWrapper,org.apache.ibatis.mapping.ResultMap,org.apache.ibatis.reflection.MetaObject,java.lang.String)", "TOT": 2, "UPD": 0, "INS": 1, "MOV": 1, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.createRowKeyForUnmappedProperties(org.apache.ibatis.mapping.ResultMap,org.apache.ibatis.executor.resultset.ResultSetWrapper,org.apache.ibatis.cache.CacheKey,java.lang.String)", "TOT": 2, "UPD": 0, "INS": 1, "MOV": 1, "DEL": 0}]}, {"spoonFilePath": "Brand.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.column_prefix.Brand", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "ColumnPrefixAutoMappingTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.column_prefix.ColumnPrefixAutoMappingTest.testCaseInsensitivity()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "Product.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.column_prefix.Product", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["93197bd0f56d05f200be1744567ec7af03dc59e9"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 2, "deletions": 2, "lines": 4, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 6, "UPD": 0, "INS": 4, "MOV": 2, "DEL": 0, "spoonFilesChanged": 3, "spoonMethodsChanged": 4}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/executor/resultset"], "changesInPackagesSPOON": ["org.apache.ibatis.submitted.column_prefix.Brand", "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.applyAutomaticMappings(org.apache.ibatis.executor.resultset.ResultSetWrapper,org.apache.ibatis.mapping.ResultMap,org.apache.ibatis.reflection.MetaObject,java.lang.String)", "org.apache.ibatis.submitted.column_prefix.Product", "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.createRowKeyForUnmappedProperties(org.apache.ibatis.mapping.ResultMap,org.apache.ibatis.executor.resultset.ResultSetWrapper,org.apache.ibatis.cache.CacheKey,java.lang.String)"]}, {"title": "MyBatis Constructor Injection with resultMap does not map nested object properties", "body": "While having a look at  #101 I saw that, when a new object with constructor is created, and one of the values is in a mapping with a resultMap attribute, the nested object is propertly created but its properties are never filled.\n\nSee the test ant BindingTest#shouldExecuteBoundSelectBlogUsingConstructorWithResultMapAndProperties()\n", "url": "https://github.com/mybatis/mybatis-3/issues/103", "user": "emacarron", "labels": ["bug"], "created": "2013-11-22 17:37:50", "closed": "2013-11-22 20:20:08", "commits": {"8bfd5a27a6eab8c1200ab93769e7479972947dcc": {"commitGHEventType": "closed", "commitUser": "emacarron"}}, "ttf": 0.0002777777777777778, "commitsDetails": [{"commitHash": "8bfd5a27a6eab8c1200ab93769e7479972947dcc", "commitGHEventType": "closed", "commitUser": "emacarron", "commitParents": ["20f8af8b2e5268197bb81010eec7235bcb9e1b87"], "nameRev": "8bfd5a27a6eab8c1200ab93769e7479972947dcc tags/mybatis-3.2.4~19", "commitMessage": "Fixes #103. Property mappings were ignored when handling constructors.", "commitDateTime": "2013-11-22 21:19:57", "authoredDateTime": "2013-11-22 21:19:57", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/executor/resultset/DefaultResultSetHandler.java", "insertions": 3, "deletions": 4, "lines": 7}, {"filePath": "src/test/java/org/apache/ibatis/binding/BindingTest.java", "insertions": 22, "deletions": 1, "lines": 23}, {"filePath": "src/test/java/org/apache/ibatis/binding/BoundAuthorMapper.xml", "insertions": 9, "deletions": 0, "lines": 9}, {"filePath": "src/test/java/org/apache/ibatis/binding/BoundBlogMapper.java", "insertions": 2, "deletions": 0, "lines": 2}, {"filePath": "src/test/java/org/apache/ibatis/binding/BoundBlogMapper.xml", "insertions": 23, "deletions": 0, "lines": 23}], "commitSpoonAstDiffStats": [{"spoonFilePath": "DefaultResultSetHandler.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.createParameterizedResultObject(org.apache.ibatis.executor.resultset.ResultSetWrapper,java.lang.Class,java.util.List,java.util.List,java.util.List,java.lang.String)", "TOT": 2, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 1}, {"spoonMethodName": "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleRowValuesForSimpleResultMap(org.apache.ibatis.executor.resultset.ResultSetWrapper,org.apache.ibatis.mapping.ResultMap,org.apache.ibatis.session.ResultHandler,org.apache.ibatis.session.RowBounds,org.apache.ibatis.mapping.ResultMapping)", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}, {"spoonMethodName": "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.getRowValue(org.apache.ibatis.executor.resultset.ResultSetWrapper,org.apache.ibatis.mapping.ResultMap,org.apache.ibatis.cache.CacheKey)", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}]}, {"spoonFilePath": "BindingTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.binding.BindingTest.shouldExecuteBoundSelectBlogUsingConstructorWithResultMapAndProperties()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "BoundBlogMapper.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.binding.selectBlogUsingConstructorWithResultMapAndProperties(int)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["8bfd5a27a6eab8c1200ab93769e7479972947dcc"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 3, "deletions": 4, "lines": 7, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 5, "UPD": 1, "INS": 1, "MOV": 0, "DEL": 3, "spoonFilesChanged": 2, "spoonMethodsChanged": 4}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/executor/resultset"], "changesInPackagesSPOON": ["org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleRowValuesForSimpleResultMap(org.apache.ibatis.executor.resultset.ResultSetWrapper,org.apache.ibatis.mapping.ResultMap,org.apache.ibatis.session.ResultHandler,org.apache.ibatis.session.RowBounds,org.apache.ibatis.mapping.ResultMapping)", "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.getRowValue(org.apache.ibatis.executor.resultset.ResultSetWrapper,org.apache.ibatis.mapping.ResultMap,org.apache.ibatis.cache.CacheKey)", "org.apache.ibatis.binding.selectBlogUsingConstructorWithResultMapAndProperties(int)", "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.createParameterizedResultObject(org.apache.ibatis.executor.resultset.ResultSetWrapper,java.lang.Class,java.util.List,java.util.List,java.util.List,java.lang.String)"]}, {"title": "When autoMapping=\"true\", auto-mapping should be applied to the nested collection/association.", "body": "With the following result map, auto-mapping is applied only to **Blog**, but it should be applied to **Post** as well.\n\n``` xml\n<resultMap id=\"blogResult\" type=\"Blog\" autoMapping=\"true\">\n  <id property=\"id\" column=\"id\" />\n  <collection property=\"posts\" ofType=\"Post\">\n    <id property=\"postId\" column=\"postId\"/>\n  </collection>\n</resultMap>\n```\n", "url": "https://github.com/mybatis/mybatis-3/issues/93", "user": "harawata", "labels": ["bug"], "created": "2013-10-09 10:23:18", "closed": "2013-10-09 10:25:32", "commits": {"f19ff46fbf0fa4352fe0ff8761f26fd454936ba7": {"commitGHEventType": "closed", "commitUser": "harawata"}, "58cc1a5de11a664037ece5cd51d85b296cfc6e7b": {"commitGHEventType": "referenced", "commitUser": "harawata"}, "df5f7b71e86212c2a1ecbaeb76e28505771825fb": {"commitGHEventType": "referenced", "commitUser": "harawata"}}, "ttf": 0.0002777777777777778, "commitsDetails": [{"commitHash": "f19ff46fbf0fa4352fe0ff8761f26fd454936ba7", "commitGHEventType": "closed", "commitUser": "harawata", "commitParents": ["7f7ca8ccfc8952df9cf6dd4f927b4e1da69e53a0"], "nameRev": "f19ff46fbf0fa4352fe0ff8761f26fd454936ba7 tags/mybatis-3.2.4~38", "commitMessage": "fixes #93 When autoMapping is set to true for a resultMap, autoMapping should be applied to the nested collection and/or association as well.\n", "commitDateTime": "2013-10-09 19:23:42", "authoredDateTime": "2013-10-09 16:48:08", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/executor/resultset/DefaultResultSetHandler.java", "insertions": 9, "deletions": 8, "lines": 17}, {"filePath": "src/test/java/org/apache/ibatis/submitted/automapping/AutomappingTest.java", "insertions": 16, "deletions": 0, "lines": 16}, {"filePath": "src/test/java/org/apache/ibatis/submitted/automapping/CreateDB.sql", "insertions": 12, "deletions": 1, "lines": 13}, {"filePath": "src/test/java/org/apache/ibatis/submitted/automapping/Mapper.java", "insertions": 2, "deletions": 0, "lines": 2}, {"filePath": "src/test/java/org/apache/ibatis/submitted/automapping/Mapper.xml", "insertions": 13, "deletions": 0, "lines": 13}, {"filePath": "src/test/java/org/apache/ibatis/submitted/automapping/Pet.java", "insertions": 38, "deletions": 0, "lines": 38}, {"filePath": "src/test/java/org/apache/ibatis/submitted/automapping/User.java", "insertions": 11, "deletions": 0, "lines": 11}], "commitSpoonAstDiffStats": [{"spoonFilePath": "DefaultResultSetHandler.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.shouldApplyAutomaticMappings(org.apache.ibatis.mapping.ResultMap,boolean)", "TOT": 4, "UPD": 0, "INS": 0, "MOV": 3, "DEL": 1}, {"spoonMethodName": "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.shouldApplyAutomaticMappings(org.apache.ibatis.mapping.ResultMap,java.lang.Boolean,boolean)", "TOT": 2, "UPD": 0, "INS": 2, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.getRowValue(org.apache.ibatis.executor.resultset.ResultSetWrapper,org.apache.ibatis.mapping.ResultMap,org.apache.ibatis.cache.CacheKey,org.apache.ibatis.cache.CacheKey,java.lang.String,java.lang.Object,java.lang.Boolean)", "TOT": 2, "UPD": 0, "INS": 2, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.getRowValue(org.apache.ibatis.executor.resultset.ResultSetWrapper,org.apache.ibatis.mapping.ResultMap,org.apache.ibatis.cache.CacheKey)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleRowValuesForNestedResultMap(org.apache.ibatis.executor.resultset.ResultSetWrapper,org.apache.ibatis.mapping.ResultMap,org.apache.ibatis.session.ResultHandler,org.apache.ibatis.session.RowBounds,org.apache.ibatis.mapping.ResultMapping)", "TOT": 2, "UPD": 0, "INS": 2, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.applyNestedResultMappings(org.apache.ibatis.executor.resultset.ResultSetWrapper,org.apache.ibatis.mapping.ResultMap,org.apache.ibatis.reflection.MetaObject,java.lang.String,org.apache.ibatis.cache.CacheKey,boolean)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "AutomappingTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.automapping.AutomappingTest.shouldGetAUserWithPets()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "Mapper.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.automapping.getUserWithPets(java.lang.Integer)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "Pet.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.automapping.Pet", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "User.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.automapping.User", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.submitted.automapping.User.getPets()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.submitted.automapping.User.setPets(java.util.List)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "58cc1a5de11a664037ece5cd51d85b296cfc6e7b", "commitGHEventType": "referenced", "commitUser": "harawata", "commitParents": ["f19ff46fbf0fa4352fe0ff8761f26fd454936ba7"], "nameRev": "58cc1a5de11a664037ece5cd51d85b296cfc6e7b tags/mybatis-3.2.4~37", "commitMessage": "#93 auto-mapping should also be applied to deeply nested collection/association.\n", "commitDateTime": "2013-10-09 19:52:48", "authoredDateTime": "2013-10-09 19:51:51", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/executor/resultset/DefaultResultSetHandler.java", "insertions": 4, "deletions": 4, "lines": 8}, {"filePath": "src/test/java/org/apache/ibatis/submitted/automapping/AutomappingTest.java", "insertions": 1, "deletions": 0, "lines": 1}, {"filePath": "src/test/java/org/apache/ibatis/submitted/automapping/Breeder.java", "insertions": 38, "deletions": 0, "lines": 38}, {"filePath": "src/test/java/org/apache/ibatis/submitted/automapping/CreateDB.sql", "insertions": 11, "deletions": 3, "lines": 14}, {"filePath": "src/test/java/org/apache/ibatis/submitted/automapping/Mapper.xml", "insertions": 6, "deletions": 1, "lines": 7}, {"filePath": "src/test/java/org/apache/ibatis/submitted/automapping/Pet.java", "insertions": 9, "deletions": 0, "lines": 9}], "commitSpoonAstDiffStats": [{"spoonFilePath": "DefaultResultSetHandler.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.applyNestedResultMappings(org.apache.ibatis.executor.resultset.ResultSetWrapper,org.apache.ibatis.mapping.ResultMap,org.apache.ibatis.reflection.MetaObject,java.lang.String,org.apache.ibatis.cache.CacheKey,boolean,java.lang.Boolean)", "TOT": 2, "UPD": 0, "INS": 2, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.getRowValue(org.apache.ibatis.executor.resultset.ResultSetWrapper,org.apache.ibatis.mapping.ResultMap,org.apache.ibatis.cache.CacheKey,org.apache.ibatis.cache.CacheKey,java.lang.String,java.lang.Object,java.lang.Boolean)", "TOT": 2, "UPD": 0, "INS": 2, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.applyNestedResultMappings(org.apache.ibatis.executor.resultset.ResultSetWrapper,org.apache.ibatis.mapping.ResultMap,org.apache.ibatis.reflection.MetaObject,java.lang.String,org.apache.ibatis.cache.CacheKey,boolean)", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 1, "DEL": 0}]}, {"spoonFilePath": "AutomappingTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.automapping.AutomappingTest.shouldGetAUserWithPets()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "Breeder.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.automapping.Breeder", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "Pet.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.automapping.Pet", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.submitted.automapping.Pet.getBreeder()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.submitted.automapping.Pet.setBreeder(org.apache.ibatis.submitted.automapping.Breeder)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "df5f7b71e86212c2a1ecbaeb76e28505771825fb", "commitGHEventType": "referenced", "commitUser": "harawata", "commitParents": ["e94d49cd04e308bc7b91b880d58d24166b39b9d8"], "nameRev": "df5f7b71e86212c2a1ecbaeb76e28505771825fb tags/mybatis-3.2.4~15", "commitMessage": "Corrected #93 : Added autoMapping attribute to collection and association. Auto-mapping setting is not inherited to nested result maps (the same behavior as version 3.2.3). 'autoMapping' is ignored when 'select' or 'resultMap' is found in the same element. Related to the discussion in #112.\n", "commitDateTime": "2013-12-06 23:53:02", "authoredDateTime": "2013-12-06 23:53:02", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/builder/xml/mybatis-3-mapper.dtd", "insertions": 2, "deletions": 0, "lines": 2}, {"filePath": "src/main/java/org/apache/ibatis/executor/resultset/DefaultResultSetHandler.java", "insertions": 11, "deletions": 12, "lines": 23}, {"filePath": "src/site/es/xdoc/sqlmap-xml.xml", "insertions": 7, "deletions": 0, "lines": 7}, {"filePath": "src/site/ja/xdoc/sqlmap-xml.xml", "insertions": 5, "deletions": 0, "lines": 5}, {"filePath": "src/site/ko/xdoc/sqlmap-xml.xml", "insertions": 7, "deletions": 0, "lines": 7}, {"filePath": "src/site/xdoc/sqlmap-xml.xml", "insertions": 7, "deletions": 0, "lines": 7}, {"filePath": "src/site/zh/xdoc/sqlmap-xml.xml", "insertions": 7, "deletions": 0, "lines": 7}, {"filePath": "src/test/java/org/apache/ibatis/submitted/automapping/AutomappingTest.java", "insertions": 87, "deletions": 5, "lines": 92}, {"filePath": "src/test/java/org/apache/ibatis/submitted/automapping/Mapper.java", "insertions": 4, "deletions": 2, "lines": 6}, {"filePath": "src/test/java/org/apache/ibatis/submitted/automapping/Mapper.xml", "insertions": 27, "deletions": 5, "lines": 32}, {"filePath": "src/test/java/org/apache/ibatis/submitted/automapping/mybatis-config.xml", "insertions": 1, "deletions": 3, "lines": 4}], "commitSpoonAstDiffStats": [{"spoonFilePath": "DefaultResultSetHandler.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.getRowValue(org.apache.ibatis.executor.resultset.ResultSetWrapper,org.apache.ibatis.mapping.ResultMap)", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}, {"spoonMethodName": "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.shouldApplyAutomaticMappings(org.apache.ibatis.mapping.ResultMap,java.lang.Boolean,boolean)", "TOT": 5, "UPD": 0, "INS": 0, "MOV": 3, "DEL": 2}, {"spoonMethodName": "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleRowValuesForNestedResultMap(org.apache.ibatis.executor.resultset.ResultSetWrapper,org.apache.ibatis.mapping.ResultMap,org.apache.ibatis.session.ResultHandler,org.apache.ibatis.session.RowBounds,org.apache.ibatis.mapping.ResultMapping)", "TOT": 2, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 2}, {"spoonMethodName": "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.getRowValue(org.apache.ibatis.executor.resultset.ResultSetWrapper,org.apache.ibatis.mapping.ResultMap,org.apache.ibatis.cache.CacheKey,org.apache.ibatis.cache.CacheKey,java.lang.String,java.lang.Object,java.lang.Boolean)", "TOT": 4, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 4}, {"spoonMethodName": "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.applyNestedResultMappings(org.apache.ibatis.executor.resultset.ResultSetWrapper,org.apache.ibatis.mapping.ResultMap,org.apache.ibatis.reflection.MetaObject,java.lang.String,org.apache.ibatis.cache.CacheKey,boolean,java.lang.Boolean)", "TOT": 2, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 2}, {"spoonMethodName": "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.shouldApplyAutomaticMappings(org.apache.ibatis.mapping.ResultMap,boolean)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "AutomappingTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.automapping.AutomappingTest.shouldGetAUserWithPets()", "TOT": 23, "UPD": 7, "INS": 0, "MOV": 15, "DEL": 1}, {"spoonMethodName": "org.apache.ibatis.submitted.automapping.AutomappingTest.shouldNotInheritAutoMappingInherited_InlineNestedResultMap()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.submitted.automapping.AutomappingTest.shouldNotInheritAutoMappingInherited_ExternalNestedResultMap()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.submitted.automapping.AutomappingTest.shouldIgnorePartialAutoMappingBehavior_InlineNestedResultMap()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.submitted.automapping.AutomappingTest.shouldRespectFullAutoMappingBehavior_InlineNestedResultMap()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.submitted.automapping.AutomappingTest.shouldIgnorePartialAutoMappingBehavior_ExternalNestedResultMap()", "TOT": 2, "UPD": 0, "INS": 2, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.submitted.automapping.AutomappingTest.shouldRespectFullAutoMappingBehavior_ExternalNestedResultMap()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.submitted.automapping.AutomappingTest.shouldGetAUser()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "Mapper.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.automapping.getUserWithPets(java.lang.Integer)", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.submitted.automapping.getUserWithPets_External(java.lang.Integer)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["f19ff46fbf0fa4352fe0ff8761f26fd454936ba7", "58cc1a5de11a664037ece5cd51d85b296cfc6e7b"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 1, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 2, "gitStatsSummary": {"insertions": 13, "deletions": 12, "lines": 25, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 26, "UPD": 0, "INS": 21, "MOV": 4, "DEL": 1, "spoonFilesChanged": 5, "spoonMethodsChanged": 15}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/executor/resultset"], "changesInPackagesSPOON": ["org.apache.ibatis.executor.resultset.DefaultResultSetHandler.getRowValue(org.apache.ibatis.executor.resultset.ResultSetWrapper,org.apache.ibatis.mapping.ResultMap,org.apache.ibatis.cache.CacheKey,org.apache.ibatis.cache.CacheKey,java.lang.String,java.lang.Object,java.lang.Boolean)", "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.applyNestedResultMappings(org.apache.ibatis.executor.resultset.ResultSetWrapper,org.apache.ibatis.mapping.ResultMap,org.apache.ibatis.reflection.MetaObject,java.lang.String,org.apache.ibatis.cache.CacheKey,boolean)", "org.apache.ibatis.submitted.automapping.Pet", "org.apache.ibatis.submitted.automapping.Pet.getBreeder()", "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.shouldApplyAutomaticMappings(org.apache.ibatis.mapping.ResultMap,boolean)", "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleRowValuesForNestedResultMap(org.apache.ibatis.executor.resultset.ResultSetWrapper,org.apache.ibatis.mapping.ResultMap,org.apache.ibatis.session.ResultHandler,org.apache.ibatis.session.RowBounds,org.apache.ibatis.mapping.ResultMapping)", "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.getRowValue(org.apache.ibatis.executor.resultset.ResultSetWrapper,org.apache.ibatis.mapping.ResultMap,org.apache.ibatis.cache.CacheKey)", "org.apache.ibatis.submitted.automapping.Breeder", "org.apache.ibatis.submitted.automapping.User.setPets(java.util.List)", "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.applyNestedResultMappings(org.apache.ibatis.executor.resultset.ResultSetWrapper,org.apache.ibatis.mapping.ResultMap,org.apache.ibatis.reflection.MetaObject,java.lang.String,org.apache.ibatis.cache.CacheKey,boolean,java.lang.Boolean)", "org.apache.ibatis.submitted.automapping.getUserWithPets(java.lang.Integer)", "org.apache.ibatis.submitted.automapping.User", "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.shouldApplyAutomaticMappings(org.apache.ibatis.mapping.ResultMap,java.lang.Boolean,boolean)", "org.apache.ibatis.submitted.automapping.User.getPets()", "org.apache.ibatis.submitted.automapping.Pet.setBreeder(org.apache.ibatis.submitted.automapping.Breeder)"]}, {"title": "Wrong OSGI imports make some optional dependencies mandatory", "body": "Fixed in 4ae061f7050f4c5dc03192fe9677902b2b99eb6b\n", "url": "https://github.com/mybatis/mybatis-3/issues/88", "user": "emacarron", "labels": ["bug"], "created": "2013-10-02 19:31:06", "closed": "2013-10-02 19:32:32", "commits": {}, "ttf": 0.0002777777777777778, "commitsDetails": []}, {"title": "Mapper.class JDBC type convertion problem for Simple Java Objects (String, Long and etc.)", "body": "I have a mapper with insertRecord method which accepts the only String parameter (message text):\n\npackage mapper;\n\nimport java.util.Map;\nimport org.apache.ibatis.annotations.InsertProvider;\nimport org.apache.ibatis.annotations.Param;\npublic interface BatchMapper {\n    static class SqlProvider {\n        public String getInsertRecordSql(Map<String, Object> map) {\n            System.out.println(\"\\n\\n\\n\"+map+\"\\n\\n\\n\");\n            return \"insert into LOG (message) values (#{message})\";\n        }\n    }\n    @InsertProvider(type = SqlProvider.class, method = \"getInsertRecordSql\")\n    void insertRecord(@Param(\"message\") String message);\n}\n\nWhen I try to execute method by mapper.insertRecord(\"Test message\"); I have in output: {param1=Test message, message=Test message} \nAfter that follows error: \njava.lang.IllegalStateException: Type handler was null on parameter mapping for property 'meassage'.  It was either not specified and/or could not be found for the javaType / jdbcType combination specified.\n\nIf I replace #{message} to #{param1} all works like a charm.\n\nAlso if I  #{message.value} but change:\n(@Param(\"message\") String message)\nto\n(@Param(\"message\") Map.Entry message)\nalso all works fine.\n", "url": "https://github.com/mybatis/mybatis-3/issues/83", "user": "kwkkwk", "labels": ["bug"], "created": "2013-09-17 10:55:59", "closed": "2013-10-21 17:02:03", "commits": {}, "ttf": 34.000277777777775, "commitsDetails": []}, {"title": "NullpointerException thrown in BaseExecutor.queryFromDatabase()", "body": "Hi guys, I found a bug in MyBatis 3.2.2. I'm also using EhCache 2.5.1, and I have lazy loading enabled.\n\nIn a project I'm currently working on, the BaseExecutor.queryFromDatabase() method throws a NullPointerException at regular intervals. This method is called because a lazy property of a (proxy) database entity is requested.\nThe exception is thrown when the localCache.putObject() method is called.\n\nBaseExecutor:\n  private <E> List<E> queryFromDatabase(MappedStatement ms, Object parameter, RowBounds rowBounds, ResultHandler resultHandler, CacheKey key, BoundSql boundSql) throws SQLException {\n    List<E> list;\n    localCache.putObject(key, EXECUTION_PLACEHOLDER);\n    try {\n      list = doQuery(ms, parameter, rowBounds, resultHandler, boundSql);\n    } finally {\n      localCache.removeObject(key); // localCache is null.\n    }\n    localCache.putObject(key, list);\n    if (ms.getStatementType() == StatementType.CALLABLE) {\n      localOutputParameterCache.putObject(key, parameter);\n    }\n    return list;\n  }\n\nAt that point the ExecutorException is actually being thrown, but the NullpointerException hides it. The ExecutorException originates from BaseExecutor.query():121, because the \"close\" variable is true. This can only be true if the executor is closed by another thread.\n\nI noticed the bug will only trigger when the executor used, is the original one that is created when the proxy is created.\n\nResultLoader:\n\n  private <E> List<E> selectList() throws SQLException {\n    Executor localExecutor = executor;\n    if (localExecutor.isClosed()) {\n      localExecutor = newExecutor();\n    }\n    try {\n        // executor == localExecutor is always true whenever the bug is triggered.\n      return localExecutor.<E> query(mappedStatement, parameterObject, RowBounds.DEFAULT, Executor.NO_RESULT_HANDLER, cacheKey, boundSql);\n    } finally {\n      if (localExecutor != executor) {\n        localExecutor.close(false);\n      }\n    }\n  }\n\nThis means the executor passes the open test, but somehow the executor gets closed.\n\nAfter analysis, I located the location where the executor is closed.\n\nSqlSessionManager:\n\n  private class SqlSessionInterceptor implements InvocationHandler {\n    public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\n      final SqlSession sqlSession = SqlSessionManager.this.localSqlSession.get();\n      if (sqlSession != null) {\n        try {\n          return method.invoke(sqlSession, args);\n        } catch (Throwable t) {\n          throw ExceptionUtil.unwrapThrowable(t);\n        }\n      } else {\n        final SqlSession autoSqlSession = openSession();\n        try {\n          final Object result = method.invoke(autoSqlSession, args);\n          autoSqlSession.commit(); // Committing data retrieved from the database, but executor not closed!\n          return result;\n        } catch (Throwable t) {\n          autoSqlSession.rollback();\n          throw ExceptionUtil.unwrapThrowable(t);\n        } finally {\n          autoSqlSession.close(); // Here, the executor is closed.\n        }\n      }\n    }\n  }\n\nThis is actually part of the initial call that retrieves the database entities for the first time. The (proxied) entities are created and committed to the cache (EhCache)\nBEFORE closing the executor. So while this call is still commiting objects to the cache. The already committed objects are actually available for other threads\nrequesting the same (now cached) objects. As long as the close() method is not called, the executor remains open in the proxies of the cached objects. When the close()\nmethod is finally called, other threads working with the proxied cached objects break, because of the closed executor.\n", "url": "https://github.com/mybatis/mybatis-3/issues/72", "user": "glcheng", "labels": ["bug"], "created": "2013-07-24 19:37:58", "closed": "2013-09-01 16:12:19", "commits": {"9e0f628c04a4481d961a305976937a415730ae3d": {"commitGHEventType": "referenced", "commitUser": "emacarron"}}, "ttf": 38.000277777777775, "commitsDetails": [{"commitHash": "9e0f628c04a4481d961a305976937a415730ae3d", "commitGHEventType": "referenced", "commitUser": "emacarron", "commitParents": ["33225b1462b5cac0bf649817292bc6084df64188"], "nameRev": "9e0f628c04a4481d961a305976937a415730ae3d tags/mybatis-3.2.3~7", "commitMessage": "Temporary Fix for #72. Check pending.", "commitDateTime": "2013-08-21 10:19:02", "authoredDateTime": "2013-08-21 10:19:02", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/executor/loader/ResultLoader.java", "insertions": 3, "deletions": 1, "lines": 4}], "commitSpoonAstDiffStats": [{"spoonFilePath": "ResultLoader.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.executor.loader.ResultLoader", "TOT": 2, "UPD": 0, "INS": 2, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.executor.loader.ResultLoader.selectList()", "TOT": 2, "UPD": 0, "INS": 1, "MOV": 1, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["9e0f628c04a4481d961a305976937a415730ae3d"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 3, "deletions": 1, "lines": 4, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 4, "UPD": 0, "INS": 3, "MOV": 1, "DEL": 0, "spoonFilesChanged": 1, "spoonMethodsChanged": 2}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/executor/loader"], "changesInPackagesSPOON": ["org.apache.ibatis.executor.loader.ResultLoader", "org.apache.ibatis.executor.loader.ResultLoader.selectList()"]}, {"title": "VENDOR alias collision - Tomcat startup fails", "body": "I recently decided to move my project's MyBatis version to 3.2.2 from 3.1.1\nMy project also uses `mybatis-spring` (version 1.2.0), alongwith `mybatis-hazelcast` (version 1.0.1).\n\nBut now, when I start my Tomcat, it never completely starts up. The logs show a huge number of MyBatis stuff, which keeps on repeating itself. The class `org.apache.ibatis.io.ResolverUtil` keeps on checking the domain classes and mapper classes.\n\nIf I revert the mybatis version to 3.1.1, then Tomcat starts up fine.\n\nAs there is no exception stack, I can't even be sure of what's going wrong. \n", "url": "https://github.com/mybatis/mybatis-3/issues/68", "user": "anirvan-majumdar", "labels": ["bug"], "created": "2013-06-21 13:34:48", "closed": "2013-08-20 06:26:49", "commits": {"33225b1462b5cac0bf649817292bc6084df64188": {"commitGHEventType": "closed", "commitUser": "emacarron"}, "3eff78a58129f077294b1cd4bdc09a198d7d9d91": {"commitGHEventType": "referenced", "commitUser": "emacarron"}, "7773e0509879aa8606de436aa5f2db7a634b0b44": {"commitGHEventType": "referenced", "commitUser": "harawata"}}, "ttf": 59.000277777777775, "commitsDetails": [{"commitHash": "33225b1462b5cac0bf649817292bc6084df64188", "commitGHEventType": "closed", "commitUser": "emacarron", "commitParents": ["15062931db15013dbd50f9582352c8f8c5045ded"], "nameRev": "33225b1462b5cac0bf649817292bc6084df64188 tags/mybatis-3.2.3~8", "commitMessage": "VENDOR -> DB_VENDOR. Fixes #68.", "commitDateTime": "2013-08-20 08:26:34", "authoredDateTime": "2013-08-20 08:26:34", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/session/Configuration.java", "insertions": 2, "deletions": 1, "lines": 3}, {"filePath": "src/site/es/xdoc/configuration.xml", "insertions": 4, "deletions": 4, "lines": 8}, {"filePath": "src/site/ja/xdoc/configuration.xml", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "src/site/ko/xdoc/configuration.xml", "insertions": 4, "deletions": 4, "lines": 8}, {"filePath": "src/site/xdoc/configuration.xml", "insertions": 4, "deletions": 4, "lines": 8}, {"filePath": "src/site/zh/xdoc/configuration.xml", "insertions": 4, "deletions": 4, "lines": 8}, {"filePath": "src/test/java/org/apache/ibatis/submitted/multidb/MultiDbConfig.xml", "insertions": 1, "deletions": 1, "lines": 2}], "commitSpoonAstDiffStats": [{"spoonFilePath": "Configuration.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.session.Configuration", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "3eff78a58129f077294b1cd4bdc09a198d7d9d91", "commitGHEventType": "referenced", "commitUser": "emacarron", "commitParents": ["36bc1b6e917d9b0fe5b4d282a92448e1e7cc4dd1"], "nameRev": "3eff78a58129f077294b1cd4bdc09a198d7d9d91 tags/mybatis-3.2.3~5", "commitMessage": "Related to #68. Awful patch to keep backward compatibility.", "commitDateTime": "2013-09-03 09:10:02", "authoredDateTime": "2013-09-03 09:10:02", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/builder/xml/XMLConfigBuilder.java", "insertions": 1, "deletions": 0, "lines": 1}], "commitSpoonAstDiffStats": [{"spoonFilePath": "XMLConfigBuilder.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.builder.xml.XMLConfigBuilder.databaseIdProviderElement(org.apache.ibatis.parsing.XNode)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "7773e0509879aa8606de436aa5f2db7a634b0b44", "commitGHEventType": "referenced", "commitUser": "harawata", "commitParents": ["f8d01ee4bdc61c8cb100fb091f3895265ff6800d"], "nameRev": "7773e0509879aa8606de436aa5f2db7a634b0b44 tags/mybatis-3.4.1~9", "commitMessage": "Apply #68 .\n", "commitDateTime": "2016-05-27 00:13:14", "authoredDateTime": "2016-05-27 00:12:20", "commitGitStats": [{"filePath": "src/test/java/org/apache/ibatis/builder/CustomizedSettingsMapperConfig.xml", "insertions": 1, "deletions": 1, "lines": 2}], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}], "filteredCommits": ["33225b1462b5cac0bf649817292bc6084df64188", "3eff78a58129f077294b1cd4bdc09a198d7d9d91", "7773e0509879aa8606de436aa5f2db7a634b0b44"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 2, "gitStatsSummary": {"insertions": 3, "deletions": 1, "lines": 4, "gitFilesChange": 2}, "spoonStatsSummary": {"TOT": 2.0, "UPD": 1.0, "INS": 1.0, "MOV": 0.0, "DEL": 0.0, "spoonFilesChanged": 2, "spoonMethodsChanged": 2}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/session", "src/main/java/org/apache/ibatis/builder/xml"], "changesInPackagesSPOON": ["org.apache.ibatis.builder.xml.XMLConfigBuilder.databaseIdProviderElement(org.apache.ibatis.parsing.XNode)", "org.apache.ibatis.session.Configuration"]}, {"title": "MyBatis 3.2.2 / MyBatis-Spring 1.2.0 causing BindingException inside foreach blocks, when receiving a null element inside collection", "body": "As a follow up of issue #65, the following statement:\n\n``` xml\n<sql id=\"selectPoblaciones\" >\n    SELECT P.ID_POBLACION, P.DESC_POBLACION, P.EXTENDED_REF\n    FROM POBLACIONES P \n</sql>\n\n<select id=\"getPoblacionesIn\" parameterType=\"list\" resultMap=\"rmtPoblacionVO\">\n    <include refid=\"selectPoblaciones\" />\n    <where>\n      P.ID_POBLACION IN\n      <foreach item=\"item\" collection=\"list\" open=\"(\" separator=\",\" close=\")\">\n        #{item.cod, jdbcType=NUMERIC}\n      </foreach>\n      AND P.ID_PROVINCIA IN\n      <foreach item=\"item\" collection=\"list\" open=\"(\" separator=\",\" close=\")\">\n        #{item.codStr, jdbcType=NUMERIC}\n      </foreach> \n    </where>\n  </select>\n```\n\nwith its associated java interface:\n\n``` java\nList< TraduccionVO > getPoblacionesIn( List< ComboVO > poblaciones );\n```\n\nhaving:\nComboVO#cod -> int code\nComboVO#codStr -> some other String code \n\nyields the following exception:\n\n```\norg.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.binding.BindingException: Parameter '__frch_item_3' not found. Available parameters are [list]\n    at org.apache.ibatis.session.defaults.DefaultSqlSession$StrictMap.get(DefaultSqlSession.java:257)\n    at org.apache.ibatis.reflection.wrapper.MapWrapper.get(MapWrapper.java:41)\n    at org.apache.ibatis.reflection.MetaObject.getValue(MetaObject.java:113)\n    at org.apache.ibatis.reflection.MetaObject.metaObjectForProperty(MetaObject.java:135)\n    at org.apache.ibatis.reflection.MetaObject.getValue(MetaObject.java:106)\n    at org.apache.ibatis.scripting.defaults.DefaultParameterHandler.setParameters(DefaultParameterHandler.java:72)\n    at org.apache.ibatis.executor.statement.PreparedStatementHandler.parameterize(PreparedStatementHandler.java:77)\n    at org.apache.ibatis.executor.statement.RoutingStatementHandler.parameterize(RoutingStatementHandler.java:58)\n    at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:71)\n    at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:56)\n    at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:259)\n    at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:132)\n    at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:100)\n    at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:81)\n    at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:104)\n    at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:98)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:354)\n    at $Proxy10.selectList(Unknown Source)\n    at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:194)\n    at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:114)\n    at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:58)\n    at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:43)\n    at $Proxy16.getPoblacionesIn(Unknown Source)\n    at es.myco.providers.traducciones.dao.TradPoblacionesProviderDAO.getPoblacionesIn(TradPoblacionesProviderDAO.java:47)\n    at es.myco.providers.traducciones.dao.TradPoblacionesProviderDAOTest.testGetPoblacionesInConElementosNulos(TradPoblacionesProviderDAOTest.java:83)\n```\n\nAlso, ognl:ognl:2.6.9, was needed to be added as a dependency. Before adding this dependency MyBatis was complaining about ognl.PropertyAccessor not being found\n", "url": "https://github.com/mybatis/mybatis-3/issues/67", "user": "juanpablo-santos", "labels": ["bug"], "created": "2013-06-18 11:44:54", "closed": "2013-06-22 17:06:37", "commits": {"3b9e7f4b6ce9f5b0cd52477761fcf442244d2a7c": {"commitGHEventType": "referenced", "commitUser": "harawata"}}, "ttf": 4.000277777777778, "commitsDetails": [{"commitHash": "3b9e7f4b6ce9f5b0cd52477761fcf442244d2a7c", "commitGHEventType": "referenced", "commitUser": "harawata", "commitParents": ["02f9b9cd3f89e49edac742eab2ca9d861a462aba"], "nameRev": "3b9e7f4b6ce9f5b0cd52477761fcf442244d2a7c tags/mybatis-3.2.3~23", "commitMessage": "Fixes #67 BindingException is thrown when a collection which contains null is passed as the 'collection' of foreach tag.\n", "commitDateTime": "2013-06-23 03:08:00", "authoredDateTime": "2013-06-23 03:08:00", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/reflection/wrapper/MapWrapper.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/org/apache/ibatis/reflection/MetaObjectTest.java", "insertions": 25, "deletions": 1, "lines": 26}, {"filePath": "src/test/java/org/apache/ibatis/submitted/foreach/ForEachTest.java", "insertions": 19, "deletions": 0, "lines": 19}, {"filePath": "src/test/java/org/apache/ibatis/submitted/foreach/Mapper.java", "insertions": 2, "deletions": 0, "lines": 2}, {"filePath": "src/test/java/org/apache/ibatis/submitted/foreach/Mapper.xml", "insertions": 10, "deletions": 0, "lines": 10}, {"filePath": "src/test/java/org/apache/ibatis/submitted/foreach/User.java", "insertions": 9, "deletions": 0, "lines": 9}], "commitSpoonAstDiffStats": [{"spoonFilePath": "MapWrapper.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.reflection.wrapper.MapWrapper.hasGetter(java.lang.String)", "TOT": 2, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 1}]}, {"spoonFilePath": "MetaObjectTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.reflection.MetaObjectTest.shouldDemonstrateNullValueInMap()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "ForEachTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.foreach.ForEachTest.shouldHandleMoreComplexNullItem()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "Mapper.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.foreach.countByBestFriend(java.util.List)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "User.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.foreach.User", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.submitted.foreach.User.getBestFriend()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.submitted.foreach.User.setBestFriend(org.apache.ibatis.submitted.foreach.User)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["3b9e7f4b6ce9f5b0cd52477761fcf442244d2a7c"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 1, "deletions": 1, "lines": 2, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 6, "UPD": 0, "INS": 5, "MOV": 0, "DEL": 1, "spoonFilesChanged": 3, "spoonMethodsChanged": 5}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/reflection/wrapper"], "changesInPackagesSPOON": ["org.apache.ibatis.submitted.foreach.User.setBestFriend(org.apache.ibatis.submitted.foreach.User)", "org.apache.ibatis.submitted.foreach.countByBestFriend(java.util.List)", "org.apache.ibatis.reflection.wrapper.MapWrapper.hasGetter(java.lang.String)", "org.apache.ibatis.submitted.foreach.User", "org.apache.ibatis.submitted.foreach.User.getBestFriend()"]}, {"title": "3.2.x / MyBatis-Spring 1.2.0 causing BindingException when translating parameters inside foreach blocks", "body": "Having the following class:\n\n``` java\npackage es.myco.gsforms.vo;\n\npublic class Formulario implements Serializable {\n\n    private static final long serialVersionUID = 3150540933577428582L;\n    private Long idFormulario;\n    private String codFormulario;\n    private Date fechaInicio;\n    private Date fechaFin;\n    private String nombre;\n    private String descripcion;\n    private String urlSuccess;\n    private String urlError;\n\n    /** getters + setters omitted for brevity */\n}\n```\n\nmapped as an alias (aFormulario), and having the following SQL on an XML mapper:\n\n``` xml\n  <insert id=\"insert\" parameterType=\"map\">\n      INSERT INTO GSFORMS_USUARIOS_FORMULARIOS (ID_FORMULARIO, ID_USUARIO)\n      VALUES \n      <foreach item=\"u\" collection=\"usuarios\" open=\"(\" separator=\"),(\" close=\")\">\n        #{form.idFormulario}, #{u.idUsuario}\n      </foreach>\n  </insert>\n```\n\nwith the associated java interface:\n\n``` java\npublic interface FormulariosMapper {\n[...]\nvoid insert(@Param(\"form\") Formulario f, @Param(\"usuarios\") List<Usuario> usuarios);\n[...]\n}\n```\n\nraises the following exception is raised only when using MyBaris 3.2.x with MyBatis-Spring 1.2.0:\n\n```\norg.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.reflection.ReflectionException: There is no getter for property named 'idForm__frch_u_0lario\u2019 in 'class es.myco.gsforms.vo.Formulario\u2019\n  at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:73)\n  at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:365)\n  at $Proxy9.insert(Unknown Source)\n  at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:237)\n  at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:79)\n  at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:40)\n  at $Proxy10.insert(Unknown Source)\n  at es.myco.gsforms.dao.mybatis.mappers.UsuariosFormularioMapperTest.shouldInsert(UsuariosFormularioMapperTest.java:39)\n  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n  at java.lang.reflect.Method.invoke(Method.java:597)\n  at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)\n  at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n  at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)\n  at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n  at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74)\n  at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:83)\n  at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:72)\n  at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:231)\n  at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:88)\n  at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)\n  at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)\n  at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)\n  at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)\n  at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)\n  at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\n  at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:71)\n  at org.junit.runners.ParentRunner.run(ParentRunner.java:309)\n  at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:174)\n  at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)\n  at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\n  at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)\n  at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)\n  at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)\n  at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)\nCaused by: org.apache.ibatis.reflection.ReflectionException: There is no getter for property named 'idForm__frch_u_0lario\u2019 in 'class es.myco.gsforms.vo.Formulario\u2019\n  at org.apache.ibatis.reflection.Reflector.getGetInvoker(Reflector.java:333)\n  at org.apache.ibatis.reflection.MetaClass.getGetInvoker(MetaClass.java:160)\n  at org.apache.ibatis.reflection.wrapper.BeanWrapper.getBeanProperty(BeanWrapper.java:151)\n  at org.apache.ibatis.reflection.wrapper.BeanWrapper.get(BeanWrapper.java:44)\n  at org.apache.ibatis.reflection.MetaObject.getValue(MetaObject.java:123)\n  at org.apache.ibatis.reflection.MetaObject.getValue(MetaObject.java:120)\n  at org.apache.ibatis.executor.parameter.DefaultParameterHandler.setParameters(DefaultParameterHandler.java:83)\n  at org.apache.ibatis.executor.statement.PreparedStatementHandler.parameterize(PreparedStatementHandler.java:77)\n  at org.apache.ibatis.executor.statement.RoutingStatementHandler.parameterize(RoutingStatementHandler.java:58)\n  at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:71)\n  at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:44)\n  at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:108)\n  at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:75)\n  at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:145)\n  at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:134)\n  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n  at java.lang.reflect.Method.invoke(Method.java:597)\n  at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:355)\n... 34 more\n```\n\nseems that the _u_ in _form.idFormulario_ is being translated/treated as if it was the _u_ item parameter declared in the foreach method. In fact, renaming the foreach so it reads:\n\n``` xml\n<foreach item=\"user\" collection=\"usuarios\" open=\"(\" separator=\"),(\" close=\")\">\n  #{form.idFormulario}, #{user.idUsuario}\n</foreach>\n```\n\nmakes the exception go away. This doesn't happen with MyBatis 3.1.1 with the corresponding MyBatis-Spring bridge.\n\nAlso, having a foreach block with an \"item\" value for item causes a similar exception, i.e.\n\n``` xml\nP.ID_POBLACION IN\n<foreach item=\"item\" collection=\"list\" open=\"(\" separator=\",\" close=\")\">\n  #{item.cod, jdbcType=NUMERIC}\n</foreach>\n```\n\ncauses:\n\n```\ntestGetPoblacionesInConElementosNulos(es.myco.providers.traducciones.dao.TradPoblacionesProviderDAOTest)  Time elapsed: 0.016 sec  <<< ERROR!\norg.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.binding.BindingException: Parameter '__frch_item_3' not found. Available parameters are [list]\n    at org.apache.ibatis.session.defaults.DefaultSqlSession$StrictMap.get(DefaultSqlSession.java:257)\n    at org.apache.ibatis.reflection.wrapper.MapWrapper.get(MapWrapper.java:41)\n[...]\n```\n", "url": "https://github.com/mybatis/mybatis-3/issues/65", "user": "juanpablo-santos", "labels": ["bug"], "created": "2013-06-17 08:52:47", "closed": "2013-06-17 20:13:48", "commits": {"a56c38d0f865e1dd29f4aaf7fc904dbc1e39afed": {"commitGHEventType": "closed", "commitUser": "harawata"}}, "ttf": 0.0002777777777777778, "commitsDetails": [{"commitHash": "a56c38d0f865e1dd29f4aaf7fc904dbc1e39afed", "commitGHEventType": "closed", "commitUser": "harawata", "commitParents": ["a1f3f0a0cd9afdbe12d43eca7debc6b1fcb674ad"], "nameRev": "a56c38d0f865e1dd29f4aaf7fc904dbc1e39afed tags/mybatis-3.2.3~28", "commitMessage": "Fixes #65 Property reference breaks when its name partly matches with 'item' or 'index' variable.\n", "commitDateTime": "2013-06-18 05:10:35", "authoredDateTime": "2013-06-18 05:10:35", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/scripting/xmltags/ForEachSqlNode.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/test/java/org/apache/ibatis/builder/xml/dynamic/DynamicSqlSourceTest.java", "insertions": 24, "deletions": 0, "lines": 24}], "commitSpoonAstDiffStats": [{"spoonFilePath": "ForEachSqlNode.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.scripting.xmltags.ForEachSqlNode.FilteredDynamicContext.appendSql(java.lang.String).1.handleToken(java.lang.String)", "TOT": 4, "UPD": 0, "INS": 2, "MOV": 2, "DEL": 0}]}, {"spoonFilePath": "DynamicSqlSourceTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.builder.xml.dynamic.DynamicSqlSourceTest.shouldPerformStrictMatchOnForEachVariableSubstitution()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["a56c38d0f865e1dd29f4aaf7fc904dbc1e39afed"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 2, "deletions": 2, "lines": 4, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 4, "UPD": 0, "INS": 2, "MOV": 2, "DEL": 0, "spoonFilesChanged": 1, "spoonMethodsChanged": 1}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/scripting/xmltags"], "changesInPackagesSPOON": ["org.apache.ibatis.scripting.xmltags.ForEachSqlNode.FilteredDynamicContext.appendSql(java.lang.String).1.handleToken(java.lang.String)"]}, {"title": "Parameter Mapping issue with Mybatis 3.2.2", "body": "Since I upgraded to mybatis 3.2.2, one of my sql is failing. It used to work prior to upgrading to 3.2.2. \n\nTo reproduce this issue, make a slight modification to the src\\test\\java\\org\\apache\\ibatis\\submitted\\basetest\\Mapper.xml file to \"getUser\" Select statement:\n\n```\n<select id=\"getUser\" parameterType=\"java.lang.String\" resultType=\"org.apache.ibatis.submitted.basetest.User\">\n        select * from users \n       <if test=\"value not in {null, ''}\">\n       where name = #{value}\n      </if>\n</select>\n```\n\nOnce the above change is made, in BaseTest.java, line 57 is changed to:\n`final User user = mapper.getUser(\"User1\");`\n\nWhen you run the test, you will now get the following error that did not used to occur before the upgrade to 3.2.2:\n\n```\nType handler was null on parameter mapping for property 'value'. It was either not specified and/or could not be found for the javaType / jdbcType combination specified.\n```\n", "url": "https://github.com/mybatis/mybatis-3/issues/61", "user": "amitter77", "labels": ["bug"], "created": "2013-06-10 20:11:13", "closed": "2013-06-13 09:44:09", "commits": {"2f56fdf9daf4a9483cc327101f5b5f4adac61499": {"commitGHEventType": "referenced", "commitUser": "emacarron"}, "dc6b29bf9e11fac4443cab641599cdf1da9fb8fc": {"commitGHEventType": "referenced", "commitUser": "emacarron"}, "9f85c37d987d280a33c20b8db69c4a652e5637f4": {"commitGHEventType": "referenced", "commitUser": "emacarron"}}, "ttf": 2.000277777777778, "commitsDetails": [{"commitHash": "2f56fdf9daf4a9483cc327101f5b5f4adac61499", "commitGHEventType": "referenced", "commitUser": "emacarron", "commitParents": ["9745e2b6ced726dac339e6919004cf43ab47f408"], "nameRev": "2f56fdf9daf4a9483cc327101f5b5f4adac61499 tags/mybatis-3.2.3~32", "commitMessage": "Failing test for issue #61. This is a regression caused in 448 (see it\nin gcode).", "commitDateTime": "2013-06-13 09:49:56", "authoredDateTime": "2013-06-13 09:49:56", "commitGitStats": [{"filePath": "src/test/java/org/apache/ibatis/submitted/ognlstatic/Mapper.java", "insertions": 2, "deletions": 1, "lines": 3}, {"filePath": "src/test/java/org/apache/ibatis/submitted/ognlstatic/Mapper.xml", "insertions": 16, "deletions": 10, "lines": 26}, {"filePath": "src/test/java/org/apache/ibatis/submitted/ognlstatic/OgnlStaticTest.java", "insertions": 16, "deletions": 2, "lines": 18}], "commitSpoonAstDiffStats": [{"spoonFilePath": "Mapper.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.ognlstatic.getUser(java.lang.Integer)", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.submitted.ognlstatic.getUserIfNode(java.lang.String)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "OgnlStaticTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.ognlstatic.OgnlStaticTest.shouldGetAUser()", "TOT": 2, "UPD": 2, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.submitted.ognlstatic.OgnlStaticTest.shouldGetAUserWithIfNode()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "dc6b29bf9e11fac4443cab641599cdf1da9fb8fc", "commitGHEventType": "referenced", "commitUser": "emacarron", "commitParents": ["43039bf2693c7597e3a85eaa69a2e01a606f83d4"], "nameRev": "dc6b29bf9e11fac4443cab641599cdf1da9fb8fc tags/mybatis-3.2.3~30", "commitMessage": "Fix for issue #61", "commitDateTime": "2013-06-13 11:43:08", "authoredDateTime": "2013-06-13 11:43:08", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/scripting/xmltags/DynamicContext.java", "insertions": 9, "deletions": 3, "lines": 12}, {"filePath": "src/test/java/org/apache/ibatis/submitted/ognlstatic/OgnlStaticTest.java", "insertions": 2, "deletions": 2, "lines": 4}], "commitSpoonAstDiffStats": [{"spoonFilePath": "DynamicContext.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.scripting.xmltags.DynamicContext.ContextMap.get(java.lang.Object)", "TOT": 5, "UPD": 0, "INS": 1, "MOV": 2, "DEL": 2}, {"spoonMethodName": "org.apache.ibatis.scripting.xmltags.DynamicContext.ContextMap.put(java.lang.String,java.lang.Object)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "OgnlStaticTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.ognlstatic.OgnlStaticTest.shouldGetAUserWithIfNode()", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}, {"spoonMethodName": "org.apache.ibatis.submitted.ognlstatic.OgnlStaticTest.shouldGetAUserStatic()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "9f85c37d987d280a33c20b8db69c4a652e5637f4", "commitGHEventType": "referenced", "commitUser": "emacarron", "commitParents": ["0b94647d38074d9cdc6c8f021949ea7db524a24d"], "nameRev": "9f85c37d987d280a33c20b8db69c4a652e5637f4 tags/mybatis-3.2.3~15", "commitMessage": "Related to #61", "commitDateTime": "2013-07-16 08:12:38", "authoredDateTime": "2013-07-16 08:12:38", "commitGitStats": [{"filePath": "src/test/java/org/apache/ibatis/submitted/call_setters_on_nulls/CallSettersOnNullsTest.java", "insertions": 14, "deletions": 15, "lines": 29}, {"filePath": "src/test/java/org/apache/ibatis/submitted/call_setters_on_nulls/CreateDB.sql", "insertions": 0, "deletions": 1, "lines": 1}], "commitSpoonAstDiffStats": [{"spoonFilePath": "CallSettersOnNullsTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.call_setters_on_nulls.CallSettersOnNullsTest.shouldCallNullOnMapForSingleColumn()", "TOT": 7, "UPD": 3, "INS": 1, "MOV": 2, "DEL": 1}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["2f56fdf9daf4a9483cc327101f5b5f4adac61499", "dc6b29bf9e11fac4443cab641599cdf1da9fb8fc", "9f85c37d987d280a33c20b8db69c4a652e5637f4"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 9, "deletions": 3, "lines": 12, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 8, "UPD": 1, "INS": 3, "MOV": 2, "DEL": 2, "spoonFilesChanged": 2, "spoonMethodsChanged": 4}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/scripting/xmltags"], "changesInPackagesSPOON": ["org.apache.ibatis.scripting.xmltags.DynamicContext.ContextMap.put(java.lang.String,java.lang.Object)", "org.apache.ibatis.submitted.ognlstatic.getUserIfNode(java.lang.String)", "org.apache.ibatis.scripting.xmltags.DynamicContext.ContextMap.get(java.lang.Object)", "org.apache.ibatis.submitted.ognlstatic.getUser(java.lang.Integer)"]}, {"title": "UnPooledDataSource driverProperties not work", "body": " private Connection doGetConnection(String username, String password) throws SQLException {\n    Properties props = new Properties(driverProperties);\n\nprops not a copy of driverProperties\n", "url": "https://github.com/mybatis/mybatis-3/issues/58", "user": "qiang123", "labels": ["bug"], "created": "2013-06-10 04:15:28", "closed": "2013-08-16 07:58:38", "commits": {"15062931db15013dbd50f9582352c8f8c5045ded": {"commitGHEventType": "closed", "commitUser": "harawata"}}, "ttf": 67.00027777777778, "commitsDetails": [{"commitHash": "15062931db15013dbd50f9582352c8f8c5045ded", "commitGHEventType": "closed", "commitUser": "harawata", "commitParents": ["f3d4f1268ffd19937e2d8c34020c999c0ef5e3d7"], "nameRev": "15062931db15013dbd50f9582352c8f8c5045ded tags/mybatis-3.2.3~9", "commitMessage": "fixes #58 UnpooledDataSource does not use custom driver properties when acquiring connection. I couldn't find a way to write a test for this.\n", "commitDateTime": "2013-08-16 16:26:35", "authoredDateTime": "2013-08-16 16:26:35", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/datasource/unpooled/UnpooledDataSource.java", "insertions": 4, "deletions": 1, "lines": 5}], "commitSpoonAstDiffStats": [{"spoonFilePath": "UnpooledDataSource.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.datasource.unpooled.UnpooledDataSource.doGetConnection(java.lang.String,java.lang.String)", "TOT": 3, "UPD": 1, "INS": 1, "MOV": 1, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["15062931db15013dbd50f9582352c8f8c5045ded"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 4, "deletions": 1, "lines": 5, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 3, "UPD": 1, "INS": 1, "MOV": 1, "DEL": 0, "spoonFilesChanged": 1, "spoonMethodsChanged": 1}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/datasource/unpooled"], "changesInPackagesSPOON": ["org.apache.ibatis.datasource.unpooled.UnpooledDataSource.doGetConnection(java.lang.String,java.lang.String)"]}, {"title": "Empty namespace is allowed in mapper XML", "body": "Allowing an empty namespace can lead to many problems especially with StrictMap.\n\nThere is no logical reason to use an empty namespace inside a mapper. The only use I can think of is for very small project with only one mapper file. Even in this case, a namespace is still required to use an interface for the mapper.\n\nThe last comments on this issue shows a potential additional problem: https://code.google.com/p/mybatis/issues/detail?id=125\n", "url": "https://github.com/mybatis/mybatis-3/issues/53", "user": "christianpoitras", "labels": ["bug"], "created": "2013-05-30 15:57:00", "closed": "2013-05-30 18:39:39", "commits": {"d0a120e0ff9ad8f5a5d885583c366096b3022dd1": {"commitGHEventType": "closed", "commitUser": "christianpoitras"}}, "ttf": 0.0002777777777777778, "commitsDetails": [{"commitHash": "d0a120e0ff9ad8f5a5d885583c366096b3022dd1", "commitGHEventType": "closed", "commitUser": "christianpoitras", "commitParents": ["52af14c21a29eb6c83b74fce89c448992f7b7ce5"], "nameRev": "d0a120e0ff9ad8f5a5d885583c366096b3022dd1 tags/mybatis-3.2.3~34", "commitMessage": "Fixes #53. XMLMapperBuilder validates that the namespace is not empty.", "commitDateTime": "2013-05-30 14:37:55", "authoredDateTime": "2013-05-30 14:37:55", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/builder/xml/XMLMapperBuilder.java", "insertions": 3, "deletions": 0, "lines": 3}, {"filePath": "src/test/java/org/apache/ibatis/submitted/empty_namespace/EmptyNamespaceTest.java", "insertions": 35, "deletions": 0, "lines": 35}, {"filePath": "src/test/java/org/apache/ibatis/submitted/empty_namespace/Person.java", "insertions": 45, "deletions": 0, "lines": 45}, {"filePath": "src/test/java/org/apache/ibatis/submitted/empty_namespace/Person.xml", "insertions": 81, "deletions": 0, "lines": 81}, {"filePath": "src/test/java/org/apache/ibatis/submitted/empty_namespace/ibatisConfig.xml", "insertions": 42, "deletions": 0, "lines": 42}], "commitSpoonAstDiffStats": [{"spoonFilePath": "XMLMapperBuilder.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.builder.xml.XMLMapperBuilder.configurationElement(org.apache.ibatis.parsing.XNode)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "EmptyNamespaceTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.empty_namespace.EmptyNamespaceTest", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "Person.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.empty_namespace.Person", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["d0a120e0ff9ad8f5a5d885583c366096b3022dd1"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 3, "deletions": 0, "lines": 3, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 2, "UPD": 0, "INS": 2, "MOV": 0, "DEL": 0, "spoonFilesChanged": 2, "spoonMethodsChanged": 2}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/builder/xml"], "changesInPackagesSPOON": ["org.apache.ibatis.builder.xml.XMLMapperBuilder.configurationElement(org.apache.ibatis.parsing.XNode)", "org.apache.ibatis.submitted.empty_namespace.Person"]}, {"title": "PooledDataSource does not retry acquiring a real connection if an SQLException occurs during connection establishment", "body": "When the PooledDataSource pops a new connection it checks if the new connection is bad and if so, it tries to acquire another connection until it failed (maximumIdleConnection + 3) times. Only then it throws an SQLException stating that no connection can be established.\n\nHowever if a real connection is not created at all because of an SQLException during the attempt to create the Connection, the PooledDataSource will not retry acquiring a good Connectiona again because the SQLException is not caught by the PooledDataSource.\n\nI would expect that both cases are treated the same. Thus marking the connection acquisition attempt as bad and retrying it until the connection establishment failed (maximumIdleConnection + 3) times. Only then should an exception be thrown.\n", "url": "https://github.com/mybatis/mybatis-3/issues/51", "user": "deichblach", "labels": ["bug"], "created": "2013-05-28 11:47:29", "closed": "2014-02-15 06:45:43", "commits": {}, "ttf": 262.0002777777778, "commitsDetails": []}, {"title": "Space in typeAlias results in the IllegalArgumentException: \"Result Maps collection already contains value for\"", "body": "If you have a trailing space in the alias attribute of a typeAlias definition, like this:\n\n```\n<typeAliases>\n  <typeAlias alias=\"User \"  type=\"com.example.domain.User\" />\n</typeAliases>\n```\n\nat runtime you get an exception like this:\n\n```\njava.lang.IllegalArgumentException: Result Maps collection already contains value for com.example.persistence.UserMapper.mapper_resultMap[xxx]_association[xxx]\n```\n\nwhere the map and association referenced in the exception are ones defined in your mapper.\n\nRemoving the trailing space fixes the problem, but it took a long time to track down. \n", "url": "https://github.com/mybatis/mybatis-3/issues/40", "user": "jkfrench", "labels": ["bug"], "created": "2013-04-29 22:40:35", "closed": "2013-05-11 10:00:44", "commits": {}, "ttf": 11.000277777777777, "commitsDetails": []}, {"title": "3.2.x release: NestedResultSetHandler.handleRowValues discarding row.", "body": "I ran into a bug in which I expected a result set of about 3600 rows and get 1.  The row I get back is the last row of the result set I see in Oracle SQL Developer.   I've traced the issue to handleRowValues() in NestedResultSetHandler.  Based on tracing thru that code in the debugger the row value gets set by the line:\n\n```\nrowValue = getRowValue(rs, discriminatedResultMap, rowKey, rowKey, null, resultColumnCache, partialObject);\n```\n\nbut then nothing actually happens with the value.  It would appear that the if statement right after should be within the bracket directly above it (existing source below):\n\n```\nwhile (shouldProcessMoreRows(rs, resultContext, rowBounds)) {\n  final ResultMap discriminatedResultMap = resolveDiscriminatedResultMap(rs, resultMap, null);\n  final CacheKey rowKey = createRowKey(discriminatedResultMap, rs, null, resultColumnCache);\n  Object partialObject = objectCache.get(rowKey);\n  if (partialObject == null && rowValue != null) { // issue #542 delay calling ResultHandler until object ends\n    if (mappedStatement.isResultOrdered()) objectCache.clear(); // issue #577 clear memory if ordered\n    callResultHandler(resultHandler, resultContext, rowValue);\n  } \n  rowValue = getRowValue(rs, discriminatedResultMap, rowKey, rowKey, null, resultColumnCache, partialObject);\n}\nif (rowValue != null) callResultHandler(resultHandler, resultContext, rowValue);\n```\n\nIn the 3.1.1 release the rowValue is bieng put into another collection:\n\n```\nwhile (shouldProcessMoreRows(rs, resultContext, rowBounds)) {\n  final ResultMap discriminatedResultMap = resolveDiscriminatedResultMap(rs, resultMap, null);\n  final CacheKey rowKey = createRowKey(discriminatedResultMap, rs, null, resultColumnCache);\n  final boolean knownValue = objectCache.containsKey(rowKey);\n  Object rowValue = getRowValue(rs, discriminatedResultMap, rowKey, resultColumnCache);\n  if (!knownValue) {\n    resultContext.nextResultObject(rowValue);\n    resultHandler.handleResult(resultContext);\n  }\n}\n```\n\n**EDIT**: maybe not quite that simple as I didn't look at the source enough before posting.  Based on more debugging the callResultHandler inside the if statement (thats inside the while loop) is never getting called.  That would explain why i am only seeing the last row of the resultset in the returned collection.  its being put in there by the second if.\n", "url": "https://github.com/mybatis/mybatis-3/issues/39", "user": "ghost", "labels": ["bug"], "created": "2013-04-29 21:53:04", "closed": "2013-05-29 11:53:38", "commits": {"7e4084590a2613b6fefb9840e37a2dca50c5bfb9": {"commitGHEventType": "referenced", "commitUser": "emacarron"}, "b0be473700ec74fb6dc206852de815e84839f156": {"commitGHEventType": "referenced", "commitUser": "emacarron"}, "52af14c21a29eb6c83b74fce89c448992f7b7ce5": {"commitGHEventType": "closed", "commitUser": "emacarron"}, "5244c0b7fa4c4b434338d21f55a5e1ad8450db10": {"commitGHEventType": "referenced", "commitUser": "emacarron"}, "256d7f068bb276333b47588e895266b66e3b8149": {"commitGHEventType": "referenced", "commitUser": "emacarron"}, "af6adb9ffd19d3135c2c3a3f041ac4a949e73bac": {"commitGHEventType": "referenced", "commitUser": "emacarron"}, "72d469532f634c7badccdbbcc7f73696b73c5927": {"commitGHEventType": "referenced", "commitUser": "emacarron"}, "4dd33849deada77a32cef0f6e389c6d2087cb412": {"commitGHEventType": "referenced", "commitUser": "emacarron"}, "95895546e6ac57d466c4915c233f36c980075f35": {"commitGHEventType": "referenced", "commitUser": "emacarron"}, "93757d2afc55ca92b9ad7d871f7974d591436365": {"commitGHEventType": "referenced", "commitUser": "harawata"}}, "ttf": 29.00027777777778, "commitsDetails": [{"commitHash": "7e4084590a2613b6fefb9840e37a2dca50c5bfb9", "commitGHEventType": "referenced", "commitUser": "emacarron", "commitParents": ["d2b84bc6c7f53902a4927185191e9a59923331b5"], "nameRev": "7e4084590a2613b6fefb9840e37a2dca50c5bfb9 tags/mybatis-3.2.3~37", "commitMessage": "Failing test for issue #39", "commitDateTime": "2013-05-29 13:53:22", "authoredDateTime": "2013-05-29 09:21:30", "commitGitStats": [{"filePath": "src/test/java/org/apache/ibatis/submitted/resultmapwithassociationstest/Address.java", "insertions": 32, "deletions": 0, "lines": 32}, {"filePath": "src/test/java/org/apache/ibatis/submitted/resultmapwithassociationstest/CreateDB.sql", "insertions": 42, "deletions": 0, "lines": 42}, {"filePath": "src/test/java/org/apache/ibatis/submitted/resultmapwithassociationstest/Mapper.java", "insertions": 22, "deletions": 0, "lines": 22}, {"filePath": "src/test/java/org/apache/ibatis/submitted/resultmapwithassociationstest/Mapper.xml", "insertions": 36, "deletions": 0, "lines": 36}, {"filePath": "src/test/java/org/apache/ibatis/submitted/resultmapwithassociationstest/Person.java", "insertions": 37, "deletions": 0, "lines": 37}, {"filePath": "src/test/java/org/apache/ibatis/submitted/resultmapwithassociationstest/ResultMapWithAssociationsTest.java", "insertions": 66, "deletions": 0, "lines": 66}, {"filePath": "src/test/java/org/apache/ibatis/submitted/resultmapwithassociationstest/mybatis-config.xml", "insertions": 40, "deletions": 0, "lines": 40}], "commitSpoonAstDiffStats": [{"spoonFilePath": "Address.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.resultmapwithassociationstest.Address", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "Mapper.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.resultmapwithassociationstest", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "Person.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.resultmapwithassociationstest.Person", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "ResultMapWithAssociationsTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.resultmapwithassociationstest.ResultMapWithAssociationsTest", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "b0be473700ec74fb6dc206852de815e84839f156", "commitGHEventType": "referenced", "commitUser": "emacarron", "commitParents": ["7e4084590a2613b6fefb9840e37a2dca50c5bfb9"], "nameRev": "b0be473700ec74fb6dc206852de815e84839f156 tags/mybatis-3.2.3~36", "commitMessage": "Related to #39. Not a bug.", "commitDateTime": "2013-05-29 13:53:23", "authoredDateTime": "2013-05-29 09:36:58", "commitGitStats": [{"filePath": "src/test/java/org/apache/ibatis/submitted/resultmapwithassociationstest/Mapper.xml", "insertions": 1, "deletions": 1, "lines": 2}], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "52af14c21a29eb6c83b74fce89c448992f7b7ce5", "commitGHEventType": "closed", "commitUser": "emacarron", "commitParents": ["b0be473700ec74fb6dc206852de815e84839f156"], "nameRev": "52af14c21a29eb6c83b74fce89c448992f7b7ce5 tags/mybatis-3.2.3~35", "commitMessage": "Fixes #39. Ensure that column is present in every mapping but in nested\nresult maps.", "commitDateTime": "2013-05-29 13:53:23", "authoredDateTime": "2013-05-29 13:51:09", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/mapping/ResultMapping.java", "insertions": 6, "deletions": 6, "lines": 12}, {"filePath": "src/test/java/org/apache/ibatis/submitted/resultmapwithassociationstest/Mapper.xml", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/org/apache/ibatis/submitted/resultmapwithassociationstest/ResultMapWithAssociationsTest.java", "insertions": 3, "deletions": 4, "lines": 7}], "commitSpoonAstDiffStats": [{"spoonFilePath": "ResultMapping.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.mapping.ResultMapping.Builder.validate()", "TOT": 5, "UPD": 5, "INS": 0, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "ResultMapWithAssociationsTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.resultmapwithassociationstest.ResultMapWithAssociationsTest.setUp()", "TOT": 2, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 1}, {"spoonMethodName": "org.apache.ibatis.submitted.resultmapwithassociationstest.ResultMapWithAssociationsTest.shouldFindAllPersonRecordsWithAssociatedAddressRecord()", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}, {"spoonMethodName": "org.apache.ibatis.submitted.resultmapwithassociationstest.ResultMapWithAssociationsTest.testMissingColumn()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "5244c0b7fa4c4b434338d21f55a5e1ad8450db10", "commitGHEventType": "referenced", "commitUser": "emacarron", "commitParents": ["58cab5ed4c4225892187f947d411dbc549217978"], "nameRev": "5244c0b7fa4c4b434338d21f55a5e1ad8450db10 tags/mybatis-3.2.4~26", "commitMessage": "Wrong exception text. The check applies to all mappings but to nested\nresultmaps. Related to #39.", "commitDateTime": "2013-11-19 08:19:36", "authoredDateTime": "2013-11-19 08:15:57", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/mapping/ResultMapping.java", "insertions": 1, "deletions": 1, "lines": 2}], "commitSpoonAstDiffStats": [{"spoonFilePath": "ResultMapping.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.mapping.ResultMapping.Builder.validate()", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "256d7f068bb276333b47588e895266b66e3b8149", "commitGHEventType": "referenced", "commitUser": "emacarron", "commitParents": ["3d1fdb1dc76ca0c23bbf31dd0ef96407be6f78e2"], "nameRev": "256d7f068bb276333b47588e895266b66e3b8149 tags/mybatis-3.4.0~110", "commitMessage": "Merged test for discussion at issue #39 (Thanks @eyalfa)", "commitDateTime": "2015-12-23 07:41:03", "authoredDateTime": "2015-12-23 07:41:03", "commitGitStats": [{"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler/Item.java", "insertions": 12, "deletions": 2, "lines": 14}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler/Mapper.java", "insertions": 3, "deletions": 2, "lines": 5}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler/Mapper.xml", "insertions": 19, "deletions": 0, "lines": 19}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler/NestedResultHandlerTest.java", "insertions": 24, "deletions": 4, "lines": 28}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler/Person.java", "insertions": 15, "deletions": 3, "lines": 18}], "commitSpoonAstDiffStats": [{"spoonFilePath": "Item.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.nestedresulthandler.Item.toString()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "Mapper.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.nestedresulthandler.getPersonItemPairs()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "NestedResultHandlerTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.nestedresulthandler.NestedResultHandlerTest.testGetPersonWithHandler().1.handleResult(org.apache.ibatis.session.ResultContext)", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}, {"spoonMethodName": "org.apache.ibatis.submitted.nestedresulthandler.NestedResultHandlerTest.testUnorderedGetPersonWithHandler().2.handleResult(org.apache.ibatis.session.ResultContext)", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}, {"spoonMethodName": "org.apache.ibatis.submitted.nestedresulthandler.NestedResultHandlerTest.testGetPersonItemPairs()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "Person.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.nestedresulthandler.Person.toString()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "af6adb9ffd19d3135c2c3a3f041ac4a949e73bac", "commitGHEventType": "referenced", "commitUser": "emacarron", "commitParents": ["256d7f068bb276333b47588e895266b66e3b8149"], "nameRev": "af6adb9ffd19d3135c2c3a3f041ac4a949e73bac tags/mybatis-3.4.0~109", "commitMessage": "Fix for #39. Objects with no properties should be considered new.", "commitDateTime": "2015-12-23 08:48:50", "authoredDateTime": "2015-12-23 08:48:50", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/executor/resultset/DefaultResultSetHandler.java", "insertions": 6, "deletions": 0, "lines": 6}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler/Item.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler/Mapper.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler/NestedResultHandlerTest.java", "insertions": 2, "deletions": 3, "lines": 5}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler/Person.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler/PersonItemPair.java", "insertions": 50, "deletions": 0, "lines": 50}], "commitSpoonAstDiffStats": [{"spoonFilePath": "DefaultResultSetHandler.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.createRowKeyForMappedProperties(org.apache.ibatis.mapping.ResultMap,org.apache.ibatis.executor.resultset.ResultSetWrapper,org.apache.ibatis.cache.CacheKey,java.util.List,java.lang.String)", "TOT": 3, "UPD": 0, "INS": 3, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "Item.java", "spoonMethods": []}, {"spoonFilePath": "Mapper.java", "spoonMethods": []}, {"spoonFilePath": "NestedResultHandlerTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.nestedresulthandler.NestedResultHandlerTest.testGetPersonItemPairs()", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}]}, {"spoonFilePath": "Person.java", "spoonMethods": []}, {"spoonFilePath": "PersonItemPair.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.nestedresulthandler.PersonItemPair", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "72d469532f634c7badccdbbcc7f73696b73c5927", "commitGHEventType": "referenced", "commitUser": "emacarron", "commitParents": ["af6adb9ffd19d3135c2c3a3f041ac4a949e73bac"], "nameRev": "72d469532f634c7badccdbbcc7f73696b73c5927 tags/mybatis-3.4.0~108", "commitMessage": "fix for #39. No need to store objects with random keys.", "commitDateTime": "2015-12-23 09:51:59", "authoredDateTime": "2015-12-23 09:51:59", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/executor/resultset/DefaultResultSetHandler.java", "insertions": 18, "deletions": 23, "lines": 41}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler/NestedResultHandlerTest.java", "insertions": 0, "deletions": 1, "lines": 1}], "commitSpoonAstDiffStats": [{"spoonFilePath": "DefaultResultSetHandler.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.createRowKeyForMappedProperties(org.apache.ibatis.mapping.ResultMap,org.apache.ibatis.executor.resultset.ResultSetWrapper,org.apache.ibatis.cache.CacheKey,java.util.List,java.lang.String)", "TOT": 7, "UPD": 0, "INS": 0, "MOV": 3, "DEL": 4}, {"spoonMethodName": "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.createRowKey(org.apache.ibatis.mapping.ResultMap,org.apache.ibatis.executor.resultset.ResultSetWrapper,java.lang.String)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "NestedResultHandlerTest.java", "spoonMethods": []}], "spoonStatsSkippedReason": ""}, {"commitHash": "4dd33849deada77a32cef0f6e389c6d2087cb412", "commitGHEventType": "referenced", "commitUser": "emacarron", "commitParents": ["a289c57d0b65a6612e8d3267a8b1a1fcfe5619c9"], "nameRev": "4dd33849deada77a32cef0f6e389c6d2087cb412 tags/mybatis-3.4.0~103", "commitMessage": "Fix for #39. No need to create keys with null values.", "commitDateTime": "2015-12-23 12:49:02", "authoredDateTime": "2015-12-23 12:49:02", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/executor/resultset/DefaultResultSetHandler.java", "insertions": 5, "deletions": 3, "lines": 8}], "commitSpoonAstDiffStats": [{"spoonFilePath": "DefaultResultSetHandler.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.createRowKeyForMappedProperties(org.apache.ibatis.mapping.ResultMap,org.apache.ibatis.executor.resultset.ResultSetWrapper,org.apache.ibatis.cache.CacheKey,java.util.List,java.lang.String)", "TOT": 3, "UPD": 0, "INS": 1, "MOV": 2, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "95895546e6ac57d466c4915c233f36c980075f35", "commitGHEventType": "referenced", "commitUser": "emacarron", "commitParents": ["a9d7ed0cf426b48fbbeca62e8717050ed69ca3b7"], "nameRev": "95895546e6ac57d466c4915c233f36c980075f35 tags/mybatis-3.3.1~6", "commitMessage": "#39 Merged into 3.3.x branch", "commitDateTime": "2016-02-10 22:03:33", "authoredDateTime": "2016-02-10 22:03:33", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/executor/resultset/DefaultResultSetHandler.java", "insertions": 17, "deletions": 18, "lines": 35}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler/Item.java", "insertions": 10, "deletions": 0, "lines": 10}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler/Mapper.java", "insertions": 1, "deletions": 0, "lines": 1}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler/Mapper.xml", "insertions": 19, "deletions": 0, "lines": 19}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler/NestedResultHandlerTest.java", "insertions": 20, "deletions": 0, "lines": 20}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler/Person.java", "insertions": 13, "deletions": 1, "lines": 14}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler/PersonItemPair.java", "insertions": 50, "deletions": 0, "lines": 50}], "commitSpoonAstDiffStats": [{"spoonFilePath": "DefaultResultSetHandler.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.putAncestor(org.apache.ibatis.cache.CacheKey,java.lang.Object,java.lang.String,java.lang.String)", "TOT": 2, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 1}, {"spoonMethodName": "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.getRowValue(org.apache.ibatis.executor.resultset.ResultSetWrapper,org.apache.ibatis.mapping.ResultMap,org.apache.ibatis.cache.CacheKey,org.apache.ibatis.cache.CacheKey,java.lang.String,java.lang.Object)", "TOT": 5, "UPD": 2, "INS": 0, "MOV": 0, "DEL": 3}, {"spoonMethodName": "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleRowValuesForNestedResultMap(org.apache.ibatis.executor.resultset.ResultSetWrapper,org.apache.ibatis.mapping.ResultMap,org.apache.ibatis.session.ResultHandler,org.apache.ibatis.session.RowBounds,org.apache.ibatis.mapping.ResultMapping)", "TOT": 2, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 2}, {"spoonMethodName": "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.applyNestedResultMappings(org.apache.ibatis.executor.resultset.ResultSetWrapper,org.apache.ibatis.mapping.ResultMap,org.apache.ibatis.reflection.MetaObject,java.lang.String,org.apache.ibatis.cache.CacheKey,boolean)", "TOT": 11, "UPD": 0, "INS": 2, "MOV": 4, "DEL": 5}, {"spoonMethodName": "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.createRowKey(org.apache.ibatis.mapping.ResultMap,org.apache.ibatis.executor.resultset.ResultSetWrapper,java.lang.String)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "Item.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.nestedresulthandler.Item.toString()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "Mapper.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.nestedresulthandler.getPersonItemPairs()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "NestedResultHandlerTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.nestedresulthandler.NestedResultHandlerTest.testGetPersonItemPairs()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "Person.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.nestedresulthandler.Person.toString()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "PersonItemPair.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.nestedresulthandler.PersonItemPair", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "93757d2afc55ca92b9ad7d871f7974d591436365", "commitGHEventType": "referenced", "commitUser": "harawata", "commitParents": ["0261d325222790bcf0057b612b65331d1027d666"], "nameRev": "93757d2afc55ca92b9ad7d871f7974d591436365 tags/mybatis-3.4.1~17", "commitMessage": "Failing test cases for #215 (ignored for now). It might be related to #39 as well.\n", "commitDateTime": "2016-05-13 02:40:40", "authoredDateTime": "2016-05-13 01:15:20", "commitGitStats": [{"filePath": "src/test/java/org/apache/ibatis/submitted/ancestor_ref/AncestorRefTest.java", "insertions": 79, "deletions": 0, "lines": 79}, {"filePath": "src/test/java/org/apache/ibatis/submitted/ancestor_ref/CreateDB.sql", "insertions": 34, "deletions": 0, "lines": 34}, {"filePath": "src/test/java/org/apache/ibatis/submitted/ancestor_ref/Mapper.java", "insertions": 23, "deletions": 0, "lines": 23}, {"filePath": "src/test/java/org/apache/ibatis/submitted/ancestor_ref/Mapper.xml", "insertions": 58, "deletions": 0, "lines": 58}, {"filePath": "src/test/java/org/apache/ibatis/submitted/ancestor_ref/User.java", "insertions": 57, "deletions": 0, "lines": 57}, {"filePath": "src/test/java/org/apache/ibatis/submitted/ancestor_ref/mybatis-config.xml", "insertions": 42, "deletions": 0, "lines": 42}], "commitSpoonAstDiffStats": [{"spoonFilePath": "AncestorRefTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.ancestor_ref.AncestorRefTest", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "Mapper.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.ancestor_ref", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "User.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.ancestor_ref.User", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["7e4084590a2613b6fefb9840e37a2dca50c5bfb9", "b0be473700ec74fb6dc206852de815e84839f156", "52af14c21a29eb6c83b74fce89c448992f7b7ce5", "5244c0b7fa4c4b434338d21f55a5e1ad8450db10", "256d7f068bb276333b47588e895266b66e3b8149", "af6adb9ffd19d3135c2c3a3f041ac4a949e73bac", "72d469532f634c7badccdbbcc7f73696b73c5927", "4dd33849deada77a32cef0f6e389c6d2087cb412", "95895546e6ac57d466c4915c233f36c980075f35"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 1, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 6, "gitStatsSummary": {"insertions": 53, "deletions": 51, "lines": 104, "gitFilesChange": 2}, "spoonStatsSummary": {"TOT": 52.0, "UPD": 9.0, "INS": 19.0, "MOV": 9.0, "DEL": 15.0, "spoonFilesChanged": 7, "spoonMethodsChanged": 14}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/executor/resultset", "src/main/java/org/apache/ibatis/mapping"], "changesInPackagesSPOON": ["org.apache.ibatis.executor.resultset.DefaultResultSetHandler.createRowKeyForMappedProperties(org.apache.ibatis.mapping.ResultMap,org.apache.ibatis.executor.resultset.ResultSetWrapper,org.apache.ibatis.cache.CacheKey,java.util.List,java.lang.String)", "org.apache.ibatis.mapping.ResultMapping.Builder.validate()", "org.apache.ibatis.submitted.nestedresulthandler.Person.toString()", "org.apache.ibatis.submitted.nestedresulthandler.getPersonItemPairs()", "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.createRowKey(org.apache.ibatis.mapping.ResultMap,org.apache.ibatis.executor.resultset.ResultSetWrapper,java.lang.String)", "org.apache.ibatis.submitted.nestedresulthandler.PersonItemPair", "org.apache.ibatis.submitted.nestedresulthandler.Item.toString()", "org.apache.ibatis.submitted.resultmapwithassociationstest", "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.getRowValue(org.apache.ibatis.executor.resultset.ResultSetWrapper,org.apache.ibatis.mapping.ResultMap,org.apache.ibatis.cache.CacheKey,org.apache.ibatis.cache.CacheKey,java.lang.String,java.lang.Object)", "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.putAncestor(org.apache.ibatis.cache.CacheKey,java.lang.Object,java.lang.String,java.lang.String)", "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.applyNestedResultMappings(org.apache.ibatis.executor.resultset.ResultSetWrapper,org.apache.ibatis.mapping.ResultMap,org.apache.ibatis.reflection.MetaObject,java.lang.String,org.apache.ibatis.cache.CacheKey,boolean)", "org.apache.ibatis.submitted.resultmapwithassociationstest.Person", "org.apache.ibatis.submitted.resultmapwithassociationstest.Address", "org.apache.ibatis.executor.resultset.DefaultResultSetHandler.handleRowValuesForNestedResultMap(org.apache.ibatis.executor.resultset.ResultSetWrapper,org.apache.ibatis.mapping.ResultMap,org.apache.ibatis.session.ResultHandler,org.apache.ibatis.session.RowBounds,org.apache.ibatis.mapping.ResultMapping)"]}, {"title": "raw language does not support includes", "body": "Raw language does not support includes and it should\n", "url": "https://github.com/mybatis/mybatis-3/issues/33", "user": "emacarron", "labels": ["bug"], "created": "2013-04-19 18:06:27", "closed": "2013-04-19 18:08:50", "commits": {"24d14307a3f94e2d60fac9ec134784bed8452f70": {"commitGHEventType": "closed", "commitUser": "emacarron"}, "1845e212dbaf62c4949365a0d2bd587ca964ac04": {"commitGHEventType": "referenced", "commitUser": "emacarron"}}, "ttf": 0.0002777777777777778, "commitsDetails": [{"commitHash": "24d14307a3f94e2d60fac9ec134784bed8452f70", "commitGHEventType": "closed", "commitUser": "emacarron", "commitParents": ["16360092170cdcdd0cf925a8cc04f5edd9e12b34"], "nameRev": "24d14307a3f94e2d60fac9ec134784bed8452f70 tags/mybatis-3.2.3~65", "commitMessage": "Fixes #33. Support includes with raw language", "commitDateTime": "2013-04-19 20:08:41", "authoredDateTime": "2013-04-19 20:08:41", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/scripting/defaults/RawLanguageDriver.java", "insertions": 12, "deletions": 1, "lines": 13}, {"filePath": "src/test/java/org/apache/ibatis/submitted/language/LanguageTest.java", "insertions": 15, "deletions": 0, "lines": 15}, {"filePath": "src/test/java/org/apache/ibatis/submitted/language/Mapper.xml", "insertions": 10, "deletions": 0, "lines": 10}], "commitSpoonAstDiffStats": [{"spoonFilePath": "RawLanguageDriver.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.scripting.defaults.RawLanguageDriver.createSqlSource(org.apache.ibatis.session.Configuration,org.apache.ibatis.parsing.XNode,java.lang.Class)", "TOT": 5, "UPD": 2, "INS": 3, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "LanguageTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.language.LanguageTest.testLangRawWithInclude()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "1845e212dbaf62c4949365a0d2bd587ca964ac04", "commitGHEventType": "referenced", "commitUser": "emacarron", "commitParents": ["24d14307a3f94e2d60fac9ec134784bed8452f70"], "nameRev": "1845e212dbaf62c4949365a0d2bd587ca964ac04 tags/mybatis-3.2.3~64", "commitMessage": "Related to #33. Add a test with CDATA", "commitDateTime": "2013-04-19 22:03:40", "authoredDateTime": "2013-04-19 22:03:40", "commitGitStats": [{"filePath": "src/test/java/org/apache/ibatis/submitted/language/LanguageTest.java", "insertions": 14, "deletions": 0, "lines": 14}, {"filePath": "src/test/java/org/apache/ibatis/submitted/language/Mapper.xml", "insertions": 16, "deletions": 0, "lines": 16}], "commitSpoonAstDiffStats": [{"spoonFilePath": "LanguageTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.language.LanguageTest.testLangRawWithIncludeAndCData()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["24d14307a3f94e2d60fac9ec134784bed8452f70", "1845e212dbaf62c4949365a0d2bd587ca964ac04"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 12, "deletions": 1, "lines": 13, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 5, "UPD": 2, "INS": 3, "MOV": 0, "DEL": 0, "spoonFilesChanged": 1, "spoonMethodsChanged": 1}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/scripting/defaults"], "changesInPackagesSPOON": ["org.apache.ibatis.scripting.defaults.RawLanguageDriver.createSqlSource(org.apache.ibatis.session.Configuration,org.apache.ibatis.parsing.XNode,java.lang.Class)"]}, {"title": "UnPooledDatasource sets autocommit to false if no autocommit was specified.", "body": "UnPooledDatasource should not call setAutocommit() over a connection if no autocommit setting was provided.\n", "url": "https://github.com/mybatis/mybatis-3/issues/26", "user": "emacarron", "labels": ["bug"], "created": "2013-04-06 08:33:49", "closed": "2013-04-06 08:34:33", "commits": {"1abf653a0774560f3da680505689e05978d75e07": {"commitGHEventType": "closed", "commitUser": "emacarron"}, "d5c115322c2248bad1ece8ae14f87fcf16567cb5": {"commitGHEventType": "referenced", "commitUser": "hazendaz"}}, "ttf": 0.0002777777777777778, "commitsDetails": [{"commitHash": "1abf653a0774560f3da680505689e05978d75e07", "commitGHEventType": "closed", "commitUser": "emacarron", "commitParents": ["4d08f3890b5901468b0887e42bb59f37bf64535b"], "nameRev": "1abf653a0774560f3da680505689e05978d75e07 tags/mybatis-3.2.3~77", "commitMessage": "Fixes #26. UnPooledDatasource sets autocommit to false if no autocommit\nwas specified.", "commitDateTime": "2013-04-06 10:34:24", "authoredDateTime": "2013-04-06 10:34:24", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/datasource/unpooled/UnpooledDataSource.java", "insertions": 4, "deletions": 4, "lines": 8}], "commitSpoonAstDiffStats": [{"spoonFilePath": "UnpooledDataSource.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.datasource.unpooled.UnpooledDataSource", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.datasource.unpooled.UnpooledDataSource.isAutoCommit()", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.datasource.unpooled.UnpooledDataSource.setAutoCommit(boolean)", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.datasource.unpooled.UnpooledDataSource.configureConnection(java.sql.Connection)", "TOT": 2, "UPD": 0, "INS": 1, "MOV": 1, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "d5c115322c2248bad1ece8ae14f87fcf16567cb5", "commitGHEventType": "referenced", "commitUser": "hazendaz", "commitParents": ["bbc90d8d6f126a0df231677cef176caeed9fc6be", "cf7cbb8aae7f415984e452287101c6b36441885c"], "nameRev": "d5c115322c2248bad1ece8ae14f87fcf16567cb5 tags/mybatis-3.4.0~117", "commitMessage": "Merge pull request #521 from hazendaz/master\n\n[parent] Updated to #26", "commitDateTime": "2015-11-08 23:49:00", "authoredDateTime": "2015-11-08 23:49:00", "commitGitStats": [{"filePath": "pom.xml", "insertions": 1, "deletions": 1, "lines": 2}], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}], "filteredCommits": ["1abf653a0774560f3da680505689e05978d75e07"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 1, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 4, "deletions": 4, "lines": 8, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 5.0, "UPD": 3.0, "INS": 1.0, "MOV": 1.0, "DEL": 0.0, "spoonFilesChanged": 1, "spoonMethodsChanged": 4}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/datasource/unpooled"], "changesInPackagesSPOON": ["org.apache.ibatis.datasource.unpooled.UnpooledDataSource.configureConnection(java.sql.Connection)", "org.apache.ibatis.datasource.unpooled.UnpooledDataSource", "org.apache.ibatis.datasource.unpooled.UnpooledDataSource.setAutoCommit(boolean)", "org.apache.ibatis.datasource.unpooled.UnpooledDataSource.isAutoCommit()"]}, {"title": "IndexOutOfBounds when a select key returns no data", "body": "Follows the trace. If select key contains no data MyBatis should not fail.\n\n```\norg.apache.ibatis.exceptions.PersistenceException: \n### Error updating database.  Cause: org.apache.ibatis.executor.ExecutorException: Error selecting key or setting result to parameter object. Cause: java.lang.IndexOutOfBoundsException: Index: 0, Size: 0\n### The error may exist in org/apache/ibatis/submitted/selectkey/Table2.xml\n### The error may involve org.apache.ibatis.submitted.selectkey.Table2.insertNoValuesInSelectKey!selectKey-Inline\n### The error occurred while setting parameters\n### SQL: select * from table2 where name = 'xxx'\n### Cause: org.apache.ibatis.executor.ExecutorException: Error selecting key or setting result to parameter object. Cause: java.lang.IndexOutOfBoundsException: Index: 0, Size: 0\n    at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:23)\n    at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:150)\n    at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:137)\n    at org.apache.ibatis.submitted.selectkey.SelectKeyTest.testInsertTable3(SelectKeyTest.java:118)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:601)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:309)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)\nCaused by: org.apache.ibatis.executor.ExecutorException: Error selecting key or setting result to parameter object. Cause: java.lang.IndexOutOfBoundsException: Index: 0, Size: 0\n    at org.apache.ibatis.executor.keygen.SelectKeyGenerator.processGeneratedKeys(SelectKeyGenerator.java:69)\n    at org.apache.ibatis.executor.keygen.SelectKeyGenerator.processAfter(SelectKeyGenerator.java:47)\n    at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:45)\n    at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:66)\n    at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:45)\n    at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:100)\n    at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:75)\n    at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:148)\n    ... 26 more\nCaused by: java.lang.IndexOutOfBoundsException: Index: 0, Size: 0\n    at java.util.ArrayList.rangeCheck(ArrayList.java:604)\n    at java.util.ArrayList.get(ArrayList.java:382)\n    at org.apache.ibatis.executor.keygen.SelectKeyGenerator.processGeneratedKeys(SelectKeyGenerator.java:65)\n    ... 33 more\n```\n", "url": "https://github.com/mybatis/mybatis-3/issues/25", "user": "emacarron", "labels": ["bug"], "created": "2013-04-01 20:41:04", "closed": "2013-04-01 20:58:48", "commits": {"cc3b5104bc27e5aafdb401a1239bd67363c30228": {"commitGHEventType": "closed", "commitUser": "emacarron"}, "03936d6027571b54572ecea126ce5d2c08f38d5a": {"commitGHEventType": "referenced", "commitUser": "emacarron"}}, "ttf": 0.0002777777777777778, "commitsDetails": [{"commitHash": "cc3b5104bc27e5aafdb401a1239bd67363c30228", "commitGHEventType": "closed", "commitUser": "emacarron", "commitParents": ["ad13be087d3701343689769def1143a8984d4327"], "nameRev": "cc3b5104bc27e5aafdb401a1239bd67363c30228 tags/mybatis-3.2.2~4", "commitMessage": "Fixes #25. Check there is at least one result when executing the\nselectKey statement", "commitDateTime": "2013-04-01 22:58:41", "authoredDateTime": "2013-04-01 22:58:41", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/builder/annotation/MapperAnnotationBuilder.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/main/java/org/apache/ibatis/executor/keygen/SelectKeyGenerator.java", "insertions": 17, "deletions": 19, "lines": 36}, {"filePath": "src/test/java/org/apache/ibatis/submitted/selectkey/SelectKeyTest.java", "insertions": 17, "deletions": 1, "lines": 18}, {"filePath": "src/test/java/org/apache/ibatis/submitted/selectkey/Table2.xml", "insertions": 8, "deletions": 0, "lines": 8}], "commitSpoonAstDiffStats": [{"spoonFilePath": "MapperAnnotationBuilder.java", "spoonMethods": []}, {"spoonFilePath": "SelectKeyGenerator.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.executor.keygen.SelectKeyGenerator.processGeneratedKeys(org.apache.ibatis.executor.Executor,org.apache.ibatis.mapping.MappedStatement,java.lang.Object)", "TOT": 10, "UPD": 0, "INS": 3, "MOV": 6, "DEL": 1}]}, {"spoonFilePath": "SelectKeyTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.selectkey.SelectKeyTest.testInsertTable3()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "03936d6027571b54572ecea126ce5d2c08f38d5a", "commitGHEventType": "referenced", "commitUser": "emacarron", "commitParents": ["b38da71bc07afb1aca63df2f6f00de65c7ace4b2"], "nameRev": "03936d6027571b54572ecea126ce5d2c08f38d5a tags/mybatis-3.2.2~1", "commitMessage": "Related to #25. Ensure selectKey returns one value.", "commitDateTime": "2013-04-02 12:41:27", "authoredDateTime": "2013-04-02 12:41:27", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/executor/keygen/SelectKeyGenerator.java", "insertions": 5, "deletions": 3, "lines": 8}, {"filePath": "src/test/java/org/apache/ibatis/submitted/selectkey/SelectKeyTest.java", "insertions": 16, "deletions": 4, "lines": 20}, {"filePath": "src/test/java/org/apache/ibatis/submitted/selectkey/Table2.xml", "insertions": 7, "deletions": 0, "lines": 7}], "commitSpoonAstDiffStats": [{"spoonFilePath": "SelectKeyGenerator.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.executor.keygen.SelectKeyGenerator.processGeneratedKeys(org.apache.ibatis.executor.Executor,org.apache.ibatis.mapping.MappedStatement,java.lang.Object)", "TOT": 5, "UPD": 2, "INS": 2, "MOV": 1, "DEL": 0}]}, {"spoonFilePath": "SelectKeyTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.selectkey.SelectKeyTest.testInsertTable3()", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.submitted.selectkey.SelectKeyTest.testSeleckKeyReturnsTooManyData()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.submitted.selectkey.SelectKeyTest.testSeleckKeyReturnsNoData()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["cc3b5104bc27e5aafdb401a1239bd67363c30228", "03936d6027571b54572ecea126ce5d2c08f38d5a"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 2, "gitStatsSummary": {"insertions": 23, "deletions": 23, "lines": 46, "gitFilesChange": 2}, "spoonStatsSummary": {"TOT": 15, "UPD": 2, "INS": 5, "MOV": 7, "DEL": 1, "spoonFilesChanged": 1, "spoonMethodsChanged": 1}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/executor/keygen", "src/main/java/org/apache/ibatis/builder/annotation"], "changesInPackagesSPOON": ["org.apache.ibatis.executor.keygen.SelectKeyGenerator.processGeneratedKeys(org.apache.ibatis.executor.Executor,org.apache.ibatis.mapping.MappedStatement,java.lang.Object)"]}, {"title": "ResultSet problem.", "body": "Hi,\nI see there is problem with receiveing null value in stored procedure from parameter output: \"c_data OUT sys_refcursor\". When sys_refcursor is not opened we will get an error:\nat apache.ibatis.executor.resultset.FastResultSetHandler.handleRefCursorOutputParameter(FastResultSetHandler.java:122)\n\nI think that similar problem was here : https://issues.apache.org/jira/browse/IBATIS-220?page=comments#action_12357908\n", "url": "https://github.com/mybatis/mybatis-3/issues/23", "user": "kam09", "labels": ["bug", "wontfix"], "created": "2013-03-22 15:16:00", "closed": "2013-04-04 13:43:31", "commits": {}, "ttf": 12.000277777777777, "commitsDetails": []}, {"title": "Maps inside <foreach> - ${index} is replaced as 0,1,2... not map key", "body": "MyBatis version 3.2.1\n\n```\nSELECT * FROM TABLE WHERE\n<foreach collection=\"filters\" index=\"key\" item=\"value\" separator=\"AND\">\n UPPER(TRIM(${key})) = UPPER(TRIM(#{value}))\n</foreach>\n```\n\nfilters is Map&lt;String,String&gt;\nIn example above ${key} is replaced by ordinal number - 0, 1, 2 etc.\nWhen I change to #{key} it is replaced by true map key but query is not usable since I need column name, not property.\n\nMaybe it's good idea to use value.key/value.value and leave index for ordinal numbering?\n", "url": "https://github.com/mybatis/mybatis-3/issues/18", "user": "karolkpl", "labels": ["bug"], "created": "2013-03-16 09:50:25", "closed": "2013-03-26 16:00:21", "commits": {"177665dda11444ae93bbd9aea7b9c8ee62d5f237": {"commitGHEventType": "closed", "commitUser": "harawata"}}, "ttf": 10.000277777777777, "commitsDetails": [{"commitHash": "177665dda11444ae93bbd9aea7b9c8ee62d5f237", "commitGHEventType": "closed", "commitUser": "harawata", "commitParents": ["b5efe3380356c69c903470ab91098d75dd9bd22d"], "nameRev": "177665dda11444ae93bbd9aea7b9c8ee62d5f237 tags/mybatis-3.2.2~25", "commitMessage": "fixes #18 When a Map is passed to foreach, ${index} is replaced with number instead of map key. This should also be the right fix for #10.\n", "commitDateTime": "2013-03-27 00:57:25", "authoredDateTime": "2013-03-27 00:57:25", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/scripting/xmltags/ForEachSqlNode.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/test/java/org/apache/ibatis/submitted/foreach_map/CreateDB.sql", "insertions": 12, "deletions": 0, "lines": 12}, {"filePath": "src/test/java/org/apache/ibatis/submitted/foreach_map/ForEachMapTest.java", "insertions": 18, "deletions": 5, "lines": 23}, {"filePath": "src/test/java/org/apache/ibatis/submitted/foreach_map/Mapper.xml", "insertions": 7, "deletions": 0, "lines": 7}], "commitSpoonAstDiffStats": [{"spoonFilePath": "ForEachSqlNode.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.scripting.xmltags.ForEachSqlNode.applyIndex(org.apache.ibatis.scripting.xmltags.DynamicContext,java.lang.Object,int)", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.scripting.xmltags.ForEachSqlNode.apply(org.apache.ibatis.scripting.xmltags.DynamicContext)", "TOT": 2, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 1}]}, {"spoonFilePath": "ForEachMapTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.foreach_map.ForEachMapTest.shouldGetStringKeyStringValueEntries()", "TOT": 2, "UPD": 2, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.submitted.foreach_map.ForEachMapTest.shouldGetIntKeyBoolValueEntries()", "TOT": 2, "UPD": 2, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.submitted.foreach_map.ForEachMapTest.shouldGetNestedBeanKeyValueEntries()", "TOT": 2, "UPD": 2, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.submitted.foreach_map.ForEachMapTest.shouldSubstituteIndexWithKey()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": [], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 1, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 0, "gitStatsSummary": {"insertions": 0, "deletions": 0, "lines": 0, "gitFilesChange": 0}, "spoonStatsSummary": {"TOT": 0, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 0, "spoonFilesChanged": 0, "spoonMethodsChanged": 0}, "statsSkippedReason": "", "changesInPackagesGIT": [], "changesInPackagesSPOON": []}, {"title": "JdbcType cannot be resolved!", "body": "When I use mybatis-3.2.1 version, I find an issue when mybatis framework is resolving jdbc type. There is code fragment as below.\n\nMapper xml file:\n<update id=\"updateStatus\" statementType=\"PREPARED\" parameterType=\"x.y.z.FooImpl\">\n    update upc  status = #{status,jdbcType=VARCHAR } where uidpk = #{uidPk,jdbcType=BIGINT}\n</update>\n\nWhen I invoke this statement, an error occurs, java.lang.IllegalArgumentException: No enum const class org.apache.ibatis.type.JdbcType.VARCHAR. Finally, I find this error is thrown from org.apache.ibatis.builder.resolveJdbcType, because parameter's jdbcType has a blank space on the right of VARCHAR. But I couldn't find the same issue in mybatis version 3.1.1.\n\n![shotsnap](https://f.cloud.github.com/assets/2410152/252958/ea063abc-8bbc-11e2-9289-cd5b79e7beb6.png)\n", "url": "https://github.com/mybatis/mybatis-3/issues/14", "user": "superego", "labels": ["bug"], "created": "2013-03-13 09:04:06", "closed": "2013-03-14 09:23:46", "commits": {"2a767c3979ee064bf10eb67c57da9c533a14ee8e": {"commitGHEventType": "closed", "commitUser": "harawata"}}, "ttf": 1.0002777777777778, "commitsDetails": [{"commitHash": "2a767c3979ee064bf10eb67c57da9c533a14ee8e", "commitGHEventType": "closed", "commitUser": "harawata", "commitParents": ["8dcbd1c7f519a9f27bc4710404cc69c0599951f6"], "nameRev": "2a767c3979ee064bf10eb67c57da9c533a14ee8e tags/mybatis-3.2.2~39", "commitMessage": "(fixes #14) Ignore leading and trailing spaces when parsing inline parameters.\n", "commitDateTime": "2013-03-14 17:27:30", "authoredDateTime": "2013-03-14 17:27:30", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/builder/ParameterExpressionParser.java", "insertions": 30, "deletions": 33, "lines": 63}, {"filePath": "src/test/java/org/apache/ibatis/builder/ParameterExpressionParserTest.java", "insertions": 18, "deletions": 0, "lines": 18}], "commitSpoonAstDiffStats": [{"spoonFilePath": "ParameterExpressionParser.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.builder.ParameterExpressionParser.property(char[],int,java.util.Map)", "TOT": 6, "UPD": 2, "INS": 1, "MOV": 0, "DEL": 3}, {"spoonMethodName": "org.apache.ibatis.builder.ParameterExpressionParser.skipUntil(char[],int,char,char)", "TOT": 15, "UPD": 3, "INS": 0, "MOV": 1, "DEL": 11}, {"spoonMethodName": "org.apache.ibatis.builder.ParameterExpressionParser.jdbcType(char[],int,java.util.Map)", "TOT": 3, "UPD": 1, "INS": 1, "MOV": 0, "DEL": 1}, {"spoonMethodName": "org.apache.ibatis.builder.ParameterExpressionParser.skipWS(char[],int)", "TOT": 8, "UPD": 1, "INS": 1, "MOV": 4, "DEL": 2}, {"spoonMethodName": "org.apache.ibatis.builder.ParameterExpressionParser.option(char[],int,java.util.Map)", "TOT": 8, "UPD": 2, "INS": 3, "MOV": 0, "DEL": 3}, {"spoonMethodName": "org.apache.ibatis.builder.ParameterExpressionParser.parse(java.lang.String)", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}, {"spoonMethodName": "org.apache.ibatis.builder.ParameterExpressionParser.parse(char[],int,java.util.Map)", "TOT": 3, "UPD": 0, "INS": 0, "MOV": 1, "DEL": 2}, {"spoonMethodName": "org.apache.ibatis.builder.ParameterExpressionParser.skipUntil(char[],int,char)", "TOT": 11, "UPD": 0, "INS": 0, "MOV": 10, "DEL": 1}, {"spoonMethodName": "org.apache.ibatis.builder.ParameterExpressionParser.isWhitespaceBreak(char)", "TOT": 2, "UPD": 0, "INS": 0, "MOV": 1, "DEL": 1}, {"spoonMethodName": "org.apache.ibatis.builder.ParameterExpressionParser.trimmedStr(char[],int,int)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.builder.ParameterExpressionParser.parse(char[],java.util.Map)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.builder.ParameterExpressionParser.skipUntil(char[],int,java.lang.String)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "ParameterExpressionParserTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.builder.ParameterExpressionParserTest.oldStyleJdbcTypeWithExtraWhitespaces()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.builder.ParameterExpressionParserTest.shouldIgnoreLeadingAndTrailingSpaces()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["2a767c3979ee064bf10eb67c57da9c533a14ee8e"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 30, "deletions": 33, "lines": 63, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 60, "UPD": 9, "INS": 9, "MOV": 17, "DEL": 25, "spoonFilesChanged": 1, "spoonMethodsChanged": 12}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/builder"], "changesInPackagesSPOON": ["org.apache.ibatis.builder.ParameterExpressionParser.skipUntil(char[],int,java.lang.String)", "org.apache.ibatis.builder.ParameterExpressionParser.skipUntil(char[],int,char)", "org.apache.ibatis.builder.ParameterExpressionParser.parse(char[],int,java.util.Map)", "org.apache.ibatis.builder.ParameterExpressionParser.isWhitespaceBreak(char)", "org.apache.ibatis.builder.ParameterExpressionParser.trimmedStr(char[],int,int)", "org.apache.ibatis.builder.ParameterExpressionParser.parse(char[],java.util.Map)", "org.apache.ibatis.builder.ParameterExpressionParser.jdbcType(char[],int,java.util.Map)", "org.apache.ibatis.builder.ParameterExpressionParser.skipWS(char[],int)", "org.apache.ibatis.builder.ParameterExpressionParser.skipUntil(char[],int,char,char)", "org.apache.ibatis.builder.ParameterExpressionParser.option(char[],int,java.util.Map)", "org.apache.ibatis.builder.ParameterExpressionParser.property(char[],int,java.util.Map)", "org.apache.ibatis.builder.ParameterExpressionParser.parse(java.lang.String)"]}, {"title": "3.2.x zip bundle includes the .tar.gz file", "body": "Seems that the .zip bundle deployed to maven is too big compared to the .tar.gz\n\nhttp://repo1.maven.org/maven2/org/mybatis/mybatis/3.2.1/\n\nHaving a look inside it you will see that the .tar.gz has been included in the file.\n", "url": "https://github.com/mybatis/mybatis-3/issues/11", "user": "emacarron", "labels": ["bug"], "created": "2013-03-11 07:23:07", "closed": "2013-03-31 19:14:44", "commits": {}, "ttf": 20.00027777777778, "commitsDetails": []}, {"title": "Index variable is not reset when multiple foreach loops are used in a single insert", "body": "I have multiple for each loops in a single insert as shown in Mapper.xml below. In 3.1.1 and before, the resulting sql would look like\n\n``` sql\ninsert into users (id, name, first_attr_1, first_attr_2, second_attr_1, second_attr_2) ...\n```\n\nIn 3.2.0, an exception is thrown because the resulting sql is:\n\n``` sql\ninsert into users(id, name, first_attr_1, first_attr_2, second_attr_3, second_attr_4) ...\n```\n\nIt seems that the index is not being reset before each foreach. A patch with a test for this issue is at https://gist.github.com/jgorinsky/5126131\n### Mapper.xml\n\n``` xml\n<insert id=\"insertUser\" parameterType=\"org.apache.ibatis.submitted.multipleiterates.User\">\n        insert into users\n        (id,\n        name,\n        <foreach item=\"attr\" index=\"index\" collection=\"firstAttr\" separator=\",\">\n            first_attr_${index + 1}\n        </foreach>,\n        <foreach item=\"attr\" index=\"index\" collection=\"secondAttr\" separator=\",\">\n            second_attr_${index + 1}\n        </foreach>\n        )\n        values(\n        1,\n        'User1',\n        <foreach item=\"attr\" index=\"index\" collection=\"firstAttr\" separator=\",\">\n            #{attr}\n        </foreach>,\n        <foreach item=\"attr\" index=\"index\" collection=\"secondAttr\" separator=\",\">\n            #{attr}\n        </foreach>\n        )\n    </insert>\n```\n", "url": "https://github.com/mybatis/mybatis-3/issues/10", "user": "jgorinsky", "labels": ["bug"], "created": "2013-03-09 22:52:08", "closed": "2013-03-10 04:33:12", "commits": {"b1d9b851f8b959533378f933da6426af0f9f2c1f": {"commitGHEventType": "closed", "commitUser": "harawata"}, "177665dda11444ae93bbd9aea7b9c8ee62d5f237": {"commitGHEventType": "referenced", "commitUser": "harawata"}}, "ttf": 0.0002777777777777778, "commitsDetails": [{"commitHash": "b1d9b851f8b959533378f933da6426af0f9f2c1f", "commitGHEventType": "closed", "commitUser": "harawata", "commitParents": ["75d2cbee1532ad674badd3529e97b25711bd364c"], "nameRev": "b1d9b851f8b959533378f933da6426af0f9f2c1f tags/mybatis-3.2.1~2", "commitMessage": "(fixes #10) Index variable is not reset when multiple foreach loops are used in a single statement. Thanks to jgorinsky for the test case.\n", "commitDateTime": "2013-03-10 13:32:11", "authoredDateTime": "2013-03-10 13:32:11", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/scripting/xmltags/ForEachSqlNode.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/org/apache/ibatis/submitted/multipleiterates/CreateDB.sql", "insertions": 27, "deletions": 0, "lines": 27}, {"filePath": "src/test/java/org/apache/ibatis/submitted/multipleiterates/Mapper.java", "insertions": 24, "deletions": 0, "lines": 24}, {"filePath": "src/test/java/org/apache/ibatis/submitted/multipleiterates/Mapper.xml", "insertions": 56, "deletions": 0, "lines": 56}, {"filePath": "src/test/java/org/apache/ibatis/submitted/multipleiterates/MultipleIteratesTest.java", "insertions": 67, "deletions": 0, "lines": 67}, {"filePath": "src/test/java/org/apache/ibatis/submitted/multipleiterates/User.java", "insertions": 58, "deletions": 0, "lines": 58}, {"filePath": "src/test/java/org/apache/ibatis/submitted/multipleiterates/mybatis-config.xml", "insertions": 40, "deletions": 0, "lines": 40}], "commitSpoonAstDiffStats": [{"spoonFilePath": "ForEachSqlNode.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.scripting.xmltags.ForEachSqlNode.apply(org.apache.ibatis.scripting.xmltags.DynamicContext)", "TOT": 2, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 1}]}, {"spoonFilePath": "Mapper.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.multipleiterates", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "MultipleIteratesTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.multipleiterates.MultipleIteratesTest", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "User.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.multipleiterates.User", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "177665dda11444ae93bbd9aea7b9c8ee62d5f237", "commitGHEventType": "referenced", "commitUser": "harawata", "commitParents": ["b5efe3380356c69c903470ab91098d75dd9bd22d"], "nameRev": "177665dda11444ae93bbd9aea7b9c8ee62d5f237 tags/mybatis-3.2.2~25", "commitMessage": "fixes #18 When a Map is passed to foreach, ${index} is replaced with number instead of map key. This should also be the right fix for #10.\n", "commitDateTime": "2013-03-27 00:57:25", "authoredDateTime": "2013-03-27 00:57:25", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/scripting/xmltags/ForEachSqlNode.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/test/java/org/apache/ibatis/submitted/foreach_map/CreateDB.sql", "insertions": 12, "deletions": 0, "lines": 12}, {"filePath": "src/test/java/org/apache/ibatis/submitted/foreach_map/ForEachMapTest.java", "insertions": 18, "deletions": 5, "lines": 23}, {"filePath": "src/test/java/org/apache/ibatis/submitted/foreach_map/Mapper.xml", "insertions": 7, "deletions": 0, "lines": 7}], "commitSpoonAstDiffStats": [{"spoonFilePath": "ForEachSqlNode.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.scripting.xmltags.ForEachSqlNode.applyIndex(org.apache.ibatis.scripting.xmltags.DynamicContext,java.lang.Object,int)", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.scripting.xmltags.ForEachSqlNode.apply(org.apache.ibatis.scripting.xmltags.DynamicContext)", "TOT": 2, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 1}]}, {"spoonFilePath": "ForEachMapTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.foreach_map.ForEachMapTest.shouldGetStringKeyStringValueEntries()", "TOT": 2, "UPD": 2, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.submitted.foreach_map.ForEachMapTest.shouldGetIntKeyBoolValueEntries()", "TOT": 2, "UPD": 2, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.submitted.foreach_map.ForEachMapTest.shouldGetNestedBeanKeyValueEntries()", "TOT": 2, "UPD": 2, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.submitted.foreach_map.ForEachMapTest.shouldSubstituteIndexWithKey()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["b1d9b851f8b959533378f933da6426af0f9f2c1f"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 1, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 1, "deletions": 1, "lines": 2, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 4, "UPD": 0, "INS": 3, "MOV": 0, "DEL": 1, "spoonFilesChanged": 3, "spoonMethodsChanged": 3}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/scripting/xmltags"], "changesInPackagesSPOON": ["org.apache.ibatis.scripting.xmltags.ForEachSqlNode.apply(org.apache.ibatis.scripting.xmltags.DynamicContext)", "org.apache.ibatis.submitted.multipleiterates.User", "org.apache.ibatis.submitted.multipleiterates"]}, {"title": "Missing TypeHandler returns null return than throwing an exception", "body": "I run into an issue where I mapped a result in a resultMap to Joda's DateTime but didn't register a TypeHandler. Rather than failing with a new error message, it looks like the org.apache.ibatis.executor.resultset.FastResultSetHandler class is returning null in the getPropertyMappingValue method (somewhere near line 316). \n\nThis code should be more like this:\n\n``` java\n  protected Object getPropertyMappingValue(ResultSet rs, MetaObject metaResultObject, ResultMapping propertyMapping, ResultLoaderMap lazyLoader, String columnPrefix) throws SQLException {\n    final TypeHandler<?> typeHandler = propertyMapping.getTypeHandler();\n    if (propertyMapping.getNestedQueryId() != null) {\n      return getNestedQueryMappingValue(rs, metaResultObject, propertyMapping, lazyLoader, columnPrefix);\n    } else if (typeHandler != null) {\n      final String column = prependPrefix(propertyMapping.getColumn(), columnPrefix);\n      return typeHandler.getResult(rs, column);\n    }\n    throw new TypeHandlerException(\"Unknown type \" + propertyMapping.getJavaType() + \". You need to register a TypeHandler for this type for MyBatis to correctly convert the result.\");\n  }\n```\n\nInstead, it looks like this (notice the return null at the end):\n\n``` java\n\n  protected Object getPropertyMappingValue(ResultSet rs, MetaObject metaResultObject, ResultMapping propertyMapping, ResultLoaderMap lazyLoader, String columnPrefix) throws SQLException {\n    final TypeHandler<?> typeHandler = propertyMapping.getTypeHandler();\n    if (propertyMapping.getNestedQueryId() != null) {\n      return getNestedQueryMappingValue(rs, metaResultObject, propertyMapping, lazyLoader, columnPrefix);\n    } else if (typeHandler != null) {\n      final String column = prependPrefix(propertyMapping.getColumn(), columnPrefix);\n      return typeHandler.getResult(rs, column);\n    }\n    return null;\n  }\n```\n", "url": "https://github.com/mybatis/mybatis-3/issues/9", "user": "voidmain", "labels": ["bug"], "created": "2013-03-08 05:14:35", "closed": "2013-03-26 18:42:08", "commits": {"c7639adca4bbe16f0a8940770017896edda78dec": {"commitGHEventType": "closed", "commitUser": "emacarron"}, "243cc679a42e1c9100eb3da063ca1d1a80d8c5ea": {"commitGHEventType": "referenced", "commitUser": "emacarron"}, "7d3948e826d841a85ef94b3198a7a5c81cc192e5": {"commitGHEventType": "referenced", "commitUser": "emacarron"}}, "ttf": 18.00027777777778, "commitsDetails": [{"commitHash": "c7639adca4bbe16f0a8940770017896edda78dec", "commitGHEventType": "closed", "commitUser": "emacarron", "commitParents": ["5d0d25b4d734bd5f9d7623824710866c5600c3e7"], "nameRev": "c7639adca4bbe16f0a8940770017896edda78dec tags/mybatis-3.2.2~23", "commitMessage": "Fixes #9. A column mapped to an unknown object type should produce an\nexception.", "commitDateTime": "2013-03-26 19:41:52", "authoredDateTime": "2013-03-26 19:40:26", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/executor/resultset/FastResultSetHandler.java", "insertions": 18, "deletions": 13, "lines": 31}, {"filePath": "src/test/java/org/apache/ibatis/submitted/unknownobject/CreateDB.sql", "insertions": 25, "deletions": 0, "lines": 25}, {"filePath": "src/test/java/org/apache/ibatis/submitted/unknownobject/Mapper.java", "insertions": 22, "deletions": 0, "lines": 22}, {"filePath": "src/test/java/org/apache/ibatis/submitted/unknownobject/Mapper.xml", "insertions": 33, "deletions": 0, "lines": 33}, {"filePath": "src/test/java/org/apache/ibatis/submitted/unknownobject/UnknownObject.java", "insertions": 5, "deletions": 0, "lines": 5}, {"filePath": "src/test/java/org/apache/ibatis/submitted/unknownobject/UnknownObjectTest.java", "insertions": 65, "deletions": 0, "lines": 65}, {"filePath": "src/test/java/org/apache/ibatis/submitted/unknownobject/User.java", "insertions": 47, "deletions": 0, "lines": 47}, {"filePath": "src/test/java/org/apache/ibatis/submitted/unknownobject/mybatis-config.xml", "insertions": 40, "deletions": 0, "lines": 40}], "commitSpoonAstDiffStats": [{"spoonFilePath": "FastResultSetHandler.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.executor.resultset.FastResultSetHandler.isCallSettersOnNulls(java.lang.Class)", "TOT": 5, "UPD": 1, "INS": 1, "MOV": 1, "DEL": 2}, {"spoonMethodName": "org.apache.ibatis.executor.resultset.FastResultSetHandler.getPropertyMappingValue(java.sql.ResultSet,org.apache.ibatis.reflection.MetaObject,org.apache.ibatis.mapping.ResultMapping,org.apache.ibatis.executor.loader.ResultLoaderMap,java.lang.String)", "TOT": 8, "UPD": 1, "INS": 2, "MOV": 4, "DEL": 1}, {"spoonMethodName": "org.apache.ibatis.executor.resultset.FastResultSetHandler.applyPropertyMappings(java.sql.ResultSet,org.apache.ibatis.mapping.ResultMap,java.util.List,org.apache.ibatis.reflection.MetaObject,org.apache.ibatis.executor.loader.ResultLoaderMap,java.lang.String)", "TOT": 3, "UPD": 1, "INS": 1, "MOV": 0, "DEL": 1}, {"spoonMethodName": "org.apache.ibatis.executor.resultset.FastResultSetHandler.applyAutomaticMappings(java.sql.ResultSet,java.util.List,org.apache.ibatis.reflection.MetaObject,java.lang.String,org.apache.ibatis.executor.resultset.FastResultSetHandler$ResultColumnCache)", "TOT": 2, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 1}]}, {"spoonFilePath": "Mapper.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.unknownobject", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "UnknownObject.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.unknownobject.UnknownObject", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "UnknownObjectTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.unknownobject.UnknownObjectTest", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "User.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.unknownobject.User", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "243cc679a42e1c9100eb3da063ca1d1a80d8c5ea", "commitGHEventType": "referenced", "commitUser": "emacarron", "commitParents": ["86bde17799194f3a361bc86b344da61599c0d9c3"], "nameRev": "243cc679a42e1c9100eb3da063ca1d1a80d8c5ea tags/mybatis-3.2.2~21", "commitMessage": "Fixes #19 and #9. Fail fast when there is no typehandler for a mapping.", "commitDateTime": "2013-03-28 15:24:18", "authoredDateTime": "2013-03-28 15:24:18", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/executor/resultset/FastResultSetHandler.java", "insertions": 4, "deletions": 9, "lines": 13}, {"filePath": "src/main/java/org/apache/ibatis/mapping/ResultMapping.java", "insertions": 11, "deletions": 7, "lines": 18}, {"filePath": "src/test/java/org/apache/ibatis/submitted/unknownobject/UnknownObjectTest.java", "insertions": 2, "deletions": 16, "lines": 18}], "commitSpoonAstDiffStats": [{"spoonFilePath": "FastResultSetHandler.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.executor.resultset.FastResultSetHandler.getPropertyMappingValue(java.sql.ResultSet,org.apache.ibatis.reflection.MetaObject,org.apache.ibatis.mapping.ResultMapping,org.apache.ibatis.executor.loader.ResultLoaderMap,java.lang.String)", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}]}, {"spoonFilePath": "ResultMapping.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.mapping.ResultMapping.Builder.validate()", "TOT": 2, "UPD": 0, "INS": 1, "MOV": 1, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.mapping.ResultMapping.Builder.build()", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 1, "DEL": 0}]}, {"spoonFilePath": "UnknownObjectTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.unknownobject.UnknownObjectTest.setUp()", "TOT": 2, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 1}, {"spoonMethodName": "org.apache.ibatis.submitted.unknownobject.UnknownObjectTest.shouldGetAUser()", "TOT": 3, "UPD": 0, "INS": 0, "MOV": 2, "DEL": 1}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "7d3948e826d841a85ef94b3198a7a5c81cc192e5", "commitGHEventType": "referenced", "commitUser": "emacarron", "commitParents": ["6604246634827620cd2fcbf83d51b36840b5f3eb"], "nameRev": "7d3948e826d841a85ef94b3198a7a5c81cc192e5 tags/mybatis-3.2.2~19", "commitMessage": "Related to #9. Do also a parameter validation when building the\nparameters (not when using them).", "commitDateTime": "2013-03-29 10:57:30", "authoredDateTime": "2013-03-29 10:57:30", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/executor/resultset/FastResultSetHandler.java", "insertions": 5, "deletions": 16, "lines": 21}, {"filePath": "src/main/java/org/apache/ibatis/mapping/ParameterMapping.java", "insertions": 24, "deletions": 7, "lines": 31}, {"filePath": "src/main/java/org/apache/ibatis/mapping/ResultMapping.java", "insertions": 5, "deletions": 7, "lines": 12}, {"filePath": "src/main/java/org/apache/ibatis/scripting/defaults/DefaultParameterHandler.java", "insertions": 0, "deletions": 3, "lines": 3}], "commitSpoonAstDiffStats": [{"spoonFilePath": "FastResultSetHandler.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.executor.resultset.FastResultSetHandler.handleOutputParameters(java.sql.CallableStatement)", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}, {"spoonMethodName": "org.apache.ibatis.executor.resultset.FastResultSetHandler.handleRefCursorOutputParameter(java.sql.ResultSet,org.apache.ibatis.mapping.ParameterMapping,org.apache.ibatis.reflection.MetaObject)", "TOT": 10, "UPD": 0, "INS": 1, "MOV": 7, "DEL": 2}, {"spoonMethodName": "org.apache.ibatis.executor.resultset.FastResultSetHandler.createParameterizedResultObject(java.sql.ResultSet,java.lang.Class,java.util.List,java.util.List,java.util.List,java.lang.String,org.apache.ibatis.executor.resultset.FastResultSetHandler$ResultColumnCache)", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}]}, {"spoonFilePath": "ParameterMapping.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.mapping.ParameterMapping.Builder.resolveTypeHandler()", "TOT": 5, "UPD": 0, "INS": 1, "MOV": 3, "DEL": 1}, {"spoonMethodName": "org.apache.ibatis.mapping.ParameterMapping.Builder.validate()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.mapping.ParameterMapping.Builder.build()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "ResultMapping.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.mapping.ResultMapping.Builder.resolveTypeHandler()", "TOT": 5, "UPD": 0, "INS": 1, "MOV": 3, "DEL": 1}]}, {"spoonFilePath": "DefaultParameterHandler.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.scripting.defaults.DefaultParameterHandler.setParameters(java.sql.PreparedStatement)", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["c7639adca4bbe16f0a8940770017896edda78dec", "7d3948e826d841a85ef94b3198a7a5c81cc192e5"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 1, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 2, "gitStatsSummary": {"insertions": 52, "deletions": 46, "lines": 98, "gitFilesChange": 4}, "spoonStatsSummary": {"TOT": 46, "UPD": 3, "INS": 13, "MOV": 18, "DEL": 12, "spoonFilesChanged": 7, "spoonMethodsChanged": 15}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/executor/resultset", "src/main/java/org/apache/ibatis/scripting/defaults", "src/main/java/org/apache/ibatis/mapping"], "changesInPackagesSPOON": ["org.apache.ibatis.mapping.ResultMapping.Builder.resolveTypeHandler()", "org.apache.ibatis.mapping.ParameterMapping.Builder.resolveTypeHandler()", "org.apache.ibatis.executor.resultset.FastResultSetHandler.handleRefCursorOutputParameter(java.sql.ResultSet,org.apache.ibatis.mapping.ParameterMapping,org.apache.ibatis.reflection.MetaObject)", "org.apache.ibatis.executor.resultset.FastResultSetHandler.applyPropertyMappings(java.sql.ResultSet,org.apache.ibatis.mapping.ResultMap,java.util.List,org.apache.ibatis.reflection.MetaObject,org.apache.ibatis.executor.loader.ResultLoaderMap,java.lang.String)", "org.apache.ibatis.scripting.defaults.DefaultParameterHandler.setParameters(java.sql.PreparedStatement)", "org.apache.ibatis.executor.resultset.FastResultSetHandler.createParameterizedResultObject(java.sql.ResultSet,java.lang.Class,java.util.List,java.util.List,java.util.List,java.lang.String,org.apache.ibatis.executor.resultset.FastResultSetHandler$ResultColumnCache)", "org.apache.ibatis.executor.resultset.FastResultSetHandler.isCallSettersOnNulls(java.lang.Class)", "org.apache.ibatis.submitted.unknownobject.User", "org.apache.ibatis.executor.resultset.FastResultSetHandler.getPropertyMappingValue(java.sql.ResultSet,org.apache.ibatis.reflection.MetaObject,org.apache.ibatis.mapping.ResultMapping,org.apache.ibatis.executor.loader.ResultLoaderMap,java.lang.String)", "org.apache.ibatis.executor.resultset.FastResultSetHandler.handleOutputParameters(java.sql.CallableStatement)", "org.apache.ibatis.mapping.ParameterMapping.Builder.build()", "org.apache.ibatis.submitted.unknownobject.UnknownObject", "org.apache.ibatis.submitted.unknownobject", "org.apache.ibatis.mapping.ParameterMapping.Builder.validate()", "org.apache.ibatis.executor.resultset.FastResultSetHandler.applyAutomaticMappings(java.sql.ResultSet,java.util.List,org.apache.ibatis.reflection.MetaObject,java.lang.String,org.apache.ibatis.executor.resultset.FastResultSetHandler$ResultColumnCache)"]}, {"title": "Enum name collision when using typeAliases for packages in mybatis 3.2.0", "body": "Following situation:\n\nIn package 'com.example.beans'\nthere are two classes:\n\n``` java\npackage com.example.beans;\n\nclass A {\n  public static enum State {\n    ON,\n    OFF\n  }\n}\n```\n\n``` java\npackage com.example.beans;\n\nclass B {\n  public static enum State {\n    FRESH,\n    ROTTEN\n  }\n}\n```\n\nIn the mybatis configuration xml file:\n\n``` xml\n<typeAliases>\n  <package name=\"com.example.beans\" />\n</typeAliases>\n```\n\nThis leads to following exception:\n\n[..]\norg.apache.ibatis.type.TypeException: The alias 'State' is already mapped to the value 'com.example.beans.A$State'.\n    at org.apache.ibatis.type.TypeAliasRegistry.registerAlias(TypeAliasRegistry.java:146)\n[..]\n\nA solution for me (no idea what sideeffects this may cause) is to replace line 127 in TypeAliasRegistry.java\n\n``` java\nif (!type.isAnonymousClass() && !type.isInterface()) {\n```\n\nwith\n\n``` java\nif (!type.isAnonymousClass() && !type.isInterface()  && !type.isEnum()) {\n```\n", "url": "https://github.com/mybatis/mybatis-3/issues/6", "user": "gdsowl", "labels": ["bug"], "created": "2013-03-06 16:40:02", "closed": "2013-03-10 06:30:12", "commits": {"9910fd182dab98e0b505348fa1a0b112994c9e2d": {"commitGHEventType": "referenced", "commitUser": "emacarron"}, "f0852b8ce420ca75ef6695eec6dfc526a691b8c0": {"commitGHEventType": "referenced", "commitUser": "harawata"}}, "ttf": 3.000277777777778, "commitsDetails": [{"commitHash": "9910fd182dab98e0b505348fa1a0b112994c9e2d", "commitGHEventType": "referenced", "commitUser": "emacarron", "commitParents": ["b1d9b851f8b959533378f933da6426af0f9f2c1f"], "nameRev": "9910fd182dab98e0b505348fa1a0b112994c9e2d tags/mybatis-3.2.1~1", "commitMessage": "Fix for issue #6. Skip member classes when scanning for aliases.", "commitDateTime": "2013-03-10 07:28:28", "authoredDateTime": "2013-03-10 07:28:28", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/type/TypeAliasRegistry.java", "insertions": 3, "deletions": 2, "lines": 5}], "commitSpoonAstDiffStats": [{"spoonFilePath": "TypeAliasRegistry.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.type.TypeAliasRegistry.registerAliases(java.lang.String,java.lang.Class)", "TOT": 2, "UPD": 0, "INS": 1, "MOV": 1, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "f0852b8ce420ca75ef6695eec6dfc526a691b8c0", "commitGHEventType": "referenced", "commitUser": "harawata", "commitParents": ["dc53346d101bd5178039c82bc2283d759b1b6013", "463155c12b6e72130332ecb08dc2b3672f4288c3"], "nameRev": "f0852b8ce420ca75ef6695eec6dfc526a691b8c0 tags/mybatis-3.5.4~36^2~1", "commitMessage": "Merge pull request #6 from mybatis/master\n\nMerge pull request from mybatis/master", "commitDateTime": "2019-12-10 20:11:39", "authoredDateTime": "2019-12-10 20:11:39", "commitGitStats": [{"filePath": ".travis.yml", "insertions": 6, "deletions": 0, "lines": 6}, {"filePath": "pom.xml", "insertions": 20, "deletions": 32, "lines": 52}, {"filePath": "src/main/java/org/apache/ibatis/binding/MapperProxy.java", "insertions": 70, "deletions": 25, "lines": 95}, {"filePath": "src/main/java/org/apache/ibatis/binding/MapperProxyFactory.java", "insertions": 4, "deletions": 3, "lines": 7}, {"filePath": "src/main/java/org/apache/ibatis/builder/InitializingObject.java", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "src/main/java/org/apache/ibatis/cache/impl/PerpetualCache.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/main/java/org/apache/ibatis/executor/keygen/Jdbc3KeyGenerator.java", "insertions": 11, "deletions": 4, "lines": 15}, {"filePath": "src/main/java/org/apache/ibatis/reflection/ParamNameResolver.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/site/es/xdoc/java-api.xml", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "src/site/ja/xdoc/java-api.xml", "insertions": 4, "deletions": 2, "lines": 6}, {"filePath": "src/site/ko/xdoc/java-api.xml", "insertions": 4, "deletions": 2, "lines": 6}, {"filePath": "src/site/xdoc/java-api.xml", "insertions": 5, "deletions": 4, "lines": 9}, {"filePath": "src/site/zh/xdoc/java-api.xml", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/test/java/org/apache/ibatis/binding/BindingTest.java", "insertions": 4, "deletions": 3, "lines": 7}, {"filePath": "src/test/java/org/apache/ibatis/builder/XmlConfigBuilderTest.java", "insertions": 4, "deletions": 4, "lines": 8}, {"filePath": "src/test/java/org/apache/ibatis/builder/XmlMapperBuilderTest.java", "insertions": 9, "deletions": 9, "lines": 18}, {"filePath": "src/test/java/org/apache/ibatis/mapping/CacheBuilderTest.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/org/apache/ibatis/reflection/ReflectorTest.java", "insertions": 4, "deletions": 4, "lines": 8}, {"filePath": "src/test/java/org/apache/ibatis/scripting/LanguageDriverRegistryTest.java", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "src/test/java/org/apache/ibatis/submitted/cache/CacheTest.java", "insertions": 5, "deletions": 5, "lines": 10}, {"filePath": "src/test/java/org/apache/ibatis/submitted/cursor_simple/CursorSimpleTest.java", "insertions": 34, "deletions": 39, "lines": 73}, {"filePath": "src/test/java/org/apache/ibatis/submitted/foreach/ForEachTest.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/org/apache/ibatis/submitted/keygen/CountryMapper.java", "insertions": 12, "deletions": 0, "lines": 12}, {"filePath": "src/test/java/org/apache/ibatis/submitted/keygen/CountryMapper.xml", "insertions": 8, "deletions": 1, "lines": 9}, {"filePath": "src/test/java/org/apache/ibatis/submitted/keygen/Jdbc3KeyGeneratorTest.java", "insertions": 56, "deletions": 6, "lines": 62}, {"filePath": "src/test/java/org/apache/ibatis/submitted/keygen/NpeCountry.java", "insertions": 75, "deletions": 0, "lines": 75}, {"filePath": "src/test/java/org/apache/ibatis/submitted/mapper_extend/MapperExtendTest.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/org/apache/ibatis/submitted/named_constructor_args/InvalidNamedConstructorArgsTest.java", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "src/test/java/org/apache/ibatis/submitted/results_id/IdConflictTest.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/org/apache/ibatis/submitted/sptests/SPTest.java", "insertions": 9, "deletions": 9, "lines": 18}, {"filePath": "travis/after_success.sh", "insertions": 2, "deletions": 0, "lines": 2}], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": "tooManyFiles"}], "filteredCommits": ["9910fd182dab98e0b505348fa1a0b112994c9e2d"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 1, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 3, "deletions": 2, "lines": 5, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 2.0, "UPD": 0.0, "INS": 1.0, "MOV": 1.0, "DEL": 0.0, "spoonFilesChanged": 1, "spoonMethodsChanged": 1}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/type"], "changesInPackagesSPOON": ["org.apache.ibatis.type.TypeAliasRegistry.registerAliases(java.lang.String,java.lang.Class)"]}, {"title": "Wrong java type with one-to-one association element", "body": "See http://code.google.com/p/mybatis/issues/detail?id=781\n\nReported by m.geri1974, Feb 20, 2013\nHi i am using the mybatis version mybatis-3.1.1, \n\nI have a problem with one-to-one association element.\n\nTo reproduce the problem, create a mapper like the following:\n\n<mapper namespace=\"org.mybatis.example.mappers.AssociationBugMapper\">\n\n```\n<resultMap id=\"sampleHashResult\" type=\"hashmap\">\n<result property=\"f1\" column=\"f1\" />\n<result property=\"f2\" column=\"f2\" />\n<association property=\"a1\" javaType=\"java.lang.String\"\n    column=\"{param1=f1}\" select=\"associationTest\" />\n<association property=\"a2\" javaType=\"java.lang.String\"\n    column=\"{param1=f1}\" select=\"associationTest\" />\n</resultMap>\n\n<select id=\"sample\" resultMap=\"sampleHashResult\">\n    SELECT 'field1' as f1, 10000 as f2\n</select>\n\n<select id=\"associationTest\" resultType=\"java.lang.String\">\n    select 'test'\n</select>\n```\n\n</mapper>\n\nRunning the code below:\n\nList<HashMap> results = session.selectList(\"sample\");\n\nfor (HashMap r : results) {\n    System.out.println(\"a1 class: \" + r.get(\"a1\").getClass());\n    System.out.println(\"a2 class: \" + r.get(\"a2\").getClass());\n}\n\nI expected to see the following output:\n\na1 class: class java.lang.String\na2 class: class java.lang.String\n\nWhile it prints: \n\na1 class: class java.lang.String\na2 class: class java.util.ArrayList         \n\nIt seems that after the first use of the 'association', which returns the expected String result type, then it returns an ArrayList of one element containing the String value (and it's an unexpected behaviour for my application).\n\nI attached the full working eclipse project sample. Let me know if you need any further details.\n\nThanks.\n", "url": "https://github.com/mybatis/mybatis-3/issues/5", "user": "emacarron", "labels": ["bug"], "created": "2013-03-05 16:28:34", "closed": "2013-03-06 19:21:11", "commits": {"75d2cbee1532ad674badd3529e97b25711bd364c": {"commitGHEventType": "referenced", "commitUser": "emacarron"}, "dc53346d101bd5178039c82bc2283d759b1b6013": {"commitGHEventType": "referenced", "commitUser": "harawata"}}, "ttf": 1.0002777777777778, "commitsDetails": [{"commitHash": "75d2cbee1532ad674badd3529e97b25711bd364c", "commitGHEventType": "referenced", "commitUser": "emacarron", "commitParents": ["3322ea9481f23d0c5d25497307f9cb41f87358e5"], "nameRev": "75d2cbee1532ad674badd3529e97b25711bd364c tags/mybatis-3.2.1~3", "commitMessage": "Fix for issue #5", "commitDateTime": "2013-03-05 17:35:32", "authoredDateTime": "2013-03-05 17:35:32", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/executor/BaseExecutor.java", "insertions": 7, "deletions": 5, "lines": 12}, {"filePath": "src/main/java/org/apache/ibatis/executor/CachingExecutor.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/main/java/org/apache/ibatis/executor/Executor.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/main/java/org/apache/ibatis/executor/resultset/FastResultSetHandler.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/org/apache/ibatis/submitted/associationtype/AssociationTypeTest.java", "insertions": 69, "deletions": 0, "lines": 69}, {"filePath": "src/test/java/org/apache/ibatis/submitted/associationtype/CreateDB.sql", "insertions": 24, "deletions": 0, "lines": 24}, {"filePath": "src/test/java/org/apache/ibatis/submitted/associationtype/Mapper.xml", "insertions": 40, "deletions": 0, "lines": 40}, {"filePath": "src/test/java/org/apache/ibatis/submitted/associationtype/mybatis-config.xml", "insertions": 40, "deletions": 0, "lines": 40}], "commitSpoonAstDiffStats": [{"spoonFilePath": "BaseExecutor.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.executor.BaseExecutor.deferLoad(org.apache.ibatis.mapping.MappedStatement,org.apache.ibatis.reflection.MetaObject,java.lang.String,org.apache.ibatis.cache.CacheKey)", "TOT": 2, "UPD": 2, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.executor.BaseExecutor.DeferredLoad.load()", "TOT": 3, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 2}, {"spoonMethodName": "org.apache.ibatis.executor.BaseExecutor.deferLoad(org.apache.ibatis.mapping.MappedStatement,org.apache.ibatis.reflection.MetaObject,java.lang.String,org.apache.ibatis.cache.CacheKey,java.lang.Class)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.executor.BaseExecutor.DeferredLoad", "TOT": 3, "UPD": 0, "INS": 3, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "CachingExecutor.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.executor.CachingExecutor.deferLoad(org.apache.ibatis.mapping.MappedStatement,org.apache.ibatis.reflection.MetaObject,java.lang.String,org.apache.ibatis.cache.CacheKey,java.lang.Class)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "Executor.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.executor.deferLoad(org.apache.ibatis.mapping.MappedStatement,org.apache.ibatis.reflection.MetaObject,java.lang.String,org.apache.ibatis.cache.CacheKey,java.lang.Class)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "FastResultSetHandler.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.executor.resultset.FastResultSetHandler.getNestedQueryMappingValue(java.sql.ResultSet,org.apache.ibatis.reflection.MetaObject,org.apache.ibatis.mapping.ResultMapping,org.apache.ibatis.executor.loader.ResultLoaderMap,java.lang.String)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "AssociationTypeTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.associationtype.AssociationTypeTest", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "dc53346d101bd5178039c82bc2283d759b1b6013", "commitGHEventType": "referenced", "commitUser": "harawata", "commitParents": ["f10045a40b337d9e54e69b01ec65588a46ff4265", "13f8eefa494837fae5f51a0f182f5b1b2600fc28"], "nameRev": "dc53346d101bd5178039c82bc2283d759b1b6013 tags/mybatis-3.5.4~36^2~2", "commitMessage": "Merge pull request #5 from mybatis/master\n\nMerge pull request from mybatis/master", "commitDateTime": "2019-11-01 11:12:57", "authoredDateTime": "2019-11-01 11:12:57", "commitGitStats": [{"filePath": ".travis.yml", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "pom.xml", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/main/java/org/apache/ibatis/annotations/Arg.java", "insertions": 53, "deletions": 2, "lines": 55}, {"filePath": "src/main/java/org/apache/ibatis/annotations/AutomapConstructor.java", "insertions": 21, "deletions": 1, "lines": 22}, {"filePath": "src/main/java/org/apache/ibatis/annotations/CacheNamespace.java", "insertions": 48, "deletions": 1, "lines": 49}, {"filePath": "src/main/java/org/apache/ibatis/annotations/CacheNamespaceRef.java", "insertions": 17, "deletions": 5, "lines": 22}, {"filePath": "src/main/java/org/apache/ibatis/annotations/Case.java", "insertions": 30, "deletions": 1, "lines": 31}, {"filePath": "src/main/java/org/apache/ibatis/annotations/ConstructorArgs.java", "insertions": 21, "deletions": 1, "lines": 22}, {"filePath": "src/main/java/org/apache/ibatis/annotations/Delete.java", "insertions": 16, "deletions": 1, "lines": 17}, {"filePath": "src/main/java/org/apache/ibatis/annotations/DeleteProvider.java", "insertions": 18, "deletions": 0, "lines": 18}, {"filePath": "src/main/java/org/apache/ibatis/annotations/Flush.java", "insertions": 9, "deletions": 1, "lines": 10}, {"filePath": "src/main/java/org/apache/ibatis/annotations/Insert.java", "insertions": 16, "deletions": 1, "lines": 17}, {"filePath": "src/main/java/org/apache/ibatis/annotations/InsertProvider.java", "insertions": 18, "deletions": 0, "lines": 18}, {"filePath": "src/main/java/org/apache/ibatis/annotations/Lang.java", "insertions": 16, "deletions": 0, "lines": 16}, {"filePath": "src/main/java/org/apache/ibatis/annotations/Many.java", "insertions": 15, "deletions": 1, "lines": 16}, {"filePath": "src/main/java/org/apache/ibatis/annotations/MapKey.java", "insertions": 17, "deletions": 1, "lines": 18}, {"filePath": "src/main/java/org/apache/ibatis/annotations/Mapper.java", "insertions": 9, "deletions": 1, "lines": 10}, {"filePath": "src/main/java/org/apache/ibatis/annotations/One.java", "insertions": 15, "deletions": 1, "lines": 16}, {"filePath": "src/main/java/org/apache/ibatis/annotations/Options.java", "insertions": 69, "deletions": 0, "lines": 69}, {"filePath": "src/main/java/org/apache/ibatis/annotations/Param.java", "insertions": 16, "deletions": 1, "lines": 17}, {"filePath": "src/main/java/org/apache/ibatis/annotations/Property.java", "insertions": 7, "deletions": 3, "lines": 10}, {"filePath": "src/main/java/org/apache/ibatis/annotations/Result.java", "insertions": 48, "deletions": 2, "lines": 50}, {"filePath": "src/main/java/org/apache/ibatis/annotations/ResultMap.java", "insertions": 33, "deletions": 1, "lines": 34}, {"filePath": "src/main/java/org/apache/ibatis/annotations/ResultType.java", "insertions": 14, "deletions": 0, "lines": 14}, {"filePath": "src/main/java/org/apache/ibatis/annotations/Results.java", "insertions": 26, "deletions": 2, "lines": 28}, {"filePath": "src/main/java/org/apache/ibatis/annotations/Select.java", "insertions": 16, "deletions": 1, "lines": 17}, {"filePath": "src/main/java/org/apache/ibatis/annotations/SelectKey.java", "insertions": 48, "deletions": 1, "lines": 49}, {"filePath": "src/main/java/org/apache/ibatis/annotations/SelectProvider.java", "insertions": 18, "deletions": 0, "lines": 18}, {"filePath": "src/main/java/org/apache/ibatis/annotations/TypeDiscriminator.java", "insertions": 46, "deletions": 1, "lines": 47}, {"filePath": "src/main/java/org/apache/ibatis/annotations/Update.java", "insertions": 16, "deletions": 1, "lines": 17}, {"filePath": "src/main/java/org/apache/ibatis/annotations/UpdateProvider.java", "insertions": 18, "deletions": 0, "lines": 18}, {"filePath": "src/main/java/org/apache/ibatis/builder/annotation/MapperAnnotationBuilder.java", "insertions": 3, "deletions": 12, "lines": 15}, {"filePath": "src/main/java/org/apache/ibatis/datasource/pooled/PooledConnection.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/main/java/org/apache/ibatis/datasource/unpooled/UnpooledDataSource.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/main/java/org/apache/ibatis/executor/ErrorContext.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/main/java/org/apache/ibatis/executor/keygen/SelectKeyGenerator.java", "insertions": 18, "deletions": 20, "lines": 38}, {"filePath": "src/main/java/org/apache/ibatis/executor/statement/StatementUtil.java", "insertions": 4, "deletions": 10, "lines": 14}, {"filePath": "src/main/java/org/apache/ibatis/mapping/Environment.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/main/java/org/apache/ibatis/mapping/SqlCommandType.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/main/java/org/apache/ibatis/parsing/XNode.java", "insertions": 16, "deletions": 3, "lines": 19}, {"filePath": "src/main/java/org/apache/ibatis/plugin/Intercepts.java", "insertions": 24, "deletions": 1, "lines": 25}, {"filePath": "src/main/java/org/apache/ibatis/plugin/Signature.java", "insertions": 19, "deletions": 2, "lines": 21}, {"filePath": "src/main/java/org/apache/ibatis/session/Configuration.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/main/java/org/apache/ibatis/type/Alias.java", "insertions": 16, "deletions": 1, "lines": 17}, {"filePath": "src/main/java/org/apache/ibatis/type/MappedJdbcTypes.java", "insertions": 22, "deletions": 1, "lines": 23}, {"filePath": "src/main/java/org/apache/ibatis/type/MappedTypes.java", "insertions": 16, "deletions": 1, "lines": 17}, {"filePath": "src/main/java/org/apache/ibatis/type/TypeHandlerRegistry.java", "insertions": 17, "deletions": 1, "lines": 18}, {"filePath": "src/main/java/org/apache/ibatis/type/UnknownTypeHandler.java", "insertions": 30, "deletions": 7, "lines": 37}, {"filePath": "src/site/xdoc/configuration.xml", "insertions": 32, "deletions": 22, "lines": 54}, {"filePath": "src/site/xdoc/java-api.xml", "insertions": 39, "deletions": 34, "lines": 73}, {"filePath": "src/site/zh/xdoc/java-api.xml", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "src/test/java/org/apache/ibatis/binding/BindingTest.java", "insertions": 91, "deletions": 0, "lines": 91}, {"filePath": "src/test/java/org/apache/ibatis/binding/BoundAuthorMapper.java", "insertions": 85, "deletions": 1, "lines": 86}, {"filePath": "src/test/java/org/apache/ibatis/parsing/XPathParserTest.java", "insertions": 55, "deletions": 9, "lines": 64}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler_gh1551/CreateDB.sql", "insertions": 44, "deletions": 0, "lines": 44}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler_gh1551/NestedResultHandlerGh1551Test.java", "insertions": 82, "deletions": 0, "lines": 82}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler_gh1551/ProductInfo.java", "insertions": 48, "deletions": 0, "lines": 48}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler_gh1551/ProductMapper.java", "insertions": 24, "deletions": 0, "lines": 24}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler_gh1551/ProductMapper.xml", "insertions": 54, "deletions": 0, "lines": 54}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler_gh1551/ProductResp.java", "insertions": 69, "deletions": 0, "lines": 69}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler_gh1551/ProductSku.java", "insertions": 57, "deletions": 0, "lines": 57}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler_gh1551/mybatis-config.xml", "insertions": 48, "deletions": 0, "lines": 48}, {"filePath": "src/test/java/org/apache/ibatis/type/UnknownTypeHandlerTest.java", "insertions": 5, "deletions": 4, "lines": 9}, {"filePath": "travis/after_success.sh", "insertions": 1, "deletions": 1, "lines": 2}], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": "tooManyFiles"}], "filteredCommits": ["75d2cbee1532ad674badd3529e97b25711bd364c"], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 1, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 10, "deletions": 8, "lines": 18, "gitFilesChange": 4}, "spoonStatsSummary": {"TOT": 12.0, "UPD": 2.0, "INS": 8.0, "MOV": 0.0, "DEL": 2.0, "spoonFilesChanged": 4, "spoonMethodsChanged": 7}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/executor", "src/main/java/org/apache/ibatis/executor/resultset"], "changesInPackagesSPOON": ["org.apache.ibatis.executor.BaseExecutor.deferLoad(org.apache.ibatis.mapping.MappedStatement,org.apache.ibatis.reflection.MetaObject,java.lang.String,org.apache.ibatis.cache.CacheKey)", "org.apache.ibatis.executor.CachingExecutor.deferLoad(org.apache.ibatis.mapping.MappedStatement,org.apache.ibatis.reflection.MetaObject,java.lang.String,org.apache.ibatis.cache.CacheKey,java.lang.Class)", "org.apache.ibatis.executor.BaseExecutor.deferLoad(org.apache.ibatis.mapping.MappedStatement,org.apache.ibatis.reflection.MetaObject,java.lang.String,org.apache.ibatis.cache.CacheKey,java.lang.Class)", "org.apache.ibatis.executor.resultset.FastResultSetHandler.getNestedQueryMappingValue(java.sql.ResultSet,org.apache.ibatis.reflection.MetaObject,org.apache.ibatis.mapping.ResultMapping,org.apache.ibatis.executor.loader.ResultLoaderMap,java.lang.String)", "org.apache.ibatis.executor.deferLoad(org.apache.ibatis.mapping.MappedStatement,org.apache.ibatis.reflection.MetaObject,java.lang.String,org.apache.ibatis.cache.CacheKey,java.lang.Class)", "org.apache.ibatis.executor.BaseExecutor.DeferredLoad.load()", "org.apache.ibatis.executor.BaseExecutor.DeferredLoad"]}, {"title": "Cglib should not be required if lazy loading is not enabled", "body": "Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.531 sec <<< FAILURE!\norg.mybatis.scripting.velocity.use.VelocityLanguageTest  Time elapsed: 0.53 sec  <<< ERROR!\norg.apache.ibatis.exceptions.PersistenceException: \n### Error building SqlSession.\n### The error may exist in SQL Mapper Configuration\n### Cause: org.apache.ibatis.builder.BuilderException: Error parsing SQL Mapper Configuration. Cause: org.apache.ibatis.builder.BuilderException: Error creating instance. Cause: java.lang.IllegalStateException: Cannot enable lazy loading because CGLIB is not available. Add CGLIB to your classpath.\n\n```\nat org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:23)\nat org.apache.ibatis.session.SqlSessionFactoryBuilder.build(SqlSessionFactoryBuilder.java:51)\nat org.apache.ibatis.session.SqlSessionFactoryBuilder.build(SqlSessionFactoryBuilder.java:35)\nat org.mybatis.scripting.velocity.use.VelocityLanguageTest.setUp(VelocityLanguageTest.java:59)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:601)\nat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:45)\nat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)\nat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:42)\nat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:27)\nat org.junit.runners.ParentRunner.run(ParentRunner.java:300)\nat org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:236)\nat org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:134)\nat org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:113)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:601)\nat org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)\nat org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)\nat org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)\nat org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:103)\nat org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:74)\n```\n\nCaused by: org.apache.ibatis.builder.BuilderException: Error parsing SQL Mapper Configuration. Cause: org.apache.ibatis.builder.BuilderException: Error creating instance. Cause: java.lang.IllegalStateException: Cannot enable lazy loading because CGLIB is not available. Add CGLIB to your classpath.\n    at org.apache.ibatis.builder.xml.XMLConfigBuilder.parseConfiguration(XMLConfigBuilder.java:106)\n    at org.apache.ibatis.builder.xml.XMLConfigBuilder.parse(XMLConfigBuilder.java:89)\n    at org.apache.ibatis.session.SqlSessionFactoryBuilder.build(SqlSessionFactoryBuilder.java:49)\n    ... 23 more\nCaused by: org.apache.ibatis.builder.BuilderException: Error creating instance. Cause: java.lang.IllegalStateException: Cannot enable lazy loading because CGLIB is not available. Add CGLIB to your classpath.\n    at org.apache.ibatis.builder.BaseBuilder.createInstance(BaseBuilder.java:91)\n    at org.apache.ibatis.builder.xml.XMLConfigBuilder.settingsElement(XMLConfigBuilder.java:198)\n    at org.apache.ibatis.builder.xml.XMLConfigBuilder.parseConfiguration(XMLConfigBuilder.java:100)\n    ... 25 more\nCaused by: java.lang.IllegalStateException: Cannot enable lazy loading because CGLIB is not available. Add CGLIB to your classpath.\n    at org.apache.ibatis.executor.loader.CglibProxyFactory.<init>(CglibProxyFactory.java:50)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:525)\n    at java.lang.Class.newInstance0(Class.java:372)\n    at java.lang.Class.newInstance(Class.java:325)\n    at org.apache.ibatis.builder.BaseBuilder.createInstance(BaseBuilder.java:89)\n    ... 27 more\nCaused by: java.lang.ClassNotFoundException: Cannot find class: net.sf.cglib.proxy.Enhancer\n    at org.apache.ibatis.io.ClassLoaderWrapper.classForName(ClassLoaderWrapper.java:188)\n    at org.apache.ibatis.io.ClassLoaderWrapper.classForName(ClassLoaderWrapper.java:87)\n    at org.apache.ibatis.io.Resources.classForName(Resources.java:254)\n    at org.apache.ibatis.executor.loader.CglibProxyFactory.<init>(CglibProxyFactory.java:48)\n", "url": "https://github.com/mybatis/mybatis-3/issues/4", "user": "emacarron", "labels": ["bug"], "created": "2013-03-01 16:00:04", "closed": "2013-03-01 16:02:12", "commits": {"f10045a40b337d9e54e69b01ec65588a46ff4265": {"commitGHEventType": "referenced", "commitUser": "harawata"}}, "ttf": 0.0002777777777777778, "commitsDetails": [{"commitHash": "f10045a40b337d9e54e69b01ec65588a46ff4265", "commitGHEventType": "referenced", "commitUser": "harawata", "commitParents": ["0f6e9ab70c7c28cdfff2e7d4a15978f322f748d8", "e0ae4ad0e89dd1a004cd29f409da575c95962a14"], "nameRev": "f10045a40b337d9e54e69b01ec65588a46ff4265 tags/mybatis-3.5.4~36^2~3", "commitMessage": "Merge pull request #4 from mybatis/master\n\nMerge pull request from mybatis/master", "commitDateTime": "2019-09-22 22:17:51", "authoredDateTime": "2019-09-22 22:17:51", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/cache/CacheKey.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/main/java/org/apache/ibatis/cache/decorators/ScheduledCache.java", "insertions": 3, "deletions": 1, "lines": 4}, {"filePath": "src/main/java/org/apache/ibatis/jdbc/AbstractSQL.java", "insertions": 2, "deletions": 3, "lines": 5}], "commitSpoonAstDiffStats": [{"spoonFilePath": "CacheKey.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.cache.CacheKey", "TOT": 2, "UPD": 2, "INS": 0, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "ScheduledCache.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.cache.decorators.ScheduledCache", "TOT": 2, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 1}]}, {"spoonFilePath": "AbstractSQL.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.jdbc.AbstractSQL.INTO_VALUES(java.lang.String[])", "TOT": 5, "UPD": 1, "INS": 1, "MOV": 2, "DEL": 1}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": [], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 1, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 0, "gitStatsSummary": {"insertions": 0, "deletions": 0, "lines": 0, "gitFilesChange": 0}, "spoonStatsSummary": {"TOT": 0, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 0, "spoonFilesChanged": 0, "spoonMethodsChanged": 0}, "statsSkippedReason": "", "changesInPackagesGIT": [], "changesInPackagesSPOON": []}, {"title": "\"less than\" in Select annotations", "body": "Reported by mgbckr, Today (6 hours ago)\nWhat version of the MyBatis are you using?\nMyBatis 3.2.0, MyBatis-Spring 1.2.0\n\nPlease describe the problem.  Unit tests are best!\nWhen I use the \"less than\" sign \"<\" in a Select annotations, I get an exception is thrown when initializing the application context. If I use \"&lt;\" it works. In previous MyBatis versions using \"<\" was working. I think it is counter-intuitive to be forced to use XML entities in Java code if not explicitly documented. \n\nWhat is the expected output? What do you see instead?\nNo exception :)\n\nCan you provide stack trace, logs, error messages that are displayed?\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mapper' defined in file [/media/data/Projects/EveryAware/workspaces/development/mybatis-invalid-annotation2/target/classes/de/fstyle/test/mybatis/invalid/annotation/mapper/Mapper.class]: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: org.apache.ibatis.builder.BuilderException: Could not find value method on SQL annotation.  Cause: org.apache.ibatis.builder.BuilderException: Error creating document instance.  Cause: org.xml.sax.SAXParseException; lineNumber: 1; columnNumber: 38; The content of elements must consist of well-formed character data or markup.\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1486)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:524)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:461)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:295)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:292)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:608)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)\n    at org.springframework.context.support.ClassPathXmlApplicationContext.<init>(ClassPathXmlApplicationContext.java:139)\n    at org.springframework.context.support.ClassPathXmlApplicationContext.<init>(ClassPathXmlApplicationContext.java:83)\n    at de.fstyle.test.mybatis.invalid.annotation.InvalidAnnotationTest.test(InvalidAnnotationTest.java:17)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:616)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:309)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)\nCaused by: java.lang.IllegalArgumentException: org.apache.ibatis.builder.BuilderException: Could not find value method on SQL annotation.  Cause: org.apache.ibatis.builder.BuilderException: Error creating document instance.  Cause: org.xml.sax.SAXParseException; lineNumber: 1; columnNumber: 38; The content of elements must consist of well-formed character data or markup.\n    at org.mybatis.spring.mapper.MapperFactoryBean.checkDaoConfig(MapperFactoryBean.java:98)\n    at org.springframework.dao.support.DaoSupport.afterPropertiesSet(DaoSupport.java:44)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1545)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1483)\n    ... 35 more\nCaused by: org.apache.ibatis.builder.BuilderException: Could not find value method on SQL annotation.  Cause: org.apache.ibatis.builder.BuilderException: Error creating document instance.  Cause: org.xml.sax.SAXParseException; lineNumber: 1; columnNumber: 38; The content of elements must consist of well-formed character data or markup.\n    at org.apache.ibatis.builder.annotation.MapperAnnotationBuilder.getSqlSourceFromAnnotations(MapperAnnotationBuilder.java:399)\n    at org.apache.ibatis.builder.annotation.MapperAnnotationBuilder.parseStatement(MapperAnnotationBuilder.java:241)\n    at org.apache.ibatis.builder.annotation.MapperAnnotationBuilder.parse(MapperAnnotationBuilder.java:120)\n    at org.apache.ibatis.binding.MapperRegistry.addMapper(MapperRegistry.java:62)\n    at org.apache.ibatis.session.Configuration.addMapper(Configuration.java:628)\n    at org.mybatis.spring.mapper.MapperFactoryBean.checkDaoConfig(MapperFactoryBean.java:95)\n    ... 38 more\nCaused by: org.apache.ibatis.builder.BuilderException: Error creating document instance.  Cause: org.xml.sax.SAXParseException; lineNumber: 1; columnNumber: 38; The content of elements must consist of well-formed character data or markup.\n    at org.apache.ibatis.parsing.XPathParser.createDocument(XPathParser.java:253)\n    at org.apache.ibatis.parsing.XPathParser.<init>(XPathParser.java:112)\n    at org.apache.ibatis.scripting.xmltags.XMLScriptBuilder.<init>(XMLScriptBuilder.java:44)\n    at org.apache.ibatis.scripting.xmltags.XMLLanguageDriver.createSqlSource(XMLLanguageDriver.java:39)\n    at org.apache.ibatis.builder.annotation.MapperAnnotationBuilder.buildSqlSourceFromStrings(MapperAnnotationBuilder.java:409)\n    at org.apache.ibatis.builder.annotation.MapperAnnotationBuilder.getSqlSourceFromAnnotations(MapperAnnotationBuilder.java:392)\n    ... 43 more\nCaused by: org.xml.sax.SAXParseException; lineNumber: 1; columnNumber: 38; The content of elements must consist of well-formed character data or markup.\n    at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:198)\n    at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.fatalError(ErrorHandlerWrapper.java:177)\n    at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:391)\n    at com.sun.org.apache.xerces.internal.impl.XMLScanner.reportFatalError(XMLScanner.java:1404)\n    at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.startOfMarkup(XMLDocumentFragmentScannerImpl.java:2583)\n    at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2680)\n    at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:625)\n    at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:488)\n    at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:819)\n    at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:748)\n    at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:123)\n    at com.sun.org.apache.xerces.internal.parsers.DOMParser.parse(DOMParser.java:239)\n    at com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderImpl.parse(DocumentBuilderImpl.java:288)\n    at org.apache.ibatis.parsing.XPathParser.createDocument(XPathParser.java:251)\n    ... 48 more\n\nPlease provide any additional information below.\nSee: https://code.google.com/p/fstyle-test/source/browse/#git%2Fbug%2Fmybatis-invalid-annotation\n", "url": "https://github.com/mybatis/mybatis-3/issues/3", "user": "emacarron", "labels": ["bug"], "created": "2013-02-25 18:04:33", "closed": "2013-02-25 18:05:00", "commits": {"da5cad51a15fdeb4dce13c51ade690b1a270d2cb": {"commitGHEventType": "referenced", "commitUser": "emacarron"}, "0f6e9ab70c7c28cdfff2e7d4a15978f322f748d8": {"commitGHEventType": "referenced", "commitUser": "kazuki43zoo"}, "f53e9dc10af7687a9cbe8c3c098a60555855f3ed": {"commitGHEventType": "referenced", "commitUser": "harawata"}}, "ttf": 0.0002777777777777778, "commitsDetails": [{"commitHash": "da5cad51a15fdeb4dce13c51ade690b1a270d2cb", "commitGHEventType": "referenced", "commitUser": "emacarron", "commitParents": ["9b84acba54d7a3ba30ebfb69fc046a0c7dcb24ce"], "nameRev": "da5cad51a15fdeb4dce13c51ade690b1a270d2cb tags/mybatis-3.2.1~6", "commitMessage": "Fix for issue #3. Existing mapper statements should never be parsed as\nXML.", "commitDateTime": "2013-02-25 20:04:04", "authoredDateTime": "2013-02-25 20:04:04", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/scripting/xmltags/XMLLanguageDriver.java", "insertions": 14, "deletions": 4, "lines": 18}, {"filePath": "src/main/java/org/apache/ibatis/scripting/xmltags/XMLScriptBuilder.java", "insertions": 2, "deletions": 6, "lines": 8}, {"filePath": "src/test/java/org/apache/ibatis/submitted/language/LanguageTest.java", "insertions": 29, "deletions": 14, "lines": 43}, {"filePath": "src/test/java/org/apache/ibatis/submitted/language/Mapper.java", "insertions": 5, "deletions": 1, "lines": 6}], "commitSpoonAstDiffStats": [{"spoonFilePath": "XMLLanguageDriver.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.scripting.xmltags.XMLLanguageDriver.createSqlSource(org.apache.ibatis.session.Configuration,java.lang.String,java.lang.Class)", "TOT": 3, "UPD": 0, "INS": 1, "MOV": 2, "DEL": 0}]}, {"spoonFilePath": "XMLScriptBuilder.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.scripting.xmltags.XMLScriptBuilder", "TOT": 2, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 1}]}, {"spoonFilePath": "LanguageTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.language.LanguageTest.testLangXmlWithMapperAndSqlSymbols()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "Mapper.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.language.selectXmlWithMapper(org.apache.ibatis.submitted.language.Parameter)", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.submitted.language.selectXmlWithMapperAndSqlSymbols(org.apache.ibatis.submitted.language.Parameter)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "0f6e9ab70c7c28cdfff2e7d4a15978f322f748d8", "commitGHEventType": "referenced", "commitUser": "kazuki43zoo", "commitParents": ["eec71727a225812fe34bd8ab09df11f1c2a87b97", "ea6fe1f3561980aeb9cf1ded8d9cd7eed989fc59"], "nameRev": "0f6e9ab70c7c28cdfff2e7d4a15978f322f748d8 tags/mybatis-3.5.3~13^2~1", "commitMessage": "Merge pull request #3 from mybatis/master\n\nfeat: merge from master", "commitDateTime": "2019-09-20 14:05:32", "authoredDateTime": "2019-09-20 14:05:32", "commitGitStats": [{"filePath": ".travis.yml", "insertions": 1, "deletions": 0, "lines": 1}, {"filePath": "README.md", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "pom.xml", "insertions": 16, "deletions": 4, "lines": 20}, {"filePath": "src/main/java/org/apache/ibatis/binding/MapperProxy.java", "insertions": 51, "deletions": 13, "lines": 64}, {"filePath": "src/main/java/org/apache/ibatis/builder/BaseBuilder.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/main/java/org/apache/ibatis/builder/MapperBuilderAssistant.java", "insertions": 7, "deletions": 1, "lines": 8}, {"filePath": "src/main/java/org/apache/ibatis/builder/annotation/MapperAnnotationBuilder.java", "insertions": 4, "deletions": 2, "lines": 6}, {"filePath": "src/main/java/org/apache/ibatis/builder/annotation/ProviderSqlSource.java", "insertions": 78, "deletions": 45, "lines": 123}, {"filePath": "src/main/java/org/apache/ibatis/builder/xml/XMLConfigBuilder.java", "insertions": 8, "deletions": 7, "lines": 15}, {"filePath": "src/main/java/org/apache/ibatis/builder/xml/XMLIncludeTransformer.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/main/java/org/apache/ibatis/builder/xml/XMLStatementBuilder.java", "insertions": 3, "deletions": 0, "lines": 3}, {"filePath": "src/main/java/org/apache/ibatis/cache/CacheKey.java", "insertions": 10, "deletions": 1, "lines": 11}, {"filePath": "src/main/java/org/apache/ibatis/cache/NullCacheKey.java", "insertions": 3, "deletions": 1, "lines": 4}, {"filePath": "src/main/java/org/apache/ibatis/cursor/defaults/DefaultCursor.java", "insertions": 15, "deletions": 11, "lines": 26}, {"filePath": "src/main/java/org/apache/ibatis/datasource/unpooled/UnpooledDataSource.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/main/java/org/apache/ibatis/executor/BatchExecutor.java", "insertions": 3, "deletions": 2, "lines": 5}, {"filePath": "src/main/java/org/apache/ibatis/executor/SimpleExecutor.java", "insertions": 2, "deletions": 1, "lines": 3}, {"filePath": "src/main/java/org/apache/ibatis/io/DefaultVFS.java", "insertions": 16, "deletions": 14, "lines": 30}, {"filePath": "src/main/java/org/apache/ibatis/io/VFS.java", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "src/main/java/org/apache/ibatis/mapping/ResultMapping.java", "insertions": 1, "deletions": 5, "lines": 6}, {"filePath": "src/main/java/org/apache/ibatis/mapping/SqlCommandType.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/main/java/org/apache/ibatis/parsing/GenericTokenParser.java", "insertions": 0, "deletions": 1, "lines": 1}, {"filePath": "src/main/java/org/apache/ibatis/parsing/XNode.java", "insertions": 4, "deletions": 4, "lines": 8}, {"filePath": "src/main/java/org/apache/ibatis/parsing/XPathParser.java", "insertions": 3, "deletions": 0, "lines": 3}, {"filePath": "src/main/java/org/apache/ibatis/reflection/Reflector.java", "insertions": 59, "deletions": 81, "lines": 140}, {"filePath": "src/main/java/org/apache/ibatis/reflection/invoker/AmbiguousMethodInvoker.java", "insertions": 36, "deletions": 0, "lines": 36}, {"filePath": "src/main/java/org/apache/ibatis/reflection/property/PropertyNamer.java", "insertions": 4, "deletions": 4, "lines": 8}, {"filePath": "src/main/java/org/apache/ibatis/session/Configuration.java", "insertions": 16, "deletions": 0, "lines": 16}, {"filePath": "src/main/java/org/apache/ibatis/session/defaults/DefaultSqlSession.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/site/es/xdoc/configuration.xml", "insertions": 14, "deletions": 0, "lines": 14}, {"filePath": "src/site/es/xdoc/java-api.xml", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/site/es/xdoc/sqlmap-xml.xml", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/site/ja/xdoc/configuration.xml", "insertions": 14, "deletions": 0, "lines": 14}, {"filePath": "src/site/ja/xdoc/java-api.xml", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/site/ja/xdoc/sqlmap-xml.xml", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/site/ko/xdoc/configuration.xml", "insertions": 14, "deletions": 0, "lines": 14}, {"filePath": "src/site/ko/xdoc/java-api.xml", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/site/ko/xdoc/sqlmap-xml.xml", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/site/xdoc/configuration.xml", "insertions": 14, "deletions": 0, "lines": 14}, {"filePath": "src/site/xdoc/java-api.xml", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/site/zh/xdoc/configuration.xml", "insertions": 14, "deletions": 0, "lines": 14}, {"filePath": "src/site/zh/xdoc/dynamic-sql.xml", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/site/zh/xdoc/java-api.xml", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/site/zh/xdoc/sqlmap-xml.xml", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/test/java/org/apache/ibatis/autoconstructor/AutoConstructorMapper.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/test/java/org/apache/ibatis/autoconstructor/AutoConstructorTest.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/org/apache/ibatis/builder/AnnotationMapperBuilderTest.java", "insertions": 116, "deletions": 0, "lines": 116}, {"filePath": "src/test/java/org/apache/ibatis/builder/CustomizedSettingsMapperConfig.xml", "insertions": 1, "deletions": 0, "lines": 1}, {"filePath": "src/test/java/org/apache/ibatis/builder/XmlConfigBuilderTest.java", "insertions": 3, "deletions": 0, "lines": 3}, {"filePath": "src/test/java/org/apache/ibatis/builder/XmlMapperBuilderTest.java", "insertions": 15, "deletions": 1, "lines": 16}, {"filePath": "src/test/java/org/apache/ibatis/builder/xsd/XmlConfigBuilderTest.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/org/apache/ibatis/exceptions/GeneralExceptionsTest.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/org/apache/ibatis/parsing/GenericTokenParserTest.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/org/apache/ibatis/reflection/ReflectorTest.java", "insertions": 112, "deletions": 8, "lines": 120}, {"filePath": "src/test/java/org/apache/ibatis/session/SqlSessionTest.java", "insertions": 0, "deletions": 2, "lines": 2}, {"filePath": "src/test/java/org/apache/ibatis/submitted/associationtest/Mapper.xml", "insertions": 2, "deletions": 1, "lines": 3}, {"filePath": "src/test/java/org/apache/ibatis/submitted/cursor_simple/CursorSimpleTest.java", "insertions": 86, "deletions": 0, "lines": 86}, {"filePath": "src/test/java/org/apache/ibatis/submitted/cursor_simple/Mapper.java", "insertions": 18, "deletions": 1, "lines": 19}, {"filePath": "src/test/java/org/apache/ibatis/submitted/cursor_simple/MysqlCursorTest.java", "insertions": 84, "deletions": 0, "lines": 84}, {"filePath": "src/test/java/org/apache/ibatis/submitted/foreach_map/NestedBeanMapEntry.java", "insertions": 7, "deletions": 5, "lines": 12}, {"filePath": "src/test/java/org/apache/ibatis/submitted/include_property/Mapper.xml", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "src/test/java/org/apache/ibatis/submitted/multiple_discriminator/MultipleDiscriminatorTest.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/org/apache/ibatis/submitted/sqlprovider/Mapper.java", "insertions": 4, "deletions": 1, "lines": 5}, {"filePath": "src/test/java/org/apache/ibatis/submitted/sqlprovider/OurSqlBuilder.java", "insertions": 13, "deletions": 0, "lines": 13}, {"filePath": "src/test/java/org/apache/ibatis/submitted/sqlprovider/SqlProviderTest.java", "insertions": 304, "deletions": 6, "lines": 310}, {"filePath": "src/test/java/org/apache/ibatis/testcontainers/MysqlContainer.java", "insertions": 49, "deletions": 0, "lines": 49}, {"filePath": "travis/after_success.sh", "insertions": 1, "deletions": 1, "lines": 2}], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": "tooManyFiles"}, {"commitHash": "f53e9dc10af7687a9cbe8c3c098a60555855f3ed", "commitGHEventType": "referenced", "commitUser": "harawata", "commitParents": ["6108fb8d65ce132a66922959f2b1b1d5f8631c2c", "65b0529ebf72cb92024c68a460816349f3d4d881"], "nameRev": "f53e9dc10af7687a9cbe8c3c098a60555855f3ed tags/mybatis-3.5.4~24^2~2", "commitMessage": "Merge pull request #3 from mybatis/master\n\nupdate from origin", "commitDateTime": "2020-01-04 22:00:55", "authoredDateTime": "2020-01-04 22:00:55", "commitGitStats": [{"filePath": "pom.xml", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/main/java/org/apache/ibatis/builder/xml/XMLMapperBuilder.java", "insertions": 7, "deletions": 7, "lines": 14}, {"filePath": "src/main/java/org/apache/ibatis/jdbc/ScriptRunner.java", "insertions": 4, "deletions": 0, "lines": 4}, {"filePath": "src/main/java/org/apache/ibatis/jdbc/SqlRunner.java", "insertions": 4, "deletions": 0, "lines": 4}, {"filePath": "src/main/java/org/apache/ibatis/reflection/TypeParameterResolver.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/test/java/org/apache/ibatis/binding/MapperWithOneAndMany.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/org/apache/ibatis/reflection/TypeParameterResolverTest.java", "insertions": 28, "deletions": 0, "lines": 28}], "commitSpoonAstDiffStats": [{"spoonFilePath": "XMLMapperBuilder.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.builder.xml.XMLMapperBuilder.resultMapElements(java.util.List)", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}, {"spoonMethodName": "org.apache.ibatis.builder.xml.XMLMapperBuilder.resultMapElement(org.apache.ibatis.parsing.XNode)", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}, {"spoonMethodName": "org.apache.ibatis.builder.xml.XMLMapperBuilder.resultMapElement(org.apache.ibatis.parsing.XNode,java.util.List,java.lang.Class)", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}, {"spoonMethodName": "org.apache.ibatis.builder.xml.XMLMapperBuilder.processConstructorElement(org.apache.ibatis.parsing.XNode,java.lang.Class,java.util.List)", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}, {"spoonMethodName": "org.apache.ibatis.builder.xml.XMLMapperBuilder.processDiscriminatorElement(org.apache.ibatis.parsing.XNode,java.lang.Class,java.util.List)", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}, {"spoonMethodName": "org.apache.ibatis.builder.xml.XMLMapperBuilder.buildResultMappingFromContext(org.apache.ibatis.parsing.XNode,java.lang.Class,java.util.List)", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}, {"spoonMethodName": "org.apache.ibatis.builder.xml.XMLMapperBuilder.processNestedResultMappings(org.apache.ibatis.parsing.XNode,java.util.List,java.lang.Class)", "TOT": 1, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 1}]}, {"spoonFilePath": "ScriptRunner.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.jdbc.ScriptRunner.closeConnection()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "SqlRunner.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.jdbc.SqlRunner.closeConnection()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "TypeParameterResolver.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.reflection.TypeParameterResolver.scanSuperTypes(java.lang.reflect.TypeVariable,java.lang.reflect.Type,java.lang.Class,java.lang.Class,java.lang.reflect.Type)", "TOT": 3, "UPD": 0, "INS": 1, "MOV": 1, "DEL": 1}, {"spoonMethodName": "org.apache.ibatis.reflection.TypeParameterResolver.translateParentTypeVars(java.lang.reflect.ParameterizedType,java.lang.Class,java.lang.reflect.ParameterizedType)", "TOT": 4, "UPD": 0, "INS": 1, "MOV": 2, "DEL": 1}]}, {"spoonFilePath": "MapperWithOneAndMany.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.binding.selectWithBothOneAndMany()", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "TypeParameterResolverTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.reflection.TypeParameterResolverTest.shouldTypeVariablesBeComparedWithEquals()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.reflection.TypeParameterResolverTest.AA", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.reflection.TypeParameterResolverTest.BB", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.reflection.TypeParameterResolverTest", "TOT": 3, "UPD": 0, "INS": 3, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["da5cad51a15fdeb4dce13c51ade690b1a270d2cb"], "filteredCommitsReason": {"duplicated": 1, "alsoFixesPhrase": 0, "moreThanOneParent": 1, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 16, "deletions": 10, "lines": 26, "gitFilesChange": 2}, "spoonStatsSummary": {"TOT": 7.0, "UPD": 1.0, "INS": 3.0, "MOV": 2.0, "DEL": 1.0, "spoonFilesChanged": 3, "spoonMethodsChanged": 4}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/scripting/xmltags"], "changesInPackagesSPOON": ["org.apache.ibatis.scripting.xmltags.XMLScriptBuilder", "org.apache.ibatis.scripting.xmltags.XMLLanguageDriver.createSqlSource(org.apache.ibatis.session.Configuration,java.lang.String,java.lang.Class)", "org.apache.ibatis.submitted.language.selectXmlWithMapperAndSqlSymbols(org.apache.ibatis.submitted.language.Parameter)", "org.apache.ibatis.submitted.language.selectXmlWithMapper(org.apache.ibatis.submitted.language.Parameter)"]}, {"title": "StackOverflow when using databaseId", "body": "gcode: Reported by dcendents, Feb 21 (2 days ago)\n\nHi,\n\nI found a weird problem with mybatis, spring and declaring statements with databaseId that end up in a StackOverflowError (infinite loop).\n\nmybatis version: 3.1.1\nmybatis-spring version: 1.1.1\n\nSee the attached project with 2 unit tests. One that fails to load the mybatis configuration, and the second one that force the databaseId to null and the mybatis configuration can be loaded.\n\nI've done a bit of debugging to try and understand the problem and here is what I think is the problem:\n\n(Refer to the attached project for files and content)\n- Mapping A is loaded\n  - XMLMapperBuilder.buildStatementFromContext is executed with requiredDatabaseId = h2\n    - 3 statements (delete + updates) without databaseId are skipped\n    - same 3 statements (delete + updates) with databaseId=h2 are loaded\n    - select without databaseId is skipped\n  - XMLMapperBuilder.buildStatementFromContext is executed with requiredDatabaseId = null\n    - 3 statements (delete + updates) with databaseId=h2 are skipped\n    - same 3 statements (delete + updates) without databaseId are skipped because \"skip this statement if there is a previous one with a not null databaseId\" (databaseIdMatchesCurrent method)\n    - select without databaseId is added to the incomplete statements because it includes sql from mapper C\n- Mapping B is loaded, similar to A except:\n  - XMLMapperBuilder.buildStatementFromContext is executed with requiredDatabaseId = null\n    - 3 statements (delete + updates) without databaseId are parsed, they should be skipped but the following happens instead\n      - in databaseIdMatchesCurrent\n        - configuration.hasStatement is called with validateIncompleteStatements set to false and returns true\n      - configuration.getMappedStatement with default value for validateIncompleteStatements set to true\n        - it tries to parse the statement from mapper A (still incomplete) and throws an exception\n        - The statement is added to the incomplete statements\n- Mapping C is loaded\n  - Again in databaseIdMatchesCurrent it tries to resolve incomplete statements, but this time mybatis knows about mapping C, so when processing the select from mapping A, it also enters into the databaseIdMatchesCurrent which tries to resolve incomplete statements, loads select from A again, and gets into an infinite loop.\n\nThe good news is that I think this is a very simple fix, XMLStatementBuilder.databaseIdMatchesCurrent line 130 should set validateIncompleteStatements to false: \"MappedStatement previous = this.configuration.getMappedStatement(id, false);\"\n\nAlso what is strange is I could not reproduce the problem without loading mybatis through spring, but I don't see why that would matter.\n\nHope the fix is as easy as that and it can be fixed for the next version.\n\nMy current workaround is to load the mapping in a different order (B, C and then A).\nBut there might be a time soon where all our mappings will reference sql fragments from other files and we won't be able to use that workaround.\n\nThanks\n", "url": "https://github.com/mybatis/mybatis-3/issues/2", "user": "emacarron", "labels": ["bug"], "created": "2013-02-24 07:47:21", "closed": "2013-02-24 09:28:06", "commits": {"71231417d7ecd61584d9c05aa7716e9593255d3a": {"commitGHEventType": "referenced", "commitUser": "emacarron"}, "68be874bba1115c1a55f2502aac2f5dee8874960": {"commitGHEventType": "referenced", "commitUser": "harawata"}, "e5d9bda13e601c8cbd6714af3ba2eab9647fc4af": {"commitGHEventType": "referenced", "commitUser": "harawata"}, "eec71727a225812fe34bd8ab09df11f1c2a87b97": {"commitGHEventType": "referenced", "commitUser": "kazuki43zoo"}}, "ttf": 0.0002777777777777778, "commitsDetails": [{"commitHash": "71231417d7ecd61584d9c05aa7716e9593255d3a", "commitGHEventType": "referenced", "commitUser": "emacarron", "commitParents": ["bd42b0ac0e8200ca0a7846d7e17217f77e3c6d56"], "nameRev": "71231417d7ecd61584d9c05aa7716e9593255d3a tags/mybatis-3.2.1~8", "commitMessage": "Fix for issue #2. StackOverflow when using databaseId.", "commitDateTime": "2013-02-24 10:26:00", "authoredDateTime": "2013-02-24 10:26:00", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/builder/xml/XMLStatementBuilder.java", "insertions": 1, "deletions": 1, "lines": 2}], "commitSpoonAstDiffStats": [{"spoonFilePath": "XMLStatementBuilder.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.builder.xml.XMLStatementBuilder.databaseIdMatchesCurrent(java.lang.String,java.lang.String,java.lang.String)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "68be874bba1115c1a55f2502aac2f5dee8874960", "commitGHEventType": "referenced", "commitUser": "harawata", "commitParents": ["f83ace7db67f2175c23efddbc8f04a2cf10724b8", "d74d0bd90be915a6fe18b6ab33c6e608606a3dd4"], "nameRev": "68be874bba1115c1a55f2502aac2f5dee8874960 tags/mybatis-3.5.0~68^2~2", "commitMessage": "Merge pull request #2 from mybatis/master\n\nUpdate from upstream", "commitDateTime": "2018-05-26 14:58:46", "authoredDateTime": "2018-05-26 14:58:46", "commitGitStats": [{"filePath": "pom.xml", "insertions": 1, "deletions": 9, "lines": 10}, {"filePath": "src/main/java/org/apache/ibatis/binding/MapperProxy.java", "insertions": 2, "deletions": 7, "lines": 9}, {"filePath": "src/main/java/org/apache/ibatis/binding/MapperProxyFactory.java", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "src/main/java/org/apache/ibatis/binding/MapperRegistry.java", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "src/main/java/org/apache/ibatis/builder/BaseBuilder.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/main/java/org/apache/ibatis/builder/MapperBuilderAssistant.java", "insertions": 6, "deletions": 6, "lines": 12}, {"filePath": "src/main/java/org/apache/ibatis/builder/SqlSourceBuilder.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/main/java/org/apache/ibatis/builder/annotation/MapperAnnotationBuilder.java", "insertions": 5, "deletions": 5, "lines": 10}, {"filePath": "src/main/java/org/apache/ibatis/builder/xml/XMLIncludeTransformer.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/main/java/org/apache/ibatis/builder/xml/XMLMapperBuilder.java", "insertions": 5, "deletions": 5, "lines": 10}, {"filePath": "src/main/java/org/apache/ibatis/cache/CacheKey.java", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "src/main/java/org/apache/ibatis/cache/TransactionalCacheManager.java", "insertions": 3, "deletions": 8, "lines": 11}, {"filePath": "src/main/java/org/apache/ibatis/cache/decorators/BlockingCache.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/main/java/org/apache/ibatis/cache/decorators/FifoCache.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/main/java/org/apache/ibatis/cache/decorators/SoftCache.java", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "src/main/java/org/apache/ibatis/cache/decorators/TransactionalCache.java", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "src/main/java/org/apache/ibatis/cache/decorators/WeakCache.java", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "src/main/java/org/apache/ibatis/cache/impl/PerpetualCache.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/main/java/org/apache/ibatis/cursor/defaults/DefaultCursor.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/main/java/org/apache/ibatis/datasource/pooled/PoolState.java", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "src/main/java/org/apache/ibatis/datasource/unpooled/UnpooledDataSource.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/main/java/org/apache/ibatis/executor/BaseExecutor.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/main/java/org/apache/ibatis/executor/BatchExecutor.java", "insertions": 4, "deletions": 4, "lines": 8}, {"filePath": "src/main/java/org/apache/ibatis/executor/BatchResult.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/main/java/org/apache/ibatis/executor/ErrorContext.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/main/java/org/apache/ibatis/executor/ReuseExecutor.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/main/java/org/apache/ibatis/executor/keygen/Jdbc3KeyGenerator.java", "insertions": 1, "deletions": 2, "lines": 3}, {"filePath": "src/main/java/org/apache/ibatis/executor/loader/AbstractSerialStateHolder.java", "insertions": 4, "deletions": 4, "lines": 8}, {"filePath": "src/main/java/org/apache/ibatis/executor/loader/ResultLoaderMap.java", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "src/main/java/org/apache/ibatis/executor/result/DefaultResultHandler.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/main/java/org/apache/ibatis/executor/resultset/DefaultResultSetHandler.java", "insertions": 31, "deletions": 49, "lines": 80}, {"filePath": "src/main/java/org/apache/ibatis/executor/resultset/PrimitiveTypes.java", "insertions": 0, "deletions": 52, "lines": 52}, {"filePath": "src/main/java/org/apache/ibatis/executor/resultset/ResultSetWrapper.java", "insertions": 15, "deletions": 11, "lines": 26}, {"filePath": "src/main/java/org/apache/ibatis/io/DefaultVFS.java", "insertions": 5, "deletions": 5, "lines": 10}, {"filePath": "src/main/java/org/apache/ibatis/io/ExternalResources.java", "insertions": 3, "deletions": 20, "lines": 23}, {"filePath": "src/main/java/org/apache/ibatis/io/JBoss6VFS.java", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "src/main/java/org/apache/ibatis/io/ResolverUtil.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/main/java/org/apache/ibatis/io/VFS.java", "insertions": 5, "deletions": 7, "lines": 12}, {"filePath": "src/main/java/org/apache/ibatis/jdbc/ScriptRunner.java", "insertions": 54, "deletions": 43, "lines": 97}, {"filePath": "src/main/java/org/apache/ibatis/jdbc/SelectBuilder.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/main/java/org/apache/ibatis/jdbc/SqlBuilder.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/main/java/org/apache/ibatis/jdbc/SqlRunner.java", "insertions": 5, "deletions": 5, "lines": 10}, {"filePath": "src/main/java/org/apache/ibatis/logging/LogFactory.java", "insertions": 7, "deletions": 37, "lines": 44}, {"filePath": "src/main/java/org/apache/ibatis/logging/jdbc/BaseJdbcLogger.java", "insertions": 7, "deletions": 7, "lines": 14}, {"filePath": "src/main/java/org/apache/ibatis/logging/jdbc/ResultSetLogger.java", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "src/main/java/org/apache/ibatis/mapping/BoundSql.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/main/java/org/apache/ibatis/mapping/CacheBuilder.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/main/java/org/apache/ibatis/mapping/MappedStatement.java", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "src/main/java/org/apache/ibatis/mapping/ResultMap.java", "insertions": 12, "deletions": 16, "lines": 28}, {"filePath": "src/main/java/org/apache/ibatis/mapping/ResultMapping.java", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "src/main/java/org/apache/ibatis/parsing/XNode.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/main/java/org/apache/ibatis/parsing/XPathParser.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/main/java/org/apache/ibatis/plugin/InterceptorChain.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/main/java/org/apache/ibatis/plugin/Plugin.java", "insertions": 4, "deletions": 8, "lines": 12}, {"filePath": "src/main/java/org/apache/ibatis/reflection/DefaultReflectorFactory.java", "insertions": 3, "deletions": 8, "lines": 11}, {"filePath": "src/main/java/org/apache/ibatis/reflection/MetaClass.java", "insertions": 2, "deletions": 3, "lines": 5}, {"filePath": "src/main/java/org/apache/ibatis/reflection/ParamNameResolver.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/main/java/org/apache/ibatis/reflection/ParamNameUtil.java", "insertions": 2, "deletions": 3, "lines": 5}, {"filePath": "src/main/java/org/apache/ibatis/reflection/Reflector.java", "insertions": 19, "deletions": 17, "lines": 36}, {"filePath": "src/main/java/org/apache/ibatis/reflection/TypeParameterResolver.java", "insertions": 36, "deletions": 27, "lines": 63}, {"filePath": "src/main/java/org/apache/ibatis/reflection/wrapper/MapWrapper.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/main/java/org/apache/ibatis/scripting/xmltags/ExpressionEvaluator.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/main/java/org/apache/ibatis/scripting/xmltags/ForEachSqlNode.java", "insertions": 7, "deletions": 11, "lines": 18}, {"filePath": "src/main/java/org/apache/ibatis/scripting/xmltags/OgnlCache.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/main/java/org/apache/ibatis/scripting/xmltags/OgnlMemberAccess.java", "insertions": 8, "deletions": 2, "lines": 10}, {"filePath": "src/main/java/org/apache/ibatis/scripting/xmltags/TrimSqlNode.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/main/java/org/apache/ibatis/scripting/xmltags/XMLScriptBuilder.java", "insertions": 5, "deletions": 5, "lines": 10}, {"filePath": "src/main/java/org/apache/ibatis/session/Configuration.java", "insertions": 13, "deletions": 13, "lines": 26}, {"filePath": "src/main/java/org/apache/ibatis/session/SqlSessionManager.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/main/java/org/apache/ibatis/session/defaults/DefaultSqlSession.java", "insertions": 7, "deletions": 7, "lines": 14}, {"filePath": "src/main/java/org/apache/ibatis/type/BaseTypeHandler.java", "insertions": 11, "deletions": 21, "lines": 32}, {"filePath": "src/main/java/org/apache/ibatis/type/BooleanTypeHandler.java", "insertions": 7, "deletions": 4, "lines": 11}, {"filePath": "src/main/java/org/apache/ibatis/type/ByteTypeHandler.java", "insertions": 7, "deletions": 4, "lines": 11}, {"filePath": "src/main/java/org/apache/ibatis/type/ClobTypeHandler.java", "insertions": 9, "deletions": 19, "lines": 28}, {"filePath": "src/main/java/org/apache/ibatis/type/DoubleTypeHandler.java", "insertions": 7, "deletions": 4, "lines": 11}, {"filePath": "src/main/java/org/apache/ibatis/type/EnumOrdinalTypeHandler.java", "insertions": 4, "deletions": 4, "lines": 8}, {"filePath": "src/main/java/org/apache/ibatis/type/FloatTypeHandler.java", "insertions": 7, "deletions": 4, "lines": 11}, {"filePath": "src/main/java/org/apache/ibatis/type/IntegerTypeHandler.java", "insertions": 7, "deletions": 4, "lines": 11}, {"filePath": "src/main/java/org/apache/ibatis/type/JdbcType.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/main/java/org/apache/ibatis/type/LongTypeHandler.java", "insertions": 7, "deletions": 4, "lines": 11}, {"filePath": "src/main/java/org/apache/ibatis/type/MonthTypeHandler.java", "insertions": 4, "deletions": 4, "lines": 8}, {"filePath": "src/main/java/org/apache/ibatis/type/NClobTypeHandler.java", "insertions": 9, "deletions": 19, "lines": 28}, {"filePath": "src/main/java/org/apache/ibatis/type/ShortTypeHandler.java", "insertions": 7, "deletions": 4, "lines": 11}, {"filePath": "src/main/java/org/apache/ibatis/type/SimpleTypeRegistry.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/main/java/org/apache/ibatis/type/SqlxmlTypeHandler.java", "insertions": 71, "deletions": 0, "lines": 71}, {"filePath": "src/main/java/org/apache/ibatis/type/TypeAliasRegistry.java", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "src/main/java/org/apache/ibatis/type/TypeHandlerRegistry.java", "insertions": 8, "deletions": 6, "lines": 14}, {"filePath": "src/main/java/org/apache/ibatis/type/UnknownTypeHandler.java", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "src/main/java/org/apache/ibatis/type/YearTypeHandler.java", "insertions": 4, "deletions": 4, "lines": 8}, {"filePath": "src/site/es/xdoc/configuration.xml", "insertions": 12, "deletions": 1, "lines": 13}, {"filePath": "src/site/ja/xdoc/configuration.xml", "insertions": 12, "deletions": 1, "lines": 13}, {"filePath": "src/site/ko/xdoc/configuration.xml", "insertions": 12, "deletions": 1, "lines": 13}, {"filePath": "src/site/xdoc/configuration.xml", "insertions": 12, "deletions": 1, "lines": 13}, {"filePath": "src/site/zh/xdoc/configuration.xml", "insertions": 11, "deletions": 0, "lines": 11}, {"filePath": "src/test/java/org/apache/ibatis/autoconstructor/AutoConstructorMapper.java", "insertions": 4, "deletions": 4, "lines": 8}, {"filePath": "src/test/java/org/apache/ibatis/autoconstructor/AutoConstructorTest.java", "insertions": 23, "deletions": 45, "lines": 68}, {"filePath": "src/test/java/org/apache/ibatis/autoconstructor/CreateDB.sql", "insertions": 32, "deletions": 5, "lines": 37}, {"filePath": "src/test/java/org/apache/ibatis/autoconstructor/ExtensiveSubject.java", "insertions": 67, "deletions": 0, "lines": 67}, {"filePath": "src/test/java/org/apache/ibatis/autoconstructor/PrimitiveSubject.java", "insertions": 8, "deletions": 2, "lines": 10}, {"filePath": "src/test/java/org/apache/ibatis/autoconstructor/WrapperSubject.java", "insertions": 0, "deletions": 32, "lines": 32}, {"filePath": "src/test/java/org/apache/ibatis/binding/BindingTest.java", "insertions": 70, "deletions": 217, "lines": 287}, {"filePath": "src/test/java/org/apache/ibatis/binding/FlushTest.java", "insertions": 2, "deletions": 7, "lines": 9}, {"filePath": "src/test/java/org/apache/ibatis/binding/MapperMethodParamTest.java", "insertions": 3, "deletions": 9, "lines": 12}, {"filePath": "src/test/java/org/apache/ibatis/builder/XmlConfigBuilderTest.java", "insertions": 109, "deletions": 109, "lines": 218}, {"filePath": "src/test/java/org/apache/ibatis/builder/XmlMapperBuilderTest.java", "insertions": 20, "deletions": 19, "lines": 39}, {"filePath": "src/test/java/org/apache/ibatis/databases/blog/StoredProcedures.java", "insertions": 22, "deletions": 25, "lines": 47}, {"filePath": "src/test/java/org/apache/ibatis/datasource/unpooled/UnpooledDataSourceTest.java", "insertions": 5, "deletions": 5, "lines": 10}, {"filePath": "src/test/java/org/apache/ibatis/executor/loader/SerializableProxyTest.java", "insertions": 11, "deletions": 12, "lines": 23}, {"filePath": "src/test/java/org/apache/ibatis/io/ExternalResourcesTest.java", "insertions": 2, "deletions": 4, "lines": 6}, {"filePath": "src/test/java/org/apache/ibatis/io/ResourcesTest.java", "insertions": 13, "deletions": 13, "lines": 26}, {"filePath": "src/test/java/org/apache/ibatis/jdbc/PooledDataSourceTest.java", "insertions": 6, "deletions": 7, "lines": 13}, {"filePath": "src/test/java/org/apache/ibatis/jdbc/ScriptRunnerTest.java", "insertions": 88, "deletions": 107, "lines": 195}, {"filePath": "src/test/java/org/apache/ibatis/jdbc/SqlRunnerTest.java", "insertions": 42, "deletions": 42, "lines": 84}, {"filePath": "src/test/java/org/apache/ibatis/logging/LogFactoryTest.java", "insertions": 5, "deletions": 5, "lines": 10}, {"filePath": "src/test/java/org/apache/ibatis/parsing/XPathParserTest.java", "insertions": 16, "deletions": 16, "lines": 32}, {"filePath": "src/test/java/org/apache/ibatis/reflection/TypeParameterResolverTest.java", "insertions": 24, "deletions": 2, "lines": 26}, {"filePath": "src/test/java/org/apache/ibatis/session/AutoMappingUnknownColumnBehaviorTest.java", "insertions": 4, "deletions": 21, "lines": 25}, {"filePath": "src/test/java/org/apache/ibatis/session/SqlSessionTest.java", "insertions": 112, "deletions": 286, "lines": 398}, {"filePath": "src/test/java/org/apache/ibatis/submitted/ancestor_ref/AncestorRefTest.java", "insertions": 10, "deletions": 27, "lines": 37}, {"filePath": "src/test/java/org/apache/ibatis/submitted/array_result_type/ArrayResultTypeTest.java", "insertions": 11, "deletions": 31, "lines": 42}, {"filePath": "src/test/java/org/apache/ibatis/submitted/association_nested/FolderMapperTest.java", "insertions": 18, "deletions": 24, "lines": 42}, {"filePath": "src/test/java/org/apache/ibatis/submitted/associationtest/AssociationTest.java", "insertions": 10, "deletions": 27, "lines": 37}, {"filePath": "src/test/java/org/apache/ibatis/submitted/associationtype/AssociationTypeTest.java", "insertions": 8, "deletions": 19, "lines": 27}, {"filePath": "src/test/java/org/apache/ibatis/submitted/autodiscover/AutodiscoverTest.java", "insertions": 4, "deletions": 4, "lines": 8}, {"filePath": "src/test/java/org/apache/ibatis/submitted/automapping/AutomappingTest.java", "insertions": 17, "deletions": 55, "lines": 72}, {"filePath": "src/test/java/org/apache/ibatis/submitted/awful_table/AwfulTableTest.java", "insertions": 8, "deletions": 24, "lines": 32}, {"filePath": "src/test/java/org/apache/ibatis/submitted/basetest/BaseTest.java", "insertions": 9, "deletions": 23, "lines": 32}, {"filePath": "src/test/java/org/apache/ibatis/submitted/batch_keys/BatchKeysTest.java", "insertions": 37, "deletions": 86, "lines": 123}, {"filePath": "src/test/java/org/apache/ibatis/submitted/batch_test/BatchTest.java", "insertions": 18, "deletions": 28, "lines": 46}, {"filePath": "src/test/java/org/apache/ibatis/submitted/blobtest/BlobTest.java", "insertions": 8, "deletions": 34, "lines": 42}, {"filePath": "src/test/java/org/apache/ibatis/submitted/blocking_cache/BlockingCacheTest.java", "insertions": 9, "deletions": 20, "lines": 29}, {"filePath": "src/test/java/org/apache/ibatis/submitted/bringrags/SimpleObjectTest.java", "insertions": 15, "deletions": 16, "lines": 31}, {"filePath": "src/test/java/org/apache/ibatis/submitted/cache/CacheTest.java", "insertions": 58, "deletions": 134, "lines": 192}, {"filePath": "src/test/java/org/apache/ibatis/submitted/cacheorder/CacheOrderTest.java", "insertions": 7, "deletions": 16, "lines": 23}, {"filePath": "src/test/java/org/apache/ibatis/submitted/call_setters_on_nulls/CallSettersOnNullsTest.java", "insertions": 13, "deletions": 37, "lines": 50}, {"filePath": "src/test/java/org/apache/ibatis/submitted/call_setters_on_nulls/DoNotCallSettersOnNullsTest.java", "insertions": 10, "deletions": 27, "lines": 37}, {"filePath": "src/test/java/org/apache/ibatis/submitted/call_setters_on_nulls_again/MyBatisTest.java", "insertions": 5, "deletions": 8, "lines": 13}, {"filePath": "src/test/java/org/apache/ibatis/submitted/camelcase/CamelCaseMappingTest.java", "insertions": 8, "deletions": 32, "lines": 40}, {"filePath": "src/test/java/org/apache/ibatis/submitted/cglib_lazy_error/CglibNPELazyTest.java", "insertions": 49, "deletions": 69, "lines": 118}, {"filePath": "src/test/java/org/apache/ibatis/submitted/cglib_lazy_error/CglibNPETest.java", "insertions": 48, "deletions": 73, "lines": 121}, {"filePath": "src/test/java/org/apache/ibatis/submitted/collectionparameters/CollectionParametersTest.java", "insertions": 10, "deletions": 27, "lines": 37}, {"filePath": "src/test/java/org/apache/ibatis/submitted/column_forwarding/ColumnForwardingTest.java", "insertions": 9, "deletions": 23, "lines": 32}, {"filePath": "src/test/java/org/apache/ibatis/submitted/column_prefix/ColumnPrefixAutoMappingTest.java", "insertions": 3, "deletions": 6, "lines": 9}, {"filePath": "src/test/java/org/apache/ibatis/submitted/column_prefix/ColumnPrefixTest.java", "insertions": 10, "deletions": 34, "lines": 44}, {"filePath": "src/test/java/org/apache/ibatis/submitted/complex_column/ComplexColumnTest.java", "insertions": 75, "deletions": 98, "lines": 173}, {"filePath": "src/test/java/org/apache/ibatis/submitted/complex_property/ComponentTest.java", "insertions": 10, "deletions": 28, "lines": 38}, {"filePath": "src/test/java/org/apache/ibatis/submitted/complex_type/ComplexTypeTest.java", "insertions": 8, "deletions": 19, "lines": 27}, {"filePath": "src/test/java/org/apache/ibatis/submitted/count/CountTest.java", "insertions": 7, "deletions": 30, "lines": 37}, {"filePath": "src/test/java/org/apache/ibatis/submitted/criterion/CriterionTest.java", "insertions": 7, "deletions": 30, "lines": 37}, {"filePath": "src/test/java/org/apache/ibatis/submitted/cursor_nested/CursorNestedTest.java", "insertions": 12, "deletions": 26, "lines": 38}, {"filePath": "src/test/java/org/apache/ibatis/submitted/cursor_simple/CursorSimpleTest.java", "insertions": 94, "deletions": 128, "lines": 222}, {"filePath": "src/test/java/org/apache/ibatis/submitted/custom_collection_handling/CustomCollectionHandlingTest.java", "insertions": 13, "deletions": 34, "lines": 47}, {"filePath": "src/test/java/org/apache/ibatis/submitted/deferload_common_property/CommonPropertyDeferLoadError.java", "insertions": 12, "deletions": 43, "lines": 55}, {"filePath": "src/test/java/org/apache/ibatis/submitted/dml_return_types/DmlMapperReturnTypesTest.java", "insertions": 5, "deletions": 22, "lines": 27}, {"filePath": "src/test/java/org/apache/ibatis/submitted/duplicate_resource_loaded/DuplicateResourceTest.java", "insertions": 2, "deletions": 5, "lines": 7}, {"filePath": "src/test/java/org/apache/ibatis/submitted/duplicate_statements/DuplicateStatementsTest.java", "insertions": 12, "deletions": 32, "lines": 44}, {"filePath": "src/test/java/org/apache/ibatis/submitted/dynsql/DynSqlTest.java", "insertions": 12, "deletions": 48, "lines": 60}, {"filePath": "src/test/java/org/apache/ibatis/submitted/dynsql2/DynSqlTest.java", "insertions": 8, "deletions": 34, "lines": 42}, {"filePath": "src/test/java/org/apache/ibatis/submitted/empty_namespace/EmptyNamespaceTest.java", "insertions": 2, "deletions": 5, "lines": 7}, {"filePath": "src/test/java/org/apache/ibatis/submitted/empty_row/ReturnInstanceForEmptyRowTest.java", "insertions": 17, "deletions": 53, "lines": 70}, {"filePath": "src/test/java/org/apache/ibatis/submitted/emptycollection/DaoTest.java", "insertions": 5, "deletions": 6, "lines": 11}, {"filePath": "src/test/java/org/apache/ibatis/submitted/encoding/EncodingTest.java", "insertions": 9, "deletions": 36, "lines": 45}, {"filePath": "src/test/java/org/apache/ibatis/submitted/enum_interface_type_handler/EnumInterfaceTypeHandlerTest.java", "insertions": 10, "deletions": 25, "lines": 35}, {"filePath": "src/test/java/org/apache/ibatis/submitted/enumtypehandler_on_annotation/EnumTypeHandlerUsingAnnotationTest.java", "insertions": 6, "deletions": 25, "lines": 31}, {"filePath": "src/test/java/org/apache/ibatis/submitted/enumtypehandler_on_map/EnumTypeHandlerTest.java", "insertions": 28, "deletions": 47, "lines": 75}, {"filePath": "src/test/java/org/apache/ibatis/submitted/extend/ExtendTest.java", "insertions": 7, "deletions": 29, "lines": 36}, {"filePath": "src/test/java/org/apache/ibatis/submitted/extendresultmap/ExtendResultMapTest.java", "insertions": 8, "deletions": 19, "lines": 27}, {"filePath": "src/test/java/org/apache/ibatis/submitted/extends_with_constructor/NpeExtendsTest.java", "insertions": 11, "deletions": 34, "lines": 45}, {"filePath": "src/test/java/org/apache/ibatis/submitted/flush_statement_npe/FlushStatementNpeTest.java", "insertions": 9, "deletions": 38, "lines": 47}, {"filePath": "src/test/java/org/apache/ibatis/submitted/force_flush_on_select/ForceFlushOnSelectTest.java", "insertions": 15, "deletions": 50, "lines": 65}, {"filePath": "src/test/java/org/apache/ibatis/submitted/foreach/ForEachTest.java", "insertions": 14, "deletions": 43, "lines": 57}, {"filePath": "src/test/java/org/apache/ibatis/submitted/foreach_map/ForEachMapTest.java", "insertions": 7, "deletions": 15, "lines": 22}, {"filePath": "src/test/java/org/apache/ibatis/submitted/generictyperesolution/GenericTypeResolutionTest.java", "insertions": 9, "deletions": 23, "lines": 32}, {"filePath": "src/test/java/org/apache/ibatis/submitted/generictypes/GenericTypesTest.java", "insertions": 8, "deletions": 31, "lines": 39}, {"filePath": "src/test/java/org/apache/ibatis/submitted/global_variables/BaseTest.java", "insertions": 9, "deletions": 23, "lines": 32}, {"filePath": "src/test/java/org/apache/ibatis/submitted/global_variables_defaults/AnnotationMapperTest.java", "insertions": 3, "deletions": 11, "lines": 14}, {"filePath": "src/test/java/org/apache/ibatis/submitted/global_variables_defaults/CustomizationTest.java", "insertions": 3, "deletions": 9, "lines": 12}, {"filePath": "src/test/java/org/apache/ibatis/submitted/global_variables_defaults/XmlMapperTest.java", "insertions": 3, "deletions": 11, "lines": 14}, {"filePath": "src/test/java/org/apache/ibatis/submitted/hashmaptypehandler/HashMapTypeHandlerTest.java", "insertions": 11, "deletions": 31, "lines": 42}, {"filePath": "src/test/java/org/apache/ibatis/submitted/heavy_initial_load/HeavyInitialLoadTest.java", "insertions": 6, "deletions": 18, "lines": 24}, {"filePath": "src/test/java/org/apache/ibatis/submitted/immutable_constructor/ImmutablePOJOTest.java", "insertions": 8, "deletions": 34, "lines": 42}, {"filePath": "src/test/java/org/apache/ibatis/submitted/include_property/IncludePropertyTest.java", "insertions": 25, "deletions": 60, "lines": 85}, {"filePath": "src/test/java/org/apache/ibatis/submitted/includes/IncludeTest.java", "insertions": 11, "deletions": 25, "lines": 36}, {"filePath": "src/test/java/org/apache/ibatis/submitted/inheritance/InheritanceTest.java", "insertions": 8, "deletions": 19, "lines": 27}, {"filePath": "src/test/java/org/apache/ibatis/submitted/initialized_collection_property/AuthorDAOTest.java", "insertions": 15, "deletions": 29, "lines": 44}, {"filePath": "src/test/java/org/apache/ibatis/submitted/inline_association_with_dot/InlineCollectionWithDotTest.java", "insertions": 8, "deletions": 25, "lines": 33}, {"filePath": "src/test/java/org/apache/ibatis/submitted/javassist/JavassistTest.java", "insertions": 8, "deletions": 19, "lines": 27}, {"filePath": "src/test/java/org/apache/ibatis/submitted/keygen/Jdbc3KeyGeneratorTest.java", "insertions": 29, "deletions": 37, "lines": 66}, {"filePath": "src/test/java/org/apache/ibatis/submitted/language/LanguageTest.java", "insertions": 18, "deletions": 72, "lines": 90}, {"filePath": "src/test/java/org/apache/ibatis/submitted/lazy_deserialize/LazyDeserializeTest.java", "insertions": 18, "deletions": 48, "lines": 66}, {"filePath": "src/test/java/org/apache/ibatis/submitted/lazy_immutable/ImmutablePOJOTest.java", "insertions": 7, "deletions": 26, "lines": 33}, {"filePath": "src/test/java/org/apache/ibatis/submitted/lazy_properties/LazyPropertiesTest.java", "insertions": 17, "deletions": 53, "lines": 70}, {"filePath": "src/test/java/org/apache/ibatis/submitted/lazyload_common_property/CommonPropertyLazyLoadError.java", "insertions": 10, "deletions": 42, "lines": 52}, {"filePath": "src/test/java/org/apache/ibatis/submitted/lazyload_proxyfactory_comparison/AbstractLazyTest.java", "insertions": 7, "deletions": 15, "lines": 22}, {"filePath": "src/test/java/org/apache/ibatis/submitted/manyanno/ManyAnnoTest.java", "insertions": 9, "deletions": 11, "lines": 20}, {"filePath": "src/test/java/org/apache/ibatis/submitted/mapper_extend/MapperExtendTest.java", "insertions": 13, "deletions": 39, "lines": 52}, {"filePath": "src/test/java/org/apache/ibatis/submitted/mapper_type_parameter/MapperTypeParameterTest.java", "insertions": 13, "deletions": 39, "lines": 52}, {"filePath": "src/test/java/org/apache/ibatis/submitted/maptypehandler/MapTypeHandlerTest.java", "insertions": 9, "deletions": 23, "lines": 32}, {"filePath": "src/test/java/org/apache/ibatis/submitted/member_access/MemberAccessTest.java", "insertions": 390, "deletions": 0, "lines": 390}, {"filePath": "src/test/java/org/apache/ibatis/submitted/member_access/mybatis-config.xml", "insertions": 36, "deletions": 0, "lines": 36}, {"filePath": "src/test/java/org/apache/ibatis/submitted/missing_id_property/MissingIdPropertyTest.java", "insertions": 9, "deletions": 20, "lines": 29}, {"filePath": "src/test/java/org/apache/ibatis/submitted/multidb/MultiDbTest.java", "insertions": 12, "deletions": 49, "lines": 61}, {"filePath": "src/test/java/org/apache/ibatis/submitted/multiple_discriminator/MultipleDiscriminatorTest.java", "insertions": 22, "deletions": 43, "lines": 65}, {"filePath": "src/test/java/org/apache/ibatis/submitted/multipleiterates/MultipleIteratesTest.java", "insertions": 8, "deletions": 19, "lines": 27}, {"filePath": "src/test/java/org/apache/ibatis/submitted/multipleresultsetswithassociation/MultipleResultSetTest.java", "insertions": 21, "deletions": 30, "lines": 51}, {"filePath": "src/test/java/org/apache/ibatis/submitted/named_constructor_args/InvalidNamedConstructorArgsTest.java", "insertions": 8, "deletions": 18, "lines": 26}, {"filePath": "src/test/java/org/apache/ibatis/submitted/named_constructor_args/NamedConstructorArgsTest.java", "insertions": 9, "deletions": 23, "lines": 32}, {"filePath": "src/test/java/org/apache/ibatis/submitted/named_constructor_args/usesjava8/NamedConstructorArgsUseActualNameTest.java", "insertions": 9, "deletions": 24, "lines": 33}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nested/NestedForEachTest.java", "insertions": 11, "deletions": 46, "lines": 57}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nested_query_cache/NestedQueryCacheTest.java", "insertions": 9, "deletions": 22, "lines": 31}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler/NestedResultHandlerTest.java", "insertions": 12, "deletions": 35, "lines": 47}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler_association/NestedResultHandlerAssociationTest.java", "insertions": 9, "deletions": 23, "lines": 32}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler_multiple_association/NestedResultHandlerMultipleAssociationTest.java", "insertions": 33, "deletions": 42, "lines": 75}, {"filePath": "src/test/java/org/apache/ibatis/submitted/no_param_type/NoParamTypeTest.java", "insertions": 8, "deletions": 19, "lines": 27}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nonexistentvariables/NonExistentVariablesTest.java", "insertions": 7, "deletions": 30, "lines": 37}, {"filePath": "src/test/java/org/apache/ibatis/submitted/not_null_column/NotNullColumnTest.java", "insertions": 14, "deletions": 58, "lines": 72}, {"filePath": "src/test/java/org/apache/ibatis/submitted/null_associations/FooMapperTest.java", "insertions": 9, "deletions": 17, "lines": 26}, {"filePath": "src/test/java/org/apache/ibatis/submitted/ognl_enum/EnumWithOgnlTest.java", "insertions": 41, "deletions": 61, "lines": 102}, {"filePath": "src/test/java/org/apache/ibatis/submitted/ognlstatic/OgnlStaticTest.java", "insertions": 9, "deletions": 23, "lines": 32}, {"filePath": "src/test/java/org/apache/ibatis/submitted/order_prefix_removed/OrderPrefixRemoved.java", "insertions": 7, "deletions": 29, "lines": 36}, {"filePath": "src/test/java/org/apache/ibatis/submitted/overwritingproperties/FooMapperTest.java", "insertions": 9, "deletions": 17, "lines": 26}, {"filePath": "src/test/java/org/apache/ibatis/submitted/parametrizedlist/ParametrizedListTest.java", "insertions": 14, "deletions": 46, "lines": 60}, {"filePath": "src/test/java/org/apache/ibatis/submitted/parent_childs/ParentChildTest.java", "insertions": 8, "deletions": 19, "lines": 27}, {"filePath": "src/test/java/org/apache/ibatis/submitted/parent_reference_3level/BlogTest.java", "insertions": 10, "deletions": 40, "lines": 50}, {"filePath": "src/test/java/org/apache/ibatis/submitted/permissions/PermissionsTest.java", "insertions": 9, "deletions": 25, "lines": 34}, {"filePath": "src/test/java/org/apache/ibatis/submitted/primitive_array/PrimitiveArrayTest.java", "insertions": 8, "deletions": 19, "lines": 27}, {"filePath": "src/test/java/org/apache/ibatis/submitted/primitive_result_type/IbatisConfig.java", "insertions": 7, "deletions": 1, "lines": 8}, {"filePath": "src/test/java/org/apache/ibatis/submitted/primitive_result_type/PrimitiveResultTypeTest.java", "insertions": 4, "deletions": 15, "lines": 19}, {"filePath": "src/test/java/org/apache/ibatis/submitted/primitive_result_type/ProductDAO.java", "insertions": 5, "deletions": 17, "lines": 22}, {"filePath": "src/test/java/org/apache/ibatis/submitted/primitives/PrimitivesTest.java", "insertions": 8, "deletions": 19, "lines": 27}, {"filePath": "src/test/java/org/apache/ibatis/submitted/propertiesinmapperfiles/PropertiesInMappersTest.java", "insertions": 8, "deletions": 19, "lines": 27}, {"filePath": "src/test/java/org/apache/ibatis/submitted/quotedcolumnnames/QuotedColumnNamesTest.java", "insertions": 8, "deletions": 32, "lines": 40}, {"filePath": "src/test/java/org/apache/ibatis/submitted/raw_sql_source/RawSqlSourceTest.java", "insertions": 8, "deletions": 19, "lines": 27}, {"filePath": "src/test/java/org/apache/ibatis/submitted/refid_resolution/ExternalRefidResolutionTest.java", "insertions": 6, "deletions": 6, "lines": 12}, {"filePath": "src/test/java/org/apache/ibatis/submitted/result_handler/ResulthandlerTest.java", "insertions": 10, "deletions": 24, "lines": 34}, {"filePath": "src/test/java/org/apache/ibatis/submitted/result_handler_type/DefaultResultHandlerTypeTest.java", "insertions": 10, "deletions": 41, "lines": 51}, {"filePath": "src/test/java/org/apache/ibatis/submitted/resultmapwithassociationstest/ResultMapWithAssociationsTest.java", "insertions": 8, "deletions": 19, "lines": 27}, {"filePath": "src/test/java/org/apache/ibatis/submitted/results_id/ResultsIdTest.java", "insertions": 11, "deletions": 31, "lines": 42}, {"filePath": "src/test/java/org/apache/ibatis/submitted/rounding/RoundingHandlersTest.java", "insertions": 9, "deletions": 23, "lines": 32}, {"filePath": "src/test/java/org/apache/ibatis/submitted/selectkey/SelectKeyTest.java", "insertions": 26, "deletions": 125, "lines": 151}, {"filePath": "src/test/java/org/apache/ibatis/submitted/serializecircular/SerializeCircularTest.java", "insertions": 15, "deletions": 48, "lines": 63}, {"filePath": "src/test/java/org/apache/ibatis/submitted/serializecircular/UtilityTester.java", "insertions": 9, "deletions": 12, "lines": 21}, {"filePath": "src/test/java/org/apache/ibatis/submitted/simplelistparameter/SimpleListParameterTest.java", "insertions": 13, "deletions": 30, "lines": 43}, {"filePath": "src/test/java/org/apache/ibatis/submitted/sptests/SPTest.java", "insertions": 47, "deletions": 166, "lines": 213}, {"filePath": "src/test/java/org/apache/ibatis/submitted/sqlprovider/SqlProviderTest.java", "insertions": 31, "deletions": 109, "lines": 140}, {"filePath": "src/test/java/org/apache/ibatis/submitted/stringlist/StringListTest.java", "insertions": 8, "deletions": 19, "lines": 27}, {"filePath": "src/test/java/org/apache/ibatis/submitted/substitution_in_annots/SubstitutionInAnnotsTest.java", "insertions": 9, "deletions": 36, "lines": 45}, {"filePath": "src/test/java/org/apache/ibatis/submitted/typehandler/TypeHandlerTest.java", "insertions": 23, "deletions": 55, "lines": 78}, {"filePath": "src/test/java/org/apache/ibatis/submitted/typehandlerinjection/TypeHandlerInjectionTest.java", "insertions": 8, "deletions": 19, "lines": 27}, {"filePath": "src/test/java/org/apache/ibatis/submitted/unknownobject/UnknownObjectTest.java", "insertions": 7, "deletions": 16, "lines": 23}, {"filePath": "src/test/java/org/apache/ibatis/submitted/usesjava8/default_method/DefaultMethodTest.java", "insertions": 11, "deletions": 29, "lines": 40}, {"filePath": "src/test/java/org/apache/ibatis/submitted/usesjava8/keycolumn/InsertTest.java", "insertions": 4, "deletions": 12, "lines": 16}, {"filePath": "src/test/java/org/apache/ibatis/submitted/usesjava8/multiple_resultsets/MultipleResultTest.java", "insertions": 4, "deletions": 12, "lines": 16}, {"filePath": "src/test/java/org/apache/ibatis/submitted/usesjava8/optional_on_mapper_method/OptionalOnMapperMethodTest.java", "insertions": 16, "deletions": 40, "lines": 56}, {"filePath": "src/test/java/org/apache/ibatis/submitted/usesjava8/postgres_genkeys/PostgresGeneratedKeysTest.java", "insertions": 10, "deletions": 28, "lines": 38}, {"filePath": "src/test/java/org/apache/ibatis/submitted/usesjava8/refcursor/RefCursorTest.java", "insertions": 4, "deletions": 12, "lines": 16}, {"filePath": "src/test/java/org/apache/ibatis/submitted/usesjava8/use_actual_param_name/UseActualParamNameTest.java", "insertions": 12, "deletions": 33, "lines": 45}, {"filePath": "src/test/java/org/apache/ibatis/submitted/uuid_test/UUIDTest.java", "insertions": 9, "deletions": 23, "lines": 32}, {"filePath": "src/test/java/org/apache/ibatis/submitted/valueinmap/ValueInMapTest.java", "insertions": 9, "deletions": 23, "lines": 32}, {"filePath": "src/test/java/org/apache/ibatis/submitted/xml_external_ref/MultipleCrossIncludeTest.java", "insertions": 28, "deletions": 50, "lines": 78}, {"filePath": "src/test/java/org/apache/ibatis/submitted/xml_external_ref/MultipleIncludeTest.java", "insertions": 17, "deletions": 37, "lines": 54}, {"filePath": "src/test/java/org/apache/ibatis/submitted/xml_external_ref/MultipleReverseIncludeTest.java", "insertions": 18, "deletions": 39, "lines": 57}, {"filePath": "src/test/java/org/apache/ibatis/submitted/xml_external_ref/NonFullyQualifiedNamespaceTest.java", "insertions": 26, "deletions": 45, "lines": 71}, {"filePath": "src/test/java/org/apache/ibatis/submitted/xml_external_ref/ParameterMapReferenceTest.java", "insertions": 19, "deletions": 39, "lines": 58}, {"filePath": "src/test/java/org/apache/ibatis/submitted/xml_external_ref/ResultMapExtendsTest.java", "insertions": 18, "deletions": 39, "lines": 57}, {"filePath": "src/test/java/org/apache/ibatis/submitted/xml_external_ref/ResultMapReferenceTest.java", "insertions": 18, "deletions": 39, "lines": 57}, {"filePath": "src/test/java/org/apache/ibatis/submitted/xml_external_ref/ReverseIncludeTest.java", "insertions": 18, "deletions": 39, "lines": 57}, {"filePath": "src/test/java/org/apache/ibatis/submitted/xml_external_ref/SameIdTest.java", "insertions": 18, "deletions": 38, "lines": 56}, {"filePath": "src/test/java/org/apache/ibatis/submitted/xml_external_ref/ShortNameTest.java", "insertions": 6, "deletions": 6, "lines": 12}, {"filePath": "src/test/java/org/apache/ibatis/submitted/xml_external_ref/XmlExternalRefTest.java", "insertions": 28, "deletions": 49, "lines": 77}, {"filePath": "src/test/java/org/apache/ibatis/submitted/xml_references/EnumWithOgnlTest.java", "insertions": 5, "deletions": 5, "lines": 10}, {"filePath": "src/test/java/org/apache/ibatis/type/ArrayTypeHandlerTest.java", "insertions": 1, "deletions": 7, "lines": 8}, {"filePath": "src/test/java/org/apache/ibatis/type/BigDecimalTypeHandlerTest.java", "insertions": 7, "deletions": 4, "lines": 11}, {"filePath": "src/test/java/org/apache/ibatis/type/BigIntegerTypeHandlerTest.java", "insertions": 8, "deletions": 7, "lines": 15}, {"filePath": "src/test/java/org/apache/ibatis/type/BlobByteObjectArrayTypeHandlerTest.java", "insertions": 1, "deletions": 7, "lines": 8}, {"filePath": "src/test/java/org/apache/ibatis/type/BlobInputStreamTypeHandlerTest.java", "insertions": 5, "deletions": 13, "lines": 18}, {"filePath": "src/test/java/org/apache/ibatis/type/BlobTypeHandlerTest.java", "insertions": 1, "deletions": 7, "lines": 8}, {"filePath": "src/test/java/org/apache/ibatis/type/BooleanTypeHandlerTest.java", "insertions": 22, "deletions": 7, "lines": 29}, {"filePath": "src/test/java/org/apache/ibatis/type/ByteArrayTypeHandlerTest.java", "insertions": 5, "deletions": 4, "lines": 9}, {"filePath": "src/test/java/org/apache/ibatis/type/ByteObjectArrayTypeHandlerTest.java", "insertions": 8, "deletions": 7, "lines": 15}, {"filePath": "src/test/java/org/apache/ibatis/type/ByteTypeHandlerTest.java", "insertions": 24, "deletions": 8, "lines": 32}, {"filePath": "src/test/java/org/apache/ibatis/type/CharacterTypeHandlerTest.java", "insertions": 8, "deletions": 7, "lines": 15}, {"filePath": "src/test/java/org/apache/ibatis/type/ClobReaderTypeHandlerTest.java", "insertions": 5, "deletions": 13, "lines": 18}, {"filePath": "src/test/java/org/apache/ibatis/type/ClobTypeHandlerTest.java", "insertions": 1, "deletions": 7, "lines": 8}, {"filePath": "src/test/java/org/apache/ibatis/type/DateOnlyTypeHandlerTest.java", "insertions": 8, "deletions": 7, "lines": 15}, {"filePath": "src/test/java/org/apache/ibatis/type/DateTypeHandlerTest.java", "insertions": 8, "deletions": 7, "lines": 15}, {"filePath": "src/test/java/org/apache/ibatis/type/DoubleTypeHandlerTest.java", "insertions": 23, "deletions": 7, "lines": 30}, {"filePath": "src/test/java/org/apache/ibatis/type/EnumTypeHandlerTest.java", "insertions": 8, "deletions": 7, "lines": 15}, {"filePath": "src/test/java/org/apache/ibatis/type/FloatTypeHandlerTest.java", "insertions": 23, "deletions": 7, "lines": 30}, {"filePath": "src/test/java/org/apache/ibatis/type/IntegerTypeHandlerTest.java", "insertions": 23, "deletions": 7, "lines": 30}, {"filePath": "src/test/java/org/apache/ibatis/type/LongTypeHandlerTest.java", "insertions": 23, "deletions": 7, "lines": 30}, {"filePath": "src/test/java/org/apache/ibatis/type/NClobTypeHandlerTest.java", "insertions": 1, "deletions": 7, "lines": 8}, {"filePath": "src/test/java/org/apache/ibatis/type/NStringTypeHandlerTest.java", "insertions": 5, "deletions": 4, "lines": 9}, {"filePath": "src/test/java/org/apache/ibatis/type/ObjectTypeHandlerTest.java", "insertions": 14, "deletions": 7, "lines": 21}, {"filePath": "src/test/java/org/apache/ibatis/type/ShortTypeHandlerTest.java", "insertions": 23, "deletions": 7, "lines": 30}, {"filePath": "src/test/java/org/apache/ibatis/type/SqlDateTypeHandlerTest.java", "insertions": 5, "deletions": 4, "lines": 9}, {"filePath": "src/test/java/org/apache/ibatis/type/SqlTimeTypeHandlerTest.java", "insertions": 5, "deletions": 4, "lines": 9}, {"filePath": "src/test/java/org/apache/ibatis/type/SqlTimetampTypeHandlerTest.java", "insertions": 5, "deletions": 4, "lines": 9}, {"filePath": "src/test/java/org/apache/ibatis/type/SqlxmlTypeHandlerTest.java", "insertions": 216, "deletions": 0, "lines": 216}, {"filePath": "src/test/java/org/apache/ibatis/type/SqlxmlTypeHandlerTest.sql", "insertions": 28, "deletions": 0, "lines": 28}, {"filePath": "src/test/java/org/apache/ibatis/type/StringTypeHandlerTest.java", "insertions": 5, "deletions": 4, "lines": 9}, {"filePath": "src/test/java/org/apache/ibatis/type/TimeOnlyTypeHandlerTest.java", "insertions": 8, "deletions": 7, "lines": 15}, {"filePath": "src/test/java/org/apache/ibatis/type/UnknownTypeHandlerTest.java", "insertions": 7, "deletions": 9, "lines": 16}, {"filePath": "src/test/java/org/apache/ibatis/type/usesjava8/InstantTypeHandlerTest.java", "insertions": 7, "deletions": 4, "lines": 11}, {"filePath": "src/test/java/org/apache/ibatis/type/usesjava8/JapaneseDateTypeHandlerTest.java", "insertions": 7, "deletions": 4, "lines": 11}, {"filePath": "src/test/java/org/apache/ibatis/type/usesjava8/LocalDateTimeTypeHandlerTest.java", "insertions": 7, "deletions": 4, "lines": 11}, {"filePath": "src/test/java/org/apache/ibatis/type/usesjava8/LocalDateTypeHandlerTest.java", "insertions": 7, "deletions": 4, "lines": 11}, {"filePath": "src/test/java/org/apache/ibatis/type/usesjava8/LocalTimeTypeHandlerTest.java", "insertions": 7, "deletions": 4, "lines": 11}, {"filePath": "src/test/java/org/apache/ibatis/type/usesjava8/MonthTypeHandlerTest.java", "insertions": 26, "deletions": 1, "lines": 27}, {"filePath": "src/test/java/org/apache/ibatis/type/usesjava8/OffsetDateTimeTypeHandlerTest.java", "insertions": 7, "deletions": 4, "lines": 11}, {"filePath": "src/test/java/org/apache/ibatis/type/usesjava8/OffsetTimeTypeHandlerTest.java", "insertions": 7, "deletions": 4, "lines": 11}, {"filePath": "src/test/java/org/apache/ibatis/type/usesjava8/YearMonthTypeHandlerTest.java", "insertions": 7, "deletions": 4, "lines": 11}, {"filePath": "src/test/java/org/apache/ibatis/type/usesjava8/YearTypeHandlerTest.java", "insertions": 10, "deletions": 1, "lines": 11}, {"filePath": "src/test/java/org/apache/ibatis/type/usesjava8/ZonedDateTimeTypeHandlerTest.java", "insertions": 7, "deletions": 4, "lines": 11}], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": "tooManyFiles"}, {"commitHash": "e5d9bda13e601c8cbd6714af3ba2eab9647fc4af", "commitGHEventType": "referenced", "commitUser": "harawata", "commitParents": ["528d923578b289c7f81f2396ba79dd7a3d58d3ea", "ce517b22d1211d2791ac42b6a7b595d67048a574"], "nameRev": "e5d9bda13e601c8cbd6714af3ba2eab9647fc4af tags/mybatis-3.5.2~23^2~3", "commitMessage": "Merge pull request #2 from rikiel/patch-2\n\nFix @Arg parameters", "commitDateTime": "2019-06-17 14:00:34", "authoredDateTime": "2019-06-17 14:00:34", "commitGitStats": [{"filePath": "src/site/xdoc/java-api.xml", "insertions": 2, "deletions": 2, "lines": 4}], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "eec71727a225812fe34bd8ab09df11f1c2a87b97", "commitGHEventType": "referenced", "commitUser": "kazuki43zoo", "commitParents": ["59c61ec07b406d747215b61e61865b9db5c18693", "def450f6921f93097ed576c56b11bd23fb02eefe"], "nameRev": "eec71727a225812fe34bd8ab09df11f1c2a87b97 tags/mybatis-3.5.3~13^2~2", "commitMessage": "Merge pull request #2 from mybatis/master\n\nfeat: merge from master", "commitDateTime": "2019-07-05 09:35:35", "authoredDateTime": "2019-07-05 09:35:35", "commitGitStats": [{"filePath": ".editorconfig", "insertions": 16, "deletions": 0, "lines": 16}, {"filePath": ".mvn/wrapper/MavenWrapperDownloader.java", "insertions": 29, "deletions": 22, "lines": 51}, {"filePath": ".mvn/wrapper/maven-wrapper.properties", "insertions": 2, "deletions": 3, "lines": 5}, {"filePath": ".travis.yml", "insertions": 2, "deletions": 1, "lines": 3}, {"filePath": "mvnw", "insertions": 28, "deletions": 4, "lines": 32}, {"filePath": "mvnw.cmd", "insertions": 30, "deletions": 9, "lines": 39}, {"filePath": "pom.xml", "insertions": 3, "deletions": 0, "lines": 3}, {"filePath": "src/main/java/org/apache/ibatis/annotations/CacheNamespace.java", "insertions": 3, "deletions": 2, "lines": 5}, {"filePath": "src/main/java/org/apache/ibatis/annotations/DeleteProvider.java", "insertions": 13, "deletions": 1, "lines": 14}, {"filePath": "src/main/java/org/apache/ibatis/annotations/InsertProvider.java", "insertions": 14, "deletions": 1, "lines": 15}, {"filePath": "src/main/java/org/apache/ibatis/annotations/SelectProvider.java", "insertions": 14, "deletions": 1, "lines": 15}, {"filePath": "src/main/java/org/apache/ibatis/annotations/UpdateProvider.java", "insertions": 14, "deletions": 1, "lines": 15}, {"filePath": "src/main/java/org/apache/ibatis/binding/MapperProxy.java", "insertions": 2, "deletions": 12, "lines": 14}, {"filePath": "src/main/java/org/apache/ibatis/builder/MapperBuilderAssistant.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/main/java/org/apache/ibatis/builder/annotation/ProviderSqlSource.java", "insertions": 20, "deletions": 1, "lines": 21}, {"filePath": "src/main/java/org/apache/ibatis/builder/xml/XMLMapperBuilder.java", "insertions": 10, "deletions": 15, "lines": 25}, {"filePath": "src/main/java/org/apache/ibatis/builder/xml/XMLStatementBuilder.java", "insertions": 11, "deletions": 16, "lines": 27}, {"filePath": "src/main/java/org/apache/ibatis/cache/Cache.java", "insertions": 3, "deletions": 1, "lines": 4}, {"filePath": "src/main/java/org/apache/ibatis/cache/decorators/BlockingCache.java", "insertions": 1, "deletions": 7, "lines": 8}, {"filePath": "src/main/java/org/apache/ibatis/cache/decorators/FifoCache.java", "insertions": 0, "deletions": 6, "lines": 6}, {"filePath": "src/main/java/org/apache/ibatis/cache/decorators/LoggingCache.java", "insertions": 1, "deletions": 8, "lines": 9}, {"filePath": "src/main/java/org/apache/ibatis/cache/decorators/LruCache.java", "insertions": 0, "deletions": 6, "lines": 6}, {"filePath": "src/main/java/org/apache/ibatis/cache/decorators/ScheduledCache.java", "insertions": 1, "deletions": 8, "lines": 9}, {"filePath": "src/main/java/org/apache/ibatis/cache/decorators/SerializedCache.java", "insertions": 0, "deletions": 6, "lines": 6}, {"filePath": "src/main/java/org/apache/ibatis/cache/decorators/SoftCache.java", "insertions": 0, "deletions": 6, "lines": 6}, {"filePath": "src/main/java/org/apache/ibatis/cache/decorators/SynchronizedCache.java", "insertions": 0, "deletions": 7, "lines": 7}, {"filePath": "src/main/java/org/apache/ibatis/cache/decorators/TransactionalCache.java", "insertions": 0, "deletions": 6, "lines": 6}, {"filePath": "src/main/java/org/apache/ibatis/cache/decorators/WeakCache.java", "insertions": 0, "deletions": 6, "lines": 6}, {"filePath": "src/main/java/org/apache/ibatis/cache/impl/PerpetualCache.java", "insertions": 1, "deletions": 7, "lines": 8}, {"filePath": "src/main/java/org/apache/ibatis/datasource/pooled/PooledDataSource.java", "insertions": 4, "deletions": 0, "lines": 4}, {"filePath": "src/main/java/org/apache/ibatis/datasource/unpooled/UnpooledDataSource.java", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "src/main/java/org/apache/ibatis/executor/loader/ProxyFactory.java", "insertions": 3, "deletions": 1, "lines": 4}, {"filePath": "src/main/java/org/apache/ibatis/executor/loader/cglib/CglibProxyFactory.java", "insertions": 1, "deletions": 7, "lines": 8}, {"filePath": "src/main/java/org/apache/ibatis/executor/loader/javassist/JavassistProxyFactory.java", "insertions": 1, "deletions": 7, "lines": 8}, {"filePath": "src/main/java/org/apache/ibatis/jdbc/AbstractSQL.java", "insertions": 168, "deletions": 8, "lines": 176}, {"filePath": "src/main/java/org/apache/ibatis/mapping/DatabaseIdProvider.java", "insertions": 3, "deletions": 1, "lines": 4}, {"filePath": "src/main/java/org/apache/ibatis/plugin/Interceptor.java", "insertions": 7, "deletions": 3, "lines": 10}, {"filePath": "src/main/java/org/apache/ibatis/reflection/factory/DefaultObjectFactory.java", "insertions": 0, "deletions": 6, "lines": 6}, {"filePath": "src/main/java/org/apache/ibatis/reflection/factory/ObjectFactory.java", "insertions": 3, "deletions": 1, "lines": 4}, {"filePath": "src/main/java/org/apache/ibatis/scripting/xmltags/DynamicContext.java", "insertions": 14, "deletions": 8, "lines": 22}, {"filePath": "src/main/java/org/apache/ibatis/session/Configuration.java", "insertions": 2, "deletions": 0, "lines": 2}, {"filePath": "src/main/java/org/apache/ibatis/transaction/TransactionFactory.java", "insertions": 3, "deletions": 1, "lines": 4}, {"filePath": "src/main/java/org/apache/ibatis/transaction/jdbc/JdbcTransactionFactory.java", "insertions": 1, "deletions": 6, "lines": 7}, {"filePath": "src/main/java/org/apache/ibatis/type/ArrayTypeHandler.java", "insertions": 66, "deletions": 2, "lines": 68}, {"filePath": "src/main/java/org/apache/ibatis/type/BaseTypeHandler.java", "insertions": 3, "deletions": 0, "lines": 3}, {"filePath": "src/main/java/org/apache/ibatis/type/TypeHandler.java", "insertions": 4, "deletions": 1, "lines": 5}, {"filePath": "src/main/java/org/apache/ibatis/type/TypeHandlerRegistry.java", "insertions": 11, "deletions": 11, "lines": 22}, {"filePath": "src/site/es/xdoc/configuration.xml", "insertions": 12, "deletions": 6, "lines": 18}, {"filePath": "src/site/es/xdoc/dynamic-sql.xml", "insertions": 15, "deletions": 0, "lines": 15}, {"filePath": "src/site/es/xdoc/java-api.xml", "insertions": 6, "deletions": 4, "lines": 10}, {"filePath": "src/site/es/xdoc/statement-builders.xml", "insertions": 126, "deletions": 0, "lines": 126}, {"filePath": "src/site/ja/xdoc/configuration.xml", "insertions": 12, "deletions": 6, "lines": 18}, {"filePath": "src/site/ja/xdoc/dynamic-sql.xml", "insertions": 15, "deletions": 0, "lines": 15}, {"filePath": "src/site/ja/xdoc/java-api.xml", "insertions": 7, "deletions": 4, "lines": 11}, {"filePath": "src/site/ja/xdoc/logging.xml", "insertions": 5, "deletions": 5, "lines": 10}, {"filePath": "src/site/ja/xdoc/statement-builders.xml", "insertions": 126, "deletions": 1, "lines": 127}, {"filePath": "src/site/ko/xdoc/configuration.xml", "insertions": 12, "deletions": 6, "lines": 18}, {"filePath": "src/site/ko/xdoc/dynamic-sql.xml", "insertions": 15, "deletions": 0, "lines": 15}, {"filePath": "src/site/ko/xdoc/java-api.xml", "insertions": 5, "deletions": 5, "lines": 10}, {"filePath": "src/site/ko/xdoc/statement-builders.xml", "insertions": 126, "deletions": 0, "lines": 126}, {"filePath": "src/site/xdoc/configuration.xml", "insertions": 12, "deletions": 6, "lines": 18}, {"filePath": "src/site/xdoc/dynamic-sql.xml", "insertions": 15, "deletions": 0, "lines": 15}, {"filePath": "src/site/xdoc/java-api.xml", "insertions": 6, "deletions": 4, "lines": 10}, {"filePath": "src/site/xdoc/statement-builders.xml", "insertions": 127, "deletions": 1, "lines": 128}, {"filePath": "src/site/zh/xdoc/configuration.xml", "insertions": 12, "deletions": 6, "lines": 18}, {"filePath": "src/site/zh/xdoc/dynamic-sql.xml", "insertions": 15, "deletions": 0, "lines": 15}, {"filePath": "src/site/zh/xdoc/java-api.xml", "insertions": 91, "deletions": 92, "lines": 183}, {"filePath": "src/site/zh/xdoc/statement-builders.xml", "insertions": 126, "deletions": 0, "lines": 126}, {"filePath": "src/test/java/org/apache/ibatis/autoconstructor/ExtensiveSubject.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/test/java/org/apache/ibatis/binding/BindingTest.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/org/apache/ibatis/builder/ProblemResultMapper.xml", "insertions": 28, "deletions": 0, "lines": 28}, {"filePath": "src/test/java/org/apache/ibatis/builder/XmlMapperBuilderTest.java", "insertions": 17, "deletions": 0, "lines": 17}, {"filePath": "src/test/java/org/apache/ibatis/cache/BaseCacheTest.java", "insertions": 5, "deletions": 5, "lines": 10}, {"filePath": "src/test/java/org/apache/ibatis/cache/CacheKeyTest.java", "insertions": 13, "deletions": 13, "lines": 26}, {"filePath": "src/test/java/org/apache/ibatis/executor/loader/CglibProxyTest.java", "insertions": 3, "deletions": 1, "lines": 4}, {"filePath": "src/test/java/org/apache/ibatis/executor/loader/JavassistProxyTest.java", "insertions": 3, "deletions": 1, "lines": 4}, {"filePath": "src/test/java/org/apache/ibatis/executor/loader/SerializableProxyTest.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/org/apache/ibatis/io/ResolverUtilTest.java", "insertions": 151, "deletions": 0, "lines": 151}, {"filePath": "src/test/java/org/apache/ibatis/io/VFSTest.java", "insertions": 37, "deletions": 0, "lines": 37}, {"filePath": "src/test/java/org/apache/ibatis/jdbc/SQLTest.java", "insertions": 131, "deletions": 2, "lines": 133}, {"filePath": "src/test/java/org/apache/ibatis/parsing/XPathParserTest.java", "insertions": 163, "deletions": 14, "lines": 177}, {"filePath": "src/test/java/org/apache/ibatis/plugin/PluginTest.java", "insertions": 0, "deletions": 9, "lines": 9}, {"filePath": "src/test/java/org/apache/ibatis/submitted/array_type_handler/ArrayTypeHandlerTest.java", "insertions": 85, "deletions": 0, "lines": 85}, {"filePath": "src/test/java/org/apache/ibatis/submitted/array_type_handler/CreateDB.sql", "insertions": 23, "deletions": 0, "lines": 23}, {"filePath": "src/test/java/org/apache/ibatis/submitted/array_type_handler/Mapper.java", "insertions": 28, "deletions": 0, "lines": 28}, {"filePath": "src/test/java/org/apache/ibatis/submitted/array_type_handler/Mapper.xml", "insertions": 41, "deletions": 0, "lines": 41}, {"filePath": "src/test/java/org/apache/ibatis/submitted/array_type_handler/User.java", "insertions": 47, "deletions": 0, "lines": 47}, {"filePath": "src/test/java/org/apache/ibatis/submitted/array_type_handler/mybatis-config.xml", "insertions": 40, "deletions": 0, "lines": 40}, {"filePath": "src/test/java/org/apache/ibatis/submitted/blocking_cache/PersonMapper.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/test/java/org/apache/ibatis/submitted/cache/PersonMapper.java", "insertions": 7, "deletions": 7, "lines": 14}, {"filePath": "src/test/java/org/apache/ibatis/submitted/cglib_lazy_error/PersonMapper.java", "insertions": 4, "deletions": 4, "lines": 8}, {"filePath": "src/test/java/org/apache/ibatis/submitted/column_forwarding/Mapper.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/test/java/org/apache/ibatis/submitted/complex_column/PersonMapper.java", "insertions": 5, "deletions": 5, "lines": 10}, {"filePath": "src/test/java/org/apache/ibatis/submitted/custom_collection_handling/CustomObjectFactory.java", "insertions": 0, "deletions": 6, "lines": 6}, {"filePath": "src/test/java/org/apache/ibatis/submitted/default_method/Mapper.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/test/java/org/apache/ibatis/submitted/deferload_common_property/ChildMapper.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/test/java/org/apache/ibatis/submitted/deferload_common_property/FatherMapper.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/test/java/org/apache/ibatis/submitted/disallowdotsonnames/PersonMapper.java", "insertions": 5, "deletions": 5, "lines": 10}, {"filePath": "src/test/java/org/apache/ibatis/submitted/dynsql/DynSqlMapper.java", "insertions": 21, "deletions": 1, "lines": 22}, {"filePath": "src/test/java/org/apache/ibatis/submitted/dynsql/DynSqlMapper.xml", "insertions": 33, "deletions": 2, "lines": 35}, {"filePath": "src/test/java/org/apache/ibatis/submitted/dynsql/DynSqlTest.java", "insertions": 133, "deletions": 0, "lines": 133}, {"filePath": "src/test/java/org/apache/ibatis/submitted/enumtypehandler_on_map/PersonMapper.java", "insertions": 5, "deletions": 5, "lines": 10}, {"filePath": "src/test/java/org/apache/ibatis/submitted/extends_with_constructor/StudentConstructorMapper.java", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "src/test/java/org/apache/ibatis/submitted/extends_with_constructor/StudentMapper.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/test/java/org/apache/ibatis/submitted/extends_with_constructor/TeacherMapper.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/test/java/org/apache/ibatis/submitted/flush_statement_npe/PersonMapper.java", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "src/test/java/org/apache/ibatis/submitted/force_flush_on_select/PersonMapper.java", "insertions": 5, "deletions": 5, "lines": 10}, {"filePath": "src/test/java/org/apache/ibatis/submitted/heavy_initial_load/ThingMapper.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/test/java/org/apache/ibatis/submitted/immutable_constructor/ImmutablePOJOMapper.java", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "src/test/java/org/apache/ibatis/submitted/keycolumn/CreateDB.sql", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/org/apache/ibatis/submitted/lazy_immutable/ImmutablePOJOMapper.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/test/java/org/apache/ibatis/submitted/lazy_immutable/ImmutablePOJOTest.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/org/apache/ibatis/submitted/lazyload_common_property/ChildMapper.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/test/java/org/apache/ibatis/submitted/lazyload_common_property/FatherMapper.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/test/java/org/apache/ibatis/submitted/lazyload_common_property/GrandFatherMapper.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/test/java/org/apache/ibatis/submitted/map_class_name_conflict/PersonMapper.java", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "src/test/java/org/apache/ibatis/submitted/mapper_type_parameter/BaseMapper.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/test/java/org/apache/ibatis/submitted/multiple_discriminator/PersonMapper.java", "insertions": 4, "deletions": 4, "lines": 8}, {"filePath": "src/test/java/org/apache/ibatis/submitted/multiple_resultsets/CreateDB.sql", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/org/apache/ibatis/submitted/not_null_column/FatherMapper.java", "insertions": 8, "deletions": 8, "lines": 16}, {"filePath": "src/test/java/org/apache/ibatis/submitted/ognl_enum/PersonMapper.java", "insertions": 6, "deletions": 6, "lines": 12}, {"filePath": "src/test/java/org/apache/ibatis/submitted/order_prefix_removed/PersonMapper.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/test/java/org/apache/ibatis/submitted/parent_reference_3level/Mapper.java", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "src/test/java/org/apache/ibatis/submitted/refcursor/CreateDB.sql", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/org/apache/ibatis/submitted/serializecircular/AttributeMapper.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/test/java/org/apache/ibatis/submitted/serializecircular/DepartmentMapper.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/test/java/org/apache/ibatis/submitted/serializecircular/PersonMapper.java", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "src/test/java/org/apache/ibatis/submitted/sql/CreateDB-hsqldb.sql", "insertions": 26, "deletions": 0, "lines": 26}, {"filePath": "src/test/java/org/apache/ibatis/submitted/sql/CreateDB.sql", "insertions": 28, "deletions": 0, "lines": 28}, {"filePath": "src/test/java/org/apache/ibatis/submitted/sql/HsqldbSQLTest.java", "insertions": 79, "deletions": 0, "lines": 79}, {"filePath": "src/test/java/org/apache/ibatis/submitted/sql/Mapper.java", "insertions": 42, "deletions": 0, "lines": 42}, {"filePath": "src/test/java/org/apache/ibatis/submitted/sql/PostgresSQLTest.java", "insertions": 81, "deletions": 0, "lines": 81}, {"filePath": "src/test/java/org/apache/ibatis/submitted/sql/User.java", "insertions": 40, "deletions": 0, "lines": 40}, {"filePath": "src/test/java/org/apache/ibatis/submitted/sqlprovider/ProviderMethodResolutionTest.java", "insertions": 4, "deletions": 4, "lines": 8}, {"filePath": "src/test/java/org/apache/ibatis/submitted/sqlprovider/SqlProviderTest.java", "insertions": 33, "deletions": 0, "lines": 33}, {"filePath": "src/test/java/org/apache/ibatis/submitted/substitution_in_annots/SubstitutionInAnnotsMapper.java", "insertions": 5, "deletions": 5, "lines": 10}, {"filePath": "src/test/java/org/apache/ibatis/submitted/xml_references/PersonMapper.java", "insertions": 6, "deletions": 6, "lines": 12}, {"filePath": "src/test/java/org/apache/ibatis/submitted/xml_references/PersonMapper2.java", "insertions": 6, "deletions": 6, "lines": 12}, {"filePath": "src/test/java/org/apache/ibatis/type/ArrayTypeHandlerTest.java", "insertions": 33, "deletions": 0, "lines": 33}, {"filePath": "src/test/java/org/apache/ibatis/type/SqlxmlTypeHandlerTest.sql", "insertions": 1, "deletions": 1, "lines": 2}], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": "tooManyFiles"}], "filteredCommits": ["71231417d7ecd61584d9c05aa7716e9593255d3a"], "filteredCommitsReason": {"duplicated": 1, "alsoFixesPhrase": 0, "moreThanOneParent": 2, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 1, "deletions": 1, "lines": 2, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 1.0, "UPD": 0.0, "INS": 1.0, "MOV": 0.0, "DEL": 0.0, "spoonFilesChanged": 1, "spoonMethodsChanged": 1}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/builder/xml"], "changesInPackagesSPOON": ["org.apache.ibatis.builder.xml.XMLStatementBuilder.databaseIdMatchesCurrent(java.lang.String,java.lang.String,java.lang.String)"]}, {"title": "Wrong dependency on Log4j in MyBatis 3.2", "body": "MyBatis 3.2 does not startup without log4j in the classpath.\n\nCaused by: java.lang.NoClassDefFoundError: org/apache/log4j/Priority\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Class.java:266)\n    at org.apache.ibatis.io.ClassLoaderWrapper.classForName(ClassLoaderWrapper.java:176)\n    at org.apache.ibatis.io.ClassLoaderWrapper.classForName(ClassLoaderWrapper.java:87)\n    at org.apache.ibatis.io.Resources.classForName(Resources.java:254)\n    at org.apache.ibatis.type.TypeAliasRegistry.registerAlias(TypeAliasRegistry.java:153)\n    at org.apache.ibatis.session.Configuration.<init>(Configuration.java:173)\n", "url": "https://github.com/mybatis/mybatis-3/issues/1", "user": "emacarron", "labels": ["bug"], "created": "2013-02-23 00:48:12", "closed": "2013-02-23 01:02:08", "commits": {"b6159c72191920ce83050f31c43750f6d30d959a": {"commitGHEventType": "referenced", "commitUser": "emacarron"}, "2bac16f8c3ed69cdf27a1c3ae12e60e38ea36e94": {"commitGHEventType": "referenced", "commitUser": "emacarron"}, "82165b527780ab147b25789d574a800f5ca9e888": {"commitGHEventType": "referenced", "commitUser": "emacarron"}, "44fbe66f6d5edab9e36c05c50bb878baa7553327": {"commitGHEventType": "referenced", "commitUser": "emacarron"}, "958ed857da3cd788e37c5a6b9caa666b2f33c385": {"commitGHEventType": "referenced", "commitUser": "kazuki43zoo"}, "e00259d0cd144dc2c0dcf292a2f25390bd9e3be5": {"commitGHEventType": "referenced", "commitUser": "harawata"}, "f56f3e769d3830ef9d53682739ce8eeb8bc114a3": {"commitGHEventType": "referenced", "commitUser": "harawata"}, "59c61ec07b406d747215b61e61865b9db5c18693": {"commitGHEventType": "referenced", "commitUser": "kazuki43zoo"}, "fd5058c06ac4a4871a5a7a41529a6916b5618b7f": {"commitGHEventType": "referenced", "commitUser": "kazuki43zoo"}, "6108fb8d65ce132a66922959f2b1b1d5f8631c2c": {"commitGHEventType": "referenced", "commitUser": "harawata"}}, "ttf": 0.0002777777777777778, "commitsDetails": [{"commitHash": "b6159c72191920ce83050f31c43750f6d30d959a", "commitGHEventType": "referenced", "commitUser": "emacarron", "commitParents": ["351d217e2deabdd6270a5126eb93d3bcbbbc4e36"], "nameRev": "b6159c72191920ce83050f31c43750f6d30d959a tags/mybatis-3.2.1~10", "commitMessage": "Fix for issue #1. Wrong dependency on log4j.", "commitDateTime": "2013-02-23 02:00:58", "authoredDateTime": "2013-02-23 02:00:58", "commitGitStats": [{"filePath": "src/main/java/org/apache/ibatis/session/Configuration.java", "insertions": 25, "deletions": 25, "lines": 50}], "commitSpoonAstDiffStats": [{"spoonFilePath": "Configuration.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.session.Configuration", "TOT": 42, "UPD": 0, "INS": 0, "MOV": 21, "DEL": 21}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "2bac16f8c3ed69cdf27a1c3ae12e60e38ea36e94", "commitGHEventType": "referenced", "commitUser": "emacarron", "commitParents": ["6e158d8e8d768ac429f7aa9d6ecd62346edc1df6", "79d36b2cabcc35bde7393c39d78b5b030174335d"], "nameRev": "2bac16f8c3ed69cdf27a1c3ae12e60e38ea36e94 tags/mybatis-3.3.0~17^2~3^2~1", "commitMessage": "Merge pull request #1 from mybatis/master\n\nsync w master", "commitDateTime": "2015-01-22 20:48:42", "authoredDateTime": "2015-01-22 20:48:42", "commitGitStats": [{"filePath": ".gitignore", "insertions": 2, "deletions": 1, "lines": 3}, {"filePath": ".travis.yml", "insertions": 1, "deletions": 0, "lines": 1}, {"filePath": "CONTRIBUTING.md", "insertions": 62, "deletions": 0, "lines": 62}, {"filePath": "README", "insertions": 0, "deletions": 6, "lines": 6}, {"filePath": "README.md", "insertions": 17, "deletions": 0, "lines": 17}, {"filePath": "pom.xml", "insertions": 107, "deletions": 68, "lines": 175}, {"filePath": "src/main/java/org/apache/ibatis/annotations/CacheNamespace.java", "insertions": 5, "deletions": 2, "lines": 7}, {"filePath": "src/main/java/org/apache/ibatis/annotations/Many.java", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "src/main/java/org/apache/ibatis/annotations/One.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/main/java/org/apache/ibatis/binding/MapperMethod.java", "insertions": 11, "deletions": 11, "lines": 22}, {"filePath": "src/main/java/org/apache/ibatis/binding/MapperProxy.java", "insertions": 1, "deletions": 0, "lines": 1}, {"filePath": "src/main/java/org/apache/ibatis/binding/MapperRegistry.java", "insertions": 2, "deletions": 1, "lines": 3}, {"filePath": "src/main/java/org/apache/ibatis/builder/BaseBuilder.java", "insertions": 26, "deletions": 7, "lines": 33}, {"filePath": "src/main/java/org/apache/ibatis/builder/CacheRefResolver.java", "insertions": 11, "deletions": 9, "lines": 20}, {"filePath": "src/main/java/org/apache/ibatis/builder/MapperBuilderAssistant.java", "insertions": 20, "deletions": 6, "lines": 26}, {"filePath": "src/main/java/org/apache/ibatis/builder/SqlSourceBuilder.java", "insertions": 1, "deletions": 0, "lines": 1}, {"filePath": "src/main/java/org/apache/ibatis/builder/StaticSqlSource.java", "insertions": 1, "deletions": 0, "lines": 1}, {"filePath": "src/main/java/org/apache/ibatis/builder/annotation/MapperAnnotationBuilder.java", "insertions": 53, "deletions": 43, "lines": 96}, {"filePath": "src/main/java/org/apache/ibatis/builder/annotation/ProviderSqlSource.java", "insertions": 1, "deletions": 0, "lines": 1}, {"filePath": "src/main/java/org/apache/ibatis/builder/xml/XMLConfigBuilder.java", "insertions": 9, "deletions": 4, "lines": 13}, {"filePath": "src/main/java/org/apache/ibatis/builder/xml/XMLIncludeTransformer.java", "insertions": 1, "deletions": 2, "lines": 3}, {"filePath": "src/main/java/org/apache/ibatis/builder/xml/XMLMapperBuilder.java", "insertions": 35, "deletions": 32, "lines": 67}, {"filePath": "src/main/java/org/apache/ibatis/builder/xml/XMLMapperEntityResolver.java", "insertions": 7, "deletions": 2, "lines": 9}, {"filePath": "src/main/java/org/apache/ibatis/builder/xml/XMLStatementBuilder.java", "insertions": 3, "deletions": 1, "lines": 4}, {"filePath": "src/main/java/org/apache/ibatis/builder/xml/mybatis-3-mapper.dtd", "insertions": 1, "deletions": 0, "lines": 1}, {"filePath": "src/main/java/org/apache/ibatis/cache/CacheKey.java", "insertions": 17, "deletions": 7, "lines": 24}, {"filePath": "src/main/java/org/apache/ibatis/cache/decorators/BlockingCache.java", "insertions": 128, "deletions": 0, "lines": 128}, {"filePath": "src/main/java/org/apache/ibatis/cache/decorators/FifoCache.java", "insertions": 2, "deletions": 1, "lines": 3}, {"filePath": "src/main/java/org/apache/ibatis/cache/decorators/LruCache.java", "insertions": 2, "deletions": 0, "lines": 2}, {"filePath": "src/main/java/org/apache/ibatis/cache/decorators/ScheduledCache.java", "insertions": 1, "deletions": 5, "lines": 6}, {"filePath": "src/main/java/org/apache/ibatis/cache/decorators/SoftCache.java", "insertions": 3, "deletions": 2, "lines": 5}, {"filePath": "src/main/java/org/apache/ibatis/cache/decorators/TransactionalCache.java", "insertions": 41, "deletions": 43, "lines": 84}, {"filePath": "src/main/java/org/apache/ibatis/cache/decorators/WeakCache.java", "insertions": 3, "deletions": 1, "lines": 4}, {"filePath": "src/main/java/org/apache/ibatis/cache/impl/PerpetualCache.java", "insertions": 21, "deletions": 4, "lines": 25}, {"filePath": "src/main/java/org/apache/ibatis/datasource/jndi/JndiDataSourceFactory.java", "insertions": 2, "deletions": 0, "lines": 2}, {"filePath": "src/main/java/org/apache/ibatis/datasource/pooled/PoolState.java", "insertions": 27, "deletions": 26, "lines": 53}, {"filePath": "src/main/java/org/apache/ibatis/datasource/pooled/PooledConnection.java", "insertions": 4, "deletions": 5, "lines": 9}, {"filePath": "src/main/java/org/apache/ibatis/datasource/pooled/PooledDataSource.java", "insertions": 8, "deletions": 4, "lines": 12}, {"filePath": "src/main/java/org/apache/ibatis/datasource/unpooled/UnpooledDataSource.java", "insertions": 19, "deletions": 2, "lines": 21}, {"filePath": "src/main/java/org/apache/ibatis/datasource/unpooled/UnpooledDataSourceFactory.java", "insertions": 2, "deletions": 0, "lines": 2}, {"filePath": "src/main/java/org/apache/ibatis/exceptions/ExceptionFactory.java", "insertions": 4, "deletions": 0, "lines": 4}, {"filePath": "src/main/java/org/apache/ibatis/executor/BaseExecutor.java", "insertions": 57, "deletions": 18, "lines": 75}, {"filePath": "src/main/java/org/apache/ibatis/executor/BatchExecutor.java", "insertions": 33, "deletions": 31, "lines": 64}, {"filePath": "src/main/java/org/apache/ibatis/executor/CachingExecutor.java", "insertions": 14, "deletions": 1, "lines": 15}, {"filePath": "src/main/java/org/apache/ibatis/executor/ErrorContext.java", "insertions": 2, "deletions": 1, "lines": 3}, {"filePath": "src/main/java/org/apache/ibatis/executor/Executor.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/main/java/org/apache/ibatis/executor/ResultExtractor.java", "insertions": 10, "deletions": 2, "lines": 12}, {"filePath": "src/main/java/org/apache/ibatis/executor/ReuseExecutor.java", "insertions": 3, "deletions": 0, "lines": 3}, {"filePath": "src/main/java/org/apache/ibatis/executor/SimpleExecutor.java", "insertions": 3, "deletions": 0, "lines": 3}, {"filePath": "src/main/java/org/apache/ibatis/executor/keygen/Jdbc3KeyGenerator.java", "insertions": 9, "deletions": 2, "lines": 11}, {"filePath": "src/main/java/org/apache/ibatis/executor/keygen/NoKeyGenerator.java", "insertions": 4, "deletions": 0, "lines": 4}, {"filePath": "src/main/java/org/apache/ibatis/executor/keygen/SelectKeyGenerator.java", "insertions": 2, "deletions": 0, "lines": 2}, {"filePath": "src/main/java/org/apache/ibatis/executor/loader/ResultLoader.java", "insertions": 7, "deletions": 3, "lines": 10}, {"filePath": "src/main/java/org/apache/ibatis/executor/loader/ResultLoaderMap.java", "insertions": 8, "deletions": 5, "lines": 13}, {"filePath": "src/main/java/org/apache/ibatis/executor/loader/cglib/CglibProxyFactory.java", "insertions": 5, "deletions": 1, "lines": 6}, {"filePath": "src/main/java/org/apache/ibatis/executor/loader/javassist/JavassistProxyFactory.java", "insertions": 5, "deletions": 1, "lines": 6}, {"filePath": "src/main/java/org/apache/ibatis/executor/result/DefaultMapResultHandler.java", "insertions": 1, "deletions": 0, "lines": 1}, {"filePath": "src/main/java/org/apache/ibatis/executor/result/DefaultResultContext.java", "insertions": 4, "deletions": 0, "lines": 4}, {"filePath": "src/main/java/org/apache/ibatis/executor/result/DefaultResultHandler.java", "insertions": 1, "deletions": 0, "lines": 1}, {"filePath": "src/main/java/org/apache/ibatis/executor/resultset/DefaultResultSetHandler.java", "insertions": 140, "deletions": 69, "lines": 209}, {"filePath": "src/main/java/org/apache/ibatis/executor/resultset/ResultSetWrapper.java", "insertions": 6, "deletions": 3, "lines": 9}, {"filePath": "src/main/java/org/apache/ibatis/executor/statement/BaseStatementHandler.java", "insertions": 3, "deletions": 0, "lines": 3}, {"filePath": "src/main/java/org/apache/ibatis/executor/statement/CallableStatementHandler.java", "insertions": 8, "deletions": 6, "lines": 14}, {"filePath": "src/main/java/org/apache/ibatis/executor/statement/PreparedStatementHandler.java", "insertions": 5, "deletions": 0, "lines": 5}, {"filePath": "src/main/java/org/apache/ibatis/executor/statement/RoutingStatementHandler.java", "insertions": 7, "deletions": 0, "lines": 7}, {"filePath": "src/main/java/org/apache/ibatis/executor/statement/SimpleStatementHandler.java", "insertions": 8, "deletions": 6, "lines": 14}, {"filePath": "src/main/java/org/apache/ibatis/io/ClassLoaderWrapper.java", "insertions": 20, "deletions": 10, "lines": 30}, {"filePath": "src/main/java/org/apache/ibatis/io/DefaultVFS.java", "insertions": 22, "deletions": 11, "lines": 33}, {"filePath": "src/main/java/org/apache/ibatis/io/JBoss6VFS.java", "insertions": 15, "deletions": 9, "lines": 24}, {"filePath": "src/main/java/org/apache/ibatis/io/ResolverUtil.java", "insertions": 8, "deletions": 3, "lines": 11}, {"filePath": "src/main/java/org/apache/ibatis/io/Resources.java", "insertions": 8, "deletions": 3, "lines": 11}, {"filePath": "src/main/java/org/apache/ibatis/io/VFS.java", "insertions": 13, "deletions": 9, "lines": 22}, {"filePath": "src/main/java/org/apache/ibatis/jdbc/AbstractSQL.java", "insertions": 11, "deletions": 4, "lines": 15}, {"filePath": "src/main/java/org/apache/ibatis/jdbc/Null.java", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "src/main/java/org/apache/ibatis/jdbc/ScriptRunner.java", "insertions": 3, "deletions": 2, "lines": 5}, {"filePath": "src/main/java/org/apache/ibatis/jdbc/SelectBuilder.java", "insertions": 5, "deletions": 1, "lines": 6}, {"filePath": "src/main/java/org/apache/ibatis/jdbc/SqlBuilder.java", "insertions": 5, "deletions": 1, "lines": 6}, {"filePath": "src/main/java/org/apache/ibatis/jdbc/SqlRunner.java", "insertions": 14, "deletions": 12, "lines": 26}, {"filePath": "src/main/java/org/apache/ibatis/logging/LogFactory.java", "insertions": 6, "deletions": 0, "lines": 6}, {"filePath": "src/main/java/org/apache/ibatis/logging/commons/JakartaCommonsLoggingImpl.java", "insertions": 7, "deletions": 0, "lines": 7}, {"filePath": "src/main/java/org/apache/ibatis/logging/jdbc/BaseJdbcLogger.java", "insertions": 5, "deletions": 2, "lines": 7}, {"filePath": "src/main/java/org/apache/ibatis/logging/jdbc/ConnectionLogger.java", "insertions": 1, "deletions": 0, "lines": 1}, {"filePath": "src/main/java/org/apache/ibatis/logging/jdbc/PreparedStatementLogger.java", "insertions": 3, "deletions": 10, "lines": 13}, {"filePath": "src/main/java/org/apache/ibatis/logging/jdbc/ResultSetLogger.java", "insertions": 8, "deletions": 3, "lines": 11}, {"filePath": "src/main/java/org/apache/ibatis/logging/jdbc/StatementLogger.java", "insertions": 3, "deletions": 10, "lines": 13}, {"filePath": "src/main/java/org/apache/ibatis/logging/jdk14/Jdk14LoggingImpl.java", "insertions": 7, "deletions": 0, "lines": 7}, {"filePath": "src/main/java/org/apache/ibatis/logging/log4j/Log4jImpl.java", "insertions": 7, "deletions": 0, "lines": 7}, {"filePath": "src/main/java/org/apache/ibatis/logging/log4j2/Log4j2AbstractLoggerImpl.java", "insertions": 18, "deletions": 11, "lines": 29}, {"filePath": "src/main/java/org/apache/ibatis/logging/log4j2/Log4j2Impl.java", "insertions": 7, "deletions": 0, "lines": 7}, {"filePath": "src/main/java/org/apache/ibatis/logging/log4j2/Log4j2LoggerImpl.java", "insertions": 7, "deletions": 0, "lines": 7}, {"filePath": "src/main/java/org/apache/ibatis/logging/nologging/NoLoggingImpl.java", "insertions": 13, "deletions": 0, "lines": 13}, {"filePath": "src/main/java/org/apache/ibatis/logging/slf4j/Slf4jImpl.java", "insertions": 7, "deletions": 0, "lines": 7}, {"filePath": "src/main/java/org/apache/ibatis/logging/slf4j/Slf4jLocationAwareLoggerImpl.java", "insertions": 7, "deletions": 0, "lines": 7}, {"filePath": "src/main/java/org/apache/ibatis/logging/slf4j/Slf4jLoggerImpl.java", "insertions": 7, "deletions": 0, "lines": 7}, {"filePath": "src/main/java/org/apache/ibatis/logging/stdout/StdOutImpl.java", "insertions": 8, "deletions": 0, "lines": 8}, {"filePath": "src/main/java/org/apache/ibatis/mapping/CacheBuilder.java", "insertions": 15, "deletions": 2, "lines": 17}, {"filePath": "src/main/java/org/apache/ibatis/mapping/Discriminator.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/main/java/org/apache/ibatis/mapping/MappedStatement.java", "insertions": 6, "deletions": 5, "lines": 11}, {"filePath": "src/main/java/org/apache/ibatis/mapping/ResultMapping.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/main/java/org/apache/ibatis/mapping/VendorDatabaseIdProvider.java", "insertions": 9, "deletions": 4, "lines": 13}, {"filePath": "src/main/java/org/apache/ibatis/parsing/GenericTokenParser.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/main/java/org/apache/ibatis/parsing/PropertyParser.java", "insertions": 5, "deletions": 0, "lines": 5}, {"filePath": "src/main/java/org/apache/ibatis/parsing/XNode.java", "insertions": 5, "deletions": 2, "lines": 7}, {"filePath": "src/main/java/org/apache/ibatis/parsing/XPathParser.java", "insertions": 3, "deletions": 0, "lines": 3}, {"filePath": "src/main/java/org/apache/ibatis/plugin/Plugin.java", "insertions": 3, "deletions": 1, "lines": 4}, {"filePath": "src/main/java/org/apache/ibatis/reflection/ExceptionUtil.java", "insertions": 4, "deletions": 0, "lines": 4}, {"filePath": "src/main/java/org/apache/ibatis/reflection/MetaClass.java", "insertions": 6, "deletions": 2, "lines": 8}, {"filePath": "src/main/java/org/apache/ibatis/reflection/MetaObject.java", "insertions": 2, "deletions": 1, "lines": 3}, {"filePath": "src/main/java/org/apache/ibatis/reflection/Reflector.java", "insertions": 8, "deletions": 3, "lines": 11}, {"filePath": "src/main/java/org/apache/ibatis/reflection/SystemMetaObject.java", "insertions": 7, "deletions": 3, "lines": 10}, {"filePath": "src/main/java/org/apache/ibatis/reflection/factory/DefaultObjectFactory.java", "insertions": 6, "deletions": 3, "lines": 9}, {"filePath": "src/main/java/org/apache/ibatis/reflection/invoker/GetFieldInvoker.java", "insertions": 2, "deletions": 0, "lines": 2}, {"filePath": "src/main/java/org/apache/ibatis/reflection/invoker/MethodInvoker.java", "insertions": 2, "deletions": 0, "lines": 2}, {"filePath": "src/main/java/org/apache/ibatis/reflection/invoker/SetFieldInvoker.java", "insertions": 2, "deletions": 0, "lines": 2}, {"filePath": "src/main/java/org/apache/ibatis/reflection/property/PropertyCopier.java", "insertions": 5, "deletions": 1, "lines": 6}, {"filePath": "src/main/java/org/apache/ibatis/reflection/property/PropertyNamer.java", "insertions": 5, "deletions": 1, "lines": 6}, {"filePath": "src/main/java/org/apache/ibatis/reflection/property/PropertyTokenizer.java", "insertions": 4, "deletions": 0, "lines": 4}, {"filePath": "src/main/java/org/apache/ibatis/reflection/wrapper/BeanWrapper.java", "insertions": 13, "deletions": 0, "lines": 13}, {"filePath": "src/main/java/org/apache/ibatis/reflection/wrapper/CollectionWrapper.java", "insertions": 13, "deletions": 0, "lines": 13}, {"filePath": "src/main/java/org/apache/ibatis/reflection/wrapper/DefaultObjectWrapperFactory.java", "insertions": 4, "deletions": 2, "lines": 6}, {"filePath": "src/main/java/org/apache/ibatis/reflection/wrapper/MapWrapper.java", "insertions": 13, "deletions": 0, "lines": 13}, {"filePath": "src/main/java/org/apache/ibatis/scripting/defaults/DefaultParameterHandler.java", "insertions": 5, "deletions": 1, "lines": 6}, {"filePath": "src/main/java/org/apache/ibatis/scripting/defaults/RawSqlSource.java", "insertions": 1, "deletions": 0, "lines": 1}, {"filePath": "src/main/java/org/apache/ibatis/scripting/xmltags/ChooseSqlNode.java", "insertions": 1, "deletions": 0, "lines": 1}, {"filePath": "src/main/java/org/apache/ibatis/scripting/xmltags/DynamicContext.java", "insertions": 16, "deletions": 13, "lines": 29}, {"filePath": "src/main/java/org/apache/ibatis/scripting/xmltags/DynamicSqlSource.java", "insertions": 1, "deletions": 0, "lines": 1}, {"filePath": "src/main/java/org/apache/ibatis/scripting/xmltags/ExpressionEvaluator.java", "insertions": 12, "deletions": 4, "lines": 16}, {"filePath": "src/main/java/org/apache/ibatis/scripting/xmltags/ForEachSqlNode.java", "insertions": 12, "deletions": 6, "lines": 18}, {"filePath": "src/main/java/org/apache/ibatis/scripting/xmltags/IfSqlNode.java", "insertions": 1, "deletions": 0, "lines": 1}, {"filePath": "src/main/java/org/apache/ibatis/scripting/xmltags/MixedSqlNode.java", "insertions": 1, "deletions": 0, "lines": 1}, {"filePath": "src/main/java/org/apache/ibatis/scripting/xmltags/OgnlCache.java", "insertions": 19, "deletions": 28, "lines": 47}, {"filePath": "src/main/java/org/apache/ibatis/scripting/xmltags/OgnlClassResolver.java", "insertions": 57, "deletions": 0, "lines": 57}, {"filePath": "src/main/java/org/apache/ibatis/scripting/xmltags/StaticTextSqlNode.java", "insertions": 1, "deletions": 0, "lines": 1}, {"filePath": "src/main/java/org/apache/ibatis/scripting/xmltags/TextSqlNode.java", "insertions": 31, "deletions": 5, "lines": 36}, {"filePath": "src/main/java/org/apache/ibatis/scripting/xmltags/TrimSqlNode.java", "insertions": 6, "deletions": 9, "lines": 15}, {"filePath": "src/main/java/org/apache/ibatis/scripting/xmltags/VarDeclSqlNode.java", "insertions": 2, "deletions": 1, "lines": 3}, {"filePath": "src/main/java/org/apache/ibatis/scripting/xmltags/XMLLanguageDriver.java", "insertions": 7, "deletions": 2, "lines": 9}, {"filePath": "src/main/java/org/apache/ibatis/scripting/xmltags/XMLScriptBuilder.java", "insertions": 56, "deletions": 18, "lines": 74}, {"filePath": "src/main/java/org/apache/ibatis/session/Configuration.java", "insertions": 9, "deletions": 9, "lines": 18}, {"filePath": "src/main/java/org/apache/ibatis/session/RowBounds.java", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "src/main/java/org/apache/ibatis/session/SqlSession.java", "insertions": 1, "deletions": 0, "lines": 1}, {"filePath": "src/main/java/org/apache/ibatis/session/SqlSessionManager.java", "insertions": 72, "deletions": 16, "lines": 88}, {"filePath": "src/main/java/org/apache/ibatis/session/defaults/DefaultSqlSession.java", "insertions": 36, "deletions": 7, "lines": 43}, {"filePath": "src/main/java/org/apache/ibatis/session/defaults/DefaultSqlSessionFactory.java", "insertions": 9, "deletions": 0, "lines": 9}, {"filePath": "src/main/java/org/apache/ibatis/transaction/jdbc/JdbcTransaction.java", "insertions": 4, "deletions": 0, "lines": 4}, {"filePath": "src/main/java/org/apache/ibatis/transaction/jdbc/JdbcTransactionFactory.java", "insertions": 3, "deletions": 0, "lines": 3}, {"filePath": "src/main/java/org/apache/ibatis/transaction/managed/ManagedTransaction.java", "insertions": 4, "deletions": 0, "lines": 4}, {"filePath": "src/main/java/org/apache/ibatis/transaction/managed/ManagedTransactionFactory.java", "insertions": 3, "deletions": 0, "lines": 3}, {"filePath": "src/main/java/org/apache/ibatis/type/Alias.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/main/java/org/apache/ibatis/type/BaseTypeHandler.java", "insertions": 6, "deletions": 2, "lines": 8}, {"filePath": "src/main/java/org/apache/ibatis/type/ByteArrayUtils.java", "insertions": 7, "deletions": 4, "lines": 11}, {"filePath": "src/main/java/org/apache/ibatis/type/EnumOrdinalTypeHandler.java", "insertions": 6, "deletions": 2, "lines": 8}, {"filePath": "src/main/java/org/apache/ibatis/type/EnumTypeHandler.java", "insertions": 3, "deletions": 1, "lines": 4}, {"filePath": "src/main/java/org/apache/ibatis/type/MappedJdbcTypes.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/main/java/org/apache/ibatis/type/MappedTypes.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/main/java/org/apache/ibatis/type/SimpleTypeRegistry.java", "insertions": 4, "deletions": 0, "lines": 4}, {"filePath": "src/main/java/org/apache/ibatis/type/TypeAliasRegistry.java", "insertions": 10, "deletions": 4, "lines": 14}, {"filePath": "src/main/java/org/apache/ibatis/type/TypeHandlerRegistry.java", "insertions": 2, "deletions": 20, "lines": 22}, {"filePath": "src/site/es/xdoc/configuration.xml", "insertions": 10, "deletions": 6, "lines": 16}, {"filePath": "src/site/es/xdoc/logging.xml", "insertions": 4, "deletions": 4, "lines": 8}, {"filePath": "src/site/es/xdoc/sqlmap-xml.xml", "insertions": 7, "deletions": 12, "lines": 19}, {"filePath": "src/site/es/xdoc/statement-builders.xml", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/site/ja/xdoc/configuration.xml", "insertions": 5, "deletions": 2, "lines": 7}, {"filePath": "src/site/ja/xdoc/sqlmap-xml.xml", "insertions": 6, "deletions": 12, "lines": 18}, {"filePath": "src/site/ja/xdoc/statement-builders.xml", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/site/ko/xdoc/configuration.xml", "insertions": 53, "deletions": 57, "lines": 110}, {"filePath": "src/site/ko/xdoc/dynamic-sql.xml", "insertions": 12, "deletions": 12, "lines": 24}, {"filePath": "src/site/ko/xdoc/getting-started.xml", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "src/site/ko/xdoc/index.xml", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/site/ko/xdoc/java-api.xml", "insertions": 9, "deletions": 8, "lines": 17}, {"filePath": "src/site/ko/xdoc/sqlmap-xml.xml", "insertions": 60, "deletions": 65, "lines": 125}, {"filePath": "src/site/ko/xdoc/statement-builders.xml", "insertions": 7, "deletions": 2, "lines": 9}, {"filePath": "src/site/pdf.xml", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/site/site.xml", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/site/site_es.xml", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/site/site_fr.xml", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/site/site_ja.xml", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/site/site_ko.xml", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/site/site_zh.xml", "insertions": 9, "deletions": 15, "lines": 24}, {"filePath": "src/site/xdoc/configuration.xml", "insertions": 12, "deletions": 10, "lines": 22}, {"filePath": "src/site/xdoc/getting-started.xml", "insertions": 2, "deletions": 1, "lines": 3}, {"filePath": "src/site/xdoc/sqlmap-xml.xml", "insertions": 7, "deletions": 12, "lines": 19}, {"filePath": "src/site/xdoc/statement-builders.xml", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/site/zh/xdoc/configuration.xml", "insertions": 151, "deletions": 462, "lines": 613}, {"filePath": "src/site/zh/xdoc/dynamic-sql.xml", "insertions": 92, "deletions": 171, "lines": 263}, {"filePath": "src/site/zh/xdoc/getting-started.xml", "insertions": 39, "deletions": 219, "lines": 258}, {"filePath": "src/site/zh/xdoc/index.xml", "insertions": 21, "deletions": 21, "lines": 42}, {"filePath": "src/site/zh/xdoc/java-api.xml", "insertions": 6, "deletions": 6, "lines": 12}, {"filePath": "src/site/zh/xdoc/logging.xml", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/site/zh/xdoc/sqlmap-xml.xml", "insertions": 100, "deletions": 272, "lines": 372}, {"filePath": "src/site/zh/xdoc/statement-builders.xml", "insertions": 5, "deletions": 0, "lines": 5}, {"filePath": "src/test/java/org/apache/ibatis/BaseDataTest.java", "insertions": 6, "deletions": 6, "lines": 12}, {"filePath": "src/test/java/org/apache/ibatis/binding/BindingTest.java", "insertions": 50, "deletions": 7, "lines": 57}, {"filePath": "src/test/java/org/apache/ibatis/binding/BoundAuthorMapper.java", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "src/test/java/org/apache/ibatis/binding/BoundAuthorMapper.xml", "insertions": 9, "deletions": 9, "lines": 18}, {"filePath": "src/test/java/org/apache/ibatis/binding/BoundBlogMapper.java", "insertions": 32, "deletions": 4, "lines": 36}, {"filePath": "src/test/java/org/apache/ibatis/binding/BoundBlogMapper.xml", "insertions": 6, "deletions": 6, "lines": 12}, {"filePath": "src/test/java/org/apache/ibatis/binding/MapperWithOneAndMany.java", "insertions": 41, "deletions": 0, "lines": 41}, {"filePath": "src/test/java/org/apache/ibatis/binding/WrongMapperTest.java", "insertions": 29, "deletions": 0, "lines": 29}, {"filePath": "src/test/java/org/apache/ibatis/builder/AuthorMapper.xml", "insertions": 22, "deletions": 18, "lines": 40}, {"filePath": "src/test/java/org/apache/ibatis/builder/BlogMapper.xml", "insertions": 10, "deletions": 10, "lines": 20}, {"filePath": "src/test/java/org/apache/ibatis/builder/CachedAuthorMapper.xml", "insertions": 4, "deletions": 4, "lines": 8}, {"filePath": "src/test/java/org/apache/ibatis/builder/MapperConfig.xml", "insertions": 7, "deletions": 7, "lines": 14}, {"filePath": "src/test/java/org/apache/ibatis/builder/NestedBlogMapper.xml", "insertions": 7, "deletions": 7, "lines": 14}, {"filePath": "src/test/java/org/apache/ibatis/builder/PostMapper.xml", "insertions": 16, "deletions": 16, "lines": 32}, {"filePath": "src/test/java/org/apache/ibatis/builder/xml/dynamic/DynamicSqlSourceTest.java", "insertions": 14, "deletions": 0, "lines": 14}, {"filePath": "src/test/java/org/apache/ibatis/builder/xml/dynamic/ExpressionEvaluatorTest.java", "insertions": 5, "deletions": 2, "lines": 7}, {"filePath": "src/test/java/{ => org/apache/ibatis}/databases/blog/StoredProcedures.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/{ => org/apache/ibatis}/databases/blog/blog-derby-dataload.sql", "insertions": 0, "deletions": 0, "lines": 0}, {"filePath": "src/test/java/{ => org/apache/ibatis}/databases/blog/blog-derby-schema.sql", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "src/test/java/{ => org/apache/ibatis}/databases/blog/blog-derby.properties", "insertions": 0, "deletions": 0, "lines": 0}, {"filePath": "src/test/java/{ => org/apache/ibatis}/databases/jpetstore/jpetstore-hsqldb-dataload.sql", "insertions": 0, "deletions": 0, "lines": 0}, {"filePath": "src/test/java/{ => org/apache/ibatis}/databases/jpetstore/jpetstore-hsqldb-schema.sql", "insertions": 0, "deletions": 0, "lines": 0}, {"filePath": "src/test/java/{ => org/apache/ibatis}/databases/jpetstore/jpetstore-hsqldb.properties", "insertions": 0, "deletions": 0, "lines": 0}, {"filePath": "src/test/java/{ => org/apache/ibatis}/domain/blog/Author.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/{ => org/apache/ibatis}/domain/blog/Blog.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/{ => org/apache/ibatis}/domain/blog/BlogLite.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/{ => org/apache/ibatis}/domain/blog/Comment.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/{ => org/apache/ibatis}/domain/blog/ComplexImmutableAuthor.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/{ => org/apache/ibatis}/domain/blog/ComplexImmutableAuthorId.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/{ => org/apache/ibatis}/domain/blog/DraftPost.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/{ => org/apache/ibatis}/domain/blog/ImmutableAuthor.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/{ => org/apache/ibatis}/domain/blog/Post.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/{ => org/apache/ibatis}/domain/blog/PostLite.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/{ => org/apache/ibatis}/domain/blog/PostLiteId.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/{ => org/apache/ibatis}/domain/blog/Section.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/{ => org/apache/ibatis}/domain/blog/Tag.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/{ => org/apache/ibatis}/domain/blog/mappers/AuthorMapper.java", "insertions": 7, "deletions": 4, "lines": 11}, {"filePath": "src/test/java/{ => org/apache/ibatis}/domain/blog/mappers/AuthorMapperWithMultipleHandlers.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/{ => org/apache/ibatis}/domain/blog/mappers/AuthorMapperWithRowBounds.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/{ => org/apache/ibatis}/domain/blog/mappers/BlogMapper.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/{ => org/apache/ibatis}/domain/blog/mappers/CopyOfAuthorMapper.java", "insertions": 2, "deletions": 3, "lines": 5}, {"filePath": "src/test/java/{ => org/apache/ibatis}/domain/jpetstore/Account.java", "insertions": 3, "deletions": 1, "lines": 4}, {"filePath": "src/test/java/{ => org/apache/ibatis}/domain/jpetstore/Cart.java", "insertions": 8, "deletions": 6, "lines": 14}, {"filePath": "src/test/java/{ => org/apache/ibatis}/domain/jpetstore/CartItem.java", "insertions": 3, "deletions": 1, "lines": 4}, {"filePath": "src/test/java/{ => org/apache/ibatis}/domain/jpetstore/Category.java", "insertions": 3, "deletions": 1, "lines": 4}, {"filePath": "src/test/java/{ => org/apache/ibatis}/domain/jpetstore/Item.java", "insertions": 3, "deletions": 1, "lines": 4}, {"filePath": "src/test/java/{ => org/apache/ibatis}/domain/jpetstore/LineItem.java", "insertions": 3, "deletions": 1, "lines": 4}, {"filePath": "src/test/java/{ => org/apache/ibatis}/domain/jpetstore/Order.java", "insertions": 7, "deletions": 5, "lines": 12}, {"filePath": "src/test/java/{ => org/apache/ibatis}/domain/jpetstore/Product.java", "insertions": 3, "deletions": 1, "lines": 4}, {"filePath": "src/test/java/{ => org/apache/ibatis}/domain/jpetstore/Sequence.java", "insertions": 3, "deletions": 1, "lines": 4}, {"filePath": "src/test/java/{ => org/apache/ibatis}/domain/misc/CustomBeanWrapper.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/{ => org/apache/ibatis}/domain/misc/CustomBeanWrapperFactory.java", "insertions": 2, "deletions": 3, "lines": 5}, {"filePath": "src/test/java/{ => org/apache/ibatis}/domain/misc/Employee.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/{ => org/apache/ibatis}/domain/misc/RichType.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/{ => org/apache/ibatis}/domain/misc/generics/GenericAbstract.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/{ => org/apache/ibatis}/domain/misc/generics/GenericConcrete.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/{ => org/apache/ibatis}/domain/misc/generics/GenericInterface.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/{ => org/apache/ibatis}/domain/misc/generics/GenericSubclass.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/org/apache/ibatis/executor/BaseExecutorTest.java", "insertions": 7, "deletions": 8, "lines": 15}, {"filePath": "src/test/java/org/apache/ibatis/executor/ExecutorTestHelper.java", "insertions": 6, "deletions": 7, "lines": 13}, {"filePath": "src/test/java/org/apache/ibatis/executor/loader/CglibProxyTest.java", "insertions": 1, "deletions": 2, "lines": 3}, {"filePath": "src/test/java/org/apache/ibatis/executor/loader/JavassistProxyTest.java", "insertions": 1, "deletions": 2, "lines": 3}, {"filePath": "src/test/java/org/apache/ibatis/executor/loader/SerializableProxyTest.java", "insertions": 2, "deletions": 3, "lines": 5}, {"filePath": "src/test/java/org/apache/ibatis/parsing/GenericTokenParserTest.java", "insertions": 2, "deletions": 0, "lines": 2}, {"filePath": "src/test/java/org/apache/ibatis/reflection/MetaClassTest.java", "insertions": 3, "deletions": 2, "lines": 5}, {"filePath": "src/test/java/org/apache/ibatis/reflection/MetaObjectTest.java", "insertions": 25, "deletions": 26, "lines": 51}, {"filePath": "src/test/java/org/apache/ibatis/session/SqlSessionManagerTest.java", "insertions": 2, "deletions": 3, "lines": 5}, {"filePath": "src/test/java/org/apache/ibatis/session/SqlSessionTest.java", "insertions": 79, "deletions": 66, "lines": 145}, {"filePath": "src/test/java/org/apache/ibatis/submitted/association_nested/Folder.java", "insertions": 32, "deletions": 0, "lines": 32}, {"filePath": "src/test/java/org/apache/ibatis/submitted/association_nested/FolderFlatTree.java", "insertions": 33, "deletions": 0, "lines": 33}, {"filePath": "src/test/java/org/apache/ibatis/submitted/association_nested/FolderMapper.java", "insertions": 29, "deletions": 0, "lines": 29}, {"filePath": "src/test/java/org/apache/ibatis/submitted/association_nested/FolderMapper.xml", "insertions": 48, "deletions": 0, "lines": 48}, {"filePath": "src/test/java/org/apache/ibatis/submitted/association_nested/FolderMapperTest.java", "insertions": 71, "deletions": 0, "lines": 71}, {"filePath": "src/test/java/org/apache/ibatis/submitted/association_nested/mybatis-config.xml", "insertions": 33, "deletions": 0, "lines": 33}, {"filePath": "src/test/java/org/apache/ibatis/submitted/automapping/Article.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/org/apache/ibatis/submitted/automatic_lazy_loading/AutomaticLazyLoadingTest.java", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "src/test/java/org/apache/ibatis/submitted/automatic_lazy_loading/Element.java", "insertions": 15, "deletions": 16, "lines": 31}, {"filePath": "src/test/java/org/apache/ibatis/submitted/blocking_cache/BlockingCacheTest.java", "insertions": 95, "deletions": 0, "lines": 95}, {"filePath": "src/test/java/org/apache/ibatis/submitted/blocking_cache/CreateDB.sql", "insertions": 26, "deletions": 0, "lines": 26}, {"filePath": "src/test/java/org/apache/ibatis/submitted/blocking_cache/Person.java", "insertions": 67, "deletions": 0, "lines": 67}, {"filePath": "src/test/java/org/apache/ibatis/submitted/blocking_cache/PersonMapper.java", "insertions": 28, "deletions": 0, "lines": 28}, {"filePath": "src/test/java/org/apache/ibatis/submitted/blocking_cache/mybatis-config.xml", "insertions": 47, "deletions": 0, "lines": 47}, {"filePath": "src/test/java/org/apache/ibatis/submitted/cache/Person.java", "insertions": 44, "deletions": 45, "lines": 89}, {"filePath": "src/test/java/org/apache/ibatis/submitted/cache/PersonMapper.java", "insertions": 9, "deletions": 9, "lines": 18}, {"filePath": "src/test/java/org/apache/ibatis/submitted/call_setters_on_nulls/CallSettersOnNullsTest.java", "insertions": 6, "deletions": 1, "lines": 7}, {"filePath": "src/test/java/org/apache/ibatis/submitted/camelcase/CamelCaseMappingTest.java", "insertions": 36, "deletions": 36, "lines": 72}, {"filePath": "src/test/java/org/apache/ibatis/submitted/collectionparameters/CollectionParametersTest.java", "insertions": 102, "deletions": 0, "lines": 102}, {"filePath": "src/test/java/org/apache/ibatis/submitted/collectionparameters/CreateDB.sql", "insertions": 26, "deletions": 0, "lines": 26}, {"filePath": "src/test/java/org/apache/ibatis/submitted/collectionparameters/Mapper.java", "insertions": 27, "deletions": 0, "lines": 27}, {"filePath": "src/test/java/org/apache/ibatis/submitted/collectionparameters/Mapper.xml", "insertions": 48, "deletions": 0, "lines": 48}, {"filePath": "src/test/java/org/apache/ibatis/submitted/collectionparameters/User.java", "insertions": 38, "deletions": 0, "lines": 38}, {"filePath": "src/test/java/org/apache/ibatis/submitted/collectionparameters/mybatis-config.xml", "insertions": 40, "deletions": 0, "lines": 40}, {"filePath": "src/test/java/org/apache/ibatis/submitted/column_forwarding/Group.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/test/java/org/apache/ibatis/submitted/column_forwarding/Mapper.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/org/apache/ibatis/submitted/column_forwarding/User.java", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "src/test/java/org/apache/ibatis/submitted/deferload_common_property/Child.java", "insertions": 28, "deletions": 21, "lines": 49}, {"filePath": "src/test/java/org/apache/ibatis/submitted/deferload_common_property/ChildMapper.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/org/apache/ibatis/submitted/deferload_common_property/CommonPropertyDeferLoadError.java", "insertions": 64, "deletions": 61, "lines": 125}, {"filePath": "src/test/java/org/apache/ibatis/submitted/deferload_common_property/Father.java", "insertions": 10, "deletions": 6, "lines": 16}, {"filePath": "src/test/java/org/apache/ibatis/submitted/deferload_common_property/FatherMapper.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/org/apache/ibatis/submitted/duplicate_resource_loaded/Config.xml", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/org/apache/ibatis/submitted/extendresultmap/TestMapperX.java", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "src/test/java/org/apache/ibatis/submitted/extendresultmap/TestMapperY.java", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "src/test/java/org/apache/ibatis/submitted/extends_with_constructor/NpeExtendsTest.java", "insertions": 60, "deletions": 60, "lines": 120}, {"filePath": "src/test/java/org/apache/ibatis/submitted/extends_with_constructor/Student.java", "insertions": 27, "deletions": 21, "lines": 48}, {"filePath": "src/test/java/org/apache/ibatis/submitted/extends_with_constructor/StudentConstructor.java", "insertions": 44, "deletions": 35, "lines": 79}, {"filePath": "src/test/java/org/apache/ibatis/submitted/extends_with_constructor/StudentConstructorMapper.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/test/java/org/apache/ibatis/submitted/extends_with_constructor/StudentMapper.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/org/apache/ibatis/submitted/extends_with_constructor/Teacher.java", "insertions": 27, "deletions": 21, "lines": 48}, {"filePath": "src/test/java/org/apache/ibatis/submitted/extends_with_constructor/TeacherMapper.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/org/apache/ibatis/submitted/flush_statement_npe/FlushStatementNpeTest.java", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "src/test/java/org/apache/ibatis/submitted/heavy_initial_load/Code.java", "insertions": 1029, "deletions": 0, "lines": 1029}, {"filePath": "src/test/java/org/apache/ibatis/submitted/heavy_initial_load/HeavyInitialLoadTest.java", "insertions": 108, "deletions": 0, "lines": 108}, {"filePath": "src/test/java/org/apache/ibatis/submitted/heavy_initial_load/Thing.java", "insertions": 30, "deletions": 0, "lines": 30}, {"filePath": "src/test/java/org/apache/ibatis/submitted/heavy_initial_load/ThingMapper.java", "insertions": 23, "deletions": 0, "lines": 23}, {"filePath": "src/test/java/org/apache/ibatis/submitted/heavy_initial_load/ThingMapper.xml", "insertions": 1034, "deletions": 0, "lines": 1034}, {"filePath": "src/test/java/org/apache/ibatis/submitted/heavy_initial_load/ibatisConfig.xml", "insertions": 42, "deletions": 0, "lines": 42}, {"filePath": "src/test/java/org/apache/ibatis/submitted/immutable_constructor/CreateDB.sql", "insertions": 23, "deletions": 0, "lines": 23}, {"filePath": "src/test/java/org/apache/ibatis/submitted/immutable_constructor/ImmutablePOJO.java", "insertions": 39, "deletions": 0, "lines": 39}, {"filePath": "src/test/java/org/apache/ibatis/submitted/immutable_constructor/ImmutablePOJOMapper.java", "insertions": 25, "deletions": 0, "lines": 25}, {"filePath": "src/test/java/org/apache/ibatis/submitted/immutable_constructor/ImmutablePOJOMapper.xml", "insertions": 40, "deletions": 0, "lines": 40}, {"filePath": "src/test/java/org/apache/ibatis/submitted/immutable_constructor/ImmutablePOJOTest.java", "insertions": 95, "deletions": 0, "lines": 95}, {"filePath": "src/test/java/org/apache/ibatis/submitted/immutable_constructor/ibatisConfig.xml", "insertions": 42, "deletions": 0, "lines": 42}, {"filePath": "src/test/java/org/apache/ibatis/submitted/inline_association_with_dot/Element.java", "insertions": 14, "deletions": 14, "lines": 28}, {"filePath": "src/test/java/org/apache/ibatis/submitted/inline_association_with_dot/InlineCollectionWithDotTest.java", "insertions": 27, "deletions": 28, "lines": 55}, {"filePath": "src/test/java/org/apache/ibatis/submitted/javassist/User.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/test/java/org/apache/ibatis/submitted/lazyload_common_property/Child.java", "insertions": 18, "deletions": 18, "lines": 36}, {"filePath": "src/test/java/org/apache/ibatis/submitted/lazyload_common_property/ChildMapper.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/org/apache/ibatis/submitted/lazyload_common_property/CommonPropertyLazyLoadError.java", "insertions": 40, "deletions": 40, "lines": 80}, {"filePath": "src/test/java/org/apache/ibatis/submitted/lazyload_common_property/Father.java", "insertions": 12, "deletions": 12, "lines": 24}, {"filePath": "src/test/java/org/apache/ibatis/submitted/lazyload_common_property/FatherMapper.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/org/apache/ibatis/submitted/lazyload_common_property/GrandFather.java", "insertions": 6, "deletions": 6, "lines": 12}, {"filePath": "src/test/java/org/apache/ibatis/submitted/lazyload_common_property/GrandFatherMapper.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/org/apache/ibatis/submitted/lazyload_proxyfactory_comparison/AbstractLazyTest.java", "insertions": 25, "deletions": 25, "lines": 50}, {"filePath": "src/test/java/org/apache/ibatis/submitted/lazyload_proxyfactory_comparison/CglibLazyTest.java", "insertions": 4, "deletions": 4, "lines": 8}, {"filePath": "src/test/java/org/apache/ibatis/submitted/lazyload_proxyfactory_comparison/DefaultLazyTest.java", "insertions": 4, "deletions": 4, "lines": 8}, {"filePath": "src/test/java/org/apache/ibatis/submitted/lazyload_proxyfactory_comparison/JavassistLazyTest.java", "insertions": 4, "deletions": 4, "lines": 8}, {"filePath": "src/test/java/org/apache/ibatis/submitted/lazyload_proxyfactory_comparison/Mapper.java", "insertions": 8, "deletions": 8, "lines": 16}, {"filePath": "src/test/java/org/apache/ibatis/submitted/lazyload_proxyfactory_comparison/Owned.java", "insertions": 2, "deletions": 3, "lines": 5}, {"filePath": "src/test/java/org/apache/ibatis/submitted/lazyload_proxyfactory_comparison/UserWithGetObjectWithInterface.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/org/apache/ibatis/submitted/lazyload_proxyfactory_comparison/UserWithGetObjectWithoutInterface.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/org/apache/ibatis/submitted/lazyload_proxyfactory_comparison/UserWithGetXxxWithInterface.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/org/apache/ibatis/submitted/missing_id_property/CarMapper.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/org/apache/ibatis/submitted/missing_id_property/Part.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/test/java/org/apache/ibatis/submitted/multipleresultsetswithassociation/CreateDB1.sql", "insertions": 33, "deletions": 0, "lines": 33}, {"filePath": "src/test/java/org/apache/ibatis/submitted/multipleresultsetswithassociation/CreateDB2.sql", "insertions": 30, "deletions": 0, "lines": 30}, {"filePath": "src/test/java/org/apache/ibatis/submitted/multipleresultsetswithassociation/CreateDB3.sql", "insertions": 33, "deletions": 0, "lines": 33}, {"filePath": "src/test/java/org/apache/ibatis/submitted/multipleresultsetswithassociation/Mapper.java", "insertions": 24, "deletions": 0, "lines": 24}, {"filePath": "src/test/java/org/apache/ibatis/submitted/multipleresultsetswithassociation/Mapper.xml", "insertions": 38, "deletions": 0, "lines": 38}, {"filePath": "src/test/java/org/apache/ibatis/submitted/multipleresultsetswithassociation/MultipleResultSetTest.java", "insertions": 95, "deletions": 0, "lines": 95}, {"filePath": "src/test/java/org/apache/ibatis/submitted/multipleresultsetswithassociation/OrderDetail.java", "insertions": 66, "deletions": 0, "lines": 66}, {"filePath": "src/test/java/org/apache/ibatis/submitted/multipleresultsetswithassociation/OrderHeader.java", "insertions": 39, "deletions": 0, "lines": 39}, {"filePath": "src/test/java/org/apache/ibatis/submitted/multipleresultsetswithassociation/mybatis-config.xml", "insertions": 45, "deletions": 0, "lines": 45}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nested_query_cache/AuthorMapper.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nested_query_cache/AuthorMapper.xml", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nested_query_cache/BlogMapper.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nested_query_cache/BlogMapper.xml", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nested_query_cache/MapperConfig.xml", "insertions": 6, "deletions": 6, "lines": 12}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nested_query_cache/NestedQueryCacheTest.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler_association/Account.java", "insertions": 61, "deletions": 0, "lines": 61}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler_association/AccountAddress.java", "insertions": 49, "deletions": 0, "lines": 49}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler_association/AccountRepository.xml", "insertions": 48, "deletions": 0, "lines": 48}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler_association/CreateDB.sql", "insertions": 37, "deletions": 0, "lines": 37}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler_association/NestedResultHandlerAssociationTest.java", "insertions": 106, "deletions": 0, "lines": 106}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler_association/mybatis-config.xml", "insertions": 40, "deletions": 0, "lines": 40}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler_multiple_association/Binome.java", "insertions": 66, "deletions": 0, "lines": 66}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler_multiple_association/ChildBean.java", "insertions": 42, "deletions": 0, "lines": 42}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler_multiple_association/CreateDB.sql", "insertions": 45, "deletions": 0, "lines": 45}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler_multiple_association/NestedResultHandlerMultipleAssociationTest.java", "insertions": 92, "deletions": 0, "lines": 92}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler_multiple_association/ParentBean.java", "insertions": 43, "deletions": 0, "lines": 43}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler_multiple_association/mapper.xml", "insertions": 52, "deletions": 0, "lines": 52}, {"filePath": "src/test/java/org/apache/ibatis/submitted/nestedresulthandler_multiple_association/mybatis-config.xml", "insertions": 40, "deletions": 0, "lines": 40}, {"filePath": "src/test/java/org/apache/ibatis/submitted/not_null_column/Base.java", "insertions": 14, "deletions": 14, "lines": 28}, {"filePath": "src/test/java/org/apache/ibatis/submitted/not_null_column/Child.java", "insertions": 6, "deletions": 6, "lines": 12}, {"filePath": "src/test/java/org/apache/ibatis/submitted/not_null_column/Father.java", "insertions": 27, "deletions": 21, "lines": 48}, {"filePath": "src/test/java/org/apache/ibatis/submitted/not_null_column/FatherMapper.java", "insertions": 8, "deletions": 9, "lines": 17}, {"filePath": "src/test/java/org/apache/ibatis/submitted/not_null_column/NotNullColumnTest.java", "insertions": 89, "deletions": 89, "lines": 178}, {"filePath": "src/test/java/org/apache/ibatis/submitted/primitive_array/CreateDB.sql", "insertions": 30, "deletions": 0, "lines": 30}, {"filePath": "src/test/java/org/apache/ibatis/submitted/primitive_array/Mapper.java", "insertions": 22, "deletions": 0, "lines": 22}, {"filePath": "src/test/java/org/apache/ibatis/submitted/primitive_array/Mapper.xml", "insertions": 40, "deletions": 0, "lines": 40}, {"filePath": "src/test/java/org/apache/ibatis/submitted/primitive_array/PrimitiveArrayTest.java", "insertions": 66, "deletions": 0, "lines": 66}, {"filePath": "src/test/java/org/apache/ibatis/submitted/primitive_array/User.java", "insertions": 47, "deletions": 0, "lines": 47}, {"filePath": "src/test/java/org/apache/ibatis/submitted/primitive_array/mybatis-config.xml", "insertions": 40, "deletions": 0, "lines": 40}, {"filePath": "src/test/java/org/apache/ibatis/submitted/quotedcolumnnames/QuotedColumnNamesTest.java", "insertions": 57, "deletions": 57, "lines": 114}, {"filePath": "src/test/java/org/apache/ibatis/submitted/result_handler_type/Person.java", "insertions": 18, "deletions": 18, "lines": 36}, {"filePath": "src/test/java/org/apache/ibatis/submitted/rounding/User.java", "insertions": 5, "deletions": 5, "lines": 10}, {"filePath": "src/test/java/org/apache/ibatis/submitted/selectkey/AnnotatedMapper.xml", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/org/apache/ibatis/submitted/serializecircular/Attribute.java", "insertions": 9, "deletions": 9, "lines": 18}, {"filePath": "src/test/java/org/apache/ibatis/submitted/serializecircular/AttributeMapper.java", "insertions": 1, "deletions": 2, "lines": 3}, {"filePath": "src/test/java/org/apache/ibatis/submitted/serializecircular/Department.java", "insertions": 30, "deletions": 30, "lines": 60}, {"filePath": "src/test/java/org/apache/ibatis/submitted/serializecircular/DepartmentMapper.java", "insertions": 1, "deletions": 2, "lines": 3}, {"filePath": "src/test/java/org/apache/ibatis/submitted/serializecircular/Person.java", "insertions": 17, "deletions": 17, "lines": 34}, {"filePath": "src/test/java/org/apache/ibatis/submitted/serializecircular/PersonMapper.java", "insertions": 2, "deletions": 3, "lines": 5}, {"filePath": "src/test/java/org/apache/ibatis/submitted/serializecircular/SerializeCircularTest.java", "insertions": 88, "deletions": 88, "lines": 176}, {"filePath": "src/test/java/org/apache/ibatis/submitted/serializecircular/UtilityTester.java", "insertions": 33, "deletions": 33, "lines": 66}, {"filePath": "src/test/java/org/apache/ibatis/submitted/substitution_in_annots/SubstitutionInAnnotsMapper.java", "insertions": 7, "deletions": 7, "lines": 14}, {"filePath": "src/test/java/org/apache/ibatis/submitted/substitution_in_annots/SubstitutionInAnnotsTest.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/test/java/org/apache/ibatis/submitted/uuid_test/CreateDB.sql", "insertions": 24, "deletions": 0, "lines": 24}, {"filePath": "src/test/java/org/apache/ibatis/submitted/uuid_test/Mapper.java", "insertions": 25, "deletions": 0, "lines": 25}, {"filePath": "src/test/java/org/apache/ibatis/submitted/uuid_test/Mapper.xml", "insertions": 31, "deletions": 0, "lines": 31}, {"filePath": "src/test/java/org/apache/ibatis/submitted/uuid_test/UUIDTest.java", "insertions": 80, "deletions": 0, "lines": 80}, {"filePath": "src/test/java/org/apache/ibatis/submitted/uuid_test/UUIDTypeHandler.java", "insertions": 55, "deletions": 0, "lines": 55}, {"filePath": "src/test/java/org/apache/ibatis/submitted/uuid_test/User.java", "insertions": 40, "deletions": 0, "lines": 40}, {"filePath": "src/test/java/org/apache/ibatis/submitted/uuid_test/mybatis-config.xml", "insertions": 45, "deletions": 0, "lines": 45}, {"filePath": "src/test/java/org/apache/ibatis/submitted/xml_external_ref/MultipleIncludeTest.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/test/java/org/apache/ibatis/submitted/xml_external_ref/MultipleReverseIncludeTest.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/test/java/org/apache/ibatis/submitted/xml_external_ref/ParameterMapReferenceTest.java", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "src/test/java/org/apache/ibatis/submitted/xml_external_ref/ReverseIncludeTest.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/test/java/org/apache/ibatis/submitted/xml_references/EnumWithOgnlTest.java", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "src/test/java/org/apache/ibatis/type/SimpleTypeRegistryTest.java", "insertions": 1, "deletions": 2, "lines": 3}, {"filePath": "src/test/java/org/apache/ibatis/type/TypeAliasRegistryTest.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/test/java/org/apache/ibatis/type/TypeHandlerRegistryTest.java", "insertions": 17, "deletions": 2, "lines": 19}], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": "tooManyFiles"}, {"commitHash": "82165b527780ab147b25789d574a800f5ca9e888", "commitGHEventType": "referenced", "commitUser": "emacarron", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "44fbe66f6d5edab9e36c05c50bb878baa7553327", "commitGHEventType": "referenced", "commitUser": "emacarron", "commitParents": [], "nameRev": "", "commitMessage": "", "commitDateTime": "", "authoredDateTime": "", "commitGitStats": [], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "958ed857da3cd788e37c5a6b9caa666b2f33c385", "commitGHEventType": "referenced", "commitUser": "kazuki43zoo", "commitParents": ["d74d0bd90be915a6fe18b6ab33c6e608606a3dd4", "7ed35769923d3478f0350ed4e21d9cfdaf1e20de"], "nameRev": "958ed857da3cd788e37c5a6b9caa666b2f33c385 tags/mybatis-3.5.0~90^2", "commitMessage": "Merge pull request #1 from sooxin/document-patch\n\nAdd full stop", "commitDateTime": "2018-05-31 12:26:57", "authoredDateTime": "2018-05-31 12:26:57", "commitGitStats": [{"filePath": "src/site/xdoc/sqlmap-xml.xml", "insertions": 1, "deletions": 1, "lines": 2}], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "e00259d0cd144dc2c0dcf292a2f25390bd9e3be5", "commitGHEventType": "referenced", "commitUser": "harawata", "commitParents": ["317fa72a4050ed59522826d5643dd6232e6af7b2", "c2048578eb7c132a93f0ae4b256101d13a11877d"], "nameRev": "e00259d0cd144dc2c0dcf292a2f25390bd9e3be5 tags/mybatis-3.5.0~68^2~11", "commitMessage": "Merge pull request #1 from mybatis/master\n\nUpdate", "commitDateTime": "2018-04-19 18:05:46", "authoredDateTime": "2018-04-19 18:05:46", "commitGitStats": [{"filePath": ".gitignore", "insertions": 1, "deletions": 0, "lines": 1}, {"filePath": ".mvn/wrapper/MavenWrapperDownloader.java", "insertions": 110, "deletions": 0, "lines": 110}, {"filePath": ".mvn/wrapper/maven-wrapper.jar", "insertions": 0, "deletions": 0, "lines": 0}, {"filePath": ".mvn/wrapper/maven-wrapper.properties", "insertions": 2, "deletions": 1, "lines": 3}, {"filePath": ".travis.yml", "insertions": 1, "deletions": 7, "lines": 8}, {"filePath": "mvnw", "insertions": 63, "deletions": 2, "lines": 65}, {"filePath": "mvnw.cmd", "insertions": 19, "deletions": 1, "lines": 20}, {"filePath": "pom.xml", "insertions": 38, "deletions": 92, "lines": 130}, {"filePath": "src/main/java/org/apache/ibatis/annotations/Lang.java", "insertions": 4, "deletions": 2, "lines": 6}, {"filePath": "src/main/java/org/apache/ibatis/annotations/Options.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/main/java/org/apache/ibatis/binding/MapperMethod.java", "insertions": 24, "deletions": 6, "lines": 30}, {"filePath": "src/main/java/org/apache/ibatis/builder/BaseBuilder.java", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "src/main/java/org/apache/ibatis/builder/MapperBuilderAssistant.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/main/java/org/apache/ibatis/builder/annotation/MapperAnnotationBuilder.java", "insertions": 28, "deletions": 17, "lines": 45}, {"filePath": "src/main/java/org/apache/ibatis/builder/xml/XMLMapperBuilder.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/main/java/org/apache/ibatis/builder/xml/XMLStatementBuilder.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/main/java/org/apache/ibatis/executor/keygen/Jdbc3KeyGenerator.java", "insertions": 6, "deletions": 9, "lines": 15}, {"filePath": "src/main/java/org/apache/ibatis/logging/log4j2/Log4j2AbstractLoggerImpl.java", "insertions": 7, "deletions": 6, "lines": 13}, {"filePath": "src/main/java/org/apache/ibatis/mapping/BoundSql.java", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "src/main/java/org/apache/ibatis/reflection/Jdk.java", "insertions": 14, "deletions": 2, "lines": 16}, {"filePath": "src/main/java/org/apache/ibatis/reflection/OptionalUtil.java", "insertions": 33, "deletions": 0, "lines": 33}, {"filePath": "src/main/java/org/apache/ibatis/reflection/ParamNameResolver.java", "insertions": 3, "deletions": 4, "lines": 7}, {"filePath": "src/main/java/org/apache/ibatis/reflection/Reflector.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/main/java/org/apache/ibatis/reflection/factory/DefaultObjectFactory.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/main/java/org/apache/ibatis/scripting/LanguageDriverRegistry.java", "insertions": 9, "deletions": 9, "lines": 18}, {"filePath": "src/main/java/org/apache/ibatis/scripting/xmltags/ExpressionEvaluator.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/main/java/org/apache/ibatis/scripting/xmltags/OgnlCache.java", "insertions": 4, "deletions": 2, "lines": 6}, {"filePath": "src/main/java/org/apache/ibatis/scripting/xmltags/OgnlClassResolver.java", "insertions": 5, "deletions": 23, "lines": 28}, {"filePath": "src/main/java/org/apache/ibatis/scripting/xmltags/OgnlMemberAccess.java", "insertions": 64, "deletions": 0, "lines": 64}, {"filePath": "src/main/java/org/apache/ibatis/scripting/xmltags/XMLScriptBuilder.java", "insertions": 26, "deletions": 32, "lines": 58}, {"filePath": "src/main/java/org/apache/ibatis/session/Configuration.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/main/java/org/apache/ibatis/transaction/jdbc/JdbcTransaction.java", "insertions": 4, "deletions": 5, "lines": 9}, {"filePath": "src/main/java/org/apache/ibatis/type/BaseTypeHandler.java", "insertions": 9, "deletions": 1, "lines": 10}, {"filePath": "src/main/java/org/apache/ibatis/type/Java8TypeHandlersRegistrar.java", "insertions": 0, "deletions": 53, "lines": 53}, {"filePath": "src/main/java/org/apache/ibatis/type/TypeHandlerRegistry.java", "insertions": 25, "deletions": 5, "lines": 30}, {"filePath": "src/site/es/xdoc/java-api.xml", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "src/site/es/xdoc/sqlmap-xml.xml", "insertions": 7, "deletions": 0, "lines": 7}, {"filePath": "src/site/ja/xdoc/java-api.xml", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "src/site/ja/xdoc/sqlmap-xml.xml", "insertions": 4, "deletions": 0, "lines": 4}, {"filePath": "src/site/ko/xdoc/java-api.xml", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "src/site/ko/xdoc/sqlmap-xml.xml", "insertions": 9, "deletions": 2, "lines": 11}, {"filePath": "src/site/xdoc/java-api.xml", "insertions": 4, "deletions": 3, "lines": 7}, {"filePath": "src/site/xdoc/sqlmap-xml.xml", "insertions": 8, "deletions": 1, "lines": 9}, {"filePath": "src/site/zh/xdoc/dynamic-sql.xml", "insertions": 35, "deletions": 34, "lines": 69}, {"filePath": "src/site/zh/xdoc/java-api.xml", "insertions": 111, "deletions": 446, "lines": 557}, {"filePath": "src/site/zh/xdoc/logging.xml", "insertions": 31, "deletions": 61, "lines": 92}, {"filePath": "src/site/zh/xdoc/sqlmap-xml.xml", "insertions": 8, "deletions": 1, "lines": 9}, {"filePath": "src/test/java/org/apache/ibatis/builder/ProblemMapper.xml", "insertions": 28, "deletions": 0, "lines": 28}, {"filePath": "src/test/java/org/apache/ibatis/builder/XmlMapperBuilderTest.java", "insertions": 17, "deletions": 1, "lines": 18}, {"filePath": "src/test/java/org/apache/ibatis/builder/xml/dynamic/ExpressionEvaluatorTest.java", "insertions": 12, "deletions": 4, "lines": 16}, {"filePath": "src/test/java/org/apache/ibatis/jdbc/ScriptRunnerTest.java", "insertions": 15, "deletions": 13, "lines": 28}, {"filePath": "src/test/java/org/apache/ibatis/reflection/factory/DefaultObjectFactoryTest.java", "insertions": 49, "deletions": 5, "lines": 54}, {"filePath": "src/test/java/org/apache/ibatis/scripting/LanguageDriverRegistryTest.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/test/java/org/apache/ibatis/submitted/keygen/Jdbc3KeyGeneratorTest.java", "insertions": 2, "deletions": 4, "lines": 6}, {"filePath": "src/test/java/org/apache/ibatis/submitted/usesjava8/keycolumn/InsertTest.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/org/apache/ibatis/submitted/usesjava8/multiple_resultsets/MultipleResultTest.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/org/apache/ibatis/submitted/usesjava8/optional_on_mapper_method/CreateDB.sql", "insertions": 25, "deletions": 0, "lines": 25}, {"filePath": "src/test/java/org/apache/ibatis/submitted/usesjava8/optional_on_mapper_method/Mapper.java", "insertions": 30, "deletions": 0, "lines": 30}, {"filePath": "src/test/java/org/apache/ibatis/submitted/usesjava8/optional_on_mapper_method/Mapper.xml", "insertions": 29, "deletions": 0, "lines": 29}, {"filePath": "src/test/java/org/apache/ibatis/submitted/usesjava8/optional_on_mapper_method/OptionalOnMapperMethodTest.java", "insertions": 136, "deletions": 0, "lines": 136}, {"filePath": "src/test/java/org/apache/ibatis/submitted/usesjava8/optional_on_mapper_method/User.java", "insertions": 38, "deletions": 0, "lines": 38}, {"filePath": "src/test/java/org/apache/ibatis/submitted/usesjava8/optional_on_mapper_method/mybatis-config.xml", "insertions": 42, "deletions": 0, "lines": 42}, {"filePath": "src/test/java/org/apache/ibatis/submitted/usesjava8/postgres_genkeys/PostgresGeneratedKeysTest.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/org/apache/ibatis/submitted/usesjava8/refcursor/RefCursorTest.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/test/java/org/apache/ibatis/type/TypeHandlerRegistryTest.java", "insertions": 9, "deletions": 1, "lines": 10}, {"filePath": "travis/install.sh", "insertions": 2, "deletions": 11, "lines": 13}], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": "tooManyFiles"}, {"commitHash": "f56f3e769d3830ef9d53682739ce8eeb8bc114a3", "commitGHEventType": "referenced", "commitUser": "harawata", "commitParents": ["e5d9bda13e601c8cbd6714af3ba2eab9647fc4af", "206fc3c51146473e280925f81920a20c48fa1422"], "nameRev": "f56f3e769d3830ef9d53682739ce8eeb8bc114a3 tags/mybatis-3.5.2~23^2~2", "commitMessage": "Merge pull request #1 from rikiel/patch-1\n\nCreating dynamic SQL using annotations and <script>", "commitDateTime": "2019-06-17 14:00:47", "authoredDateTime": "2019-06-17 14:00:47", "commitGitStats": [{"filePath": "src/site/xdoc/dynamic-sql.xml", "insertions": 14, "deletions": 0, "lines": 14}], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}, {"commitHash": "59c61ec07b406d747215b61e61865b9db5c18693", "commitGHEventType": "referenced", "commitUser": "kazuki43zoo", "commitParents": ["4b91bc75f873856557e36c6a0a9c26a50482729f", "002a525da1868e9fc95cd2a87d31b197ae5100be"], "nameRev": "59c61ec07b406d747215b61e61865b9db5c18693 tags/mybatis-3.5.3~13^2~3", "commitMessage": "Merge pull request #1 from mybatis/master\n\nfeat: pull update", "commitDateTime": "2019-05-21 22:37:23", "authoredDateTime": "2019-05-21 22:37:23", "commitGitStats": [{"filePath": ".editorconfig", "insertions": 8, "deletions": 0, "lines": 8}, {"filePath": ".travis.yml", "insertions": 8, "deletions": 0, "lines": 8}, {"filePath": "ISSUE_TEMPLATE.md", "insertions": 3, "deletions": 0, "lines": 3}, {"filePath": "README.md", "insertions": 1, "deletions": 0, "lines": 1}, {"filePath": "pom.xml", "insertions": 20, "deletions": 14, "lines": 34}, {"filePath": "src/main/java/org/apache/ibatis/annotations/DeleteProvider.java", "insertions": 28, "deletions": 2, "lines": 30}, {"filePath": "src/main/java/org/apache/ibatis/annotations/InsertProvider.java", "insertions": 28, "deletions": 2, "lines": 30}, {"filePath": "src/main/java/org/apache/ibatis/annotations/SelectProvider.java", "insertions": 28, "deletions": 2, "lines": 30}, {"filePath": "src/main/java/org/apache/ibatis/annotations/UpdateProvider.java", "insertions": 28, "deletions": 2, "lines": 30}, {"filePath": "src/main/java/org/apache/ibatis/builder/MapperBuilderAssistant.java", "insertions": 5, "deletions": 6, "lines": 11}, {"filePath": "src/main/java/org/apache/ibatis/builder/annotation/MapperAnnotationBuilder.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/main/java/org/apache/ibatis/builder/annotation/ProviderContext.java", "insertions": 15, "deletions": 2, "lines": 17}, {"filePath": "src/main/java/org/apache/ibatis/builder/annotation/ProviderMethodResolver.java", "insertions": 75, "deletions": 0, "lines": 75}, {"filePath": "src/main/java/org/apache/ibatis/builder/annotation/ProviderSqlSource.java", "insertions": 23, "deletions": 20, "lines": 43}, {"filePath": "src/main/java/org/apache/ibatis/builder/xml/XMLStatementBuilder.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/main/java/org/apache/ibatis/datasource/pooled/PooledDataSource.java", "insertions": 19, "deletions": 0, "lines": 19}, {"filePath": "src/main/java/org/apache/ibatis/datasource/unpooled/UnpooledDataSource.java", "insertions": 23, "deletions": 0, "lines": 23}, {"filePath": "src/main/java/org/apache/ibatis/executor/keygen/Jdbc3KeyGenerator.java", "insertions": 16, "deletions": 0, "lines": 16}, {"filePath": "src/main/java/org/apache/ibatis/executor/resultset/DefaultResultSetHandler.java", "insertions": 7, "deletions": 8, "lines": 15}, {"filePath": "src/main/java/org/apache/ibatis/scripting/LanguageDriverRegistry.java", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "src/main/java/org/apache/ibatis/session/Configuration.java", "insertions": 11, "deletions": 0, "lines": 11}, {"filePath": "src/main/java/org/apache/ibatis/type/LocalDateTimeTypeHandler.java", "insertions": 5, "deletions": 16, "lines": 21}, {"filePath": "src/main/java/org/apache/ibatis/type/LocalDateTypeHandler.java", "insertions": 5, "deletions": 16, "lines": 21}, {"filePath": "src/main/java/org/apache/ibatis/type/LocalTimeTypeHandler.java", "insertions": 5, "deletions": 16, "lines": 21}, {"filePath": "src/site/es/xdoc/configuration.xml", "insertions": 3, "deletions": 1, "lines": 4}, {"filePath": "src/site/es/xdoc/getting-started.xml", "insertions": 4, "deletions": 16, "lines": 20}, {"filePath": "src/site/es/xdoc/java-api.xml", "insertions": 55, "deletions": 22, "lines": 77}, {"filePath": "src/site/fr/xdoc/getting-started.xml", "insertions": 5, "deletions": 17, "lines": 22}, {"filePath": "src/site/ja/xdoc/configuration.xml", "insertions": 4, "deletions": 2, "lines": 6}, {"filePath": "src/site/ja/xdoc/getting-started.xml", "insertions": 4, "deletions": 16, "lines": 20}, {"filePath": "src/site/ja/xdoc/java-api.xml", "insertions": 35, "deletions": 22, "lines": 57}, {"filePath": "src/site/ko/xdoc/configuration.xml", "insertions": 3, "deletions": 1, "lines": 4}, {"filePath": "src/site/ko/xdoc/getting-started.xml", "insertions": 5, "deletions": 17, "lines": 22}, {"filePath": "src/site/ko/xdoc/java-api.xml", "insertions": 33, "deletions": 22, "lines": 55}, {"filePath": "src/site/xdoc/configuration.xml", "insertions": 3, "deletions": 2, "lines": 5}, {"filePath": "src/site/xdoc/getting-started.xml", "insertions": 4, "deletions": 16, "lines": 20}, {"filePath": "src/site/xdoc/java-api.xml", "insertions": 37, "deletions": 25, "lines": 62}, {"filePath": "src/site/zh/xdoc/configuration.xml", "insertions": 3, "deletions": 1, "lines": 4}, {"filePath": "src/site/zh/xdoc/dynamic-sql.xml", "insertions": 30, "deletions": 30, "lines": 60}, {"filePath": "src/site/zh/xdoc/getting-started.xml", "insertions": 4, "deletions": 16, "lines": 20}, {"filePath": "src/site/zh/xdoc/java-api.xml", "insertions": 36, "deletions": 21, "lines": 57}, {"filePath": "src/site/zh/xdoc/logging.xml", "insertions": 23, "deletions": 39, "lines": 62}, {"filePath": "src/test/java/org/apache/ibatis/datasource/unpooled/NetworkTimeoutTest.java", "insertions": 50, "deletions": 0, "lines": 50}, {"filePath": "src/test/java/org/apache/ibatis/submitted/constructor_automapping/Article.java", "insertions": 47, "deletions": 0, "lines": 47}, {"filePath": "src/test/java/org/apache/ibatis/submitted/constructor_automapping/Author.java", "insertions": 39, "deletions": 0, "lines": 39}, {"filePath": "src/test/java/org/apache/ibatis/submitted/constructor_automapping/ConstructorAutomappingTest.java", "insertions": 62, "deletions": 0, "lines": 62}, {"filePath": "src/test/java/org/apache/ibatis/submitted/constructor_automapping/CreateDB.sql", "insertions": 37, "deletions": 0, "lines": 37}, {"filePath": "src/test/java/org/apache/ibatis/submitted/constructor_automapping/Mapper.java", "insertions": 24, "deletions": 0, "lines": 24}, {"filePath": "src/test/java/org/apache/ibatis/submitted/constructor_automapping/Mapper.xml", "insertions": 47, "deletions": 0, "lines": 47}, {"filePath": "src/test/java/org/apache/ibatis/submitted/constructor_automapping/mybatis-config.xml", "insertions": 42, "deletions": 0, "lines": 42}, {"filePath": "src/test/java/org/apache/ibatis/submitted/constructor_columnprefix/Mapper.xml", "insertions": 1, "deletions": 2, "lines": 3}, {"filePath": "src/test/java/org/apache/ibatis/submitted/cursor_simple/PostgresCursorTest.java", "insertions": 4, "deletions": 22, "lines": 26}, {"filePath": "src/test/java/org/apache/ibatis/submitted/keycolumn/CreateDB.sql", "insertions": 3, "deletions": 1, "lines": 4}, {"filePath": "src/test/java/org/apache/ibatis/submitted/keycolumn/InsertTest.java", "insertions": 5, "deletions": 22, "lines": 27}, {"filePath": "src/test/java/org/apache/ibatis/submitted/keygen/CountryMapper.java", "insertions": 9, "deletions": 0, "lines": 9}, {"filePath": "src/test/java/org/apache/ibatis/submitted/keygen/Jdbc3KeyGeneratorTest.java", "insertions": 44, "deletions": 0, "lines": 44}, {"filePath": "src/test/java/org/apache/ibatis/submitted/localtime/CreateDB.sql", "insertions": 25, "deletions": 0, "lines": 25}, {"filePath": "src/test/java/org/apache/ibatis/submitted/localtime/LocalTimeTest.java", "insertions": 72, "deletions": 0, "lines": 72}, {"filePath": "src/test/java/org/apache/ibatis/submitted/localtime/Mapper.java", "insertions": 29, "deletions": 0, "lines": 29}, {"filePath": "src/test/java/org/apache/ibatis/submitted/localtime/Record.java", "insertions": 41, "deletions": 0, "lines": 41}, {"filePath": "src/test/java/org/apache/ibatis/submitted/localtime/mybatis-config.xml", "insertions": 42, "deletions": 0, "lines": 42}, {"filePath": "src/test/java/org/apache/ibatis/submitted/multiple_resultsets/CreateDB.sql", "insertions": 3, "deletions": 1, "lines": 4}, {"filePath": "src/test/java/org/apache/ibatis/submitted/multiple_resultsets/MultipleResultTest.java", "insertions": 4, "deletions": 20, "lines": 24}, {"filePath": "src/test/java/org/apache/ibatis/submitted/postgres_genkeys/CreateDB.sql", "insertions": 3, "deletions": 1, "lines": 4}, {"filePath": "src/test/java/org/apache/ibatis/submitted/postgres_genkeys/PostgresGeneratedKeysTest.java", "insertions": 4, "deletions": 21, "lines": 25}, {"filePath": "src/test/java/org/apache/ibatis/submitted/refcursor/CreateDB.sql", "insertions": 3, "deletions": 1, "lines": 4}, {"filePath": "src/test/java/org/apache/ibatis/submitted/refcursor/RefCursorTest.java", "insertions": 4, "deletions": 20, "lines": 24}, {"filePath": "src/test/java/org/apache/ibatis/submitted/sqlprovider/BaseMapper.java", "insertions": 21, "deletions": 1, "lines": 22}, {"filePath": "src/test/java/org/apache/ibatis/submitted/sqlprovider/CreateDB.sql", "insertions": 8, "deletions": 1, "lines": 9}, {"filePath": "src/test/java/org/apache/ibatis/submitted/sqlprovider/OurSqlBuilder.java", "insertions": 108, "deletions": 1, "lines": 109}, {"filePath": "src/test/java/org/apache/ibatis/submitted/sqlprovider/ProviderMethodResolutionTest.java", "insertions": 255, "deletions": 0, "lines": 255}, {"filePath": "src/test/java/org/apache/ibatis/submitted/sqlprovider/SqlProviderTest.java", "insertions": 87, "deletions": 1, "lines": 88}, {"filePath": "src/test/java/org/apache/ibatis/submitted/sqlprovider/User.java", "insertions": 3, "deletions": 2, "lines": 5}, {"filePath": "src/test/java/org/apache/ibatis/submitted/sqlprovider/mybatis-config.xml", "insertions": 14, "deletions": 1, "lines": 15}, {"filePath": "src/test/java/org/apache/ibatis/submitted/timezone_edge_case/CreateDB.sql", "insertions": 26, "deletions": 0, "lines": 26}, {"filePath": "src/test/java/org/apache/ibatis/submitted/timezone_edge_case/Mapper.java", "insertions": 29, "deletions": 0, "lines": 29}, {"filePath": "src/test/java/org/apache/ibatis/submitted/timezone_edge_case/Record.java", "insertions": 51, "deletions": 0, "lines": 51}, {"filePath": "src/test/java/org/apache/ibatis/submitted/timezone_edge_case/TimezoneEdgeCaseTest.java", "insertions": 125, "deletions": 0, "lines": 125}, {"filePath": "src/test/java/org/apache/ibatis/submitted/timezone_edge_case/mybatis-config.xml", "insertions": 42, "deletions": 0, "lines": 42}, {"filePath": "src/test/java/org/apache/ibatis/testcontainers/PgContainer.java", "insertions": 49, "deletions": 0, "lines": 49}, {"filePath": "src/test/java/org/apache/ibatis/type/LocalDateTimeTypeHandlerTest.java", "insertions": 7, "deletions": 9, "lines": 16}, {"filePath": "src/test/java/org/apache/ibatis/type/LocalDateTypeHandlerTest.java", "insertions": 7, "deletions": 9, "lines": 16}, {"filePath": "src/test/java/org/apache/ibatis/type/LocalTimeTypeHandlerTest.java", "insertions": 8, "deletions": 11, "lines": 19}, {"filePath": "src/test/java/org/apache/ibatis/type/SqlxmlTypeHandlerTest.java", "insertions": 5, "deletions": 23, "lines": 28}, {"filePath": "src/test/java/org/apache/ibatis/type/SqlxmlTypeHandlerTest.sql", "insertions": 3, "deletions": 1, "lines": 4}], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": "tooManyFiles"}, {"commitHash": "fd5058c06ac4a4871a5a7a41529a6916b5618b7f", "commitGHEventType": "referenced", "commitUser": "kazuki43zoo", "commitParents": ["0698dcff35c870fab9b99e107229a15fb539ec41", "9eeb15ad932f65fca8ef9e4e49843c4a82b4648e"], "nameRev": "fd5058c06ac4a4871a5a7a41529a6916b5618b7f tags/mybatis-3.5.4~78^2~1", "commitMessage": "Merge pull request #1 from mybatis/master\n\nMerge pull request", "commitDateTime": "2019-10-24 01:58:04", "authoredDateTime": "2019-10-24 01:58:04", "commitGitStats": [{"filePath": ".travis.yml", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "pom.xml", "insertions": 15, "deletions": 3, "lines": 18}, {"filePath": "src/main/java/org/apache/ibatis/cache/CacheKey.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/main/java/org/apache/ibatis/cache/decorators/ScheduledCache.java", "insertions": 3, "deletions": 1, "lines": 4}, {"filePath": "src/main/java/org/apache/ibatis/datasource/unpooled/UnpooledDataSource.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/main/java/org/apache/ibatis/executor/BatchExecutor.java", "insertions": 3, "deletions": 2, "lines": 5}, {"filePath": "src/main/java/org/apache/ibatis/executor/ErrorContext.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/main/java/org/apache/ibatis/executor/SimpleExecutor.java", "insertions": 2, "deletions": 1, "lines": 3}, {"filePath": "src/main/java/org/apache/ibatis/executor/keygen/SelectKeyGenerator.java", "insertions": 18, "deletions": 20, "lines": 38}, {"filePath": "src/main/java/org/apache/ibatis/executor/statement/StatementUtil.java", "insertions": 4, "deletions": 10, "lines": 14}, {"filePath": "src/main/java/org/apache/ibatis/jdbc/AbstractSQL.java", "insertions": 2, "deletions": 3, "lines": 5}, {"filePath": "src/main/java/org/apache/ibatis/mapping/SqlCommandType.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/main/java/org/apache/ibatis/parsing/XNode.java", "insertions": 16, "deletions": 3, "lines": 19}, {"filePath": "src/site/es/xdoc/java-api.xml", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/site/ja/xdoc/java-api.xml", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/site/ko/xdoc/java-api.xml", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/site/xdoc/configuration.xml", "insertions": 32, "deletions": 22, "lines": 54}, {"filePath": "src/site/xdoc/java-api.xml", "insertions": 40, "deletions": 35, "lines": 75}, {"filePath": "src/site/zh/xdoc/java-api.xml", "insertions": 4, "deletions": 4, "lines": 8}, {"filePath": "src/test/java/org/apache/ibatis/parsing/XPathParserTest.java", "insertions": 55, "deletions": 9, "lines": 64}, {"filePath": "src/test/java/org/apache/ibatis/submitted/cursor_simple/Mapper.java", "insertions": 5, "deletions": 0, "lines": 5}, {"filePath": "src/test/java/org/apache/ibatis/submitted/cursor_simple/MysqlCursorTest.java", "insertions": 84, "deletions": 0, "lines": 84}, {"filePath": "src/test/java/org/apache/ibatis/testcontainers/MysqlContainer.java", "insertions": 49, "deletions": 0, "lines": 49}, {"filePath": "travis/after_success.sh", "insertions": 1, "deletions": 1, "lines": 2}], "commitSpoonAstDiffStats": [{"spoonFilePath": "CacheKey.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.cache.CacheKey", "TOT": 2, "UPD": 2, "INS": 0, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "ScheduledCache.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.cache.decorators.ScheduledCache", "TOT": 2, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 1}]}, {"spoonFilePath": "UnpooledDataSource.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.datasource.unpooled.UnpooledDataSource.getDriver()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "BatchExecutor.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.executor.BatchExecutor.doQueryCursor(org.apache.ibatis.mapping.MappedStatement,java.lang.Object,org.apache.ibatis.session.RowBounds,org.apache.ibatis.mapping.BoundSql)", "TOT": 4, "UPD": 0, "INS": 2, "MOV": 2, "DEL": 0}]}, {"spoonFilePath": "ErrorContext.java", "spoonMethods": []}, {"spoonFilePath": "SimpleExecutor.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.executor.SimpleExecutor.doQueryCursor(org.apache.ibatis.mapping.MappedStatement,java.lang.Object,org.apache.ibatis.session.RowBounds,org.apache.ibatis.mapping.BoundSql)", "TOT": 3, "UPD": 0, "INS": 2, "MOV": 1, "DEL": 0}]}, {"spoonFilePath": "SelectKeyGenerator.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.executor.keygen.SelectKeyGenerator.processGeneratedKeys(org.apache.ibatis.executor.Executor,org.apache.ibatis.mapping.MappedStatement,java.lang.Object)", "TOT": 6, "UPD": 0, "INS": 0, "MOV": 4, "DEL": 2}]}, {"spoonFilePath": "StatementUtil.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.executor.statement.StatementUtil.applyTransactionTimeout(java.sql.Statement,java.lang.Integer,java.lang.Integer)", "TOT": 6, "UPD": 2, "INS": 0, "MOV": 2, "DEL": 2}]}, {"spoonFilePath": "AbstractSQL.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.jdbc.AbstractSQL.INTO_VALUES(java.lang.String[])", "TOT": 5, "UPD": 1, "INS": 1, "MOV": 2, "DEL": 1}]}, {"spoonFilePath": "SqlCommandType.java", "spoonMethods": []}, {"spoonFilePath": "XNode.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.parsing.XNode.toString()", "TOT": 19, "UPD": 2, "INS": 1, "MOV": 14, "DEL": 2}, {"spoonMethodName": "org.apache.ibatis.parsing.XNode.toString(java.lang.StringBuilder,int)", "TOT": 4, "UPD": 0, "INS": 4, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.parsing.XNode.indent(java.lang.StringBuilder,int)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "XPathParserTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.parsing.XPathParserTest.formatXNodeToString()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "Mapper.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.cursor_simple.getUsersMysqlStream()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "MysqlCursorTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.cursor_simple.MysqlCursorTest", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "MysqlContainer.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.testcontainers.MysqlContainer", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}, {"commitHash": "6108fb8d65ce132a66922959f2b1b1d5f8631c2c", "commitGHEventType": "referenced", "commitUser": "harawata", "commitParents": ["bf01fee3dfd71e351c3b9660d8adb6384616f627", "f232291a0ed8d39b75e6fb54080127b396b478bc"], "nameRev": "6108fb8d65ce132a66922959f2b1b1d5f8631c2c tags/mybatis-3.5.4~24^2~3", "commitMessage": "Merge pull request #1 from mybatis/master\n\nUpdate from origin", "commitDateTime": "2019-12-23 22:23:15", "authoredDateTime": "2019-12-23 22:23:15", "commitGitStats": [{"filePath": ".travis.yml", "insertions": 6, "deletions": 0, "lines": 6}, {"filePath": "pom.xml", "insertions": 11, "deletions": 11, "lines": 22}, {"filePath": "src/main/java/org/apache/ibatis/binding/MapperProxy.java", "insertions": 70, "deletions": 25, "lines": 95}, {"filePath": "src/main/java/org/apache/ibatis/binding/MapperProxyFactory.java", "insertions": 4, "deletions": 3, "lines": 7}, {"filePath": "src/main/java/org/apache/ibatis/builder/BaseBuilder.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/main/java/org/apache/ibatis/executor/loader/AbstractSerialStateHolder.java", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "src/main/java/org/apache/ibatis/jdbc/ScriptRunner.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/main/java/org/apache/ibatis/mapping/VendorDatabaseIdProvider.java", "insertions": 2, "deletions": 11, "lines": 13}, {"filePath": "src/main/java/org/apache/ibatis/parsing/XNode.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/main/java/org/apache/ibatis/reflection/ParamNameResolver.java", "insertions": 1, "deletions": 1, "lines": 2}, {"filePath": "src/main/java/org/apache/ibatis/reflection/factory/DefaultObjectFactory.java", "insertions": 3, "deletions": 3, "lines": 6}, {"filePath": "src/main/java/org/apache/ibatis/transaction/managed/ManagedTransactionFactory.java", "insertions": 2, "deletions": 2, "lines": 4}, {"filePath": "src/test/java/org/apache/ibatis/binding/BindingTest.java", "insertions": 2, "deletions": 1, "lines": 3}, {"filePath": "travis/after_success.sh", "insertions": 2, "deletions": 0, "lines": 2}], "commitSpoonAstDiffStats": [{"spoonFilePath": "MapperProxy.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.binding.MapperProxy.invokeDefaultMethodJava9(java.lang.Object,java.lang.reflect.Method,java.lang.Object[])", "TOT": 7, "UPD": 3, "INS": 0, "MOV": 3, "DEL": 1}, {"spoonMethodName": "org.apache.ibatis.binding.MapperProxy.invokeDefaultMethodJava8(java.lang.Object,java.lang.reflect.Method,java.lang.Object[])", "TOT": 9, "UPD": 1, "INS": 0, "MOV": 7, "DEL": 1}, {"spoonMethodName": "org.apache.ibatis.binding.MapperProxy", "TOT": 4, "UPD": 3, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.binding.MapperProxy.invoke(java.lang.Object,java.lang.reflect.Method,java.lang.Object[])", "TOT": 30, "UPD": 2, "INS": 1, "MOV": 22, "DEL": 5}, {"spoonMethodName": "org.apache.ibatis.binding.MapperProxy.cachedMapperMethod(java.lang.reflect.Method)", "TOT": 4, "UPD": 0, "INS": 0, "MOV": 3, "DEL": 1}, {"spoonMethodName": "org.apache.ibatis.binding.MapperProxy.cachedInvoker(java.lang.Object,java.lang.reflect.Method,java.lang.Object[])", "TOT": 6, "UPD": 0, "INS": 6, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.binding.MapperProxy.getMethodHandleJava8(java.lang.reflect.Method)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.binding.MapperProxy.PlainMethodInvoker", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.binding.MapperProxy.DefaultMethodInvoker", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}, {"spoonMethodName": "org.apache.ibatis.binding.MapperProxy.PlainMethodInvoker.invoke(java.lang.Object,java.lang.reflect.Method,java.lang.Object[],org.apache.ibatis.session.SqlSession)", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "MapperProxyFactory.java", "spoonMethods": []}, {"spoonFilePath": "BaseBuilder.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.builder.BaseBuilder.createInstance(java.lang.String)", "TOT": 3, "UPD": 1, "INS": 0, "MOV": 1, "DEL": 1}]}, {"spoonFilePath": "AbstractSerialStateHolder.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.executor.loader.AbstractSerialStateHolder", "TOT": 4, "UPD": 0, "INS": 2, "MOV": 0, "DEL": 2}]}, {"spoonFilePath": "ScriptRunner.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.jdbc.ScriptRunner.executeStatement(java.lang.String)", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "VendorDatabaseIdProvider.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.mapping.VendorDatabaseIdProvider.getDatabaseProductName(javax.sql.DataSource)", "TOT": 7, "UPD": 0, "INS": 1, "MOV": 4, "DEL": 2}]}, {"spoonFilePath": "XNode.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.parsing.XNode.toString(java.lang.StringBuilder,int)", "TOT": 9, "UPD": 2, "INS": 1, "MOV": 5, "DEL": 1}]}, {"spoonFilePath": "ParamNameResolver.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.reflection.ParamNameResolver.getNamedParams(java.lang.Object[])", "TOT": 2, "UPD": 0, "INS": 0, "MOV": 1, "DEL": 1}]}, {"spoonFilePath": "DefaultObjectFactory.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.reflection.factory.DefaultObjectFactory.instantiateClass(java.lang.Class,java.util.List,java.util.List)", "TOT": 6, "UPD": 0, "INS": 3, "MOV": 0, "DEL": 3}]}, {"spoonFilePath": "ManagedTransactionFactory.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.transaction.managed.ManagedTransactionFactory.setProperties(java.util.Properties)", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "BindingTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.binding.BindingTest.shouldCacheMapperMethod()", "TOT": 1, "UPD": 1, "INS": 0, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": ["b6159c72191920ce83050f31c43750f6d30d959a"], "filteredCommitsReason": {"duplicated": 6, "alsoFixesPhrase": 0, "moreThanOneParent": 3, "multipleIssueFixes": 0, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 1, "gitStatsSummary": {"insertions": 25.0, "deletions": 25.0, "lines": 50.0, "gitFilesChange": 1}, "spoonStatsSummary": {"TOT": 42.0, "UPD": 0.0, "INS": 0.0, "MOV": 21.0, "DEL": 21.0, "spoonFilesChanged": 1, "spoonMethodsChanged": 1}, "statsSkippedReason": "", "changesInPackagesGIT": ["src/main/java/org/apache/ibatis/session"], "changesInPackagesSPOON": ["org.apache.ibatis.session.Configuration"]}, {"title": "Unable to use a Class located in default package in OGNL expressions", "body": "<!--\r\n\u274c \u4e0d\u8981\u5728\u8fd9\u91cc\u95ee\u95ee\u9898\u2757\ufe0f\r\n\u2b55\ufe0f \u8bf7\u5c06\u60a8\u7684\u95ee\u9898\u53d1\u9001\u5230\u90ae\u4ef6\u5217\u8868\r\n\u8acb\u7528\u82f1\u6587\u5beb\r\nhttps://groups.google.com/group/mybatis-user\r\n\u6216\r\nhttps://stackoverflow.com/questions/ask?tags=mybatis\r\n\r\nQuestion?\r\n======================\r\nPlease use the mailing list. http://groups.google.com/group/mybatis-user\r\nOr Stack Overflow with 'mybatis' tag. https://stackoverflow.com/questions/ask?tags=mybatis\r\nQuestions on this tracker will be closed without comment.\r\n\r\nBug report?\r\n======================\r\nPlease fill out the BUG REPORT FORM below.\r\n\r\nTo fix a bug, we need to reproduce it first.\r\nAnd we spend a lot of time just trying to reproduce the reported problem, so please consider creating a failing test case or an example project.\r\n\r\n- How to create a test case : https://github.com/mybatis/mybatis-3/wiki/Unit-Test\r\n- How to create a good example : http://sscce.org\r\n- How to upload your project to GitHub: https://help.github.com/articles/adding-an-existing-project-to-github-using-the-command-line/\r\n\r\nFeature request?\r\n=======================\r\n- Please delete the BUG REPORT FORM below and describe the feature.\r\n- It is a good idea to discuss your changes on the mailing list to get feedback from the community. http://groups.google.com/group/mybatis-user\r\n- If you have a patch with unit tests, send a pull request. Please see the wiki page : https://github.com/mybatis/mybatis-3/wiki/Contribute\r\n-->\r\n\r\n<!-- BUG REPORT FORM -->\r\n\r\n## MyBatis version\r\n3.5.3\r\n\r\n## Steps to reproduce\r\nCreate a class `Ognl` in default (root) package with a public static method \r\n`public static boolean test(Object o) { return true; }`\r\n\r\nthen use it in an OGNL expression in an mapper like \r\n`<if test=\"@Ognl@test(myParam)\">...</if>`\r\n\r\n## Expected result\r\nApplication should not fail\r\n\r\n## Actual result\r\nApplication crashes with stack trace:\r\n\r\n```\r\n...\r\nCaused by: java.lang.ClassNotFoundException: Cannot find class: java.lang.Ognl\r\n\tat org.apache.ibatis.io.ClassLoaderWrapper.classForName(ClassLoaderWrapper.java:200)\r\n\tat org.apache.ibatis.io.ClassLoaderWrapper.classForName(ClassLoaderWrapper.java:89)\r\n\tat org.apache.ibatis.io.Resources.classForName(Resources.java:261)\r\n\tat org.apache.ibatis.scripting.xmltags.OgnlClassResolver.toClassForName(OgnlClassResolver.java:34)\r\n\tat org.apache.ibatis.ognl.DefaultClassResolver.classForName(DefaultClassResolver.java:58)\r\n\tat org.apache.ibatis.ognl.OgnlRuntime.classForName(OgnlRuntime.java:1167)\r\n\tat org.apache.ibatis.ognl.OgnlRuntime.callStaticMethod(OgnlRuntime.java:1545)\r\n```\r\n\r\nSee `org.apache.ibatis.ognl.DefaultClassResolver` \r\n\r\nAny class that is searched and its className is without '.' is always prefixed with 'java.lang.'. This behavior was not in MyBatis 3.4.6.\r\n\r\n", "url": "https://github.com/mybatis/mybatis-3/issues/1768", "user": "jan-krakora", "labels": ["bug on dependency library"], "created": "2019-12-04 16:28:50", "closed": "2019-12-23 13:28:52", "commits": {}, "ttf": 18.00027777777778, "commitsDetails": []}, {"title": "queryCusor() fails in streaming mode of MySQL Connector/J (fetchSize=Integer.MIN_VALUE)", "body": "<!-- BUG REPORT FORM -->\r\n\r\n## MyBatis version\r\n3.5.x\r\n\r\n## Database vendor and version\r\nmysql    mysql-connector-java-5.1.48\r\n## Test case or example project\r\n```\r\n    @Options(fetchSize = Integer.MIN_VALUE)\r\n    @Select(\"SELECT * FROM BLOG\")\r\n    Cursor<Blog> cursorAllMysql();\r\n```\r\n## Steps to reproduce\r\n\r\n## Expected result\r\ndata list\r\n## Actual result\r\n```\r\norg.apache.ibatis.exceptions.PersistenceException: \r\n### Error querying database.  Cause: java.sql.SQLException: No operations allowed after statement closed.\r\n### The error may involve defaultParameterMap\r\n### The error occurred while setting parameters\r\n### SQL: SELECT * FROM BLOG\r\n### Cause: java.sql.SQLException: No operations allowed after statement closed.\r\n```\r\n\r\n## cause by\r\ncommit-id: 8892890a14f47ecff1a066942e451b2a6156007f\r\norg.apache.ibatis.executor.SimpleExecutor#doQueryCursor\r\nline 74: stmt.closeOnCompletion();\r\n", "url": "https://github.com/mybatis/mybatis-3/issues/1654", "user": "YouUWd", "labels": ["bug on dependency library"], "created": "2019-09-05 03:41:00", "closed": "2019-09-15 13:44:43", "commits": {"34001925e47c9423b719c14c7f6d7ed0d4dbb66a": {"commitGHEventType": "referenced", "commitUser": "harawata"}}, "ttf": 10.000277777777777, "commitsDetails": [{"commitHash": "34001925e47c9423b719c14c7f6d7ed0d4dbb66a", "commitGHEventType": "referenced", "commitUser": "harawata", "commitParents": ["50751a3f84442bcc8e9a7bf8491aaf8baa86b173", "25ddbb9be3c8330a74870609fcf094fabef11ae2"], "nameRev": "34001925e47c9423b719c14c7f6d7ed0d4dbb66a tags/mybatis-3.5.3~17", "commitMessage": "Merge pull request #1663 from YouUWd/master\n\nfix queryCusor() fails in streaming mode of MySQL Connector/J (fetchSize=Integer.MIN_VALUE) #1654\r\n\r\nThis is a workaround for https://bugs.mysql.com/bug.php?id=96786", "commitDateTime": "2019-09-15 21:58:17", "authoredDateTime": "2019-09-15 21:58:17", "commitGitStats": [{"filePath": "pom.xml", "insertions": 14, "deletions": 2, "lines": 16}, {"filePath": "src/main/java/org/apache/ibatis/executor/BatchExecutor.java", "insertions": 3, "deletions": 2, "lines": 5}, {"filePath": "src/main/java/org/apache/ibatis/executor/SimpleExecutor.java", "insertions": 2, "deletions": 1, "lines": 3}, {"filePath": "src/test/java/org/apache/ibatis/submitted/cursor_simple/Mapper.java", "insertions": 5, "deletions": 0, "lines": 5}, {"filePath": "src/test/java/org/apache/ibatis/submitted/cursor_simple/MysqlCursorTest.java", "insertions": 84, "deletions": 0, "lines": 84}, {"filePath": "src/test/java/org/apache/ibatis/testcontainers/MysqlContainer.java", "insertions": 49, "deletions": 0, "lines": 49}], "commitSpoonAstDiffStats": [{"spoonFilePath": "BatchExecutor.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.executor.BatchExecutor.doQueryCursor(org.apache.ibatis.mapping.MappedStatement,java.lang.Object,org.apache.ibatis.session.RowBounds,org.apache.ibatis.mapping.BoundSql)", "TOT": 4, "UPD": 0, "INS": 2, "MOV": 2, "DEL": 0}]}, {"spoonFilePath": "SimpleExecutor.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.executor.SimpleExecutor.doQueryCursor(org.apache.ibatis.mapping.MappedStatement,java.lang.Object,org.apache.ibatis.session.RowBounds,org.apache.ibatis.mapping.BoundSql)", "TOT": 3, "UPD": 0, "INS": 2, "MOV": 1, "DEL": 0}]}, {"spoonFilePath": "Mapper.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.cursor_simple.getUsersMysqlStream()", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "MysqlCursorTest.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.submitted.cursor_simple.MysqlCursorTest", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}, {"spoonFilePath": "MysqlContainer.java", "spoonMethods": [{"spoonMethodName": "org.apache.ibatis.testcontainers.MysqlContainer", "TOT": 1, "UPD": 0, "INS": 1, "MOV": 0, "DEL": 0}]}], "spoonStatsSkippedReason": ""}], "filteredCommits": [], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 1, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 0, "gitStatsSummary": {"insertions": 0, "deletions": 0, "lines": 0, "gitFilesChange": 0}, "spoonStatsSummary": {"TOT": 0, "UPD": 0, "INS": 0, "MOV": 0, "DEL": 0, "spoonFilesChanged": 0, "spoonMethodsChanged": 0}, "statsSkippedReason": "", "changesInPackagesGIT": [], "changesInPackagesSPOON": []}, {"title": "There is case that does not restore accessible state on Ognl", "body": "See https://github.com/jkuhnert/ognl/issues/47. 3.5.0 will fix via #1211.\r\n \r\n## Related Links\r\n\r\n* #1211 ", "url": "https://github.com/mybatis/mybatis-3/issues/1219", "user": "kazuki43zoo", "labels": ["bug on dependency library"], "created": "2018-03-21 07:40:03", "closed": "2018-03-21 08:09:28", "commits": {"7b525d97818252a7c8f0d65673d82820a216213b": {"commitGHEventType": "referenced", "commitUser": "kazuki43zoo"}}, "ttf": 0.0002777777777777778, "commitsDetails": [{"commitHash": "7b525d97818252a7c8f0d65673d82820a216213b", "commitGHEventType": "referenced", "commitUser": "kazuki43zoo", "commitParents": ["741a2d0034d8a9fb6df73f11db6436d8b47a1932", "f7e996c93aaf612ad4af855af0224b7d3dc46548"], "nameRev": "7b525d97818252a7c8f0d65673d82820a216213b remotes/origin/3.4.x~4", "commitMessage": "Merge pull request #1220 from kazuki43zoo/gh-1219\n\nUpgrade to ognl 3.1.17 #1219", "commitDateTime": "2018-03-21 17:09:15", "authoredDateTime": "2018-03-21 17:09:15", "commitGitStats": [{"filePath": "pom.xml", "insertions": 1, "deletions": 1, "lines": 2}], "commitSpoonAstDiffStats": [], "spoonStatsSkippedReason": ""}], "filteredCommits": [], "filteredCommitsReason": {"duplicated": 0, "alsoFixesPhrase": 0, "moreThanOneParent": 0, "multipleIssueFixes": 1, "unavailable": 0, "mergeCommitUsed": 0}, "numCommits": 0, "gitStatsSummary": {"insertions": 0, "deletions": 0, "lines": 0, "gitFilesChange": 0}, "spoonStatsSummary": {}, "statsSkippedReason": "", "changesInPackagesGIT": []}, {"title": "Invalid error message 'Two methods with same method sigunature but not providing classes assignable?' in System.err", "body": "OgnlRuntime writes this error to system.err:\r\n\r\n`Two methods with same method signature but not providing classes assignable? \"public abstract boolean java.util.List.isEmpty()\" and \"public boolean java.util.AbstractCollection.isEmpty()\" please report!`\r\n\r\nThis condition in my mapper causes the problem:\r\n`<if test=\"conditions != null &amp;&amp; !conditions.isEmpty()\">`\r\n\r\n`conditions` variable is an `java.util.Collections.singletonList()`. When I change this variable to `ArrayList`, error disapears.", "url": "https://github.com/mybatis/mybatis-3/issues/929", "user": "vlastimil-dolejs", "labels": ["bug on dependency library"], "created": "2017-02-28 10:25:47", "closed": "2017-11-16 14:16:50", "commits": {}, "ttf": 261.0002777777778, "commitsDetails": []}, {"title": "mybatis dynamic sql bug", "body": "dynamic sql does not work unicode id\n\n```\n <if test=' name == \"\" '>  --> work\n```\n\n```\n <if test=' \uc131\uba85 != \"\" '>  -->  error    (\uc131\uba85 : name. korean)\n```\n\n---\n\nCaused by: org.apache.ibatis.ognl.ExpressionSyntaxException: Malformed OGNL expression:  \uc131\uba85!= \"\"  [org.apache.ibatis.ognl.TokenMgrError: Lexical error at line 1, column 2.  Encountered: \"\\uc131\" (49457), after : \"\"]\n    at org.apache.ibatis.ognl.Ognl.parseExpression(Ognl.java:114)\n    at org.apache.ibatis.scripting.xmltags.OgnlCache.parseExpression(OgnlCache.java:53)\n    at org.apache.ibatis.scripting.xmltags.OgnlCache.getValue(OgnlCache.java:44)\n    ... 63 more\nCaused by: org.apache.ibatis.ognl.TokenMgrError: Lexical error at line 1, column 2.  Encountered: \"\\uc131\" (49457), after : \"\"\n    at org.apache.ibatis.ognl.OgnlParserTokenManager.getNextToken(OgnlParserTokenManager.java:1539)\n    at org.apache.ibatis.ognl.OgnlParser.jj_ntk(OgnlParser.java:3099)\n    at org.apache.ibatis.ognl.OgnlParser.unaryExpression(OgnlParser.java:1079)\n    at org.apache.ibatis.ognl.OgnlParser.multiplicativeExpression(OgnlParser.java:971)\n    at org.apache.ibatis.ognl.OgnlParser.additiveExpression(OgnlParser.java:894)\n    at org.apache.ibatis.ognl.OgnlParser.shiftExpression(OgnlParser.java:750)\n    at org.apache.ibatis.ognl.OgnlParser.relationalExpression(OgnlParser.java:508)\n    at org.apache.ibatis.ognl.OgnlParser.equalityExpression(OgnlParser.java:405)\n    at org.apache.ibatis.ognl.OgnlParser.andExpression(OgnlParser.java:352)\n    at org.apache.ibatis.ognl.OgnlParser.exclusiveOrExpression(OgnlParser.java:299)\n    at org.apache.ibatis.ognl.OgnlParser.inclusiveOrExpression(OgnlParser.java:246)\n    at org.apache.ibatis.ognl.OgnlParser.logicalAndExpression(OgnlParser.java:193)\n    at org.apache.ibatis.ognl.OgnlParser.logicalOrExpression(OgnlParser.java:140)\n    at org.apache.ibatis.ognl.OgnlParser.conditionalTestExpression(OgnlParser.java:101)\n    at org.apache.ibatis.ognl.OgnlParser.assignmentExpression(OgnlParser.java:64)\n    at org.apache.ibatis.ognl.OgnlParser.expression(OgnlParser.java:23)\n    at org.apache.ibatis.ognl.OgnlParser.topLevelExpression(OgnlParser.java:15)\n    at org.apache.ibatis.ognl.Ognl.parseExpression(Ognl.java:110)\n", "url": "https://github.com/mybatis/mybatis-3/issues/470", "user": "codechaser-github", "labels": ["bug on dependency library"], "created": "2015-08-20 08:18:54", "closed": "2015-08-24 02:59:07", "commits": {}, "ttf": 3.000277777777778, "commitsDetails": []}]}